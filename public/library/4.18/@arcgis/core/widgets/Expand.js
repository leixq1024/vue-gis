/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import"../chunks/ArrayPool.js";import"../chunks/object.js";import"../chunks/deprecate.js";import"../core/lang.js";import"../config.js";import"../chunks/Logger.js";import"../chunks/string.js";import"../chunks/metadata.js";import{property as s}from"../core/accessorSupport/decorators/property.js";import"../core/Accessor.js";import"../chunks/PropertyOrigin.js";import"../core/scheduling.js";import"../core/promiseUtils.js";import"../chunks/Message.js";import"../core/Error.js";import"../chunks/ensureType.js";import{subclass as o}from"../core/accessorSupport/decorators/subclass.js";import"../chunks/Evented.js";import"../core/Collection.js";import"../chunks/Promise.js";import"../core/urlUtils.js";import{aliasOf as t}from"../core/accessorSupport/decorators/aliasOf.js";import"../core/accessorSupport/decorators/cast.js";import"../chunks/jsonMap.js";import"../chunks/resourceExtension.js";import"../chunks/locale.js";import"../chunks/number.js";import"../intl.js";import"../kernel.js";import"../request.js";import"../chunks/assets.js";import"../core/Handles.js";import"../core/watchUtils.js";import"../chunks/domUtils.js";import"../chunks/widgetUtils.js";import"../chunks/projector.js";import{a as n}from"../chunks/accessibleHandler.js";import{m as r}from"../chunks/messageBundle.js";import{r as i}from"../chunks/renderable.js";import"../chunks/vmEvent.js";import{j as a}from"../chunks/index.js";import{isWidget as d,hasDomNode as p}from"./support/widget.js";import l from"./Widget.js";import c from"./Expand/ExpandViewModel.js";const m="esri-expand esri-widget",u="esri-expand--auto",h="esri-expand--drawer",x="esri-expand--floating",g="esri-expand__container",j="esri-expand__container--expanded",v="esri-expand__panel",_="esri-widget--button",k="esri-icon-font-fallback-text",C="esri-collapse__icon",b="esri-expand__icon--expanded",y="esri-expand__icon-number",w="esri-expand__icon-number--expanded",f="esri-icon-expand",T="esri-icon-collapse",I="esri-expand__content",M="esri-expand__content--expanded",E="esri-expand__mask",N="esri-expand__mask--expanded";let O=class extends l{constructor(e,s){super(e,s),this.autoCollapse=null,this.collapseTooltip="",this.content="",this.expanded=null,this.expandTooltip="",this.group=null,this.iconNumber=0,this.label=void 0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.view=null,this.viewModel=new c}get contentId(){return`${this.id}_controls_content`}get expandTitle(){const{expanded:e,messagesCommon:s,collapseTooltip:o,expandTooltip:t}=this;return e?o||s.collapse:t||s.expand}get collapseIconClass(){return T}set collapseIconClass(e){e?this._override("collapseIconClass",e):this._clearOverride("collapseIconClass")}get expandIconClass(){return d(this.content)?this.content.iconClass:f}set expandIconClass(e){e?this._override("expandIconClass",e):this._clearOverride("expandIconClass")}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}toggle(){this.viewModel.expanded=!this.viewModel.expanded}render(){const{mode:e}=this,s={[u]:"auto"===e,[h]:"drawer"===e,[x]:"floating"===e};return a("div",{class:this.classes(m,s)},this.renderMask(),this.renderContainer())}renderContainer(){const{expanded:e}=this,s={[j]:e};return a("div",{class:this.classes(g,s)},this.renderPanel(),this.renderContent())}renderMask(){const{expanded:e}=this,s={[N]:e};return a("div",{bind:this,onclick:this._toggle,class:this.classes(E,s)})}renderBadgeNumber(){const{expanded:e,iconNumber:s}=this;return s&&!e?a("span",{key:"expand__icon-number",class:y},s):null}renderPanelNumber(){const{iconNumber:e,expanded:s}=this;return e&&s?a("span",{key:"expand__expand-icon-number",class:this.classes(y,w)},e):null}renderIcon(){const{collapseIconClass:e,expandIconClass:s,expanded:o}=this,t={[b]:o,[e]:o,[s]:!o};return e===s&&(t[e]=!0),a("span",{"aria-hidden":"true",class:this.classes(C,t)})}renderTitle(){return a("span",{class:k},this.expandTitle)}renderExpandButton(){const{expanded:e,expandTitle:s,contentId:o}=this;return a("div",{bind:this,onclick:this._toggle,onkeydown:this._toggle,"aria-controls":o,"aria-expanded":e?"true":"false",title:s,role:"button",tabindex:"0",class:_},this.renderBadgeNumber(),this.renderIcon(),this.renderTitle())}renderPanel(){return a("div",{class:v},this.renderExpandButton(),this.renderPanelNumber())}renderContent(){const{expanded:e,contentId:s}=this,o={[M]:e};return a("div",{id:s,role:"region",class:this.classes(I,o)},this.renderContentContainer())}renderContentContainer(){const e=this.content;return"string"==typeof e?a("div",{innerHTML:e}):d(e)?e.render():e instanceof HTMLElement?a("div",{bind:e,afterCreate:this._attachToNode}):p(e)?a("div",{bind:e.domNode,afterCreate:this._attachToNode}):null}_toggle(){this.toggle()}_attachToNode(e){e.appendChild(this)}};e([s({readOnly:!0,dependsOn:["id"]}),i()],O.prototype,"contentId",null),e([s({readOnly:!0,dependsOn:["expanded","messagesCommon","collapseTooltip","expandTooltip"]}),i()],O.prototype,"expandTitle",null),e([t("viewModel.autoCollapse")],O.prototype,"autoCollapse",void 0),e([s({dependsOn:["content"]}),i()],O.prototype,"collapseIconClass",null),e([s(),i()],O.prototype,"collapseTooltip",void 0),e([s(),i()],O.prototype,"content",void 0),e([t("viewModel.expanded"),i()],O.prototype,"expanded",void 0),e([s({dependsOn:["content"]}),i()],O.prototype,"expandIconClass",null),e([s(),i()],O.prototype,"expandTooltip",void 0),e([t("viewModel.group")],O.prototype,"group",void 0),e([s(),i()],O.prototype,"iconNumber",void 0),e([s({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],O.prototype,"label",void 0),e([s(),i(),r("esri/widgets/Expand/t9n/Expand")],O.prototype,"messages",void 0),e([s(),i(),r("esri/t9n/common")],O.prototype,"messagesCommon",void 0),e([s(),i()],O.prototype,"mode",void 0),e([t("viewModel.view"),i()],O.prototype,"view",void 0),e([s({type:c}),i("viewModel.state")],O.prototype,"viewModel",void 0),e([n()],O.prototype,"_toggle",null),O=e([o("esri.widgets.Expand")],O);var P=O;export default P;
