/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"./tslib.es6.js";import{s as t}from"./object.js";import{clone as r}from"../core/lang.js";import"./Logger.js";import{property as o}from"../core/accessorSupport/decorators/property.js";import"./ensureType.js";import{subclass as n}from"../core/accessorSupport/decorators/subclass.js";import{a as i}from"./JSONSupport.js";import"../core/urlUtils.js";import{J as s}from"./jsonMap.js";import{r as l}from"./reader.js";import{w as p}from"./writer.js";import"./resourceExtension.js";import u from"../TimeExtent.js";import a from"../TimeInterval.js";var m;const d=new s({slider:"slider",picker:"picker"});let c=m=class extends i{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new m({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};e([o({type:d.apiValues,nonNullable:!0,json:{type:d.jsonValues,default:null,read:{reader:d.read},write:{isRequired:!0,writer:d.write}}})],c.prototype,"interactionMode",void 0),e([o({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=null!=this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],c.prototype,"numStops",void 0),e([o({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],c.prototype,"stopInterval",void 0),c=m=e([n("esri.webdoc.widgets.Range")],c);var v,T=c;let y=v=class extends i{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null}readCurrentTimeExtent(e){if(!e)return;const t=null!=e[0]?new Date(e[0]):null,r=null!=e[1]?new Date(e[1]):null;return new u({start:t,end:r})}writeCurrentTimeExtent(e,r,o){e&&t(o,[e.start?e.start.getTime():null,e.end?e.end.getTime():null],r)}readFullTimeExtent(e,t){const r=t.properties;if(!r)return;const o=null!=r.endTime?new Date(r.endTime):null,n=null!=r.startTime?new Date(r.startTime):null;return new u({start:n,end:o})}writeFullTimeExtent(e,t){if(!e)return;const r=t.properties=t.properties||{},o=e.end,n=e.start;o&&(r.endTime=o?o.getTime():null),n&&(r.startTime=n?n.getTime():null)}readStopInterval(e,t,r){return e?a.fromJSON({value:e.interval,unit:e.units},r):null}writeStopInterval(e,r,o,n){if(!e)return;const i=e.toJSON(n);t(o,{interval:i.value,units:i.unit},r)}clone(){return new v(r({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval}))}};e([o({type:u,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],y.prototype,"currentTimeExtent",void 0),e([l("currentTimeExtent")],y.prototype,"readCurrentTimeExtent",null),e([p("currentTimeExtent")],y.prototype,"writeCurrentTimeExtent",null),e([o({type:u,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],y.prototype,"fullTimeExtent",void 0),e([l("fullTimeExtent")],y.prototype,"readFullTimeExtent",null),e([p("fullTimeExtent")],y.prototype,"writeFullTimeExtent",null),e([o({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const e=!!this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],y.prototype,"numStops",void 0),e([o({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],y.prototype,"numThumbs",void 0),e([o({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],y.prototype,"stopDelay",void 0),e([o({type:a,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){return{isRequired:null==this.numStops}}}}})],y.prototype,"stopInterval",void 0),e([l("stopInterval")],y.prototype,"readStopInterval",null),e([p("stopInterval")],y.prototype,"writeStopInterval",null),y=v=e([n("esri.webdoc.widgets.TimeSlider")],y);var w,h=y;let S=w=class extends i{constructor(e){super(e),this.range=null,this.timeSlider=null}clone(){return new w(r({range:this.range,timeSlider:this.timeSlider}))}};e([o({type:T,json:{write:!0}})],S.prototype,"range",void 0),e([o({type:h,json:{write:!0}})],S.prototype,"timeSlider",void 0),S=w=e([n("esri.webdoc.Widgets")],S);var b=S;export{b as W,h as a};
