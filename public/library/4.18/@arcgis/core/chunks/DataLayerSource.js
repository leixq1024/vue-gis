/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"./tslib.es6.js";import"./object.js";import"./Logger.js";import{property as r}from"../core/accessorSupport/decorators/property.js";import{I as t,a as o,e as s}from"./ensureType.js";import{subclass as a,c as p}from"../core/accessorSupport/decorators/subclass.js";import{a as i}from"./JSONSupport.js";import"../core/urlUtils.js";import{cast as l}from"../core/accessorSupport/decorators/cast.js";import{s as n}from"./jsonMap.js";import{e as c}from"./enumeration.js";import{r as y}from"./reader.js";import"./resourceExtension.js";import u from"../geometry/SpatialReference.js";import{f as d}from"./typeUtils.js";import"../geometry.js";import b from"../layers/support/Field.js";var S;let m=S=class extends i{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:r}=this;return new S({mapLayerId:e,gdbVersion:r})}};var j;e([c({mapLayer:"map-layer"})],m.prototype,"type",void 0),e([r({type:t,json:{write:!0}})],m.prototype,"mapLayerId",void 0),e([r({type:String,json:{write:!0}})],m.prototype,"gdbVersion",void 0),m=S=e([a("esri.layers.support.source.MapLayerSource")],m);const f=n()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let v=j=class extends i{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,r,t){return T()(e,r,t)}castLeftTableSource(e){return o(h(),e)}readRightTableSource(e,r,t){return T()(e,r,t)}castRightTableSource(e){return o(h(),e)}clone(){var e,r;const{leftTableKey:t,rightTableKey:o,leftTableSource:s,rightTableSource:a,joinType:p}=this,i={leftTableKey:t,rightTableKey:o,leftTableSource:null!=(e=null==s?void 0:s.clone())?e:void 0,rightTableSource:null!=(r=null==a?void 0:a.clone())?r:void 0,joinType:p};return new j(i)}};e([c({joinTable:"join-table"})],v.prototype,"type",void 0),e([r({type:String,json:{write:!0}})],v.prototype,"leftTableKey",void 0),e([r({type:String,json:{write:!0}})],v.prototype,"rightTableKey",void 0),e([r({json:{write:!0}})],v.prototype,"leftTableSource",void 0),e([y("leftTableSource")],v.prototype,"readLeftTableSource",null),e([l("leftTableSource")],v.prototype,"castLeftTableSource",null),e([r({json:{write:!0}})],v.prototype,"rightTableSource",void 0),e([y("rightTableSource")],v.prototype,"readRightTableSource",null),e([l("rightTableSource")],v.prototype,"castRightTableSource",null),e([c(f)],v.prototype,"joinType",void 0),v=j=e([a("esri.layers.support.source.JoinTableDataSource")],v);let g=null;function T(){return g||(g=p({types:h()})),g}let w=null;function h(){return w||(w={key:"type",base:null,typeMap:{"data-layer":K,"map-layer":m}}),w}var I;let L=I=class extends i{constructor(e){super(e),this.type="query-table"}clone(){var e;const{workspaceId:r,query:t,oidFields:o,spatialReference:s,geometryType:a}=this,p={workspaceId:r,query:t,oidFields:o,spatialReference:null!=(e=null==s?void 0:s.clone())?e:void 0,geometryType:a};return new I(p)}};var k;e([c({queryTable:"query-table"})],L.prototype,"type",void 0),e([r({type:String,json:{write:!0}})],L.prototype,"workspaceId",void 0),e([r({type:String,json:{write:!0}})],L.prototype,"query",void 0),e([r({type:String,json:{write:!0}})],L.prototype,"oidFields",void 0),e([r({type:u,json:{write:!0}})],L.prototype,"spatialReference",void 0),e([c(d)],L.prototype,"geometryType",void 0),L=I=e([a("esri.layers.support.source.QueryTableDataSource")],L);let R=k=class extends i{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:r}=this;return new k({workspaceId:e,dataSourceName:r})}};var x;e([c({raster:"raster"})],R.prototype,"type",void 0),e([r({type:String,json:{write:!0}})],R.prototype,"dataSourceName",void 0),e([r({type:String,json:{write:!0}})],R.prototype,"workspaceId",void 0),R=k=e([a("esri.layers.support.source.RasterDataSource")],R);let q=x=class extends i{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:r,dataSourceName:t}=this;return new x({workspaceId:e,gdbVersion:r,dataSourceName:t})}};var N;e([c({table:"table"})],q.prototype,"type",void 0),e([r({type:String,json:{write:!0}})],q.prototype,"workspaceId",void 0),e([r({type:String,json:{write:!0}})],q.prototype,"gdbVersion",void 0),e([r({type:String,json:{write:!0}})],q.prototype,"dataSourceName",void 0),q=x=e([a("esri.layers.support.source.TableDataSource")],q);const D={key:"type",base:null,typeMap:{"join-table":v,"query-table":L,raster:R,table:q}};let K=N=class extends i{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:r}=this;return new N({fields:e,dataSource:r})}};e([c({dataLayer:"data-layer"})],K.prototype,"type",void 0),e([r({type:[b],json:{write:!0}})],K.prototype,"fields",void 0),e([r({types:D,json:{write:!0}})],K.prototype,"dataSource",void 0),K=N=e([a("esri.layers.support.source.DataLayerSource")],K),K.from=s(K);export{K as D,m as M};
