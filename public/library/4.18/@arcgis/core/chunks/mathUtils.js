/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{c as t,a as n,b as s}from"./mathUtils2.js";import{c as i}from"./vec3f64.js";import{l as a,d as r,s as o,a as c,b as e,c as h,e as u,n as f,f as m}from"./vec3.js";function M(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],s=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],i=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(Math.max(n,s),i))}function l(t,n){const s=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),i=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),a=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return m(t,s,i,a),t}function d(t,n,s){s=s||t;const i=r(t,n);m(s,t[0]-i*n[0],t[1]-i*n[1],t[2]-i*n[2]),f(s,s)}function b(t,n,s){Math.abs(t[0])>Math.abs(t[1])?m(n,0,1,0):m(n,1,0,0),u(s,t,n),f(n,n),u(n,s,t),f(s,s)}function g(t,n){return(t%n+n)%n}function z(t,s){const i=a(t),r=n(t[2]/i),o=Math.atan2(t[1]/i,t[0]/i);return m(s,i,r,o),s}function p(t,n,s){const i=s[0]-n[0],a=s[1]-n[1],r=s[2]-n[2];let o=i*i+a*a+r*r;return o?(o=1/Math.sqrt(o),t[0]=i*o,t[1]=a*o,t[2]=r*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}function x(t,n,s,i,a,r){const o=t+(n-t)*a;return o+(s+(i-s)*a-o)*r}function q(t,n,s,h=i()){const u=a(t),f=a(n),m=r(t,n)/(u*f);if(m<.9999999999999999){const i=Math.acos(m),a=((1-s)*u+s*f)/Math.sin(i),r=a/u*Math.sin((1-s)*i),e=a/f*Math.sin(s*i);return o(U,t,r),o(y,n,e),c(h,U,y)}return e(h,t,n,s)}function j(t,n,i){t=f(U,t),n=f(y,n);const a=s(r(t,n));if(i){const s=u(S,t,n);if(r(s,i)<0)return-a}return a}function w(t){const n=t.length;return function(s){if(s<=t[0][0])return t[0][1];if(s>=t[n-1][0])return t[n-1][1];let i=1;for(;s>t[i][0];)i++;const a=t[i-1][0],r=t[i][0],o=(r-s)/(r-a);return o*t[i-1][1]+(1-o)*t[i][1]}}class I{constructor(t,n){this.min=t,this.max=n,this.range=n-t}ndiff(t,n=0){return Math.ceil((t-n)/this.range)*this.range+n}_normalize(t,n,s,i=0,a=!1){return(s-=i)<t?s+=this.ndiff(t-s):s>n&&(s-=this.ndiff(s-n)),a&&s===n&&(s=t),s+i}normalize(t,n=0,s=!1){return this._normalize(this.min,this.max,t,n,s)}clamp(n,s=0){return t(n-s,this.min,this.max)+s}monotonic(t,n,s){return t<n?n:n+this.ndiff(t-n,s)}minimalMonotonic(t,n,s){return this._normalize(t,t+this.range,n,s)}center(t,n,s){return n=this.monotonic(t,n,s),this.normalize((t+n)/2,s)}diff(t,n,s){return this.monotonic(t,n,s)-t}shortestSignedDiff(t,n){t=this.normalize(t);const s=(n=this.normalize(n))-t,i=n<t?this.minimalMonotonic(t,n)-t:n-this.minimalMonotonic(n,t);return Math.abs(s)<Math.abs(i)?s:i}contains(t,n,s){return n=this.minimalMonotonic(t,n),(s=this.minimalMonotonic(t,s))>t&&s<n}}function P(t,n,s,i){h(_,n,t),h(v,s,t),u(i,_,v),f(i,i),i[3]=-r(t,i)}const _=i(),v=i();function k(t){for(const n in t){const s=t[n];s instanceof Function&&(t[n]=s.bind(t))}return t}const C=k(new I(0,2*Math.PI)),D=k(new I(-Math.PI,Math.PI)),F=k(new I(0,360)),S=i(),U=i(),y=i();export{I as C,w as a,j as b,F as c,p as d,D as e,C as f,l as g,M as h,x as i,z as j,d as k,g as m,P as p,q as s,b as t};
