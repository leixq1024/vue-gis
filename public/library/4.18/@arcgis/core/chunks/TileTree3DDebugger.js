/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{_ as e}from"./tslib.es6.js";import"./object.js";import{i as s}from"./Logger.js";import{property as t}from"../core/accessorSupport/decorators/property.js";import o from"../core/Accessor.js";import"./ensureType.js";import{subclass as r}from"../core/accessorSupport/decorators/subclass.js";import"../core/urlUtils.js";import"./resourceExtension.js";import{h as i}from"./mathUtils2.js";import l from"../symbols/FillSymbol3DLayer.js";import a from"../symbols/TextSymbol3DLayer.js";import n from"../symbols/PointSymbol3D.js";import c from"../symbols/PolygonSymbol3D.js";import h from"../Graphic.js";const m=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let p=class extends o{constructor(e){super(e),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._graphics=[],this._enabled=!0}initialize(){this._symbols=m.map((e=>new c(new l({material:{color:[e[0],e[1],e[2],.6]},outline:{color:"black",size:1}}))))}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.update())}destroy(){this.view&&(this.clear(),this._set("view",null))}_update(e,t,o){if(this.clear(),!this._enabled)return;let r;const l=o.getLabel||(e=>{let t=`${e.lij[0]}/${e.lij[1]}/${e.lij[2]}`;return s(r)&&(t+=` (${r})`),t});e.forEach(((c,m)=>{const p=c.lij[0],b=t(c);if(this.enablePolygons&&this._graphics.push(new h({geometry:b,symbol:this._symbols[p%this._symbols.length]})),this.enableLabels){const t=m/(e.length-1),p=i(0,200,t),y=i(20,6,t);r=o.getLoadPriority&&o.getLoadPriority(c);const g=s(r)&&r>=e.length,d=l(c),u=new h({geometry:b.extent.center,symbol:new n({verticalOffset:{screenLength:40/.75},callout:{type:"line",color:"white",border:{color:"black"}},symbolLayers:[new a({text:d,halo:{color:"white",size:1/.75},material:{color:[p,g?0:p,g?0:p]},size:y/.75})]})});this._graphics.push(u)}})),this.view.graphics.addMany(this._graphics)}clear(){this.view.graphics.removeMany(this._graphics),this._graphics=[]}};e([t({constructOnly:!0})],p.prototype,"view",void 0),e([t({readOnly:!0})],p.prototype,"updating",void 0),p=e([r("esri.views.3d.layers.support.TileTree3DDebugger")],p);export{p as T};
