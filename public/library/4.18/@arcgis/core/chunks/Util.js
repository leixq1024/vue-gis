/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import{c as t}from"./mathUtils2.js";import{c as n}from"./vec4f64.js";import{s as o}from"./vec2.js";import{t as a}from"./vec4.js";import{c as r}from"./vec2f64.js";const s=n();class e{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}const c={POSITION:"position",NORMAL:"normal",UV0:"uv0",UVMAPSPACE:"uvMapSpace",MEANVERTEXPOSITION:"meanVertexPosition",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",BOUND1:"bound1",BOUND2:"bound2",BOUND3:"bound3",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",TANGENT:"tangent"};function i(t,n){if(!t){n=n||"assert";const t=new Error(n);throw t.stack&&console.log(t.stack),new e(n)}}function u(t,n){t||(n=n||"",console.warn("Verify failed: "+n+"\n"+new Error("verify").stack))}function f(t,n,o,a){let r,s=(o[0]-t[0])/n[0],e=(a[0]-t[0])/n[0];s>e&&(r=s,s=e,e=r);let c=(o[1]-t[1])/n[1],i=(a[1]-t[1])/n[1];if(c>i&&(r=c,c=i,i=r),s>i||c>e)return!1;c>s&&(s=c),i<e&&(e=i);let u=(o[2]-t[2])/n[2],f=(a[2]-t[2])/n[2];return u>f&&(r=u,u=f,f=r),!(s>f||u>e)&&(f<e&&(e=f),!(e<0))}function l(t,n,o,a,s,e=r()){const c=(a[s]-o[s])*(n[0]-t[0])-(a[0]-o[0])*(n[s]-t[s]),i=(a[0]-o[0])*(t[s]-o[s])-(a[s]-o[s])*(t[0]-o[0]);if(0===c)return!1;const u=i/c;return e[0]=t[0]+u*(n[0]-t[0]),e[1]=t[s]+u*(n[s]-t[s]),!0}function h(t,n,o,r,e){e||(e=t),s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=1,a(s,s,n),e.length>2&&(e[2]=-s[2]),a(s,s,o),i(0!==s[3]),e[0]=s[0]/s[3],e[1]=s[1]/s[3],e[2]=s[2]/s[3],e[0]=(.5*e[0]+.5)*r[2]+r[0],e[1]=(.5*e[1]+.5)*r[3]+r[1]}function M(t){return t[function(t){for(const n in t)return n}(t)]}function m(t,n){return Math.log(t)/Math.log(n)}function O(t,n,o,a){t[12]=n,t[13]=o,t[14]=a}function p(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}function g(t,n,o){return 2*Math.atan(Math.sqrt(n*n+o*o)*Math.tan(.5*t)/n)}function v(t,n,o){return 2*Math.atan(Math.sqrt(n*n+o*o)*Math.tan(.5*t)/o)}function A(t,n,o){return 2*Math.atan(n*Math.tan(.5*t)/Math.sqrt(n*n+o*o))}function E(t,n,o){return 2*Math.atan(o*Math.tan(.5*t)/Math.sqrt(n*n+o*o))}function N(n,o,a=0){const r=t(n,0,d);for(let t=0;t<4;t++)o[a+t]=Math.floor(256*((s=r*U[t])-Math.floor(s)));var s}function S(t,n=0){let o=0;for(let a=0;a<4;a++)o+=t[n+a]*P[a];return o}const U=[1,256,65536,16777216],P=[1/256,1/65536,1/16777216,1/4294967296],d=S(new Uint8ClampedArray([255,255,255,255]));function j(t,n,a,r,s){const e=t;0===t[11]?(r[0]=2/(n*e[0]),r[1]=2/(a*e[5]),r[2]=(1+e[12])/e[0],r[3]=(1+e[13])/e[5],o(s,0,1)):(r[0]=-2/(n*e[0]),r[1]=-2/(a*e[5]),r[2]=(1-e[8])/e[0],r[3]=(1-e[9])/e[5],o(s,1,0))}export{c as V,i as a,N as b,f as c,p as d,g as e,A as f,M as g,E as h,j as i,v as j,m as l,h as p,l as r,O as s,S as u,u as v};
