/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
import"./object.js";import{s as e}from"./jsonMap.js";import s,{b as n,c as t,d as i,f as r,h as a,o as c}from"../geometry/SpatialReference.js";import{m as u,a as o,e as l}from"./Ellipsoid.js";function f(e){return new s({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const m=f(l),U=f(u),d=f(o),B=new s({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${l.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function h(e){return e&&(n(e)||e===U)?U:e&&(t(e)||e===d)?d:m}function k(e){return e&&(n(e)||e===U)?u:e&&(t(e)||e===d)?o:l}function b(e){return i(e)?u:r(e)?o:l}const p=39.37,S=l.radius*Math.PI/200,y=/UNIT\[([^\]]+)\]\]$/i,q=c,T=/UNIT\[([^\]]+)\]/i,I=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),w=e()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),_=e=>e*e,E=e=>e*e*e,G={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:_(.001)},"square-centimeters":{inBaseUnits:_(.01)},"square-decimeters":{inBaseUnits:_(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:_(1e3)},"square-inches":{inBaseUnits:_(.0254)},"square-feet":{inBaseUnits:_(.3048)},"square-yards":{inBaseUnits:_(.9144)},"square-miles":{inBaseUnits:_(1609.344)},"square-us-feet":{inBaseUnits:_(1200/3937)},acres:{inBaseUnits:.0015625*_(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*E(.001)},"cubic-centimeters":{inBaseUnits:1e3*E(.01)},"cubic-decimeters":{inBaseUnits:1e3*E(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*E(1e3)},"cubic-inches":{inBaseUnits:1e3*E(.0254)},"cubic-feet":{inBaseUnits:1e3*E(.3048)},"cubic-yards":{inBaseUnits:1e3*E(.9144)},"cubic-miles":{inBaseUnits:1e3*E(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},O=function(){const e={};for(const s in G)for(const n in G[s].units)e[n]=s;return e}();const P=["metric","imperial","square-inches","square-feet","square-yards","square-miles","square-us-feet","square-meters","square-kilometers","acres","ares","hectares"],R=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"];function A(e){return"imperial"===e||"metric"===e}function g(e){const s=O[e];if(s)return s;throw new Error("unknown measure")}function H(e){return s=g(e),G[s].baseUnit;var s}function j(e,s=null){return s=s||g(e),G[s].baseUnit===e}function C(e,s,n){if(s===n)return e;const t=g(s);if(t!==g(n))throw new Error("incompatible units");const i=j(s,t)?e:function(e,s,n){return e*G[n].units[s].inBaseUnits}(e,s,t);return j(n,t)?i:function(e,s,n){return e/G[n].units[s].inBaseUnits}(i,n,t)}function M(e,s,n){switch(n){case"metric":return N(e,s);case"imperial":return Y(e,s);default:return n}}function D(e,s,n){switch(n){case"metric":return X(e,s);case"imperial":return x(e,s);default:return n}}function N(e,s){return C(e,s,"meters")<3e3?"meters":"kilometers"}function X(e,s){return C(e,s,"meters")<1e5?"meters":"kilometers"}function Y(e,s){return C(e,s,"feet")<1e3?"feet":"miles"}function x(e,s){return C(e,s,"feet")<1e5?"feet":"miles"}function v(e,s){return C(e,s,"square-meters")<3e6?"square-meters":"square-kilometers"}function W(e,s){return C(e,s,"square-feet")<1e6?"square-feet":"square-miles"}function J(e,s,n){return C(e,s,"meters")/(n*Math.PI/180)}function $(e){return w.fromJSON(e.toLowerCase())||null}function F(e){if(e&&"object"==typeof e&&!a(e))return 1;const s=z(e);return s>1e5?1:s}function Z(e){return z(e)>=(e instanceof s?k(e).metersPerDegree:1e5)?"meters":K(e)}function z(e,s=l.metersPerDegree){return L(e,!0)||s}function L(e,s=!1){let n,t,a=null;if(null!=e&&("object"==typeof e?(n=e.wkid,t=e.wkt):"number"==typeof e?n=e:"string"==typeof e&&(t=e)),n){if(i(n))return u.metersPerDegree;if(r(n))return o.metersPerDegree;a=q.values[q[n]],!a&&s&&I.has(n)&&(a=S)}else if(t)if(-1!==t.search(/^PROJCS/i)){const e=y.exec(t);e&&e[1]&&(a=parseFloat(e[1].split(",")[1]))}else if(-1!==t.search(/^GEOCCS/i)){const e=T.exec(t);e&&e[1]&&(a=parseFloat(e[1].split(",")[1]))}return a}function K(e){let s,n,t=null;if(null!=e&&("object"==typeof e?(s=e.wkid,n=e.wkt):"number"==typeof e?s=e:"string"==typeof e&&(n=e)),s)t=q.units[q[s]];else if(n&&-1!==n.search(/^PROJCS/i)){let e=y.exec(n);e&&e[1]&&(e=/[\\"\\']{1}([^\\"\\']+)/.exec(e[1]),t=e&&e[1])}return t?$(t):null}function Q(e){if(!e)return null;switch(K(e)){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric";case null:case void 0:return null}return null}export{M as A,D as B,K as C,m as S,B as W,z as a,U as b,C as c,d,k as e,h as f,Z as g,L as h,F as i,p as j,X as k,J as l,Y as m,x as n,v as o,N as p,W as q,b as r,A as s,P as t,$ as u,Q as v,g as w,j as x,H as y,R as z};
