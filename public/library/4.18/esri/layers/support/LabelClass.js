// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../chunks/symbols ./labelUtils ./LabelExpressionInfo ../../symbols/support/defaults".split(" "),
function(z,e,m,w,E,F,g,A,B,C,q,G,H,I,c,r,n,x,D){function u(h){return h?"service"===h.origin?!1:!h.layer||"map-image"!==h.layer.type:!0}var v;m=new A.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",
esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",
esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});c=v=function(h){function p(a){a=h.call(this,a)||this;a.type="label";a.name=null;a.deconflictionStrategy="static";a.labelExpression=
null;a.labelExpressionInfo=null;a.labelPlacement=null;a.maxScale=0;a.minScale=0;a.symbol=D.defaultTextSymbol2D;a.useCodedValues=void 0;a.where=null;return a}z._inheritsLoose(p,h);p.evaluateWhere=function(a,d){const l=function(b,t,k){switch(t){case "\x3d":return b==k?!0:!1;case "\x3c\x3e":return b!=k?!0:!1;case "\x3e":return b>k?!0:!1;case "\x3e\x3d":return b>=k?!0:!1;case "\x3c":return b<k?!0:!1;case "\x3c\x3d":return b<=k?!0:!1}return!1};try{if(null==a)return!0;const b=a.split(" ");if(3===b.length)return l(d[b[0]],
b[1],b[2]);if(7===b.length){const t=l(d[b[0]],b[1],b[2]),k=b[3],y=l(d[b[4]],b[5],b[6]);switch(k){case "AND":return t&&y;case "OR":return t||y}}return!1}catch(b){console.log("Error.: can't parse \x3d "+a)}};var f=p.prototype;f.readLabelExpression=function(a,d){d=d.labelExpressionInfo;if(!d||!d.value&&!d.expression)return a};f.writeLabelExpression=function(a,d,l,b){this.labelExpressionInfo&&(u(b)||b&&"service"===b.origin)&&(null!=this.labelExpressionInfo.value?a=n.templateStringToSql(this.labelExpressionInfo.value):
null!=this.labelExpressionInfo.expression&&(b=n.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression))&&(a="["+b+"]"));null!=a&&(d[l]=a)};f.writeLabelExpressionInfo=function(a,d,l,b){if(null==a&&null!=this.labelExpression&&u(b))a=new x({expression:this.getLabelExpressionArcade()});else if(!a)return;a=a.toJSON(b);a.expression&&(d[l]=a)};f.writeMaxScale=function(a,d){if(a||this.minScale)d.maxScale=a};f.writeMinScale=function(a,d){if(a||this.maxScale)d.minScale=a};f.getLabelExpression=
function(){return n.getLabelExpression(this)};f.getLabelExpressionArcade=function(){return n.getLabelExpressionArcade(this)};f.getLabelExpressionSingleField=function(){return n.getLabelExpressionSingleField(this)};f.hash=function(){return JSON.stringify(this)};f.clone=function(){return new v({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:w.clone(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,
name:this.name,symbol:w.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};return p}(c.JSONSupport);e.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"name",void 0);e.__decorate([g.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],c.prototype,"deconflictionStrategy",void 0);e.__decorate([g.property({type:String,json:{write:{allowNull:!0}}})],c.prototype,"labelExpression",void 0);e.__decorate([B.reader("labelExpression")],
c.prototype,"readLabelExpression",null);e.__decorate([q.writer("labelExpression")],c.prototype,"writeLabelExpression",null);e.__decorate([g.property({type:x,json:{write:{overridePolicy(h,p,f){return u(f)?{allowNull:!0}:{enabled:!1}}}}})],c.prototype,"labelExpressionInfo",void 0);e.__decorate([q.writer("labelExpressionInfo")],c.prototype,"writeLabelExpressionInfo",null);e.__decorate([g.property({type:m.apiValues,json:{type:m.jsonValues,read:m.read,write:m.write}})],c.prototype,"labelPlacement",void 0);
e.__decorate([g.property({type:Number})],c.prototype,"maxScale",void 0);e.__decorate([q.writer("maxScale")],c.prototype,"writeMaxScale",null);e.__decorate([g.property({type:Number})],c.prototype,"minScale",void 0);e.__decorate([q.writer("minScale")],c.prototype,"writeMinScale",null);e.__decorate([g.property({types:r.symbolTypesLabel,json:{origins:{"web-scene":{types:r.symbolTypesLabel3D,write:r.write,default:null}},write:r.write,default:null}})],c.prototype,"symbol",void 0);e.__decorate([g.property({type:Boolean,
json:{write:!0}})],c.prototype,"useCodedValues",void 0);e.__decorate([g.property({type:String,json:{write:!0}})],c.prototype,"where",void 0);return c=v=e.__decorate([C.subclass("esri.layers.support.LabelClass")],c)});