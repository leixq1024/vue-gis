// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["exports","../PixelBlock"],function(n,r){function x(a,k="geographic"){const [b,e]=a;a=Math.sqrt(b*b+e*e);let f=Math.atan2(e,b)*t;f=(360+f)%360;"geographic"===k&&(f=(450-f)%360);return[a,f]}function y(a,k="geographic"){let b=a[1];"geographic"===k&&(b=(450-b)%360);b%=360;a=a[0];return[a*Math.cos(b/t),a*Math.sin(b/t)]}const t=180/Math.PI,u=function(a){return a&&"esri.layers.support.PixelBlock"===a.declaredClass&&a.pixels&&0<a.pixels.length},l=new Map;l.set("meter-per-second",1);l.set("kilometer-per-hour",
.277778);l.set("knots",.514444);l.set("feet-per-second",.3048);l.set("mile-per-hour",.44704);n.convertVectorFieldData=function(a,k,b="geographic",e=1){if(!u(a))return a;const {pixels:f,width:q,height:m}=a;var d=q*m;const g=f[0],p=f[1],h=r.createEmptyBand(a.pixelType,d);d=r.createEmptyBand(a.pixelType,d);let c=0;for(let v=0;v<m;v++)for(let w=0;w<q;w++)"vector-uv"===k?([h[c],d[c]]=x([g[c],p[c]],b),h[c]*=e):([h[c],d[c]]=y([g[c],p[c]],b),h[c]*=e,d[c]*=e),c++;a=new r({pixelType:a.pixelType,width:a.width,
height:a.height,mask:a.mask,validPixelCount:a.validPixelCount,maskIsAlpha:a.maskIsAlpha,pixels:[h,d]});a.updateStatistics();return a};n.convertVectorFieldUnit=function(a,k,b=1){if(1===b||!u(a))return a;a=a.clone();const {pixels:e,width:f,height:q}=a,m=e[0],d=e[1];let g=0;for(let p=0;p<q;p++)for(let h=0;h<f;h++)"vector-uv"===k?(m[g]*=b,d[g]*=b):m[g]*=b,g++;a.updateStatistics();return a};n.getUnitConversionFactor=function(a,k){return l.get(k)/l.get(a)||1};n.isValidPixelBlock=u;Object.defineProperty(n,
"__esModule",{value:!0})});