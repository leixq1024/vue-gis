// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../geometry/Point ../../../geometry/Extent ../../../geometry".split(" "),function(t,p,n,z,A,q,B,w,C,D,E,x,u,
y,F){function r(b,d,g){const {x:a,y:c}=d;if(2>g)return{x:b[0]+a*b[2]+c*b[4],y:b[1]+a*b[3]+c*b[5]};if(2===g){d=a*a;g=c*c;var h=a*c;return{x:b[0]+a*b[2]+c*b[4]+d*b[6]+h*b[8]+g*b[10],y:b[1]+a*b[3]+c*b[5]+d*b[7]+h*b[9]+g*b[11]}}d=a*a;g=c*c;h=a*c;const k=d*a,m=d*c,e=a*g,f=c*g;return{x:b[0]+a*b[2]+c*b[4]+d*b[6]+h*b[8]+g*b[10]+k*b[12]+m*b[14]+e*b[16]+f*b[18],y:b[1]+a*b[3]+c*b[5]+d*b[7]+h*b[9]+g*b[11]+k*b[13]+m*b[15]+e*b[17]+f*b[19]}}function v(b,d,g){const {xmin:a,ymin:c,xmax:h,ymax:k,spatialReference:m}=
d;d=[];if(2>g)d.push({x:a,y:k}),d.push({x:h,y:k}),d.push({x:a,y:c}),d.push({x:h,y:c});else{var e=10;for(var f=0;f<e;f++)d.push({x:a,y:c+(k-c)*f/(e-1)}),d.push({x:h,y:c+(k-c)*f/(e-1)});e=8;for(f=1;f<=e;f++)d.push({x:a+(h-a)*f/e,y:c}),d.push({x:a+(h-a)*f/e,y:k})}d=d.map(l=>r(b,l,g));e=d.map(l=>l.x);d=d.map(l=>l.y);return new y({xmin:Math.min.apply(null,e),xmax:Math.max.apply(null,e),ymin:Math.min.apply(null,d),ymax:Math.max.apply(null,d),spatialReference:m})}n=function(b){function d(){var a=b.apply(this,
arguments)||this;a.polynomialOrder=1;return a}t._inheritsLoose(d,b);var g=d.prototype;g.forwardTransform=function(a){if("point"===a.type){const c=r(this.forwardCoefficients,a,this.polynomialOrder);return new u({x:c.x,y:c.y,spatialReference:a.spatialReference})}return v(this.forwardCoefficients,a,this.polynomialOrder)};g.inverseTransform=function(a){if("point"===a.type){const c=r(this.inverseCoefficients,a,this.polynomialOrder);return new u({x:c.x,y:c.y,spatialReference:a.spatialReference})}return v(this.inverseCoefficients,
a,this.polynomialOrder)};t._createClass(d,[{key:"inverseCoefficients",get:function(){var a=this._get("inverseCoefficients"),c=this._get("forwardCoefficients");if(!a&&c&&2>this.polynomialOrder){{const [h,k,m,e,f,l]=c;a=m*l-f*e;c=f*e-m*l;a=[(f*k-h*l)/a,(m*k-h*e)/c,l/a,e/c,-f/a,-m/c]}}return a},set:function(a){this._set("inverseCoefficients",a)}}]);return d}(x.JSONSupport);p.__decorate([q.property({json:{write:!0}})],n.prototype,"polynomialOrder",void 0);p.__decorate([q.property({json:{write:!0}})],
n.prototype,"forwardCoefficients",void 0);p.__decorate([q.property({dependsOn:["forwardCoefficients"],json:{write:!0}})],n.prototype,"inverseCoefficients",null);return n=p.__decorate([w.subclass("esri.layers.support.rasterTransforms.PolynomialTransform")],n)});