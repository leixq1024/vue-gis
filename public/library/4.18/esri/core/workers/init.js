// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
/*
 *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
(function(a,l){var w=function(){return"undefined"!==typeof p&&"function"!==typeof p?p:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),y=function(){},r=function(M){for(var T in M)return 0;return 1},b={}.toString,c=function(M){return"[object Function]"==b.call(M)},e=function(M){return"[object String]"==b.call(M)},f=function(M){return"[object Array]"==b.call(M)},k=function(M,T){if(M)for(var ba=0;ba<M.length;)T(M[ba++])},h=function(M,T){for(var ba in T)M[ba]=T[ba];return M},
d=function(M,T){return h(Error(M),{src:"dojoLoader",info:T})},t=1,n=function(){return"_"+t++},g=function(M,T,ba){return za(M,T,ba,0,g)},p=w,u=p.document,v=u&&u.createElement("DiV"),q=g.has=function(M){return c(F[M])?F[M]=F[M](p,u,v):F[M]},F=q.cache=l.hasCache;c(a)&&(a=a(w));q.add=function(M,T,ba,ca){(void 0===F[M]||ca)&&(F[M]=T);return ba&&q(M)};q.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);q("host-webworker")&&(h(l.hasCache,{"host-browser":0,dom:0,
"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),l.loaderPatch={injectUrl:function(M,T){try{importScripts(M),T()}catch(ba){console.info("failed to load resource ("+M+")"),console.error(ba)}}});for(var C in a.has)q.add(C,a.has[C],0,1);g.async=1;var A=q("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");g.eval=function(M,T){return A(M+"\r\n//# sourceURL\x3d"+T)};var x={},m=g.signal=function(M,T){M=x[M];k(M&&M.slice(0),
function(ba){ba.apply(null,f(T)?T:[T])})};C=g.on=function(M,T){var ba=x[M]||(x[M]=[]);ba.push(T);return{remove:function(){for(var ca=0;ca<ba.length;ca++)if(ba[ca]===T){ba.splice(ca,1);break}}}};var B=[],z={},G=[],D={},E=g.map={},I=[],J={},Q="",P={},W={};w={};var U=0;if(!q("foreign-loader"))var R=function(M,T){T=!1!==T;var ba,ca;for(ba in W){var fa=W[ba];if(ca=ba.match(/^url:(.+)/))P["url:"+Fa(ca[1],M)]=fa;else if("*now"==ba)var da=fa;else"*noref"!=ba&&(ca=La(ba,M,!0),P[ca.mid]=P["url:"+ca.url]=fa)}da&&
da(Ba(M));T&&(W={})};var V=function(M){return M.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(T){return"\\"+T})},aa=function(M,T){T.splice(0,T.length);for(var ba in M)T.push([ba,M[ba],new RegExp("^"+V(ba)+"(/|$)"),ba.length]);T.sort(function(ca,fa){return fa[3]-ca[3]});return T},ea=function(M,T){k(M,function(ba){T.push([e(ba[0])?new RegExp("^"+V(ba[0])+"$"):ba[0],ba[1]])})},ma=function(M){var T=M.name;T||(T=M,M={name:T});M=h({main:"main"},M);M.location=M.location?M.location:T;M.packageMap&&(E[T]=
M.packageMap);M.main.indexOf("./")||(M.main=M.main.substring(2));D[T]=M},qa=[],na=function(M,T,ba){for(var ca in M){"waitSeconds"==ca&&(g.waitms=1E3*(M[ca]||0));"cacheBust"==ca&&(Q=M[ca]?e(M[ca])?M[ca]:(new Date).getTime()+"":"");if("baseUrl"==ca||"combo"==ca)g[ca]=M[ca];M[ca]!==F&&(g.rawConfig[ca]=M[ca],"has"!=ca&&q.add("config-"+ca,M[ca],0,T))}g.baseUrl||(g.baseUrl="./");/\/$/.test(g.baseUrl)||(g.baseUrl+="/");for(ca in M.has)q.add(ca,M.has[ca],0,T);k(M.packages,ma);for(var fa in M.packagePaths)k(M.packagePaths[fa],
function(da){var ta=fa+"/"+da;e(da)&&(da={name:da});da.location=ta;ma(da)});aa(h(E,M.map),I);k(I,function(da){da[1]=aa(da[1],[]);"*"==da[0]&&(I.star=da)});aa(h(z,M.paths),G);ea(M.aliases,B);if(!q("foreign-loader")){if(T)qa.push({config:M.config});else for(ca in M.config)T=Ca(ca,ba),T.config=h(T.config||{},M.config[ca]);M.cache&&(R(),W=M.cache,R(0,!!M.cache["*noref"]))}m("config",[M,g.rawConfig])};if(q("dojo-cdn")){var la=u.getElementsByTagName("script");var pa=0;for(var ha,ka,ra,ua;pa<la.length;)if(ha=
la[pa++],(ra=ha.getAttribute("src"))&&(ua=ra.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ka=ua[3]||"",l.baseUrl=l.baseUrl||ka,U=ha),ra=ha.getAttribute("data-dojo-config")||ha.getAttribute("djConfig"))w=g.eval("({ "+ra+" })","data-dojo-config"),U=ha}g.rawConfig={};na(l,1);q("dojo-cdn")&&((D.dojo.location=ka)&&(ka+="/"),D.dijit.location=ka+"../dijit/",D.dojox.location=ka+"../dojox/");na(a,1);na(w,1);if(!q("foreign-loader"))var xa=function(M){H(function(){k(M.deps,Da)})},za=function(M,T,ba,ca,fa){var da;
if(e(M)){if((da=Ca(M,ca,!0))&&da.executed)return da.result;throw d("undefinedModule",M);}f(M)||(na(M,0,ca),M=T,T=ba);if(f(M))if(M.length){ba="require*"+n();for(var ta,Ta=[],Ua=0;Ua<M.length;)ta=M[Ua++],Ta.push(Ca(ta,ca));da=h(Aa("",ba,0,""),{injected:2,deps:Ta,def:T||y,require:ca?ca.require:g,gc:1});J[da.mid]=da;xa(da);var $a=K&&!0;H(function(){Pa(da,$a)});da.executed||ya.push(da);N()}else T&&T();return fa},Ba=function(M){if(!M)return g;var T=M.require;T||(T=function(ba,ca,fa){return za(ba,ca,fa,
M,T)},M.require=h(T,g),T.module=M,T.toUrl=function(ba){return Fa(ba,M)},T.toAbsMid=function(ba){return Ma(ba,M)});return T},ya=[],L=[],S={},X=function(M){M.injected=1;S[M.mid]=1;M.url&&(S[M.url]=M.pack||1);gb()},Z=function(M){M.injected=2;delete S[M.mid];M.url&&delete S[M.url];r(S)&&hb()},ia=g.idle=function(){return!L.length&&r(S)&&!ya.length&&!K};var oa=function(M,T){if(T)for(var ba=0;ba<T.length;ba++)if(T[ba][2].test(M))return T[ba];return 0},va=function(M){var T=[];for(M=M.replace(/\\/g,"/").split("/");M.length;){var ba=
M.shift();if(".."==ba&&T.length&&".."!=ca){T.pop();var ca=T[T.length-1]}else"."!=ba&&T.push(ca=ba)}return T.join("/")},Aa=function(M,T,ba,ca){return{pid:M,mid:T,pack:ba,url:ca,executed:0,def:0}},Wa=function(M,T,ba,ca,fa,da,ta,Ta,Ua,$a){var Qa,eb,Ea;var ab=/^\./.test(M);if(/(^\/)|(:)|(\.js$)/.test(M)||ab&&!T)return Aa(0,M,0,M);M=va(ab?T.mid+"/../"+M:M);if(/^\./.test(M))throw d("irrationalPath",M);$a||ab||!da.star||(Ea=oa(M,da.star[1]));!Ea&&T&&(Ea=(Ea=oa(T.mid,da))&&oa(M,Ea[1]));Ea&&(M=Ea[1]+M.substring(Ea[3]));
T=(ua=M.match(/^([^\/]+)(\/(.+))?$/))?ua[1]:"";(Qa=ba[T])?M=T+"/"+(eb=ua[3]||Qa.main):T="";var bb=0;k(Ta,function(Va){var fb=M.match(Va[0]);fb&&0<fb.length&&(bb=c(Va[1])?M.replace(Va[0],Va[1]):Va[1])});if(bb)return Wa(bb,0,ba,ca,fa,da,ta,Ta,Ua);if(ba=ca[M])return Ua?Aa(ba.pid,ba.mid,ba.pack,ba.url):ca[M];ca=(Ea=oa(M,ta))?Ea[1]+M.substring(Ea[3]):T?("/"===Qa.location.slice(-1)?Qa.location.slice(0,-1):Qa.location)+"/"+eb:M;/(^\/)|(:)/.test(ca)||(ca=fa+ca);return Aa(T,M,Qa,va(ca+".js"))},La=function(M,
T,ba){return Wa(M,T,D,J,g.baseUrl,I,G,B,void 0,ba)};if(!q("foreign-loader"))var sa=function(M,T,ba){return M.normalize?M.normalize(T,function(ca){return Ma(ca,ba)}):Ma(T,ba)},Xa=0,Ca=function(M,T,ba){var ca;if(ca=M.match(/^(.+?)!(.*)$/)){var fa=Ca(ca[1],T,ba);5!==fa.executed||fa.load||Ga(fa);fa.load?(ca=sa(fa,ca[2],T),M=fa.mid+"!"+(fa.dynamic?++Xa+"!":"")+ca):(ca=ca[2],M=fa.mid+"!"+ ++Xa+"!waitingForPlugin");M={plugin:fa,mid:M,req:Ba(T),prid:ca}}else M=La(M,T);return J[M.mid]||!ba&&(J[M.mid]=M)};
var Ma=g.toAbsMid=function(M,T){return La(M,T).mid},Fa=g.toUrl=function(M,T){T=La(M+"/x",T);var ba=T.url;return O(0===T.pid?M:ba.substring(0,ba.length-5))};if(!q("foreign-loader")){var Ha={injected:2,executed:5,def:3,result:3};ka=function(M){return J[M]=h({mid:M},Ha)};var Ja=ka("require"),Na=ka("exports"),Ra=ka("module"),Ia={},Ya=0,Ga=function(M){var T=M.result;M.dynamic=T.dynamic;M.normalize=T.normalize;M.load=T.load;return M},Ka=function(M){var T={};k(M.loadQ,function(fa){var da=sa(M,fa.prid,fa.req.module),
ta=M.dynamic?fa.mid.replace(/waitingForPlugin$/,da):M.mid+"!"+da;da=h(h({},fa),{mid:ta,prid:da,injected:0});J[ta]&&J[ta].injected||Y(J[ta]=da);T[fa.mid]=J[ta];Z(fa);delete J[fa.mid]});M.loadQ=0;var ba=function(fa){for(var da=fa.deps||[],ta=0;ta<da.length;ta++)(fa=T[da[ta].mid])&&(da[ta]=fa)},ca;for(ca in J)ba(J[ca]);k(ya,ba)},Sa=function(M){g.trace("loader-finish-exec",[M.mid]);M.executed=5;M.defOrder=Ya++;M.loadQ&&(Ga(M),Ka(M));for(pa=0;pa<ya.length;)ya[pa]===M?ya.splice(pa,1):pa++;/^require\*/.test(M.mid)&&
delete J[M.mid]},Za=[],Pa=function(M,T){if(4===M.executed)return g.trace("loader-circular-dependency",[Za.concat(M.mid).join("-\x3e")]),!M.def||T?Ia:M.cjs&&M.cjs.exports;if(!M.executed){if(!M.def)return Ia;var ba=M.mid,ca=M.deps||[],fa,da=[],ta=0;for(M.executed=4;fa=ca[ta++];){fa=fa===Ja?Ba(M):fa===Na?M.cjs.exports:fa===Ra?M.cjs:Pa(fa,T);if(fa===Ia)return M.executed=0,g.trace("loader-exec-module",["abort",ba]),Ia;da.push(fa)}g.trace("loader-run-factory",[M.mid]);T=M.def;da=c(T)?T.apply(null,da):T;
M.result=void 0===da&&M.cjs?M.cjs.exports:da;Sa(M)}return M.result},K=0,H=function(M){try{K++,M()}catch(T){throw T;}finally{K--}ia()&&m("idle",[])},N=function(){K||H(function(){for(var M,T,ba=0;ba<ya.length;)M=Ya,T=ya[ba],Pa(T),M!=Ya?ba=0:ba++})}}var O="function"==typeof a.fixupUrl?a.fixupUrl:function(M){M+="";return M+(Q?(/\?/.test(M)?"\x26":"?")+Q:"")};void 0===q("dojo-loader-eval-hint-url")&&q.add("dojo-loader-eval-hint-url",1);var Y=function(M){var T=M.plugin;5!==T.executed||T.load||Ga(T);var ba=
function(ca){M.result=ca;Z(M);Sa(M);N()};T.load?T.load(M.prid,M.req,ba):T.loadQ?T.loadQ.push(M):(T.loadQ=[M],ya.unshift(T),Da(T))},ja=0,wa=function(M,T){q("config-stripStrict")&&(M=M.replace(/(["'])use strict\1/g,""));M===ja?ja.call(null):g.eval(M,q("dojo-loader-eval-hint-url")?T.url:T.mid)},Da=function(M){var T=M.mid,ba=M.url;if(!(M.executed||M.injected||S[T]||M.url&&(M.pack&&S[M.url]===M.pack||1==S[M.url])))if(X(M),M.plugin)Y(M);else{var ca=function(){cb(M);if(2!==M.injected){if(q("dojo-enforceDefine")){m("error",
d("noDefine",M));return}Z(M);h(M,Ha);g.trace("loader-define-nonmodule",[M.url])}N()};(ja=P[T]||P["url:"+M.url])?(g.trace("loader-inject",["cache",M.mid,ba]),wa(ja,M),ca()):(g.trace("loader-inject",["script",M.mid,ba]),g.injectUrl(O(ba),ca,M))}},Oa=function(M,T,ba){g.trace("loader-define-module",[M.mid,T]);if(2===M.injected)return m("error",d("multipleDefine",M)),M;h(M,{deps:T,def:ba,cjs:{id:M.mid,uri:M.url,exports:M.result={},setExports:function(fa){M.cjs.exports=fa},config:function(){return M.config}}});
for(var ca=0;T[ca];ca++)T[ca]=Ca(T[ca],M);Z(M);c(ba)||T.length||(M.result=ba,Sa(M));return M},cb=function(M,T){for(var ba=[],ca,fa;L.length;)fa=L.shift(),T&&(fa[0]=T.shift()),ca=fa[0]&&Ca(fa[0])||M,ba.push([ca,fa[1],fa[2]]);R(M);k(ba,function(da){xa(Oa.apply(null,da))})},hb=y,gb=y;q("dom");if(q("dom")){var db=function(M,T,ba,ca){M.addEventListener(T,ca,!1);return function(){M.removeEventListener(T,ca,!1)}},ib=db(window,"load","onload",function(){g.pageLoaded=1;try{"complete"!=u.readyState&&(u.readyState=
"complete")}catch(M){}ib()});la=u.getElementsByTagName("script");for(pa=0;!U;)/^dojo/.test((ha=la[pa++])&&ha.type)||(U=ha);g.injectUrl=function(M,T,ba){ba=ba.node=u.createElement("script");var ca=db(ba,"load","onreadystatechange",function(da){da=da||window.event;var ta=da.target||da.srcElement;if("load"===da.type||/complete|loaded/.test(ta.readyState))ca(),fa(),T&&T()}),fa=db(ba,"error","onerror",function(da){ca();fa();m("error",d("scriptError: "+M,[M,da]))});ba.type="text/javascript";ba.charset=
"utf-8";ba.src=M;U.parentNode.insertBefore(ba,U);return ba}}g.log=y;g.trace=y;q("foreign-loader")?ha=y:(ha=function(M,T,ba){var ca=arguments.length,fa=["require","exports","module"],da=[0,M,T];1==ca?da=[0,c(M)?fa:[],M]:2==ca&&e(M)?da=[M,c(T)?fa:[],T]:3==ca&&(da=[M,T,ba]);g.trace("loader-define",da.slice(0,2));(ca=da[0]&&Ca(da[0]))&&!S[ca.mid]?xa(Oa(ca,da[1],da[2])):L.push(da)},ha.amd={vendor:"dojotoolkit.org"});h(h(g,l.loaderPatch),a.loaderPatch);C("error",function(M){try{if(console.error(M),M instanceof
Error){for(var T in M)console.log(T+":",M[T]);console.log(".")}}catch(ba){}});h(g,{uid:n,cache:P,packs:D});p.define||(p.define=ha,p.require=g,q("foreign-loader")||(k(qa,function(M){na(M)}),ha=w.deps||a.deps||l.deps,a=w.callback||a.callback||l.callback,g.boot=ha||a?[ha||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,baseUrl:"https://[HOSTNAME_AND_PATH_TO_JSAPI]dojo",hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,
dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../tslib",main:"tslib",name:"tslib"}]});
require({cache:{"esri/config":function(){define(["module","./core/global","./core/has","./core/object"],function(a,l,w,y){w={apiKey:void 0,applicationUrl:l.location&&l.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",
workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};l.esriConfig&&(y.deepMerge(w,l.esriConfig,!0),delete w.has);w.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,
w.assetsPath=a.slice(0,a.indexOf("esri/")));w.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath");Object.defineProperty(w,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}});w.request.corsEnabledServers=[];w.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return w})},"esri/core/global":function(){define(function(){return function(){if("undefined"!==
typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/core/has":function(){define(["./global"],function(a){function l(e){return"function"===typeof r[e]?r[e]=r[e](a):r[e]}var w,y;let r;if(null!=(w=a.dojoConfig)&&w.has||null!=(y=a.esriConfig)&&y.has){var b,c;r={...null==(b=a.dojoConfig)?void 0:b.has,...null==(c=a.esriConfig)?void 0:c.has}}else r={};l.add=(e,f,k,h)=>{if(h||"undefined"===
typeof r[e])r[e]=f;return k&&l(e)};l.cache=r;l.add("esri-deprecation-warnings",!0);l.add("esri-featurelayer-webgl",!0);l.add("esri-featurelayer-webgl-labeling",!0);(()=>{l.add("host-webworker","undefined"!==typeof a.WorkerGlobalScope&&self instanceof a.WorkerGlobalScope);var e="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;l.add("host-browser",e);l.add("dom",e);if(l("host-browser")){var f=navigator;
e=f.userAgent;f=f.appVersion;const h=parseFloat(f);l.add("edge",parseFloat(e.split("Edge/")[1])||void 0);l.add("webkit",!l("edge")&&parseFloat(e.split("WebKit/")[1])||void 0);l.add("chrome",!l("edge")&&parseFloat(e.split("Chrome/")[1])||void 0);l.add("safari",0<=f.indexOf("Safari")&&!l("chrome")&&!l("edge")?parseFloat(f.split("Version/")[1]):void 0);l.add("mac",0<=f.indexOf("Macintosh"));if(e.match(/(iPhone|iPod|iPad)/)){const d=RegExp.$1.replace(/P/,"p");var k=e.match(/OS ([\d_]+)/)?RegExp.$1:"1";
k=parseFloat(k.replace(/_/,".").replace(/_/g,""));l.add(d,k);l.add("ios",k)}l.add("trident",parseFloat(f.split("Trident/")[1])||void 0);l("webkit")||(0<=e.indexOf("Opera")&&l.add("opera",9.8<=h?parseFloat(e.split("Version/")[1])||h:h),0<=e.indexOf("Gecko")&&!l("trident")&&!l("edge")&&l.add("mozilla",h),l("mozilla")&&l.add("ff",parseFloat(e.split("Firefox/")[1]||e.split("Minefield/")[1])||void 0))}})();(()=>{if(a.navigator){var e=navigator.userAgent;const f=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i);
e=e.match(/iPhone/i);f&&l.add("esri-mobile",f);e&&l.add("esri-iPhone",e);l.add("esri-geolocation",!!navigator.geolocation)}l.add("esri-canvas-svg-support",!l("trident"));l.add("esri-secure-context",()=>{if("isSecureContext"in a)return a.isSecureContext;if(a.location&&a.location.origin)return 0===a.location.origin.indexOf("https:")});l.add("esri-wasm","WebAssembly"in a);l.add("esri-shared-array-buffer",()=>{const f=!1===a.crossOriginIsolated;return"SharedArrayBuffer"in a&&!f});l.add("esri-atomics",
"Atomics"in a);l.add("esri-workers","Worker"in a);l.add("esri-text-decoder","TextDecoder"in a);l.add("esri-text-encoder","TextEncoder"in a);l.add("featurelayer-advanced-symbols",!1);l.add("featurelayer-pbf",!0);l.add("featurelayer-pbf-statistics",!1);l.add("feature-layers-workers",!0);l.add("mapview-transitions-duration",200);!l("host-webworker")&&l("host-browser")&&(l.add("csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),l.add("esri-image-decode",()=>{if("decode"in new Image){const f=
new Image;f.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';f.decode().then(()=>{l.add("esri-image-decode",!0,!0,!0)}).catch(()=>{l.add("esri-image-decode",!1,!0,!0)})}else return!1}),l.add("esri-url-encodes-apostrophe",()=>{const f=a.document.createElement("a");f.href="?'";return-1<f.href.indexOf("?%27")}),l.add("vectortilelayer-max-buffers",()=>l("ff")?160:Number.POSITIVE_INFINITY))})();return l})},"esri/core/object":function(){define(["exports",
"./lang"],function(a,l){function w(r,b,c){for(const e of r){if(null==c)return;if(!(e in c))if(b)c[e]={};else return;c=c[e]}return c}function y(r,b,c){return b?Object.keys(b).reduce(function(e,f){let k=e[f],h=b[f];if(k===h)return e;if(void 0===k)return e[f]=l.clone(h),e;if(Array.isArray(h)||Array.isArray(e))k=k?Array.isArray(k)?e[f]=k.concat():e[f]=[k]:e[f]=[],h&&(Array.isArray(h)||(h=[h]),c?h.forEach(d=>{-1===k.indexOf(d)&&k.push(d)}):e[f]=h.concat());else if(h&&"object"===typeof h)e[f]=y(k,h,c);
else if(!e.hasOwnProperty(f)||b.hasOwnProperty(f))e[f]=h;return e},r||{}):r}a.deepMerge=function(r,b,c=!1){return y(r,b,c)};a.getDeepValue=function(r,b){if(null!=b)return b[r]||w(r.split("."),!1,b)};a.setDeepValue=function(r,b,c){const e=r.split(".");r=e.pop();(c=w(e,!0,c))&&r&&(c[r]=b)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/lang":function(){define(["exports","./typedArrayUtil"],function(a,l){function w(b,c){let e;if(c)for(e in b)b.hasOwnProperty(e)&&(void 0===b[e]?delete b[e]:
b[e]instanceof Object&&w(b[e],!0));else for(e in b)b.hasOwnProperty(e)&&void 0===b[e]&&delete b[e];return b}function y(b){if(!b||"object"!==typeof b||"function"===typeof b)return b;if(l.isInt8Array(b)||l.isUint8Array(b)||l.isUint8ClampedArray(b)||l.isInt16Array(b)||l.isUint16Array(b)||l.isInt32Array(b)||l.isUint32Array(b)||l.isFloat32Array(b)||l.isFloat64Array(b))return l.slice(b);if(b instanceof Date)return new Date(b.getTime());if(b instanceof ArrayBuffer)return b.slice(0,b.byteLength);if(b instanceof
Map){const c=new Map;b.forEach((e,f)=>{c.set(f,y(e))});return c}if(b instanceof Set){const c=new Set;b.forEach(e=>{c.add(y(e))});return c}return"function"===typeof b.clone?b.clone():"function"===typeof b.map&&"function"===typeof b.forEach?b.map(y):"function"===typeof b.notifyChange&&"function"===typeof b.watch?b.clone():r({},b,y)}function r(b,c,e){let f,k;const h={};for(f in c){k=c[f];const d=!(f in h)||h[f]!==k;if(!(f in b)||b[f]!==k&&d)b[f]=e?e(k):k}return b}a.clone=y;a.equals=function(b,c){return b===
c||"number"===typeof b&&isNaN(b)&&"number"===typeof c&&isNaN(c)||"function"===typeof(b||{}).getTime&&"function"===typeof(c||{}).getTime&&b.getTime()===c.getTime()||!1};a.fixJson=w;a.mixin=function(b={},...c){for(const e of c)r(b,e);return b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/typedArrayUtil":function(){define(["exports"],function(a){a.estimateSize=function(l){return l?128+l.buffer.byteLength+64:0};a.forEach=function(l,w){if(l.forEach)l.forEach(w);else for(let y=0;y<l.length;y++)w(l[y],
y,l)};a.isArrayBuffer=function(l){return l instanceof ArrayBuffer||l&&l.constructor&&"ArrayBuffer"===l.constructor.name};a.isFloat32Array=function(l){return l instanceof Float32Array||l&&l.constructor&&"Float32Array"===l.constructor.name};a.isFloat64Array=function(l){return l instanceof Float64Array||l&&l.constructor&&"Float64Array"===l.constructor.name};a.isInt16Array=function(l){return l instanceof Int16Array||l&&l.constructor&&"Int16Array"===l.constructor.name};a.isInt32Array=function(l){return l instanceof
Int32Array||l&&l.constructor&&"Int32Array"===l.constructor.name};a.isInt8Array=function(l){return l instanceof Int8Array||l&&l.constructor&&"Int8Array"===l.constructor.name};a.isUint16Array=function(l){return l instanceof Uint16Array||l&&l.constructor&&"Uint16Array"===l.constructor.name};a.isUint32Array=function(l){return l instanceof Uint32Array||l&&l.constructor&&"Uint32Array"===l.constructor.name};a.isUint8Array=function(l){return l instanceof Uint8Array||l&&l.constructor&&"Uint8Array"===l.constructor.name};
a.isUint8ClampedArray=function(l){return l instanceof Uint8ClampedArray||l&&l.constructor&&"Uint8ClampedArray"===l.constructor.name};a.slice=function(l,w,y){if(l.slice)return l.slice(w,y);void 0===w?w=0:(0>w&&(w+=l.length),w=Math.min(l.length,Math.max(0,w)));void 0===y?y=l.length:(0>y&&(y+=l.length),y=Math.min(l.length,Math.max(0,y)));y=Math.max(0,y-w);const r=new l.constructor(y);for(let b=0;b<y;b++)r[b]=l[w+b];return r};a.toArray=function(l){const w=Array(l.length);for(let y=0;y<l.length;y++)w[y]=
l[y];return w};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(a,l,w,y,r){w("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript ${"4.18"} [Date: ${r.buildDate}, Revision: ${r.commitHash.slice(0,8)}]`),(w("edge")||w("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"));l.revision=r.commitHash;l.addTokenParameter=function(b){const c=l.id&&
l.id.findCredential(b);return c&&c.token?y.addQueryParameter(b,"token",c.token):b};l.setId=function(b){l.id=b};l.version="4.18";l.workerMessages={request(b,c){return(new Promise(function(e,f){a(["./request"],function(k){e(Object.freeze({__proto__:null,"default":k}))},f)})).then(({default:e})=>{const f=b.options||{};f.responseType="array-buffer";f.signal=null==c?void 0:c.signal;return e(b.url,f)}).then(e=>({result:{data:e.data,ssl:e.ssl},transferList:[e.data]}))}};Object.defineProperty(l,"__esModule",
{value:!0})})},"esri/core/urlUtils":function(){define("exports ./global ../config ./maybe ./Logger ./Error".split(" "),function(a,l,w,y,r,b){function c(L){const S={path:null,query:null},X=new ha(L),Z=L.indexOf("?");null===X.query?S.path=L:(S.path=L.substring(0,Z),S.query=e(X.query));X.fragment&&(S.hash=X.fragment,null===X.query&&(S.path=S.path.substring(0,S.path.length-(X.fragment.length+1))));return S}function e(L){var S=L.split("\x26");L={};for(const Z of S){if(!Z)continue;var X=Z.indexOf("\x3d");
0>X?(S=decodeURIComponent(Z),X=""):(S=decodeURIComponent(Z.slice(0,X)),X=decodeURIComponent(Z.slice(X+1)));let ia=L[S];"string"===typeof ia&&(ia=L[S]=[ia]);Array.isArray(ia)?ia.push(X):L[S]=X}return L}function f(L){return L&&"object"===typeof L&&"toJSON"in L&&"function"===typeof L.toJSON}function k(L,S){return L?S&&"function"===typeof S?Object.keys(L).map(X=>encodeURIComponent(X)+"\x3d"+encodeURIComponent(S(X,L[X]))).join("\x26"):Object.keys(L).map(X=>{const Z=L[X];if(null==Z)return"";const ia=encodeURIComponent(X)+
"\x3d";return(X=S&&S[X])?ia+encodeURIComponent(X(Z)):Array.isArray(Z)?Z.map(oa=>f(oa)?ia+encodeURIComponent(JSON.stringify(oa)):ia+encodeURIComponent(oa)).join("\x26"):f(Z)?ia+encodeURIComponent(JSON.stringify(Z)):ia+encodeURIComponent(Z)}).filter(X=>X).join("\x26"):""}function h(L){const S=L.indexOf("?");-1!==S?(xa.path=L.slice(0,S),xa.query=L.slice(S+1)):(xa.path=L,xa.query=null);return xa}function d(L){L=h(L).path;L&&"/"===L[L.length-1]||(L=`${L}/`);L=J(L,!0);return L=L.toLowerCase()}function t(L){const S=
R.proxyRules;L=d(L);for(let X=0;X<S.length;X++)if(0===L.indexOf(S[X].urlPrefix))return S[X]}function n(L){L=u(L);const S=L.indexOf("/sharing");return 0<S?L.substring(0,S):L.replace(/\/+$/,"")}function g(L,S,X=!1){L=W(L);S=W(S);return!X&&L.scheme!==S.scheme||null==L.host||null==S.host?!1:L.host.toLowerCase()===S.host.toLowerCase()&&L.port===S.port}function p(L,S=ua,X){return z(L)?X&&X.preserveProtocolRelative?L:"http"===ka.scheme&&ka.authority===q(L).slice(2)?`http:${L}`:`https:${L}`:G(L)?L:y.assumeNonNull(v("/"===
L[0]?Q(S):S,L))}function u(L){L=L.trim();L=p(L);if(/^https?:\/\//i.test(L)){const S=h(L);L=S.path.replace(/\/{2,}/g,"/");L=L.replace("/","//");S.query&&(L+=`?${S.query}`)}L=L.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return L=P(L)}function v(...L){var S=L.filter(y.isSome);if(S&&S.length){L=[];if(F(S[0])){var X=S[0],Z=X.indexOf("//");-1!==Z&&(L.push(X.slice(0,Z+1)),ma.test(S[0])&&(L[0]+="/"),S[0]=X.slice(Z+2))}else"/"===S[0][0]&&L.push("");S=S.reduce((ia,oa)=>oa?ia.concat(oa.split("/")):ia,
[]);for(X=0;X<S.length;X++)Z=S[X],".."===Z&&0<L.length&&".."!==L[L.length-1]?L.pop():(!Z&&X===S.length-1||Z&&("."!==Z||0===L.length))&&L.push(Z);return L.join("/")}}function q(L,S=!1){if(C(L)||A(L))return null;var X=L.indexOf("://");if(-1===X&&z(L))X=2;else if(-1!==X)X+=3;else return null;X=L.indexOf("/",X);-1!==X&&(L=L.slice(0,X));S&&(L=J(L,!0));return L}function F(L){return z(L)||G(L)}function C(L){return null!=L&&"blob:"===L.slice(0,5)}function A(L){return"data:"===L.slice(0,5)}function x(L){L=
m(L);if(!L||!L.isBase64)return null;L=atob(L.data);const S=new Uint8Array(L.length);for(let X=0;X<L.length;X++)S[X]=L.charCodeAt(X);return S.buffer}function m(L){L=L.match(za);if(!L)return null;const [,S,X,Z]=L;return{mediaType:S,isBase64:!!X,data:Z}}function B(L){const S=x(L);if(!S)return null;L=m(L);return new Blob([S],{type:L.mediaType})}function z(L){return null!=L&&void 0!==L&&"/"===L[0]&&"/"===L[1]}function G(L){return V.test(L)}function D(L){return aa.test(L)||"http"===ka.scheme&&z(L)}function E(L){return z(L)?
`https:${L}`:L.replace(aa,"https:")}function I(){return"https"===ka.scheme}function J(L,S=!1){if(z(L))return L.slice(2);L=L.replace(V,"");S&&1<L.length&&"/"===L[0]&&"/"===L[1]&&(L=L.slice(2));return L}function Q(L){var S=L.indexOf("//");S=L.indexOf("/",S+2);return-1===S?L:L.slice(0,S)}function P(L){const S=R.httpsDomains;if(!D(L))return L;const X=L.indexOf("/",7);let Z;Z=-1===X?L:L.slice(0,X);Z=Z.toLowerCase().slice(7);if(qa.test(Z))if(Z.endsWith(":80"))Z=Z.slice(0,-3),L=L.replace(":80","");else return L;
if("http"===ka.scheme&&Z===ka.authority&&!na.test(L))return L;if(I()&&Z===ka.authority||S&&S.some(ia=>Z===ia||Z.endsWith(`.${ia}`))||I()&&!t(L))L=E(L);return L}function W(L){if("string"===typeof L)return new ha(p(L));L.scheme||(L.scheme=ka.scheme);return L}const U=r.getLogger("esri.core.urlUtils"),R=w.request,V=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,aa=/^\s*http:/i,ea=/^\s*https:/i,ma=/^\s*file:/i,qa=/:\d+$/,na=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,la=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
pa=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/;let ha=function(){function L(S=""){this.uri=S;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;S=y.assumeNonNull(this.uri.match(la));this.scheme=S[2]||(S[1]?"":null);this.authority=S[4]||(S[3]?"":null);this.path=S[5];this.query=S[7]||(S[6]?"":null);this.fragment=S[9]||(S[8]?"":null);null!=this.authority&&(S=y.assumeNonNull(this.authority.match(pa)),this.user=S[3]||null,
this.password=S[4]||null,this.host=S[6]||S[7],this.port=S[9]||null)}L.prototype.toString=function(){return this.uri};return L}();const ka=new ha(w.applicationUrl),ra={},ua=(()=>{var L=y.assumeNonNull(ka.path);L=L.substring(0,L.lastIndexOf(L.split("/")[L.split("/").length-1]));return`${`${ka.scheme}://${ka.host}${null!=ka.port?`:${ka.port}`:""}`}${L}`})(),xa={path:"",query:""},za=/^data:(.*?)(;base64)?,(.*)$/,Ba=/.*?\.([^\/]*)$/,ya=/(^data:image\/svg|\.svg$)/i;a.Url=ha;a.addProxy=function(L){var S=
t(L),X=void 0;if(S){var Z=h(S.proxyUrl);X=Z.path;Z=Z.query?e(Z.query):null}X&&(S=c(L),L=X+"?"+S.path,(X=k({...Z,...S.query}))&&(L=`${L}?${X}`));return L};a.addProxyRule=function(L){L={proxyUrl:L.proxyUrl,urlPrefix:d(L.urlPrefix)};const S=R.proxyRules,X=L.urlPrefix;let Z=S.length;for(let ia=0;ia<S.length;ia++){const oa=S[ia].urlPrefix;if(0===X.indexOf(oa)){if(X.length===oa.length)return-1;Z=ia;break}0===oa.indexOf(X)&&(Z=ia+1)}S.splice(Z,0,L);return Z};a.addQueryParameter=function(L,S,X){L=c(L);const Z=
L.query||{};Z[S]=String(X);return`${L.path}?${k(Z)}`};a.addQueryParameters=function(L,S){L=c(L);const X=L.query||{};for(const Z in S)X[Z]=S[Z];return(S=k(X))?`${L.path}?${S}`:L.path};a.appBaseUrl=ua;a.appUrl=ka;a.changeDomain=function(L,S,X){if(!(S&&X&&L&&F(L)))return L;const Z=L.indexOf("//");var ia=L.indexOf("/",Z+2);const oa=L.indexOf(":",Z+2);ia=Math.min(0>ia?L.length:ia,0>oa?L.length:oa);if(L.slice(Z+2,ia).toLowerCase()!==S.toLowerCase())return L;S=L.slice(0,Z+2);L=L.slice(ia);return`${S}${X}${L}`};
a.dataComponents=m;a.dataToArrayBuffer=x;a.dataToBlob=B;a.downloadDataAsFile=function(L,S){a:{var X=document.createElement("a");if("download"in X){var Z=null;if(l.URL&&l.URL.createObjectURL){Z=B(L);if(!Z){X=!1;break a}Z=l.URL.createObjectURL(Z)}X.download=S;X.href=Z||L;X.style.display="none";document.body.appendChild(X);X.click();document.body.removeChild(X);Z&&l.URL.revokeObjectURL(Z);X=void 0}else X=!1}X||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(B(L),S)};a.getFilename=
function(L,S){if(!L)return"";L=c(L).path.replace(/\/+$/,"");L=L.substring(L.lastIndexOf("/")+1);if(null==S||!S.length)return L;S=new RegExp(`\.(${S.join("|")})$`,"ig");return L.replace(S,"")};a.getInterceptor=function(L){const S=Z=>null==Z||Z instanceof RegExp&&Z.test(L)||"string"===typeof Z&&L.startsWith(Z),X=R.interceptors;if(X)for(const Z of X)if(Array.isArray(Z.urls)){if(Z.urls.some(S))return Z}else if(S(Z.urls))return Z;return null};a.getOrigin=q;a.getPathExtension=function(L){return y.isNone(L)?
null:(L=L.match(Ba))?L[1]:null};a.getProxyRule=t;a.getProxyUrl=function(L=!1){let S,X=R.proxyUrl;if("string"===typeof L){if(S=ea.test(L)||"https"===ka.scheme&&z(L),L=t(L))X=L.proxyUrl}else S=!!L;if(!X)throw U.warn("esri/config: esriConfig.request.proxyUrl is not set."),new b("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");S&&I()&&(X=E(X));return c(X)};a.hasProtocol=G;a.hasSameOrigin=g;a.hasSamePortal=function(L,S){L=n(L);S=n(S);return J(L)===J(S)};a.isAbsolute=F;a.isAppHTTPS=
I;a.isBlobProtocol=C;a.isDataProtocol=A;a.isProtocolRelative=z;a.isSVG=function(L){return ya.test(L)};a.isTrustedServer=function(L){if("string"===typeof L)if(F(L))L=W(L);else return!0;if(g(L,ka))return!0;const S=R.trustedServers||[];for(let Z=0;Z<S.length;Z++){var X=S[Z];ra[X]||(G(X)||z(X)?ra[X]=[new ha(p(X))]:ra[X]=[new ha(`http://${X}`),new ha(`https://${X}`)]);X=ra[X];for(let ia=0;ia<X.length;ia++)if(g(L,X[ia]))return!0}return!1};a.join=v;a.makeAbsolute=p;a.makeData=function(L){return L.isBase64?
`data:${L.mediaType};base64,${L.data}`:`data:${L.mediaType},${L.data}`};a.makeRelative=function(L,S=ua,X){if(!F(L))return L;var Z=u(L),ia=Z.toLowerCase();S=u(S).toLowerCase().replace(/\/+$/,"");if((X=X?u(X).toLowerCase().replace(/\/+$/,""):null)&&0!==S.indexOf(X))return L;var oa=ia.indexOf("//")+2;oa=ia.indexOf("/",oa);var va=-1===oa?ia.length:oa;for(oa=-1;ia.slice(0,va+1)===S.slice(0,va)+"/";){oa=va+1;if(va===ia.length)break;var Aa=ia;va+=1;va=Aa.indexOf("/",va);va=-1===va?Aa.length:va}if(-1===oa||
X&&oa<X.length)return L;L=Z.slice(oa);Z=S.slice(oa-1).replace(/[^/]+/g,"").length;if(0<Z)for(ia=0;ia<Z;ia++)L=`../${L}`;else L=`./${L}`;return L};a.normalize=u;a.objectToQuery=k;a.queryToObject=e;a.removeFile=function(L){let S=0;if(F(L)){var X=L.indexOf("//");-1!==X&&(S=X+2)}X=L.lastIndexOf("/");return X<S?L:L.slice(0,X+1)};a.removeQueryParameter=function(L,S){const {path:X,query:Z}=c(L);if(!Z)return L;delete Z[S];return(L=k(Z))?`${X}?${L}`:X};a.removeQueryParameters=function(L,S){L=c(L);const X=
Object.keys(L.query||{});0<X.length&&S&&S.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${X.join(", ")}.`);return L.path};a.removeTrailingSlash=function(L){return L.replace(/\/+$/,"")};a.toHTTP=function(L){return z(L)?`http:${L}`:L.replace(ea,"http:")};a.toHTTPS=E;a.trustedServersUrlCache=ra;a.urlToObject=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/maybe":function(){define(["exports"],function(a){function l(w,
y,r){return null!=w?r(w):y}a.andThen=function(w,y){return null!=w?y(w):null};a.applySome=function(w,y){return null!=w?y(w):null};a.assumeNonNull=function(w){return w};a.destroyMaybe=function(w){null!=w&&w.destroy();return null};a.disposeMaybe=function(w){null!=w&&w.dispose();return null};a.forEachSome=function(w,y){for(const r of w)l(r,null,y)};a.get=function(w,...y){let r=0;for(;r<y.length&&w;)w=w[y[r++]];return w};a.isNone=function(w){return null==w};a.isSome=function(w){return null!=w};a.isUndefined=
function(w){return void 0===w};a.mapMany=function(w,y){const r=[];for(const b of w)r.push(l(b,null,y));return r};a.mapOr=l;a.mapSome=function(w,y){const r=[];w.forEach(b=>{b=y(b);null!=b&&r.push(b)});return r};a.mapSomeFirst=function(w,y){for(const r of w)if(w=y(r),null!=w)return w;return null};a.none=null;a.nullifyNonnullableForDispose=function(w){return null};a.removeMaybe=function(w){null!=w&&w.remove();return null};a.unwrap=function(w){return w};a.unwrapOr=function(w,y){return null!=w?w:"function"===
typeof y?y():y};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers","./has","../config","./maybe","./string"],function(a,l,w,y,r){const b={info:0,warn:1,error:2,none:3};l=function(){function c(f){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=f.level&&(this.level=f.level);null!=f.writer&&(this.writer=f.writer);this._module=f.module;c._loggers[this.module]=
this;f=this.module.lastIndexOf(".");-1!==f&&(this._parent=c.getLogger(this.module.slice(0,f)))}var e=c.prototype;e.error=function(...f){this._log("error","always",...f)};e.warn=function(...f){this._log("warn","always",...f)};e.info=function(...f){this._log("info","always",...f)};e.errorOnce=function(...f){this._log("error","once",...f)};e.warnOnce=function(...f){this._log("warn","once",...f)};e.infoOnce=function(...f){this._log("info","once",...f)};e.errorOncePerTick=function(...f){this._log("error",
"oncePerTick",...f)};e.warnOncePerTick=function(...f){this._log("warn","oncePerTick",...f)};e.infoOncePerTick=function(...f){this._log("info","oncePerTick",...f)};c.getLogger=function(f){let k=c._loggers[f];k||(k=new c({module:f}));return k};e._log=function(f,k,...h){if(this._matchLevel(f)){if("always"!==k&&!c._throttlingDisabled){const d=this._argsToKey(h),t=this._loggedMessages[f].get(d);if("once"===k&&null!=t||"oncePerTick"===k&&t&&t>=c._tickCounter)return;this._loggedMessages[f].set(d,c._tickCounter);
c._scheduleTickCounterIncrement()}for(const d of w.log.interceptors)if(d(f,this.module,...h))return;this._inheritedWriter()(f,this.module,...h)}};e._parentWithMember=function(f,k){let h=this;for(;y.isSome(h);){const d=h[f];if(y.isSome(d))return d;h=h.parent}return k};e._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};e._consoleWriter=function(f,k,...h){console[f](`[${k}]`,...h)};e._matchLevel=function(f){return b[this._parentWithMember("level",w.log.level?w.log.level:
"warn")]<=b[f]};e._argsToKey=function(...f){return r.numericHash(JSON.stringify(f,(k,h)=>"object"!==typeof h||Array.isArray(h)?h:"[Object]"))};c._scheduleTickCounterIncrement=function(){c._tickCounterScheduled||(c._tickCounterScheduled=!0,Promise.resolve().then(()=>{c._tickCounter++;c._tickCounterScheduled=!1}))};a._createClass(c,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}}],[{key:"test",get:function(){return{resetLoggers(f={}){const k=c._loggers;
c._loggers=f;return k},set throttlingDisabled(f){c._throttlingDisabled=f}}}}]);return c}();l._loggers={};l._tickCounter=0;l._tickCounterScheduled=!1;l._throttlingDisabled=!1;return l})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(a){function l(w,y){for(var r=0;r<y.length;r++){var b=y[r];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(w,b.key,b)}}a._assertThisInitialized=function(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return w};a._createClass=function(w,y,r){y&&l(w.prototype,y);r&&l(w,r);return w};a._inheritsLoose=function(w,y){w.prototype=Object.create(y.prototype);w.prototype.constructor=w;w.__proto__=y}})},"esri/core/string":function(){define(["exports","./object"],function(a,l){function w(r){return null==r?"":r}const y=/\{([^\}]+)\}/g;a.escapeRegExpString=function(r,b){return r.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,c=>b&&-1!==b.indexOf(c)?c:`\\${c}`)};a.numericHash=function(r){let b=0;for(let c=0;c<r.length;c++)b=
(b<<5)-b+r.charCodeAt(c),b|=0;return b};a.replace=function(r,b){return r.replace(y,"object"===typeof b?(c,e)=>w(l.getDeepValue(e,b)):(c,e)=>w(b(e)))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,l,w,y){y=function(r){function b(c,e,f){var k=r.call(this,c,e,f)||this;return a._assertThisInitialized(k)instanceof b?k:new b(c,e,f)}a._inheritsLoose(b,r);b.prototype.toJSON=function(){if(null!=
this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(c,e)=>{if(e&&"object"===typeof e&&"function"===typeof e.toJSON)return e;try{return l.clone(e)}catch(f){return"[object]"}}))}}catch(c){throw w.getLogger("esri.core.Error").error(c),c;}return{name:this.name,message:this.message,details:this.details}};b.fromJSON=function(c){return new b(c.name,c.message,c.details)};return b}(y);y.prototype.type="error";return y})},"esri/core/Message":function(){define(["./object"],
function(a){function l(w,y){return w.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(r,b){if(""===b)return"$";r=a.getDeepValue(b,y);r=null==r?"":r;if("undefined"===typeof r)throw Error(`could not find key "${b}" in template`);return r.toString()})}return function(){function w(y,r,b){this.name=y;this.details=b;this.message=void 0;this instanceof w&&(this.message=r&&l(r,b)||"")}w.prototype.toString=function(){return"["+this.name+"]: "+this.message};return w}()})},"esri/support/revision":function(){define(["exports"],
function(a){a.buildDate="20201215";a.commitHash="8c75a60fd0dc0263429e260f19a58baf2694b5aa";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/RemoteClient":function(){define("../maybe ../Error ../events ../promiseUtils ./registry ./utils ../../views/support/Scheduler".split(" "),function(a,l,w,y,r,b,c){const {CLOSE:e,ABORT:f,INVOKE:k,RESPONSE:h,OPEN_PORT:d,ON:t}=b.MessageType;let n=function(){function p(v){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];
this._invoke=v;this._timer=null;this._process=this._process.bind(this)}var u=p.prototype;u.push=function(v){v.type===b.MessageType.ABORT?this._cancelledJobIds.add(v.jobId):(this._invokeMessages.push(v),null===this._timer&&(this._timer=setTimeout(this._process,0)))};u.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};u._process=function(){this._timer=null;for(const v of this._invokeMessages)this._cancelledJobIds.has(v.jobId)||this._invoke(v);this._cancelledJobIds.clear();
this._invokeMessages.length=0};return p}(),g=function(){function p(v,q){this._port=v;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new n(F=>this._onInvokeMessage(F));this._messageQueue=[];this._client=q.client;this._onMessage=this._onMessage.bind(this);this._channel=q.channel;q.scheduler&&(this._frameTask=q.scheduler.registerTask(c.Task.REMOTE_CLIENT,F=>this._update(F),()=>0<this._messageQueue.length));this._port.addEventListener("message",this._onMessage);this._port.start()}p.connect=
function(v){const q=new MessageChannel;v="function"===typeof v?new v:"default"in v&&"function"===typeof v.default?new v.default:v;const F=new p(q.port1,{channel:q,client:v});"object"===typeof v&&"remoteClient"in v&&(v.remoteClient=F);p.clients.set(F,v);return q.port2};p.loadWorker=function(v){return(v=r.registry[v])?v():y.resolve(null)};var u=p.prototype;u.close=function(){this._post({type:e});this._close()};u.isBusy=function(){return 0<this._outJobs.size};u.invoke=function(v,q,F){const C=F&&F.signal,
A=F&&F.transferList;if(!this._port)return y.reject(new l("worker:port-closed",`Cannot call invoke('${v}'), port is closed`,{methodName:v,data:q}));const x=b.newJobId();return y.create((m,B)=>{const z=y.onAbortOrThrow(C,()=>{var G;const D=this._outJobs.get(x);D&&(this._outJobs.delete(x),null==(G=D.abortHandle)?void 0:G.remove(),this._post({type:f,jobId:x}),B(y.createAbortError()))});this._outJobs.set(x,{resolve:m,reject:B,abortHandle:z,debugInfo:v});this._post({type:k,jobId:x,methodName:v,abortable:null!=
C},q,A)})};u.on=function(v,q){function F(A){q(A.data)}const C=new MessageChannel;this._port.postMessage({type:b.MessageType.ON,eventType:v,port:C.port2},[C.port2]);C.port1.addEventListener("message",F);C.port1.start();return{remove(){C.port1.postMessage({type:b.MessageType.CLOSE});C.port1.close();C.port1.removeEventListener("message",F)}}};u.openPort=function(){const v=new MessageChannel;this._post({type:d,port:v.port2});return v.port1};u._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",
this._onMessage);this._port.close();this._outJobs.forEach(v=>{var q;null==(q=v.abortHandle)?void 0:q.remove();v.reject(y.createAbortError(`Worker closing, aborting job calling '${v.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=null;this._frameTask=a.removeMaybe(this._frameTask)};u._onMessage=function(v){a.isSome(this._frameTask)?this._messageQueue.push(v):this._processMessage(v)};u._processMessage=function(v){if(v=b.receiveMessage(v))switch(v.type){case h:this._onResponseMessage(v);
break;case k:this._invokeQueue.push(v);break;case f:this._onAbortMessage(v);break;case e:this._onCloseMessage();break;case d:this._onOpenPortMessage(v);break;case t:this._onOnMessage(v)}};u._onAbortMessage=function(v){const q=this._inJobs,F=v.jobId,C=q.get(F);this._invokeQueue.push(v);C&&(C.controller&&C.controller.abort(),q.delete(F))};u._onCloseMessage=function(){const v=this._client;this._close();v&&"destroy"in v&&p.clients.get(this)===v&&v.destroy();p.clients.delete(this);v&&v.remoteClient&&(v.remoteClient=
null)};u._onInvokeMessage=function(v){const {methodName:q,jobId:F,data:C,abortable:A}=v;v=A?y.createAbortController():null;const x=this._inJobs;let m=this._client,B=m[q],z;try{if(!B&&q&&-1!==q.indexOf(".")){const G=q.split(".");for(let D=0;D<G.length-1;D++)m=m[G[D]],B=m[G[D+1]]}if("function"!==typeof B)throw new TypeError(`${q} is not a function`);z=B.call(m,C,{client:this,signal:v?v.signal:null})}catch(G){this._post({type:h,jobId:F,error:b.toInvokeError(G)});return}y.isPromiseLike(z)?(x.set(F,{controller:v,
promise:z}),z.then(G=>{x.has(F)&&(x.delete(F),this._post({type:h,jobId:F},G))},G=>{x.has(F)&&(x.delete(F),y.isAbortError(G)||this._post({type:h,jobId:F,error:b.toInvokeError(G||{message:`Error encountered at method ${q}`})}))})):this._post({type:h,jobId:F},z)};u._onOpenPortMessage=function(v){new p(v.port,{client:this._client})};u._onOnMessage=function(v){const {port:q}=v,F=this._client.on(v.eventType,A=>{q.postMessage(A)}),C=w.on(v.port,"message",A=>{b.receiveMessage(A).type===b.MessageType.CLOSE&&
(C.remove(),F.remove(),q.close())})};u._onResponseMessage=function(v){var q;const {jobId:F,error:C,data:A}=v;v=this._outJobs;if(v.has(F)){var x=v.get(F);v.delete(F);null==(q=x.abortHandle)?void 0:q.remove();C?x.reject(l.fromJSON(JSON.parse(C))):x.resolve(A)}};u._update=function(v){for(;!v.done&&0<this._messageQueue.length;)this._processMessage(this._messageQueue.shift()),v.madeProgress()};u._post=function(v,q,F){return b.postMessage(this._port,v,q,F)};return p}();g.clients=new Map;return g})},"esri/core/events":function(){define(["exports"],
function(a){function l(r){return r&&("function"===typeof r.on||"function"===typeof r.addEventListener)}function w(r,b,c){if(!l(r))throw new TypeError("target is not a Evented or EventTarget object");if("on"in r)return r.on(b,c);if(Array.isArray(b)){const e=b.slice();for(const f of e)r.addEventListener(f,c);return{remove(){for(const f of e)r.removeEventListener(f,c)}}}r.addEventListener(b,c);return{remove(){r.removeEventListener(b,c)}}}const y={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",
Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:r}){return y[r]||r};a.ieKeyNormalizationMap=y;a.isEventTarget=l;a.on=w;a.once=function(r,b,c){if(!l(r))throw new TypeError("target is not a Evented or EventTarget object");if("once"in r)return r.once(b,c);const e=w(r,b,f=>{e.remove();c.call(r,f)});return{remove(){e.remove()}}};a.pausable=function(r,b,c){let e=!1;const f=w(r,
b,k=>{e||c.call(r,k)});return{resume(){e=!1},pause(){e=!0},remove(){f.remove()}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/promiseUtils":function(){define("exports ./maybe ./Logger ./Error ./clock ./events".split(" "),function(a,l,w,y,r,b){function c(x){return Promise.all(x)}function e(x){return new Promise((m,B)=>{try{x(m,B)}catch(z){Promise.resolve().then(()=>B(z))}})}function f(x="Aborted"){return new y("AbortError",x)}function k(){return new AbortController}function h(x){if(t(x))throw f();
}function d(x){return l.isSome(x)?"aborted"in x?x:x.signal:x}function t(x){x=d(x);return l.isSome(x)&&x.aborted}function n(x,m){x=d(x);if(!l.isNone(x))if(x.aborted)m();else return b.once(x,"abort",()=>m())}function g(x,m){const B=d(m);return l.isNone(B)?x:e((z,G)=>{let D=n(m,()=>G(f()));const E=()=>D=l.removeMaybe(D);x.then(E,E);x.then(z,G)})}function p(x){return x&&"AbortError"===x.name}function u(){let x=null;const m=e((B,z)=>{x={promise:void 0,resolve:B,reject:z}});x.promise=m;return x}function v(x,
m){if(x){if("function"!==typeof x.forEach){const z=Object.keys(x);m=z.map(G=>x[G]);return v(m).then(G=>{const D={};z.forEach((E,I)=>D[E]=G[I]);return D})}var B=q;return g(e(z=>{const G=[];let D=x.length;0===D&&z(G);x.forEach(E=>{const I={promise:E||B(E)};G.push(I);I.promise.then(J=>{I.value=J}).catch(J=>{I.error=J}).then(()=>{--D;0===D&&z(G)})})}),m)}}function q(x){return Promise.resolve(x)}function F(x,m,B){const z=k();n(B,()=>z.abort());return e((G,D)=>{let E=setTimeout(()=>{E=0;G(m)},x);n(z,()=>
{E&&(clearTimeout(E),D(f()))})})}function C(x){return x&&"object"===typeof x&&"then"in x&&"function"===typeof x.then?x:q(x)}const A=w.getLogger("esri");a.after=F;a.all=c;a.always=function(x,m){return x.then(m,m)};a.create=e;a.createAbortController=k;a.createAbortError=f;a.createDeferred=u;a.createResolver=function(){let x,m;const B=e((G,D)=>{x=G;m=D}),z=G=>{x(G)};z.resolve=G=>x(G);z.reject=G=>m(G);z.timeout=(G,D)=>r["default"].setTimeout(()=>z.reject(D),G);z.promise=B;return z};a.createTask=function(x){let m=
k();x=x(m.signal);let B={promise:x,finished:!1,abort:()=>{m&&(m.abort(),m=null)}};const z=()=>{B&&(B.finished=!0,B=null);m=null};x.then(z,z);return B};a.debounce=function(x,m=-1){let B,z,G,D,E=null;const I=(...J)=>{if(B){z=J;D&&D.reject(f());D=u();J=l.assumeNonNull(D.promise);if(E){var Q=E;E=null;Q.abort()}return J}G=D||u();D=null;if(0<m){const W=k(),U=B=C(x(...J,W.signal));F(m).then(()=>{B===U&&(D?W.abort():E=W)})}else B=1,B=C(x(...J));J=()=>{const W=z;z=G=B=E=null;null!=W&&I(...W)};Q=B;const P=
G;Q.then(J,J);Q.then(P.resolve,P.reject);return l.assumeNonNull(P.promise)};return I};a.eachAlways=v;a.eachAlwaysValues=function(x){return v(x).then(m=>m.filter(B=>!!B.value).map(B=>B.value))};a.filter=function(x,m){const B=x.slice();return c(x.map((z,G)=>m(z,G))).then(z=>B.filter((G,D)=>z[D]))};a.first=function(x){return x&&x.length?e((m,B)=>{for(const z of x)z.then(m,B)}):q()};a.ignoreAbortErrors=function(x){return x.catch(m=>{if(!p(m))throw m;})};a.isAbortError=p;a.isAborted=t;a.isPromiseLike=
function(x){return x&&"function"===typeof x.then};a.isThenable=function(x){return x&&"function"===typeof x.then};a.logOnError=function(x,m=A){return x.catch(B=>{p(B)||m.error(B)})};a.onAbort=n;a.onAbortOrThrow=function(x,m){x=d(x);if(!l.isNone(x))return h(x),b.once(x,"abort",()=>m(f()))};a.reject=function(x){return Promise.reject(x)};a.resolve=q;a.throwIfAbortError=function(x){if(p(x))throw x;};a.throwIfAborted=h;a.throwIfNotAbortError=function(x){if(!p(x))throw x;};a.timeout=function(x,m,B,z){const G=
B&&"abort"in B?B:null;null!=z||G||(z=B);let D=setTimeout(()=>{D=0;G&&G.abort()},m);const E=()=>{throw z||new y("promiseUtils:timeout","The wrapped promise did not resolve within "+m+" ms");};return x.then(I=>{if(0===D)throw E();clearTimeout(D);return I},I=>{clearTimeout(D);throw 0===D?E():I;})};a.when=C;a.whenOrAbort=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/clock":function(){define(["exports","./global"],function(a,l){function w(y){return{setTimeout:(r,b)=>{const c=y.setTimeout(r,
b);return{remove:()=>y.clearTimeout(c)}}}}l=w(l);a.default=l;a.wrap=w;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,l){function w(y){return Object.freeze({__proto__:null,"default":y})}l.registry={geometryEngineWorker:()=>new Promise(function(y,r){a(["../../geometry/geometryEngineWorker"],y,r)}),CSVSourceWorker:()=>new Promise(function(y,r){a(["../../layers/graphics/sources/support/CSVSourceWorker"],y,r)}),EdgeProcessingWorker:()=>
new Promise(function(y,r){a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],y,r)}),ElevationSamplerWorker:()=>new Promise(function(y,r){a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],y,r)}),GeoJSONSourceWorker:()=>new Promise(function(y,r){a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],function(b){y(w(b))},r)}),LercWorker:()=>new Promise(function(y,r){a(["../../layers/support/LercWorker"],function(b){y(w(b))},r)}),MemorySourceWorker:()=>new Promise(function(y,
r){a(["../../layers/graphics/sources/support/MemorySourceWorker"],function(b){y(w(b))},r)}),PBFDecoderWorker:()=>new Promise(function(y,r){a(["../../views/3d/support/PBFDecoderWorker"],function(b){y(w(b))},r)}),Pipeline:()=>new Promise(function(y,r){a(["../../views/2d/layers/features/Pipeline"],y,r)}),PointCloudWorker:()=>new Promise(function(y,r){a(["../../views/3d/layers/PointCloudWorker"],function(b){y(w(b))},r)}),RasterWorker:()=>new Promise(function(y,r){a(["../../layers/support/RasterWorker"],
function(b){y(w(b))},r)}),SceneLayerWorker:()=>new Promise(function(y,r){a(["../../views/3d/layers/SceneLayerWorker"],y,r)}),WorkerTileHandler:()=>new Promise(function(y,r){a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],function(b){y(w(b))},r)})};Object.defineProperty(l,"__esModule",{value:!0})})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,l){function w(b){return b&&"object"===typeof b&&("result"in b||"transferList"in b)}function y(b){if(!b||!b.length)return null;
if(l("esri-workers-arraybuffer-transfer"))return b;b=b.filter(c=>!(c instanceof ArrayBuffer||c&&c.constructor&&"ArrayBuffer"===c.constructor.name));return b.length?b:null}(function(b){b[b.HANDSHAKE=0]="HANDSHAKE";b[b.CONFIGURE=1]="CONFIGURE";b[b.CONFIGURED=2]="CONFIGURED";b[b.OPEN=3]="OPEN";b[b.OPENED=4]="OPENED";b[b.RESPONSE=5]="RESPONSE";b[b.INVOKE=6]="INVOKE";b[b.ABORT=7]="ABORT";b[b.CLOSE=8]="CLOSE";b[b.OPEN_PORT=9]="OPEN_PORT";b[b.ON=10]="ON"})(a.MessageType||(a.MessageType={}));let r=0;a.isTranferableResult=
w;a.newJobId=function(){return r++};a.postMessage=function(b,c,e,f){c.type===a.MessageType.OPEN_PORT?b.postMessage(c,[c.port]):c.type!==a.MessageType.INVOKE&&c.type!==a.MessageType.RESPONSE?b.postMessage(c):(w(e)?(f=y(e.transferList),c.data=e.result):(f=y(f),c.data=e),f?b.postMessage(c,f):b.postMessage(c))};a.receiveMessage=function(b){return b?(b=b.data)?"string"===typeof b?JSON.parse(b):b:null:null};a.toInvokeError=function(b){return b?"string"===typeof b?JSON.stringify({name:"message",message:b}):
b.toJSON?JSON.stringify(b):JSON.stringify({name:b.name,message:b.message,details:b.details||{stack:b.stack}}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/Accessor ../../core/watchUtils ../../layers/support/PromiseQueue ./debugFlags".split(" "),
function(a,l,w,y,r,b,c,e,f,k,h,d,t,n,g,p,u,v,q,F){function C(I){return I in x?x[I]:"number"===typeof I?I:1}const A=b.getLogger("esri.views.support.Scheduler");(function(I){I.REMOTE_CLIENT="remote client";I.STREAM_DATA_LOADER="stream loader";I.ELEVATION_QUERY="elevation query";I.TERRAIN_SURFACE="terrain surface";I.SURFACE_GEOMETRY_UPDATES="surface geometry updates";I.GRAPHICS_CORE="Graphics3D";I.I3S_CONTROLLER="I3S";I.POINT_CLOUD_LAYER="point cloud";I.FEATURE_TILE_FETCHER="feature fetcher";I.FEATURE_FETCH_QUEUE=
"feature fetch queue";I.LABELER="labeler";I.GRAPHICS_DECONFLICTOR="graphics deconflictor";I.FILTER_VISIBILITY="Graphics3D filter visibility";I.FEATURE_QUERY_ENGINE="feature query";I.SCALE_VISIBILITY="Graphics3D scale visibility";I.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";I.POINT_OF_INTEREST_FREQUENT="POI frequent";I.POINT_OF_INTEREST_INFREQUENT="POI infrequent";I.FEATURE_TILE_TREE="feature tile tree";I.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";I.ELEVATION_ALIGNMENT="elevation alignment";
I.TEXT_TEXTURE_ATLAS="text texture atlas";I.TEXTURE_UNLOAD="texture unload";I.OVERLAY_MANAGER="overlay manager";I.LINE_OF_SIGHT_TOOL="line of sight tool";I.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";I.ELEVATION_PROFILE="elevation profile";I[I.TEST_PRIO=1]="TEST_PRIO"})(a.Task||(a.Task={}));const x={[a.Task.REMOTE_CLIENT]:1,[a.Task.STREAM_DATA_LOADER]:1,[a.Task.FEATURE_FETCH_QUEUE]:1,[a.Task.ELEVATION_QUERY]:1,[a.Task.TERRAIN_SURFACE]:2,[a.Task.SURFACE_GEOMETRY_UPDATES]:2,[a.Task.GRAPHICS_CORE]:3,
[a.Task.I3S_CONTROLLER]:4,[a.Task.POINT_CLOUD_LAYER]:4,[a.Task.FEATURE_TILE_FETCHER]:4,[a.Task.LABELER]:8,[a.Task.GRAPHICS_DECONFLICTOR]:8,[a.Task.FILTER_VISIBILITY]:8,[a.Task.FEATURE_QUERY_ENGINE]:8,[a.Task.SCALE_VISIBILITY]:8,[a.Task.FRUSTUM_VISIBILITY]:8,[a.Task.POINT_OF_INTEREST_FREQUENT]:6,[a.Task.POINT_OF_INTEREST_INFREQUENT]:30,[a.Task.FEATURE_TILE_TREE]:16,[a.Task.FEATURE_TILE_TREE_ACTIVE]:1,[a.Task.ELEVATION_ALIGNMENT]:12,[a.Task.TEXT_TEXTURE_ATLAS]:12,[a.Task.TEXTURE_UNLOAD]:12,[a.Task.OVERLAY_MANAGER]:12,
[a.Task.LINE_OF_SIGHT_TOOL]:16,[a.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE]:1},m=1E3/30;var B;(function(I){let J=function(){function W(R){this._now=R;this.updating=!0;this.performanceInfo={total:new n("total"),tasks:[]};this._budget=null;this._state=1;this._tasks=new g;this._runQueue=new g;this._load=0;this._idleStateCallbacks=new g;this._idleUpdatesStartFired=!1;this._maxReschedule=G;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=v.init(F,"SCHEDULER_LOG_SLOW_TASKS",ea=>this._debug=
ea);this._budget=new P(R);E.length=0;for(const ea in a.Task)D.set(a.Task[ea],this.performanceInfo.tasks.length),this.performanceInfo.tasks.push(new n(a.Task[ea])),E.push(0);let V;const aa=this;this._test={get state(){return r.isNone(V)?aa._state:V},set state(ea){V=ea},FRAME_SAFETY_BUDGET:5,INTERACTING_BUDGET:m,IDLE_BUDGET:100,get budget(){return aa._budget.budget},usedBudget:0,updateTask:ea=>this._updateTask(ea),getState:ea=>this._getState(ea),getRuntime:ea=>this._getRuntime(ea),resetRuntimes:()=>
this._resetRuntimes(),getRunning:()=>this._getRunning()}}var U=W.prototype;U.destroy=function(){this._debugHandle&&this._debugHandle.remove()};U.registerTask=function(R,V,aa){const ea=C(R);R=new Q(this,R,V,aa,ea);this._tasks.push(R);return R};U.registerIdleStateCallbacks=function(R,V){const aa={idleBegin:R,idleEnd:V};this._idleStateCallbacks.push(aa);2===this.state&&this._idleUpdatesStartFired&&aa.idleBegin();const ea=this;return{remove:()=>this._removeIdleStateCallbacks(aa),set idleBegin(ma){ea._idleUpdatesStartFired&&
(aa.idleEnd(),2===ea._state&&ma());aa.idleBegin=ma},set idleEnd(ma){aa.idleEnd=ma}}};U.updateBudget=function(R){this._test.usedBudget=0;this._safetyBudget=5;let V=R.frameDuration,aa=1;switch(this.state){case 2:this._safetyBudget=0;V=Math.max(100,R.frameDuration);aa=30;break;case 1:V=Math.max(m,R.frameDuration)}V-=R.elapsedFrameTime+this._safetyBudget;if(2!==this.state&&0>V&&!this._forceTask)return this._forceTask=!0,!1;V=Math.max(V,aa);this._budget.reset(V,this.state);this._maxReschedule=G;this._updateLoad();
return this._schedule()};U.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(R=>R.idleBegin()));this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};U._removeIdleStateCallbacks=function(R){this._idleUpdatesStartFired&&R.idleEnd();this._idleStateCallbacks.removeUnordered(R)};U.removeTask=function(R){this._tasks.removeUnordered(R);
this._runQueue.removeUnordered(R)};U._updateTask=function(R){this._tasks.forAll(V=>{V.name===R&&V.setPriority(R)})};U._getState=function(R){if(this._runQueue.some(aa=>aa.name===R))return a.TaskState.SCHEDULED;let V=a.TaskState.IDLE;this._tasks.forAll(aa=>{aa.name===R&&aa.needsUpdate&&(1>=aa.schedulePriority?V=a.TaskState.READY:V!==a.TaskState.READY&&(V=a.TaskState.WAITING))});return V};U._getRuntime=function(R){let V=0;this._tasks.forAll(aa=>{aa.name===R&&(V+=aa.runtime)});return V};U._resetRuntimes=
function(){this._tasks.forAll(R=>R.runtime=0)};U._getRunning=function(){const R=new Map;this._tasks.forAll(aa=>{aa.needsUpdate&&R.set(aa.name,(R.get(aa.name)||0)+1)});if(0===R.size)return null;let V="";R.forEach((aa,ea)=>{V=1<aa?V+` ${aa}x ${ea}`:V+` ${ea}`});return V};U._runIdle=function(){this._run()};U._runInteracting=function(){this._run()};U._runAnimating=function(){this._run()};U._updateLoad=function(){const R=this._tasks.reduce((V,aa)=>aa.needsUpdate?++V:V,0);this._load=.9*this._load+R*(1-
.9)};U._schedule=function(){if(0>=this._maxReschedule)return!1;for(this._runQueue.filterInPlace(R=>{if(R.needsUpdate)return!0;R.schedulePriority=R.priority;return!1});0===this._runQueue.length;){let R=!1,V=0;this._tasks.forAll(aa=>{if(0!==aa.schedulePriority&&aa.needsUpdate)switch(R=!0,V=Math.max(V,aa.priority),aa.schedulePriority){case 1:aa.schedulePriority=0;this._runQueue.push(aa);break;default:--aa.schedulePriority}});if(!R)return this.updating=!1;this._maxReschedule===G&&(this._maxReschedule=
V);--this._maxReschedule}return this.updating=!0};U._run=function(){const R=this._budget.now();for(var V=0;V<E.length;++V)E[V]=0;do for(;0<this._runQueue.length;){var aa=this._budget.now();V=this._runQueue.pop();this._budget.resetProgress();try{V.processQueue(this._budget),!this._budget.done&&V.needsUpdate&&V.update(this._budget)}catch(ea){A.error(`Exception in task "${V.name}"`,ea)}V.schedulePriority=V.priority;aa=this._budget.now()-aa;V.runtime+=aa;E[D.get(V.task)]+=aa;this._debug&&this._budget.elapsed>
2*this._budget.budget&&console.log("Task",V.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this._recordFrameTaskTimes(E,this._budget.now()-R);return}}while(this._schedule());this._recordFrameTaskTimes(E,this._budget.now()-R)};U._recordFrameTaskTimes=function(R,V){for(let aa=0;aa<R.length;++aa)this.performanceInfo.tasks[aa].record(R[aa]);this.performanceInfo.total.record(V)};l._createClass(W,[{key:"now",get:function(){return this._now()}},{key:"load",
get:function(){return this._load}},{key:"state",set:function(R){this._state!==R&&(this._state=R,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(V=>V.idleEnd())))},get:function(){return r.isNone(this._test.state)?this._state:this._test.state}},{key:"test",get:function(){return this._test}}]);return W}();I.Scheduler=J;let Q=function(W){function U(V,aa,ea,ma,qa){var na=W.call(this,{})||this;na._scheduler=V;na.name=aa;na.update=ea;na._needsUpdateCB=
ma;na._priority=qa;na.runtime=0;na._queue=new q;na.updating=!1;na.schedulePriority=na._priority;return na}l._inheritsLoose(U,W);var R=U.prototype;R.normalizeCtorArgs=function(){return{}};R.remove=function(){this.processQueue(z);this._scheduler.removeTask(this)};R.setPriority=function(V){this.name=V;this._priority=C(V);0!==this.schedulePriority&&(this.schedulePriority=this._priority)};R.schedule=function(V,aa){this.updating=!0;return this._queue.push(V,aa)};R.reschedule=function(V,aa){this.updating=
!0;return this._queue.unshift(V,aa)};R.processQueue=function(V){for(;!V.done&&this._queue.process();)V.madeProgress();0===this._queue.length&&(this.updating=!1)};l._createClass(U,[{key:"priority",get:function(){return this._priority}},{key:"task",get:function(){return this.name},set:function(V){this.setPriority(V)}},{key:"needsUpdate",get:function(){return 0<this._queue.length||this._needsUpdateCB()}}]);return U}(u);w.__decorate([e.property()],Q.prototype,"updating",void 0);Q=w.__decorate([k.subclass("esri.views.support.SchedulerTask")],
Q);let P=function(){function W(R){this.now=R;this._budget=this._begin=0;this._state=2;this._didWork=!1;this._enabled=!0}var U=W.prototype;U.run=function(R){if(this.done)return!1;!0===R()&&(this._didWork=!0);return!0};U.madeProgress=function(){this._didWork=!0};U.reset=function(R,V){this._begin=this.now();this._budget=R;this._state=V;this._didWork=!1};U.resetProgress=function(){this._didWork=!1};l._createClass(W,[{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},
{key:"budget",get:function(){return this._budget}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(R){this._enabled=R}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return this.now()-this._begin}},{key:"hasProgressed",get:function(){return this._didWork}}]);return W}();I.Budget=P})(B||(B={}));(function(I){I.SCHEDULED="s";I.READY="r";I.WAITING="w";I.IDLE="i"})(a.TaskState||
(a.TaskState={}));const z=(()=>{const I=new B.Budget(()=>performance.now());I.enabled=!1;return I})();y=new (function(){function I(){}var J=I.prototype;J.remove=function(){};J.schedule=function(Q){return p.when(Q())};J.reschedule=function(Q){return p.when(Q())};return I}());const G=Number.MAX_SAFE_INTEGER,D=new Map,E=[];a.ImmediateTask=y;a.getTaskPriority=C;a.newScheduler=function(I){return new B.Scheduler(I)};a.noBudget=z;a.taskPriorities=x;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/tslib.es6":function(){define(["exports"],
function(a){a.__decorate=function(l,w,y,r){var b=arguments.length,c=3>b?w:null===r?r=Object.getOwnPropertyDescriptor(w,y):r,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(l,w,y,r);else for(var f=l.length-1;0<=f;f--)if(e=l[f])c=(3>b?e(c):3<b?e(w,y,c):e(w,y))||c;return 3<b&&c&&Object.defineProperty(w,y,c),c}})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger"],function(a,l,w){function y(E){return null==E?E:new Date(E)}
function r(E){return null==E?E:!!E}function b(E){return null==E?E:E.toString()}function c(E){if(null==E)return E;E=parseFloat(E);return isNaN(E)?0:E}function e(E){return null==E?E:Math.round(parseFloat(E))}function f(E){return E&&E.constructor&&void 0!==E.constructor.__accessorMetadata__}function k(E,I){return null!=I&&E&&!(I instanceof E)}function h(E){return E&&E.Type?"function"===typeof E.Type?E.Type:E.Type.base:null}function d(E,I){var J;(J=!I||!I.constructor)||(J=I.constructor,J=!(J&&"isCollection"in
J));if(J)return t(E,I)?I:new E(I);J=h(E.prototype.itemType);const Q=h(I.constructor.prototype.itemType);if(!J)return I;if(!Q)return new E(I);if(J===Q)return I;if(J.prototype.isPrototypeOf(Q.prototype))return new E(I);t(E,I);return I}function t(E,I){return f(I)?(G.error("Accessor#set","Assigning an instance of '"+(I.declaredClass||"unknown")+"' which is not a subclass of '"+g(E)+"'"),!0):!1}function n(E,I){return null==I?I:E&&"isCollection"in E?d(E,I):k(E,I)?t(E,I)?I:new E(I):I}function g(E){return E&&
E.prototype&&E.prototype.declaredClass||"unknown"}function p(E){switch(E){case Number:return c;case D:return e;case Boolean:return r;case String:return b;case Date:return y;default:return n.bind(null,E)}}function u(E,I){const J=p(E);return 1===arguments.length?J:J(I)}function v(E,I,J){return 1===arguments.length?v.bind(null,E):I?Array.isArray(I)?I.map(Q=>E(Q,J)):[E(I,J)]:I}function q(E,I,J){return 0!==I&&Array.isArray(J)?J.map(Q=>q(E,I-1,Q)):E(J)}function F(E,I,J){if(2===arguments.length)return F.bind(null,
E,I);if(!J)return J;J=q(E,I,J);let Q=I;for(var P=J;0<Q&&Array.isArray(P);)Q--,P=P[0];if(void 0!==P)for(P=0;P<Q;P++)J=[J];return J}function C(E,I){if(2===arguments.length)return C(E).call(null,I);const J=new Set,Q=E.filter(R=>"function"!==typeof R),P=E.filter(R=>"function"===typeof R);for(const R of E)"string"!==typeof R&&"number"!==typeof R||J.add(R);let W=null,U=null;return(R,V)=>{if(null==R)return R;const aa=typeof R,ea="string"===aa||"number"===aa;if(ea&&(J.has(R)||P.some(ma=>"string"===aa&&ma===
String||"number"===aa&&ma===Number))||"object"===aa&&P.some(ma=>!k(R,ma)))return R;ea&&Q.length?(W||(W=Q.map(ma=>"string"===typeof ma?`'${ma}'`:`${ma}`).join(", ")),G.error("Accessor#set",`'${R}' is not a valid value for this property, only the following values are valid: ${W}`)):"object"===typeof R&&P.length?(U||(U=P.map(ma=>g(ma)).join(", ")),G.error("Accessor#set",`'${R}' is not a valid value for this property, value must be one of ${U}`)):G.error("Accessor#set",`'${R}' is not a valid value for this property`);
V&&(V.valid=!1);return null}}function A(E,I){if(2===arguments.length)return A(E).call(null,I);const J={},Q=[],P=[];for(const U in E.typeMap){const R=E.typeMap[U];J[U]=u(R);Q.push(g(R));P.push(U)}const W="string"===typeof E.key?U=>U[E.key]:E.key;return U=>{if(E.base&&!k(E.base,U)||null==U)return U;var R=W(U)||E.defaultKeyValue;const V=J[R];if(!V)return G.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${Q.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${P.join("', '")}'`})`),
null;if(!k(E.typeMap[R],U))return U;if("string"===typeof E.key&&!f(U)){R={};for(const aa in U)aa!==E.key&&(R[aa]=U[aa]);return V(R)}return V(U)}}function x(E){switch(E.type){case "native":return u(E.value);case "array":return v(x(E.value));case "one-of":return m(E);default:return null}}function m(E){let I=null;return(J,Q)=>{if(z(J,E))return J;null==I&&(I=B(E));G.error("Accessor#set",`Invalid property value, value needs to be of type ${I}`);Q&&(Q.valid=!1);return null}}function B(E){switch(E.type){case "native":switch(E.value){case Number:return"number";
case String:return"string";case Boolean:return"boolean";case D:return"integer";case Date:return"date";default:return g(E.value)}case "array":return`array of ${B(E.value)}`;case "one-of":return E=E.values.map(I=>B(I)),`one of ${E.slice(0,E.length-1)} or ${E[E.length-1]}`}return"unknown"}function z(E,I){if(null==E)return!0;switch(I.type){case "native":switch(I.value){case Number:case D:return"number"===typeof E;case Boolean:return"boolean"===typeof E;case String:return"string"===typeof E}return E instanceof
I.value;case "array":return Array.isArray(E)?!E.some(J=>!z(J,I.value)):!1;case "one-of":return I.values.some(J=>z(E,J))}}const G=w.getLogger("esri.core.Accessor");let D=function(){};a.Integer=D;a.default=u;a.ensureArray=function(E,I){return 1===arguments.length?v(u.bind(null,E)):v(u.bind(null,E),I)};a.ensureArrayTyped=v;a.ensureBoolean=r;a.ensureClass=n;a.ensureDate=y;a.ensureInteger=e;a.ensureLongFormType=x;a.ensureNArray=function(E,I,J){return 2===arguments.length?F(u.bind(null,E),I):F(u.bind(null,
E),I,J)};a.ensureNArrayTyped=F;a.ensureNumber=c;a.ensureOneOf=C;a.ensureOneOfType=A;a.ensureString=b;a.ensureType=u;a.isClassedType=f;a.isLongFormType=function(E){if(!(E&&"type"in E))return!1;switch(E.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(E){return Array.isArray(E)?!E.some(I=>{I=typeof I;return!("string"===I||"number"===I||"function"===I&&1<E.length)}):!1};a.requiresType=k;a.types={native(E){return{type:"native",value:E}},array(E){return{type:"array",
value:E}},oneOf(E){return{type:"one-of",values:E}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,l,w,y,r,b){function c(k){let h=0;var d=k;if(w.isLongFormType(k))return w.ensureLongFormType(k);for(;Array.isArray(d)&&1===d.length&&"string"!==typeof d[0]&&"number"!==typeof d[0];)d=d[0],h++;return w.isOneOf(d)?0===h?w.ensureOneOf(d):w.ensureNArrayTyped(w.ensureOneOf(d),
h):1===h?w.ensureArray(d):1<h?w.ensureNArray(d,h):k.from?k.from:w.ensureType(k)}function e(k,h){return d=>{d=+k(d);null!=h.step&&(d=Math.round(d/h.step)*h.step);null!=h.min&&(d=Math.max(h.min,d));null!=h.max&&(d=Math.min(h.max,d));return d}}const f=l.getLogger("esri.core.accessorSupport.decorators.property");a.ensureRange=e;a.property=function(k={}){return(h,d,t)=>{if(h===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${h.name}.${d}. Accessor does not support static properties.`);
const n=r.getOwnPropertyMetadata(h,d);t&&(t.get||t.set?(n.get=t.get||n.get,n.set=t.set||n.set):"value"in t&&("value"in k&&f.warn(`@property() will redefine the value of "${d}" on "${h.constructor.name}" already defined in the metadata`,k),n.value=k.value=t.value));null!=k.readOnly&&(n.readOnly=k.readOnly);({aliasOf:h}=k);if(h){const g="string"===typeof h?h:h.source;h="string"===typeof h?null:!0===h.overridable;let p;n.dependsOn=[g];n.get=function(){let u=y.get(this,g);if("function"===typeof u){p||
(p=g.split(".").slice(0,-1).join("."));const v=y.get(this,p);v&&(u=u.bind(v))}return u};n.readOnly||(n.set=h?function(u){void 0!==u?this._override(d,u):this._clearOverride(d)}:function(u){b.set(this,g,u)})}h=k.type;t=k.types;n.cast||(h?n.cast=c(h):t&&(Array.isArray(t)?n.cast=w.ensureArrayTyped(w.ensureOneOfType(t[0])):n.cast=w.ensureOneOfType(t)));k.range&&(n.cast=e(n.cast,k.range));r.mergeProperty(n,k)}};a.propertyJSONMeta=function(k,h,d){k=r.getOwnPropertyMetadata(k,d);k.json||(k.json={});k=k.json;
void 0!==h&&(k.origins||(k.origins={}),k.origins[h]||(k.origins[h]={}),k=k.origins[h]);return k};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,l){function w(c,e){c="?"===c[c.length-1]?c.slice(0,-1):c;if(null!=e.getItemAt||Array.isArray(e)){var f=parseInt(c,10);if(!isNaN(f))return Array.isArray(e)?e[f]:e.getItemAt(f)}f=l.getProperties(e);return l.isPropertyDeclared(f,c)?f.get(c):e[c]}function y(c,e,f){if(null==
c)return c;if((c=w(e[f],c))||!(f<e.length-1))return f===e.length-1?c:y(c,e,f+1)}function r(c,e,f=0){return"string"===typeof e&&-1===e.indexOf(".")?w(e,c):y(c,l.pathToArray(e),f)}function b(c,e){return r(c,e)}a.default=b;a.exists=function(c,e){return void 0!==r(e,c)};a.get=b;a.valueOf=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/utils":function(){define(["exports","../lang","../maybe","../handleUtils"],function(a,l,w,y){function r(k){return k?k.__accessor__?k.__accessor__:
k.propertyInvalidated?k:null:null}function b(k,h,d){return h?Object.keys(h).reduce(function(t,n){let g=null;var p="merge";d&&(g=d.path?`${d.path}.${n}`:n,p=d.policy(g));if("replace"===p)return t[n]=h[n],t;if(void 0===t[n])return t[n]=l.clone(h[n]),t;let u=t[n];p=h[n];if(u===p)return t;if(Array.isArray(p)||Array.isArray(t))u=u?Array.isArray(u)?t[n]=u.concat():t[n]=[u]:t[n]=[],p&&(Array.isArray(p)||(p=[p]),p.forEach(v=>{-1===u.indexOf(v)&&u.push(v)}));else if(p&&"object"===typeof p)if(d){const v=d.path;
d.path=w.assumeNonNull(g);t[n]=b(u,p,d);d.path=v}else t[n]=b(u,p,null);else if(!t.hasOwnProperty(n)||h.hasOwnProperty(n))t[n]=p;return t},k||{}):k}function c(k){return Array.isArray(k)?k:k.split(".")}function e(k){return-1<k.indexOf(",")?k.split(",").map(h=>h.trim()):[k.trim()]}function f(k){if(Array.isArray(k)){const h=[];for(const d of k)h.push(...e(d));return h}return e(k)}a.getDependsInfo=function(k,h,d){const t=r(k);return t?t.getDependsInfo(k,h,d,""):""};a.getProperties=r;a.isPropertyDeclared=
function(k,h){return null!=k&&k.metadatas&&null!=k.metadatas[h]};a.merge=function(k,h,d){return d?b(k,h,{policy:d,path:""}):b(k,h,null)};a.once=function(k){let h=!1;return()=>{h||(h=!0,k())}};a.parse=function(k,h,d,t){h=f(h);return 1!==h.length?(h=h.map(n=>t(k,n,d)),y.handlesGroup(h)):t(k,h[0],d)};a.parseConditionalPath=function(k){if(-1===k.indexOf("?"))return null;k=c(k);const h=Array(k.length);for(let d=0;d<k.length;d++){const t=k[d];h[d]="?"===t[t.length-1];h[d]&&(k[d]=t.slice(0,-1))}return{fullPath:k.join("."),
conditional:h}};a.pathToArray=c;a.pathToStringOrArray=function(k){return!k||"string"===typeof k&&-1===k.indexOf(".")?k:c(k)};a.splitPath=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/handleUtils":function(){define(["exports","./maybe"],function(a,l){function w(y){return{remove:()=>{y&&(y(),y=void 0)}}}a.asyncHandle=function(y,r){let b=!1,c=null;y.then(e=>{b?e.remove():c=e});return w(()=>{b=!0;l.isSome(c)?c.remove():l.isSome(r)&&(r.abort(),r=null)})};a.destroyHandle=function(y){return w(l.isSome(y)?
()=>y.destroy():void 0)};a.handlesGroup=function(y){return w(()=>y.forEach(r=>l.isSome(r)&&r.remove()))};a.makeHandle=w;a.refHandle=function(y){return w(()=>{const r=y();l.isSome(r)&&r.remove()})};a.timeoutHandle=function(y,r){const b=setTimeout(y,r);return w(()=>clearTimeout(b))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","../maybe","./utils"],function(a,l,w,y){function r(d){let t=d.constructor.__accessorMetadata__;
var n=Object.prototype.hasOwnProperty.call(d.constructor,"__accessorMetadata__");if(!t)t=new f({}),Object.defineProperty(d.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});else if(!n){n=Object.create(t.properties);const g=t.autoDestroy;for(const p in n)n[p]=l.clone(n[p]);t=new f(n);t.autoDestroy=g;Object.defineProperty(d.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}return w.assumeNonNull(d.constructor.__accessorMetadata__)}
function b(d){return r(d).properties}function c(d){return k.test(d)?"replace":"merge"}function e(d){return h.test(d)?c(d.slice(11)):"merge"}let f=function(d){this.autoDestroy=!1;this.properties=d};const k=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,h=/^properties\./;a.ClassMetadata=f;a.getOwnClassMetadata=r;a.getOwnPropertiesMetadata=b;a.getOwnPropertyMetadata=function(d,t){d=b(d);let n=d[t];n||(n=d[t]={});return n};a.merge=function(d,t){return y.merge(d,t,e)};a.mergeProperty=
function(d,t){return y.merge(d,t,c)};a.setPropertyMetadata=function(d,t,n){b(d)[t]=n};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/set":function(){define(["exports","../has","../Logger","./get"],function(a,l,w,y){function r(b,c,e){if(b&&c)if("object"===typeof c)for(var f of Object.getOwnPropertyNames(c))r(b,f,c[f]);else-1!==c.indexOf(".")?(c=c.split("."),f=c.splice(c.length-1,1)[0],r(y.get(b,c),f,e)):b[c]=e}w.getLogger("esri.core.accessorSupport.set");a.default=r;
a.set=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/jsonMap":function(){define(["exports"],function(a){let l=function(){function w(r,b={ignoreUnknown:!1}){this.jsonToAPI=r;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(r);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=c=>this.fromJSON(c);this.write=(c,e,f)=>{c=this.toJSON(c);void 0!==c&&(e[f]=c)};this.write.isJSONMapWriter=!0}var y=
w.prototype;y.toJSON=function(r){return this.apiToJSON.hasOwnProperty(r)?this.apiToJSON[r]:this.options.ignoreUnknown?void 0:r};y.fromJSON=function(r){return this.jsonToAPI.hasOwnProperty(r)?this.jsonToAPI[r]:this.options.ignoreUnknown?void 0:r};y.invertMap=function(r){const b={};for(const c in r)b[r[c]]=c;return b};y.getKeysSorted=function(r){const b=[];for(const c in r)b.push(c);b.sort();return b};return w}();a.JSONMap=l;a.default=l;a.strict=function(){return function(w){return new l(w,{ignoreUnknown:!0})}};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/subclass":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../has","../metadata","../extensions"],function(a,l,w,y,r){function b(k,h){return null==h.get?function(){return this.__accessor__.getterStatic(k)}:function(){return this.__accessor__.getterComputed(k)}}function c(k){var h=k.prototype,d=h.declaredClass;h=y.getOwnClassMetadata(h).properties;r.processClassMetadatas(h,d);d={};
for(const t of Object.getOwnPropertyNames(h)){const n=h[t];d[t]={enumerable:!0,configurable:!0,get:b(t,n),set(g){const p=this.__accessor__;if(void 0===p)Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:g});else if(!Object.isFrozen(this)){if(p.initialized&&n.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${t}' of ${this.declaredClass}`);if(2===p.lifecycle&&n.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${t}' of ${this.declaredClass}`);
p.set(t,g)}}}}Object.defineProperties(k.prototype,d)}const e=new Set,f=new Set;a.processClass=c;a.subclass=function(k){return h=>{h.prototype.declaredClass=k;r.processPrototypeMetadatas(y.getOwnClassMetadata(h.prototype).properties,k);c(h);const d=[],t=[];for(var n=h.prototype;n;)n.hasOwnProperty("initialize")&&!e.has(n.initialize)&&(e.add(n.initialize),d.push(n.initialize)),n.hasOwnProperty("destroy")&&!f.has(n.destroy)&&(f.add(n.destroy),t.push(n.destroy)),n=Object.getPrototypeOf(n);e.clear();f.clear();
n=function(g){function p(...u){var v=g.call(this,...u)||this;if(v.constructor===p&&"function"===typeof v.postscript){d.length&&Object.defineProperty(l._assertThisInitialized(v),"initialize",{enumerable:!1,configurable:!0,value(){for(let q=d.length-1;0<=q;q--)d[q].call(this)}});if(t.length){let q=!1;Object.defineProperty(l._assertThisInitialized(v),"destroy",{enumerable:!1,configurable:!0,value(){if(!q){q=!0;for(let F=0;F<t.length;F++)t[F].call(this)}}})}v.postscript(...u)}return v}l._inheritsLoose(p,
g);return p}(h);n.__accessorMetadata__=y.getOwnClassMetadata(h.prototype);n.prototype.declaredClass=k;return n}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions":function(){define(["exports","./extensions/serializableProperty"],function(a,l){const w=[l.SerializablePropertyExtension];a.instanceCreated=function(y,r){const b=Object.getOwnPropertyNames(r);for(const c of w)c.instanceCreated&&c.instanceCreated(y,r,b)};a.processClassMetadatas=function(y,r){for(const b of w)if(b.processClassPropertyMetadata)for(const c in y)b.processClassPropertyMetadata(c,
y[c],y,r)};a.processPrototypeMetadatas=function(y,r){for(const b of w)if(b.processPrototypePropertyMetadata)for(const c in y)b.processPrototypePropertyMetadata(c,y[c],y,r)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,l,w,y,r,b){function c(f,
k,h){let d=f&&f.json;f&&f.json&&f.json.origins&&h&&(f=f.json.origins[h.origin])&&("any"===k||k in f)&&(d=f);return d}const e={processPrototypePropertyMetadata(f,k){if(r.process(k)){w.process(k);if(k.type)if(k.type){f=0;for(var h=k.type;Array.isArray(h)&&!l.isOneOf(h);)h=h[0],f++;f={type:h,ndimArray:f}}else f=void 0;else if(k.types){f=0;for(h=k.types;Array.isArray(h);)h=h[0],f++;f={types:h,ndimArray:f}}else f=void 0;if(k.json.origins)for(const d in k.json.origins)h=k.json.origins[d],y.create(f,h,!1),
b.create(f,h);y.create(f,k.json,!0);b.create(f,k.json)}}};a.SerializablePropertyExtension=e;a.default=e;a.originSpecificPropertyDefinition=c;a.originSpecificReadPropertyDefinition=function(f,k){return c(f,"read",k)};a.originSpecificWritePropertyDefinition=function(f,k){return c(f,"write",k)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(l){if(l.json&&l.json.origins){const w=
l.json.origins;l={"web-document":["web-scene","web-map"]};for(const y in l)if(w[y]){const r=w[y];l[y].forEach(b=>{w[b]=r});delete w[y]}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../object ../../../Logger ../../metadata ../../../Warning ./type".split(" "),function(a,l,w,y,r,b){function c(v){var q;const F=null!=(q=v.ndimArray)?q:0;if(1<F)return h(v);if(1===F)return d(v);if("type"in v&&t(v.type)){var C,
A;q=null==(C=v.type.prototype)?void 0:null==(A=C.itemType)?void 0:A.Type;const x=d("function"===typeof q?{type:q}:{types:q});return(m,B,z)=>(m=x(m,B,z))?new v.type(m):m}return e(v)}function e(v){return"type"in v?f(v.type):p(v.types)}function f(v){return v.prototype.read?(q,F,C)=>{if(null==q)return q;F=typeof q;if("object"!==F)u.error(`Expected JSON value of type 'object' to deserialize type '${v.prototype.declaredClass}', but got '${F}'`);else return F=new v,F.read(q,C),F}:v.fromJSON}function k(v,
q,F,C){return 0!==C&&Array.isArray(q)?q.map(A=>k(v,A,F,C-1)):v(q,void 0,F)}function h(v){var q;const F=e(v),C=k.bind(null,F),A=null!=(q=v.ndimArray)?q:0;return(x,m,B)=>{if(null==x)return x;x=C(x,B,A);m=A;for(B=x;0<m&&Array.isArray(B);)m--,B=B[0];if(void 0!==B)for(B=0;B<m;B++)x=[x];return x}}function d(v){const q=e(v);return(F,C,A)=>{if(null==F)return F;if(Array.isArray(F)){C=[];for(const x of F)F=q(x,void 0,A),void 0!==F&&C.push(F);return C}A=q(F,void 0,A);return void 0!==A?[A]:void 0}}function t(v){return b.isCollection(v)?
(v=v.prototype.itemType)&&v.Type?"function"===typeof v.Type?n(v.Type):g(v.Type):!1:!1}function n(v){return Array.isArray(v)?!1:!!v&&v.prototype&&("read"in v.prototype||"fromJSON"in v||t(v))}function g(v){for(const q in v.typeMap)if(!n(v.typeMap[q]))return!1;return!0}function p(v){var q;let F=null;const C=null!=(q=v.errorContext)?q:"type";return(A,x,m)=>{if(null==A)return A;x=typeof A;if("object"!==x)u.error(`Expected JSON value of type 'object' to deserialize, but got '${x}'`);else{if(!F){x={};for(const E in v.typeMap){var B,
z;const I=v.typeMap[E];var G=y.getOwnClassMetadata(I.prototype);if("function"===typeof v.key)continue;G=G.properties[v.key];if(!G)continue;null!=(B=G.json)&&B.type&&Array.isArray(G.json.type)&&1===G.json.type.length&&"string"===typeof G.json.type[0]&&(x[G.json.type[0]]=I);G=null==(z=G.json)?void 0:z.write;if(!G||!G.writer){x[E]=I;continue}var D=G.target;D="string"===typeof D?D:v.key;const J={};G.writer(E,J,D);J[D]&&(x[J[D]]=I)}F=x}B=v.key;if("string"===typeof B){if(z=(B=A[B])?F[B]:v.defaultKeyValue?
v.typeMap[v.defaultKeyValue]:void 0)return B=new z,B.read(A,m),B;B=`Type '${B||"unknown"}' is not supported`;m&&m.messages&&A&&m.messages.push(new r(`${C}:unsupported`,B,{definition:A,context:m}));u.error(B)}}}}const u=w.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(v,q,F){var C,A;!v||!F&&!q.read||null!=(C=q.read)&&C.reader||!1===(null==(A=q.read)?void 0:A.enabled)||(F="types"in v?g(v.types):n(v.type),F&&l.setDeepValue("read.reader",c(v),q))};a.createTypeReader=
c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,l){l=function(w){function y(r,b,c){var e=w.call(this,r,b,c)||this;return a._assertThisInitialized(e)instanceof y?e:new y(r,b,c)}a._inheritsLoose(y,w);return y}(l);l.prototype.type="warning";return l})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=function(l){return!!l&&
l.prototype&&l.prototype.declaredClass&&0===l.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function l(r){r.name&&(r.read?"object"===typeof r.read?void 0===r.read.source&&(r.read.source=r.name):r.read={source:r.name}:r.read={source:r.name},r.write?"object"===typeof r.write?void 0===r.write.target&&(r.write.target=r.name):r.write=
{target:r.name}:r.write={target:r.name})}function w(r){"boolean"===typeof r.read?r.read={enabled:r.read}:"function"===typeof r.read?r.read={enabled:!0,reader:r.read}:r.read&&"object"===typeof r.read&&void 0===r.read.enabled&&(r.read.enabled=!0)}function y(r){"boolean"===typeof r.write?r.write={enabled:r.write}:"function"===typeof r.write?r.write={enabled:!0,writer:r.write}:r.write&&"object"===typeof r.write&&void 0===r.write.enabled&&(r.write.enabled=!0)}a.process=function(r){r.json||(r.json={});
w(r.json);y(r.json);l(r.json);if(r.json.origins)for(const b in r.json.origins)w(r.json.origins[b]),y(r.json.origins[b]),l(r.json.origins[b]);return!0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../object","./type"],function(a,l,w){function y(k,h,d,t){l.setDeepValue(d,r(k,t),h)}function r(k,h){return k&&"function"===typeof k.write?k.write({},h):k&&"function"===typeof k.toJSON?k.toJSON():
"number"===typeof k?b(k):k}function b(k){return-Infinity===k?-Number.MAX_VALUE:Infinity===k?Number.MAX_VALUE:isNaN(k)?null:k}function c(k,h,d,t){null===k?k=null:k&&"function"===typeof k.map?(k=k.map(n=>r(n,t)),"function"===typeof k.toArray&&(k=k.toArray())):k=[r(k,t)];l.setDeepValue(d,k,h)}function e(k,h,d){return 0!==d&&Array.isArray(k)?k.map(t=>e(t,h,d-1)):r(k,h)}function f(k){return function(h,d,t,n){if(null===h)h=null;else{h=e(h,n,k);n=k;for(var g=h;0<n&&Array.isArray(g);)n--,g=g[0];if(void 0!==
g)for(g=0;g<n;g++)h=[h]}l.setDeepValue(t,h,d)}}a.create=function(k,h){var d;if(h.write&&!h.write.writer&&(!1!==h.write.enabled||h.write.overridePolicy)){var t=null!=(d=null==k?void 0:k.ndimArray)?d:0;k&&(1===t||"type"in k&&w.isCollection(k.type))?h.write.writer=c:h.write.writer=1<t?f(t):y}};a.numberToJSON=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/uuid":function(){define(["exports","./global"],function(a,l){const w=l.crypto||l.msCrypto;a.generateUUID=function(){const y=w.getRandomValues(new Uint16Array(8));
y[3]=y[3]&4095|16384;y[4]=y[4]&16383|32768;return y[0].toString(16)+y[1].toString(16)+"-"+y[2].toString(16)+"-"+y[3].toString(16)+"-"+y[4].toString(16)+"-"+y[5].toString(16)+y[6].toString(16)+y[7].toString(16)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/resourceExtension":function(){define(["exports","../../core/urlUtils"],function(a,l){const w={},y=w["text/plain"],r={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",
txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const b in r)w[r[b]]=b;a.getResourceContentExtension=function(b){b instanceof Blob?b=b.type:(b=l.getPathExtension(b.url),b=r[b]||"text/plain");return w[b]||y};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function l(w,y=29){this.name=
w;this._counter=0;this._items=Array(y)}l.prototype.record=function(w){this._items[++this._counter%this._items.length]=w};a._createClass(l,[{key:"median",get:function(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((w,y)=>w+y,0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]);return l}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./arrayUtils","./HeapSort"],function(a,l,w){return function(){function y(b){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new l.PositionHint;b&&(b.initialSize&&(this.data=Array(b.initialSize)),b.allocator&&(this._allocator=b.allocator),void 0!==b.deallocator&&(this._deallocator=b.deallocator),b.shrink&&(this._shrink=()=>{this.data.length>1.5*this.length&&(this.data.length=Math.floor(1.1*this.length))}))}var r=y.prototype;r.toArray=function(){return this.data.slice(0,
this.length)};r.getItemAt=function(b){if(!(0>b||b>=this._length))return this.data[b]};r.clear=function(){this.length=0};r.prune=function(){this.clear();this.data=[]};r.push=function(b){this.data[this._length++]=b};r.pushArray=function(b,c=b.length){for(let e=0;e<c;e++)this.data[this._length++]=b[e]};r.fill=function(b,c){for(let e=0;e<c;e++)this.data[this._length++]=b};r.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const b=this.data[this._length];
++this._length;return b};r.pop=function(){if(0!==this.length){var b=this.data[this.length-1];--this.length;this._shrink();return b}};r.iterableRemoveMany=function*(b){const c=[];for(let e=0;e<this.length&&!(e>=this.length);++e)0>l.indexOf(b.data,this.data[e],b.length,b._hint)&&c.push(this.data[e]),yield;this.data=c;this._length=this.data.length};r.remove=function(b){const c=l.indexOf(this.data,b,this.length,this._hint);if(-1!==c)return this.data.splice(c,1),--this.length,b};r.removeUnordered=function(b){b=
l.removeUnordered(this.data,b,this.length,this._hint);void 0!==b&&--this.length;return b};r.removeUnorderedIndex=function(b){if(!(b>=this.length||0>b))return this.swapElements(b,this.length-1),this.pop()};r.removeUnorderedMany=function(b,c=b.length,e){this.length=l.removeUnorderedMany(this.data,b,this.length,c,this._hint,e)};r.front=function(){if(0!==this.length)return this.data[0]};r.back=function(){if(0!==this.length)return this.data[this.length-1]};r.swapElements=function(b,c){b>=this.length||
c>=this.length||b===c||([this.data[b],this.data[c]]=[this.data[c],this.data[b]])};r.sort=function(b){w.sort(this.data,0,this.length,b)};r.iterableSort=function(b){return w.iterableSort(this.data,0,this.length,b)};r.some=function(b,c){for(let e=0;e<this.length;++e)if(b.call(c,this.data[e],e,this.data))return!0;return!1};r.filterInPlace=function(b,c){let e=0;for(let f=0;f<this._length;++f){const k=this.data[f];b.call(c,k,f,this.data)&&(this.data[f]=this.data[e],this.data[e]=k,e++)}if(this._deallocator)for(b=
e;b<this._length;b++)this.data[b]=this._deallocator(this.data[b]);this._length=e;return this};r.forAll=function(b,c){const e=this.length,f=this.data;for(let k=0;k<e;++k)b.call(c,f[k],k,f)};r.iterableForEach=function*(){for(let b=0;b<this.length;++b)yield this.data[b]};r.map=function(b,c){const e=Array(this.length);for(let f=0;f<this.length;++f)e[f]=b.call(c,this.data[f],f,this.data);return e};r.reduce=function(b,c){for(let e=0;e<this.length;++e)c=b(c,this.data[e],e,this.data);return c};a._createClass(y,
[{key:"length",get:function(){return this._length},set:function(b){if(b>this._length)if(this._allocator)for(;this._length<b;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=b;else{if(this._deallocator)for(let c=b;c<this._length;++c)this.data[c]=this._deallocator(this.data[c]);this._length=b;this._shrink()}}}]);return y}()})},"esri/core/arrayUtils":function(){define(["exports","./RandomLCG"],function(a,l){function w(d){return d}function y(d,t=w){if(d&&0!==d.length){var n=
d[0],g=t(n);for(let p=1;p<d.length;++p){const u=d[p],v=Number(t(u));v>g&&(g=v,n=u)}return n}}function r(d,t,n,g){g=g||f;var p=Math.max(0,g.last-10);for(let u=p;u<n;++u)if(d[u]===t)return g.last=u;n=Math.min(p,n);for(p=0;p<n;++p)if(d[p]===t)return g.last=p;return-1}function b(d){return d?(h.seed=d,()=>h.getFloat()):Math.random}const c=!!Array.prototype.fill;let e=function(){this.last=0};const f=new e,k=new Set,h=new l;a.PositionHint=e;a.binaryFindClosest=function(d,t,n){if(d&&0!==d.length){var g=d.length-
1,p=d[0];if(t<=n(p))return p;p=d[g];if(t>=n(p))return p;var u=0;p=0;for(var v=g;u<v;){p=u+Math.floor((v-u)/2);const F=d[p],C=n(F);if(C===t)return F;if(t<C){if(0<p){v=d[p-1];var q=n(v);if(t>q)return t-q>=C-t?F:v}v=p}else{if(p<g&&(u=d[p+1],q=n(u),t<q))return t-C>=q-t?u:F;u=p+1}}return d[p]}};a.binaryIndexOf=function(d,t,n){const g=d.length;let p=0;for(var u=g-1;p<u;){const v=p+Math.floor((u-p)/2);t>d[v]?p=v+1:u=v}u=d[p];return n?t>=d[g-1]?-1:u===t?p:p-1:u===t?p:-1};a.constant=function(d,t){if(c)return Array(d).fill(t);
const n=Array(d);for(let g=0;g<d;g++)n[g]=t;return n};a.difference=function(d,t,n){let g,p;n?(g=t.filter(u=>!d.some(v=>n(v,u))),p=d.filter(u=>!t.some(v=>n(v,u)))):(g=t.filter(u=>!d.includes(u)),p=d.filter(u=>!t.includes(u)));return{added:g,removed:p}};a.equals=function(d,t,n){if(!d&&!t)return!0;if(!d||!t||d.length!==t.length)return!1;if(n)for(let g=0;g<d.length;g++){if(!n(d[g],t[g]))return!1}else for(n=0;n<d.length;n++)if(d[n]!==t[n])return!1;return!0};a.first=function(d){if(d)return 0<d.length?d[0]:
void 0};a.flatten=function(d){return d.reduce((t,n)=>t.concat(n||[]),[])};a.indexOf=r;a.intersect=function(d,t,n){return d&&t?n?d.filter(function(g){return-1<t.findIndex(function(p){return n(g,p)})}):d.filter(function(g){return-1<t.indexOf(g)}):[]};a.isArrayLike=function(d){return d&&"number"===typeof d.length};a.last=function(d){if(d){var t=d.length;return 0<t?d[t-1]:void 0}};a.max=y;a.min=function(d,t=w){return y(d,n=>-t(n))};a.pickRandom=function(d,t,n){const g=d.length;if(t>=g)return d.slice(0);
n=b(n);const p=new Set,u=[];for(;u.length<t;){const v=Math.floor(n()*g);p.has(v)||(p.add(v),u.push(d[v]))}return u};a.range=function(d,t){void 0===t&&(t=d,d=0);const n=Array(t-d);for(let g=d;g<t;g++)n[g-d]=g;return n};a.remove=function(d,t){const n=d.indexOf(t);return-1!==n?(d.splice(n,1),t):null};a.removeUnordered=function(d,t,n,g){const p=null==n?d.length:n;g=r(d,t,p,g);if(-1!==g)return d[g]=d[p-1],null==n&&d.pop(),t};a.removeUnorderedMany=function(d,t,n=d.length,g=t.length,p,u){if(0===g||0===n)return n;
k.clear();for(let v=0;v<g;++v)k.add(t[v]);p=p||f;t=Math.max(0,p.last-10);for(g=t;g<n;++g)if(k.has(d[g])&&(u&&u.push(d[g]),k.delete(d[g]),d[g]=d[n-1],--n,--g,0===k.size||0===n))return k.clear(),n;for(g=0;g<t;++g)if(k.has(d[g])&&(u&&u.push(d[g]),k.delete(d[g]),d[g]=d[n-1],--n,--g,0===k.size||0===n))return k.clear(),n;k.clear();return n};a.shuffle=function(d,t){t=b(t);for(let n=d.length-1;0<n;n--){const g=Math.floor(t()*(n+1)),p=d[n];d[n]=d[g];d[g]=p}return d};a.splitIntoChunks=function(d,t){const n=
d.length;if(0===n)return[];const g=[];for(let p=0;p<n;p+=t)g.push(d.slice(p,p+t));return g};a.unique=function(d,t){return t?d.filter((n,g,p)=>p.findIndex(t.bind(null,n))===g):d.filter((n,g,p)=>p.indexOf(n)===g)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let l=function(){function w(r=1){this._seed=r}var y=w.prototype;y.getInt=function(){return this._seed=(w._a*this._seed+w._c)%w._m};y.getFloat=function(){return this.getInt()/
(w._m-1)};y.getIntRange=function(r,b){return Math.round(this.getFloatRange(r,b))};y.getFloatRange=function(r,b){b-=r;const c=this.getInt()/w._m;return r+Math.floor(c*b)};a._createClass(w,[{key:"seed",set:function(r){this._seed=null==r?Math.random()*w._m:r}}]);return w}();l._m=2147483647;l._a=48271;l._c=0;return l})},"esri/core/HeapSort":function(){define(function(){var a;(function(l){function w(r,b,c,e){let f=b;const k=c>>>1,h=r[f-1];for(;b<=k;){b=f<<1;b<c&&0>e(r[b-1],r[b])&&++b;const d=r[b-1];if(0>=
e(d,h))break;r[f-1]=d;f=b}r[f-1]=h}function y(r,b){return r<b?-1:r>b?1:0}l.sort=function(r,b,c,e){void 0===b&&(b=0);void 0===c&&(c=r.length);void 0===e&&(e=y);for(var f=c>>>1;f>b;f--)w(r,f,c,e);f=b+1;for(--c;c>b;c--){const k=r[b];r[b]=r[c];r[c]=k;w(r,f,c,e)}};l.iterableSort=function*(r,b,c,e){void 0===b&&(b=0);void 0===c&&(c=r.length);void 0===e&&(e=y);for(var f=c>>>1;f>b;f--)w(r,f,c,e),yield;f=b+1;for(--c;c>b;c--){const k=r[b];r[b]=r[c];r[c]=k;w(r,f,c,e);yield}}})(a||(a={}));return a})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./Logger ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/set ./accessorSupport/decorators/property ./deprecate ./accessorSupport/decorators/subclass ./accessorSupport/Properties ./accessorSupport/watch".split(" "),
function(a,l,w,y,r,b,c,e,f,k){function h(d){if(null==d)return{value:d};if(Array.isArray(d))return{type:[d[0]],value:null};switch(typeof d){case "object":return d.constructor&&d.constructor.__accessorMetadata__||d instanceof Date?{type:d.constructor,value:d}:d;case "boolean":return{type:Boolean,value:d};case "string":return{type:String,value:d};case "number":return{type:Number,value:d};case "function":return{type:d,value:null}}}return function(){function d(...n){if(this.constructor===d)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new f(this)});0<n.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,n))}d.createSubclass=function(n={}){if(Array.isArray(n))throw Error("Multi-inheritance unsupported since 4.16");const {properties:g,declaredClass:p,constructor:u}=n;delete n.declaredClass;delete n.properties;delete n.constructor;const v=this;let q=function(F){function C(...A){var x=F.call(this,...A)||this;x.inherited=null;u&&
u.apply(a._assertThisInitialized(x),A);return x}a._inheritsLoose(C,F);return C}(v);y.getOwnClassMetadata(q.prototype);for(const F in n){const C=n[F];q.prototype[F]="function"===typeof C?function(...A){const x=this.inherited;this.inherited=function(...B){if(v.prototype[F])return v.prototype[F].apply(this,B)};let m=void 0;try{m=C.apply(this,A)}catch(B){throw this.inherited=x,B;}this.inherited=x;return m}:n[F]}for(const F in g)n=h(g[F]),b.property(n)(q.prototype,F);return e.subclass(p)(q)};var t=d.prototype;
t.postscript=function(n){const g=this.__accessor__;n=g.ctorArgs||n;g.initialize();n&&(this.set(n),g.ctorArgs=null);g.constructed();this.initialize()};t.initialize=function(){};t.destroy=function(){this.destroyed||(k.removeTarget(this),this.__accessor__.destroy())};t.get=function(n){return w.get(this,n)};t.hasOwnProperty=function(n){return this.__accessor__?this.__accessor__.has(n):Object.prototype.hasOwnProperty.call(this,n)};t.isInstanceOf=function(n){c.deprecatedFunction(l.getLogger(this.declaredClass),
"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"});return this instanceof n};t.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};t.set=function(n,g){r.set(this,n,g);return this};t.watch=function(n,g,p){return k.watch(this,n,g,p)};t._clearOverride=function(n){return this.__accessor__.clearOverride(n)};t._override=function(n,g){return this.__accessor__.override(n,g)};t._isOverridden=function(n){return this.__accessor__.isOverridden(n)};t.notifyChange=function(n){this.__accessor__.propertyInvalidated(n)};
t._get=function(n){return this.__accessor__.internalGet(n)};t._set=function(n,g){this.__accessor__.internalSet(n,g);return this};a._createClass(d,[{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return d}()})},"esri/core/deprecate":function(){define(["exports",
"./has"],function(a,l){function w(b,c,e=!1){e&&r.has(c)||(e&&r.add(c),b.warn(`\ud83d\uded1 DEPRECATED - ${c}`))}function y(b,c,e={}){if(l("esri-deprecation-warnings")){const {replacement:f,version:k,see:h,warnOnce:d}=e;f&&(c+=`\n\t\ud83d\udee0\ufe0f Replacement: ${f}`);k&&(c+=`\n\t\u2699\ufe0f Version: ${k}`);h&&(c+=`\n\t\ud83d\udd17 See ${h} for more details.`);w(b,c,d)}}const r=new Set;a.deprecated=y;a.deprecatedFunction=function(b,c,e={}){if(l("esri-deprecation-warnings")){const {moduleName:f}=
e;y(b,`Function: ${(f?f+"::":"")+c+"()"}`,e)}};a.deprecatedModule=function(b,c,e={}){l("esri-deprecation-warnings")&&y(b,`Module: ${c}`,e)};a.deprecatedProperty=function(b,c,e={}){if(l("esri-deprecation-warnings")){const {moduleName:f}=e;y(b,`Property: ${(f?f+"::":"")+c}`,e)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ./utils ./get ./PropertyOrigin ../ObjectPool ./Property ./Store ./tracking".split(" "),
function(a,l,w,y,r,b,c,e,f,k,h){y.getLogger("esri.core.accessorSupport.Properties");l=function(){function t(g){this.host=g;this.properties=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=0;this.store=new k.Store;this._origin=6;g=this.host.constructor.__accessorMetadata__;const p=g.properties;for(const u in p){const v=new f.Property(u,p[u]);this.properties.set(u,v)}this.metadatas=p;this._autoDestroy=g.autoDestroy}var n=t.prototype;n.initialize=function(){this.lifecycle=1};n.constructed=
function(){this.lifecycle=2};n.destroy=function(){this.destroyed=!0;if(this._autoDestroy)for(const [p,u]of this.properties){var g=this.internalGet(p);g&&g&&"function"===typeof g.destroy&&(g.destroy(),~u.flags&8&&this._internalSet(u,null));u.destroy()}else for([,g]of this.properties)g.destroy()};n.get=function(g){return this.properties.get(g).metadata.get?this.getterComputed(g):this.getterStatic(g)};n.getterStatic=function(g){const p=this.properties.get(g);if(void 0!==p)return h.trackPropertyAccess(p),
this.store.has(g)?this.store.get(g):p.metadata.value};n.getterComputed=function(g){const p=this.properties.get(g);h.trackPropertyAccess(p);const u=this.store;var v=p.flags;const q=this.store.get(g);if(v&4||u.has(g)&&(~v&1||f.isInvalidating()))return q;p.flags|=4;const F=p.metadata.get;v&64?v=h.runTracked(p,F,this.host):(h.trackExplicitDependencies(this.host,p),v=F.call(this.host));u.set(g,v,1);g=this.store.get(g);g===q?p.flags&=-2:p.commit();p.flags&=-5;return g};n.originOf=function(g){const p=this.store.originOf(g);
return void 0===p&&(g=this.properties.get(g),void 0!==g&&g.flags&16)?"defaults":c.idToName(p)};n.has=function(g){return this.properties.has(g)?this.store.has(g):!1};n.keys=function(){return[...this.properties.keys()]};n.internalGet=function(g){const p=this.properties.get(g);if(void 0!==p)return this.store.has(g)?this.store.get(g):p.metadata.value};n.internalSet=function(g,p){g=this.properties.get(g);void 0!==g&&this._internalSet(g,p)};n.getDependsInfo=function(g,p,u,v){var q=this.properties.get(u);
if(void 0===q)return"";p=`${v}${p}.${u}: ${b.get(g,u)}\n`;if(!q.metadata.dependsOn||0===q.metadata.dependsOn.length)return p;v+="  ";for(const F of q.metadata.dependsOn)if(u=F.split("."),1===u.length)p+=`${v}${F}: ${b.get(g,F)}\n`;else{q=u[u.length-1];--u.length;u=u.join(".");const C=b.get(g,u),A=r.getProperties(C);p=A?p+A.getDependsInfo(C,u,q,v):p+`${v}${F}: undefined\n`}return p};n.setAtOrigin=function(g,p,u){g=this.properties.get(g);if(void 0!==g)return this._setAtOrigin(g,p,u)};n.isOverridden=
function(g){g=this.properties.get(g);return void 0!==g&&!!(g.flags&2)};n.clearOverride=function(g){g=this.properties.get(g);void 0!==g&&g.flags&2&&(g.flags&=-3,g.invalidate())};n.override=function(g,p){g=this.properties.get(g);if(!(void 0===g||null==p&&g.flags&8)){var u=g.metadata.cast;if(u){p=this._cast(u,p);const {valid:v,value:q}=p;d.release(p);if(!v)return;p=q}g.flags|=2;this._internalSet(g,p)}};n.set=function(g,p){g=this.properties.get(g);if(!(void 0===g||null==p&&g.flags&8)){var u=g.metadata.cast;
if(u){p=this._cast(u,p);const {valid:v,value:q}=p;d.release(p);if(!v)return;p=q}(u=g.metadata.set)?u.call(this.host,p):this._internalSet(g,p)}};n.setDefaultOrigin=function(g){this._origin=c.nameToId(g)};n.getDefaultOrigin=function(){return c.idToName(this._origin)};n.propertyInvalidated=function(g){g=this.properties.get(g);void 0!==g&&g.invalidate()};n.propertyCommitted=function(g){g=this.properties.get(g);void 0!==g&&g.commit()};n._internalSet=function(g,p){this._setAtOrigin(g,p,0!==this.lifecycle?
this._origin:0)};n._setAtOrigin=function(g,p,u){const v=this.store,q=g.propertyName;v.has(q,u)&&w.equals(p,v.get(q))&&~g.flags&2&&u===v.originOf(q)||(f.startInvalidating(),g.invalidate(),f.stopInvalidating(),v.set(q,p,u),g.commit(),h.initializeDependencyTracking(this.host,g))};n._cast=function(g,p){const u=d.acquire();u.valid=!0;u.value=p;g&&(u.value=g.call(this.host,p,u));return u};a._createClass(t,[{key:"initialized",get:function(){return 0!==this.lifecycle}}]);return t}();y=function(){function t(){this.value=
null;this.valid=!0}var n=t.prototype;n.acquire=function(){this.valid=!0};n.release=function(){this.value=null};return t}();const d=new e(y);return l})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,l){function w(r){switch(r){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function y(r){switch(r){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";
case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return l.assumeNonNull(void 0)}a.OriginIdNum=7;a.idToName=y;a.idToReadableName=function(r){return y(r)};a.idToWritableName=function(r){return y(r)};a.nameToId=w;a.readableNameToId=function(r){return w(r)};a.writableNameToId=function(r){return w(r)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ObjectPool":function(){define(function(){let a=function(){function l(y,r,b,c=1,e=0){this.ctor=y;this.acquireFunction=r;this.releaseFunction=
b;this.allocationSize=c;this._pool=Array(e);this._initialSize=e;if(this.ctor)for(y=0;y<e;y++)this._pool[y]=new this.ctor;this.allocationSize=Math.max(c,1)}var w=l.prototype;w.destroy=function(){this.prune(0)};w.acquire=function(...y){var r=this.ctor;if(l.test.disabled)r=new r;else{if(0===this._pool.length){const b=this.allocationSize;for(let c=0;c<b;c++)this._pool[c]=new r}r=this._pool.pop()}this.acquireFunction?this.acquireFunction(r,...y):r&&r.acquire&&"function"===typeof r.acquire&&r.acquire(...y);
return r};w.release=function(y){y&&!l.test.disabled&&(this.releaseFunction?this.releaseFunction(y):y&&y.release&&"function"===typeof y.release&&y.release(),this._pool.push(y))};w.prune=function(y=this._initialSize){if(!(y>=this._pool.length)){for(let r=y;r<this._pool.length;++r)this._dispose(this._pool[r]);this._pool.length=y}};w._dispose=function(y){y.dispose&&"function"===typeof y.dispose&&y.dispose()};return l}();a.test={disabled:!1};return a})},"esri/core/accessorSupport/Property":function(){define(["exports"],
function(a){let l=!1,w=function(){function r(b,c){this._observers=b;this._observer=c}r.prototype.remove=function(){this._observers.delete(this._observer)};return r}(),y=function(){function r(c,e){this.propertyName=c;this.metadata=e;this.flags=1;this._accessedProperties=this._observers=null;this._observationHandles=[];this.flags=1|(e.nonNullable?8:0)|(e.hasOwnProperty("value")?16:0)|(void 0===e.get?32:0)|(void 0===e.dependsOn?64:0)}var b=r.prototype;b.destroy=function(){this._accessedProperties&&(this._accessedProperties.clear(),
this._accessedProperties=null);this._observers&&(this._observers.clear(),this._observers=null);this._clearObservationHandles()};b.onPropertyAccessed=function(c){c!==this&&(null===this._accessedProperties&&(this._accessedProperties=new Set),this._accessedProperties.add(c))};b.onTrackingEnd=function(){this._clearObservationHandles();this.flags|=32;const c=this._accessedProperties;if(null!==c){var e=this._observationHandles;for(const f of c)e.push(f.observe(this));c.clear()}};b.observe=function(c){null===
this._observers&&(this._observers=new Set);return new w(this._observers.add(c),c)};b.notify=function(){~this.flags&2&&(this.flags|=1);this._notifyObservers()};b.invalidate=function(){this.notify()};b.commit=function(){this.flags&=-2;this._notifyObservers()};b._notifyObservers=function(){if(null!==this._observers){var c=this._observers.size,e=Array(c);--c;for(var f of this._observers)e[c--]=f;for(f=!l;e.length;)if(c=e.pop(),void 0!==c.flags){if(~c.flags&2&&(c.flags|=1),null!==c._observers)for(const k of c._observers)e.push(k)}else f&&
c.notify()}};b._clearObservationHandles=function(){for(const c of this._observationHandles)c.remove();this._observationHandles.length=0};return r}();a.Property=y;a.isInvalidating=function(){return l};a.startInvalidating=function(){l=!0};a.stopInvalidating=function(){l=!1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang"],function(a,l){let w=function(){function y(){this._values=new Map}var r=y.prototype;r.clone=function(b){const c=
new y;this._values.forEach((e,f)=>{b&&b.has(f)||c.set(f,l.clone(e))});return c};r.get=function(b){return this._values.get(b)};r.originOf=function(){return 6};r.keys=function(){return[...this._values.keys()]};r.set=function(b,c){this._values.set(b,c)};r.delete=function(b){this._values.delete(b)};r.has=function(b){return this._values.has(b)};r.forEach=function(b){this._values.forEach(b)};return y}();a.Store=w;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking":function(){define(["exports",
"../has","../Logger","./utils"],function(a,l,w,y){function r(u){if(void 0!==d)d.onPropertyAccessed(u)}function b(u,v,q){const F=n;n=!0;d=u;h.push(u);u=null;try{u=v.call(q)}catch(C){g&&t.error(C)}c();n=F;return u}function c(){const u=h.pop();d=0<h.length?h[h.length-1]:void 0;if(void 0!==u)u.onTrackingEnd()}function e(u,v){if(!(v.flags&32)){var q=g;g=!1;v.flags&64?b(v,v.metadata.get,u):f(u,v);g=q}}function f(u,v){v.flags&128||(v.flags|=128,b(v,()=>{var q=v.metadata.dependsOn||p;for(const F of q)if("string"===
typeof F&&-1===F.indexOf("."))k(u,F,!1);else{q=y.pathToArray(F);for(let C=0,A=u;C<q.length&&null!=A&&"object"===typeof A;++C)A=k(A,q[C],C!==q.length-1)}}),v.flags&=-129)}function k(u,v,q){v="?"===v[v.length-1]?v.slice(0,-1):v;if(null!=u.getItemAt||Array.isArray(u)){var F=parseInt(v,10);if(!isNaN(F))return Array.isArray(u)?u[F]:u.getItemAt(F)}F=y.getProperties(u);if(F=null==F?void 0:F.properties.get(v))r(F),e(u,F);return q?u[v]:void 0}let h=[],d=void 0;const t=w.getLogger("esri.core.Accessor");let n=
!1,g=!1;const p=[];a.initializeDependencyTracking=e;a.resetGlobalTarget=function(){h=[]};a.runTracked=function(u,v,q){if(n)return b(u,v,q);d=u;h.push(u);u=v.call(q);c();return u};a.runTrackedNoThrow=b;a.trackExplicitDependencies=f;a.trackPropertyAccess=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/watch":function(){define("exports ../lang ./utils ./get ../ArrayPool ../ReentrantObjectPool ../scheduling ./wire".split(" "),function(a,l,w,y,r,b,c,e){function f(C){u.has(C)?
v.splice(v.indexOf(C),1):u.add(C);v.push(C);q||(q=c.schedule(h))}function k(C){if(!C.removed){var {callback:A,path:x,oldValue:m,target:B}=C,z=C.getValue();l.equals(m,z)||(C.oldValue=z,A.call(B,z,m,x,B))}}function h(){let C=10;for(;q&&C--;){q=null;const x=v;v=p.acquire();u.clear();const m=p.acquire();for(const B of x){var A=B.uid;k(B);A===B.uid&&B.removed&&m.push(B)}for(A=0;A<v.length;A++){const B=v[A];B.removed&&(m.push(B),u.delete(B),v.splice(A,1),--A)}for(A=0;A<m.length;A++)g.pool.release(m[A]);
p.release(x);p.release(m);F.forEach(B=>B())}}function d(C,A,x){let m=w.parse(C,A,x,(B,z,G)=>{let D,E,I=e.wireAsync(()=>y.valueOf(B,z),(J,Q)=>{B.__accessor__.destroyed||D&&D.uid!==E?m.remove():(D||(D=g.pool.acquire(B,z,J,G,Q),E=D.uid),f(D))});return{remove:w.once(function(){I.remove();D&&(D.uid!==E||D.removed||(D.removed=!0,f(D)),D=null);m=I=null})}});return m}function t(C,A,x){const m=w.parse(C,A,x,(B,z,G)=>{let D=!1;return e.wire(()=>y.valueOf(B,z),(E,I)=>{B.__accessor__.destroyed?m.remove():D||
(D=!0,l.equals(E,I)||G.call(B,I,E,z,B),D=!1)})});return m}function n(C,A,x,m=!1){return!C.__accessor__||C.__accessor__.destroyed?{remove(){}}:m?t(C,A,x):d(C,A,x)}let g=function(){function C(){this.uid=0;this.getValue=this.callback=this.oldValue=this.path=this.target=null;this.removed=!1;this.propertyPath=null}var A=C.prototype;A.acquire=function(x,m,B,z,G){this.target=x;this.path=m;this.oldValue=B;this.callback=z;this.getValue=G;this.propertyPath=w.pathToStringOrArray(m);this.uid=++C.uid;this.removed=
!1};A.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++C.uid;this.removed=!0};return C}();g.pool=new b.ReentrantObjectPool(g);g.uid=0;const p=new r,u=new Set;let v=p.acquire(),q;const F=new Set;a.afterDispatch=function(C){F.add(C);return{remove(){F.delete(C)}}};a.default=n;a.dispatch=h;a.dispatchTarget=function(C){const A=p.copy(v);for(let x=0;x<A.length;x++){const m=A[x];m.target===C&&(k(m),u.delete(m),v.splice(v.indexOf(m),1))}};a.isValueInUse=
function(C){return v.some(A=>A.oldValue===C)};a.removeTarget=function(C){for(let A=0;A<v.length;A++){const x=v[A];x.target===C&&(x.removed=!0)}};a.watch=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function l(b){b.length=0}const w=Array.prototype.splice;let y=function(){function b(e=50,f=50){this._pool=new a(Array,void 0,l,f,e)}var c=b.prototype;c.acquire=function(){return this._pool.acquire()};c.copy=function(e){const f=
this.acquire();e.unshift(0,0);w.apply(f,e);e.splice(0,2);return f};c.release=function(e){this._pool.release(e)};c.prune=function(){this._pool.prune(0)};b.acquire=function(){return r.acquire()};b.copy=function(e){return r.copy(e)};b.release=function(e){return r.release(e)};b.prune=function(){r.prune()};return b}();const r=new y(100);return y})},"esri/core/ReentrantObjectPool":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,l,w,y){y=function(r){function b(){var e=
r.apply(this,arguments)||this;e._set=new Set;return e}l._inheritsLoose(b,r);var c=b.prototype;c.destroy=function(){r.prototype.destroy.call(this);this._set=w.nullifyNonnullableForDispose(this._set)};c.acquire=function(...e){e=r.prototype.acquire.call(this,...e);this._set.delete(e);return e};c.release=function(e){e&&!this._set.has(e)&&(r.prototype.release.call(this,e),this._set.add(e))};c._dispose=function(e){this._set.delete(e);r.prototype._dispose.call(this,e)};return b}(y);a.ReentrantObjectPool=
y;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/scheduling":function(){define("exports ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils".split(" "),function(a,l,w,y,r,b){function c(B=performance.now()){C.rafId=null;0<q.length&&(C.rafId=e());C.executeFrameTasks(B)}function e(){return C.requestNextFrame?C.requestNextFrame(h):h()}function f(){q.forAll(B=>{B.removed&&A.push(B)});q.removeUnorderedMany(A.data,A.length);A.clear()}function k(){for(;v.length;){const B=
l.assumeNonNull(v.shift());B.isActive&&B.callback()}C.willDispatch=!1}function h(){return requestAnimationFrame(c)}let d=function(B){this.phases=B;this.paused=!1;this.ticks=-1;this.removed=!1},t=function(){function B(z){this.callback=z;this.isActive=!0}B.prototype.remove=function(){this.isActive=!1};return B}(),n=-1,g=0;const p={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},u=["prepare","preRender","render","postRender","update"],v=[],q=new r;let F=function(){function B(G){this._task=G}var z=
B.prototype;z.remove=function(){this._task.removed=!0};z.pause=function(){this._task.paused=!0};z.resume=function(){this._task.paused=!1};return B}();const C={frameTasks:q,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(B=!1){q.forAll(z=>{z.removed=!0});B&&f()},dispatch:k,executeFrameTasks:function(B=performance.now()){0>n&&(n=B);const z=B-n,G=0<g?g:1E3/60,D=Math.max(0,z-G);n=B;const E=performance.now();for(let I=0;I<u.length;I++){const J=performance.now(),Q=u[I];q.forAll(P=>
{var W;P.paused||P.removed||(0===I&&P.ticks++,P.phases[Q]&&(p.time=B,p.deltaTime=0===P.ticks?0:z,p.elapsedFrameTime=performance.now()-B,p.frameDuration=G-D,null==(W=P.phases[Q])?void 0:W.call(P,p)))});x[I].record(performance.now()-J)}f();m.record(performance.now()-E)}},A=new r,x=u.map(B=>new y(B)),m=new y("total");a.FrameTaskHandle=F;a.addFrameTask=function(B){B=new d(B);q.push(B);C.rafId||(n=-1,C.rafId=e());return new F(B)};a.debug=C;a.performanceInfo=x;a.performanceTotal=m;a.requestNextFrame=e;
a.schedule=function(B){B=new t(B);v.push(B);C.willDispatch||(C.willDispatch=!0,w(k));return B};a.setFrameDuration=function(B){g=Math.max(0,B)};a.waitTicks=function(B=1,z){const G=b.createResolver(),D=()=>{b.isAborted(z)?G.reject(b.createAbortError()):0===B?G():(--B,w(()=>D()))};D();return G.promise};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/nextTick":function(){define(["./global"],function(a){function l(b){y.push(b);1===y.length&&w(()=>{for(var c of r)c();c=y.slice();y.length=
0;for(const e of c)e()})}const w=function(){return a.queueMicrotask?a.queueMicrotask:b=>{a.Promise.resolve().then(b)}}(),y=[];let r=[];(function(b){b.before=function(c){r.push(c);return{remove(){r=r.filter(e=>e!==c)}}}})(l||(l={}));return l})},"esri/core/accessorSupport/wire":function(){define(["exports","./tracking"],function(a,l){let w=function(){function y(b){this.notify=b;this._accessedProperties=new Set;this._observationHandles=[]}var r=y.prototype;r.destroy=function(){this._accessedProperties.clear();
this.clearObservationHandles()};r.onPropertyAccessed=function(b){this._accessedProperties.add(b)};r.onTrackingEnd=function(){this._accessedProperties.forEach(b=>{this._observationHandles.push(b.observe(this))});this._accessedProperties.clear()};r.clearObservationHandles=function(){for(const b of this._observationHandles)b.remove();this._observationHandles.length=0};return y}();a.autorun=function(y){let r=new w(function(){r&&!b&&(r.clearObservationHandles(),b=!0,l.runTracked(r,y),b=!1)}),b=!1;b=!0;
l.runTracked(r,y);b=!1;return{remove:function(){r&&(r.destroy(),r=null)}}};a.wire=function(y,r){let b=new w(function(){if(b&&!e){var f=c;b.clearObservationHandles();e=!0;c=l.runTracked(b,y);e=!1;r(f,c)}}),c=null,e=!1;e=!0;c=l.runTracked(b,y);e=!1;return{remove:function(){b&&(b.destroy(),c=b=null)}}};a.wireAsync=function(y,r){function b(){if(!c)return null;c.clearObservationHandles();return e=l.runTracked(c,y)}let c=new w(function(){r(e,b)}),e=null;b();return{remove:function(){c&&(c.destroy(),c=null);
e=null}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/watchUtils":function(){define(["exports","./lang","./events","./promiseUtils"],function(a,l,w,y){function r(g,p,u,v,q){q=g.watch(p,(C,A,x,m)=>{if(!u||u(C))null==v?void 0:v.call(g,C,A,x,m)},q);if(Array.isArray(p))for(var F of p){const C=g.get(F);u&&u(C)&&(null==v?void 0:v.call(g,C,C,p,g))}else F=g.get(p),u&&u(F)&&(null==v?void 0:v.call(g,F,F,p,g));return q}function b(g,p,u,v,q){function F(){m&&(m.remove(),m=null)}const C="function"===
typeof v?v:null,A="object"===typeof v?v:null;"boolean"===typeof v&&(q=v);let x=!1,m;const B=y.createDeferred();y.onAbort(A,()=>{F();B.reject(y.createAbortError())});v={then:B.promise.then.bind(B.promise),catch:B.promise.catch.bind(B.promise),remove:F};Object.freeze(v);m=r(g,p,u,(z,G,D,E)=>{x=!0;F();C&&C.call(g,z,G,D,E);B.resolve({value:z,oldValue:G,propertyName:D,target:E})},q);x&&F();return v}function c(g){return!!g}function e(g){return!g}function f(g){return!0===g}function k(g){return!1===g}function h(g){return void 0!==
g}function d(g){return void 0===g}function t(g,p,u,v){var q=Array.isArray(p)?p:-1<p.indexOf(",")?p.split(","):[p];p=g.watch(p,u,v);for(const F of q)q=F.trim().replace(n,"$1"),v=g.get(q),u.call(g,v,v,q,g);return p}const n=/\?(\.|$)/g;a.init=t;a.on=function(g,p,u,v,q,F,C){function A(B){const z=x[B];z&&(F&&F(z.target,B,g,u),z.handle.remove(),delete x[B])}const x={},m=t(g,p,(B,z,G)=>{A(G);w.isEventTarget(B)&&(x[G]={handle:w.on(B,u,v),target:B},q&&q(B,G,g,u))},C);return{remove(){m.remove();for(const B in x)A(B)}}};
a.once=function(g,p,u,v){return b(g,p,null,u,v)};a.pausable=function(g,p,u,v){let q=!1;const F=g.watch(p,(C,A,x,m)=>{q||u.call(g,C,A,x,m)},v);return{remove(){F.remove()},pause(){q=!0},resume(){q=!1}}};a.watch=function(g,p,u,v){return g.watch(p,u,v)};a.when=function(g,p,u,v){return r(g,p,c,u,v)};a.whenDefined=function(g,p,u,v){return r(g,p,h,u,v)};a.whenDefinedOnce=function(g,p,u,v){return b(g,p,h,u,v)};a.whenEqual=function(g,p,u,v,q){return r(g,p,F=>l.equals(u,F),v,q)};a.whenEqualOnce=function(g,
p,u,v,q){return b(g,p,F=>l.equals(u,F),v,q)};a.whenFalse=function(g,p,u,v){return r(g,p,k,u,v)};a.whenFalseOnce=function(g,p,u,v){return b(g,p,k,u,v)};a.whenNot=function(g,p,u,v){return r(g,p,e,u,v)};a.whenNotOnce=function(g,p,u,v){return b(g,p,e,u,v)};a.whenOnce=function(g,p,u,v){return b(g,p,c,u,v)};a.whenTrue=function(g,p,u,v){return r(g,p,f,u,v)};a.whenTrueOnce=function(g,p,u,v){return b(g,p,f,u,v)};a.whenUndefined=function(g,p,u,v){return r(g,p,d,u,v)};a.whenUndefinedOnce=function(g,p,u,v){return b(g,
p,d,u,v)};a.whenValidOnce=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/PromiseQueue":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../core/promiseUtils"],function(a,l){let w=function(y,r,b,c){this.resolve=y;this.reject=r;this.callback=b;this.signal=c};return function(){function y(){this._tasks=[]}var r=y.prototype;r.push=function(b,c){return l.create((e,f)=>this._tasks.push(new w(e,f,b,c)))};r.unshift=function(b,c){return l.create((e,f)=>this._tasks.unshift(new w(e,
f,b,c)))};r.process=function(){if(0===this._tasks.length)return!1;const b=this._tasks.shift();try{l.throwIfAborted(b.signal);const c=b.callback();c&&"object"===typeof c&&"then"in c&&"function"===typeof c.then?c.then(b.resolve,b.reject):b.resolve(c)}catch(c){b.reject(c)}return!0};r.cancelAll=function(){const b=l.createAbortError();for(const c of this._tasks)c.reject(b);this._tasks.length=0};a._createClass(y,[{key:"length",get:function(){return this._tasks.length}}]);return y}()})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor".split(" "),
function(a,l,w,y,r,b,c,e,f,k,h,d){w=function(t){function n(){var g=t.apply(this,arguments)||this;g.SCHEDULER_LOG_SLOW_TASKS=!1;return g}a._inheritsLoose(n,t);return n}(d);l.__decorate([b.property()],w.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);w=l.__decorate([e.subclass("esri.views.support.DebugFlags")],w);return new w})},"esri/core/workers/request":function(){define(["exports","../global","../Error"],function(a,l,w){let y;a.execute=function(r,b={}){let c=b.responseType;c?"json"!==c&&"text"!==c&&
"blob"!==c&&"array-buffer"!==c&&(c="text"):c="json";const e=b&&b.signal;delete b.signal;return l.invokeStaticMessage("request",{url:r,options:b},{signal:e}).then(f=>{var k=f.data;let h,d,t;if(k&&("json"===c||"text"===c||"blob"===c)&&(h=new Blob([k]),"json"===c||"text"===c)&&(y||(y=new FileReaderSync),d=y.readAsText(h),"json"===c)){try{t=JSON.parse(d||null)}catch(n){throw new w("request:server",n.message,{...n,url:r,requestOptions:b});}if(t.error)throw new w("request:server",t.error.message,{...t.error,
url:r,requestOptions:b});}switch(c){case "json":k=t;break;case "text":k=d;break;case "blob":k=h}return{data:k,requestOptions:b,ssl:f.ssl,url:r}})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define(["../../../../core/promiseUtils","./style/StyleRepository","./WorkerTile"],function(a,l,w){return function(){function y(){this._spriteInfo={};this._glyphInfo={}}var r=y.prototype;r.reset=function(){this._spriteInfo={};this._glyphInfo=
{};return a.resolve()};r.getLayers=function(){var b;return null==(b=this._styleRepository)?void 0:b.layers};r.createTileAndParse=async function(b,c){var {key:e}=b;const f={};for(const k of Object.keys(b.sourceName2DataAndRefKey))f[k]=b.sourceName2DataAndRefKey[k].refKey;e=new w(e,f,this,this._styleRepository);try{return await e.parse(b,this._vectorTileLayerMaxBuffers,c)}catch(k){e.setObsolete();e.release();if(!a.isAbortError(k))throw k;return null}};r.updateStyle=function(b){if(b&&0!==b.length&&this._styleRepository){var c=
this._styleRepository;for(const e of b)switch(b=e.data,e.type){case 0:c.setPaintProperties(b.layer,b.paint);break;case 1:c.setLayoutProperties(b.layer,b.layout);break;case 3:c.deleteStyleLayer(b.layerName);break;case 2:c.setStyleLayer(b.layer,b.index)}}};r.setStyle=function(b){this._styleRepository=new l(b.style);this._spriteInfo={};this._glyphInfo={};this._vectorTileLayerMaxBuffers=b.vectorTileLayerMaxBuffers};r.fetchSprites=function(b,c,e){const f=[],k=this._spriteInfo;b.forEach(h=>{void 0===k[h]&&
f.push(h)});return 0===f.length?a.resolve():c.invoke("getSprites",f,{signal:e&&e.signal}).then(h=>{for(const d in h)k[d]=h[d]})};r.getSpriteItems=function(){return this._spriteInfo};r.fetchGlyphs=function(b,c,e,f,k){const h=[];let d=this._glyphInfo[c];d?e.forEach(t=>{d[t]||h.push(t)}):(d=this._glyphInfo[c]=[],e.forEach(t=>h.push(t)));return 0===h.length?a.resolve():f.invoke("getGlyphs",{tileID:b,font:c,codePoints:h},k).then(t=>{for(let n=0;n<t.length;n++)t[n]&&(d[n]=t[n])})};r.getGlyphItems=function(b){return this._glyphInfo[b]};
return y}()})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["../../../../../core/has","./StyleLayer"],function(a,l){return function(){function w(r,b){this.backgroundBucketIds=[];this._uidToLayer=new Map;this._layerByName={};this._runningId=0;r.layers||(r.layers=[]);this.version=parseFloat(r.version);this.sprite=b?b.spriteUrl:r.sprite;this.glyphs=b?b.glyphsUrl:r.glyphs;if(this.layers=r.layers.map((c,e,f)=>this._create(c,e,f)))for(b=0;b<this.layers.length;b++)r=this.layers[b],
this._layerByName[r.id.toLowerCase()]=r,this._uidToLayer.set(r.uid,r),0===r.type&&this.backgroundBucketIds.push(r.id);this._identifyRefLayers()}var y=w.prototype;y.isPainterDataDriven=function(r){return(r=this._layerByName[r.toLowerCase()])?r.isPainterDataDriven():!1};y.getStyleLayerId=function(r){return r>=this.layers.length?null:this.layers[r].id};y.getStyleLayerByUID=function(r){r=this._uidToLayer.get(r);return null!=r?r:null};y.getStyleLayerIndex=function(r){return(r=this._layerByName[r.toLowerCase()])?
this.layers.indexOf(r):-1};y.setStyleLayer=function(r,b){if(r&&r.id){b&&b>=this.layers.length&&(b=this.layers.length-1);var c=!0,e;if(e=this._layerByName[r.id.toLowerCase()]){const f=this.layers.indexOf(e);b||(b=f);b===f?(c=!1,e=w._recreateLayer(r,e),this.layers[b]=e):(this.layers.splice(f,1),e=this._create(r,b,this.layers),this.layers.splice(b,0,e))}else e=this._create(r,b,this.layers),!b||b>=this.layers.length?this.layers.push(e):this.layers.splice(b,0,e);this._layerByName[r.id.toLowerCase()]=e;
this._uidToLayer.set(e.uid,e);c&&this._recomputeZValues();this._identifyRefLayers()}};y.getStyleLayer=function(r){return(r=this._layerByName[r.toLowerCase()])?{type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:r.layout,paint:r.paint}:null};y.deleteStyleLayer=function(r){const b=this._layerByName[r.toLowerCase()];b&&(delete this._layerByName[r.toLowerCase()],this._uidToLayer.delete(b.uid),r=this.layers.indexOf(b),this.layers.splice(r,
1),this._recomputeZValues(),this._identifyRefLayers())};y.getLayerById=function(r){return this._layerByName[r.toLowerCase()]};y.getLayoutProperties=function(r){return(r=this._layerByName[r.toLowerCase()])?r.layout:null};y.getPaintProperties=function(r){return(r=this._layerByName[r.toLowerCase()])?r.paint:null};y.setPaintProperties=function(r,b){r=this._layerByName[r.toLowerCase()];if(!r)return"";b=w._recreateLayer({type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,
maxzoom:r.maxzoom,filter:r.filter,layout:r.layout,paint:b},r);const c=this.layers.indexOf(r);this.layers[c]=b;this._layerByName[r.id.toLowerCase()]=b;this._uidToLayer.set(r.uid,b);return r.id};y.setLayoutProperties=function(r,b){r=this._layerByName[r.toLowerCase()];if(!r)return"";b=w._recreateLayer({type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:b,paint:r.paint},r);const c=this.layers.indexOf(r);this.layers[c]=b;this._layerByName[r.id.toLowerCase()]=
b;this._uidToLayer.set(r.uid,b);return r.id};y.setStyleLayerVisibility=function(r,b){if(r=this._layerByName[r.toLowerCase()]){var c=r.layout||{};c.visibility=b;b=w._recreateLayer({type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:c,paint:r.paint},r);c=this.layers.indexOf(r);this.layers[c]=b;this._layerByName[r.id.toLowerCase()]=b;this._uidToLayer.set(r.uid,b)}};y.getStyleLayerVisibility=function(r){var b;r=this._layerByName[r.toLowerCase()];
if(!r)return"none";r=r.layout;return null!=(b=null==r?void 0:r.visibility)?b:"visible"};y._recomputeZValues=function(){const r=this.layers,b=1/(r.length+1);for(let c=0;c<r.length;c++)r[c].z=1-(1+c)*b};y._identifyRefLayers=function(){const r=[],b=[];let c=0;for(const k of this.layers){if(1===k.type){var e=k,f=k.source+"|"+k.sourceLayer;f+="|"+JSON.stringify(k.layout&&k.layout.visibility);f+="|"+JSON.stringify(k.minzoom);f+="|"+JSON.stringify(k.maxzoom);f+="|"+JSON.stringify(k.filter);if(e.hasDataDrivenFill||
e.hasDataDrivenOutline)f+="|"+JSON.stringify(c);r.push({key:f,layer:k})}2===k.type&&(e=k,f=k.source+"|"+k.sourceLayer,f+="|"+JSON.stringify(k.layout&&k.layout.visibility),f+="|"+JSON.stringify(k.minzoom),f+="|"+JSON.stringify(k.maxzoom),f+="|"+JSON.stringify(k.filter),f+="|"+JSON.stringify(k.layout&&k.layout["line-cap"]),f+="|"+JSON.stringify(k.layout&&k.layout["line-join"]),e.hasDataDrivenLine&&(f+="|"+JSON.stringify(c)),b.push({key:f,layer:k}));++c}this._assignRefLayers(r);this._assignRefLayers(b)};
y._assignRefLayers=function(r){r.sort((f,k)=>f.key<k.key?-1:f.key>k.key?1:0);let b,c;const e=r.length;for(let f=0;f<e;f++){const k=r[f];if(k.key===b)k.layer.refLayerId=c;else if(b=k.key,c=k.layer.id,1===k.layer.type&&!k.layer.getPaintProperty("fill-outline-color"))for(let h=f+1;h<e;h++){const d=r[h];if(d.key===b){if(d.layer.getPaintProperty("fill-outline-color")){r[f]=d;r[h]=k;c=d.layer.id;break}}else break}}};y._create=function(r,b,c){b=1-1/(c.length+1)*(1+b);c=this._runningId++;switch(r.type){case "background":return new l.BackgroundStyleLayer(0,
r,b,c);case "fill":return new l.FillStyleLayer(1,r,b,c);case "line":return new l.LineStyleLayer(2,r,b,c);case "symbol":return new l.SymbolStyleLayer(3,r,b,c);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new l.CircleStyleLayer(4,r,b,c)}throw Error("Unknown vector tile layer");};w._recreateLayer=function(r,b){switch(r.type){case "background":return new l.BackgroundStyleLayer(0,r,b.z,b.uid);case "fill":return new l.FillStyleLayer(1,r,b.z,b.uid);case "line":return new l.LineStyleLayer(2,
r,b.z,b.uid);case "symbol":return new l.SymbolStyleLayer(3,r,b.z,b.uid);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new l.CircleStyleLayer(4,r,b.z,b.uid)}};return w}()})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),function(a,l,w,y,r,b){let c=function(){function t(g,p,u,v){this.type=g;this.typeName=
p.type;this.id=p.id;this.source=p.source;this.sourceLayer=p["source-layer"];this.minzoom=p.minzoom;this.maxzoom=p.maxzoom;this.filter=p.filter;this.layout=p.layout;this.paint=p.paint;this.z=u;this.uid=v;switch(g){case 0:this._layoutDefinition=y.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=y.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=y.StyleDefinition.fillLayoutDefinition;this._paintDefinition=y.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=
y.StyleDefinition.lineLayoutDefinition;this._paintDefinition=y.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=y.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=y.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=y.StyleDefinition.circleLayoutDefinition,this._paintDefinition=y.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}var n=t.prototype;n.getFeatureFilter=
function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=w.createFilter(this.filter)};n.getLayoutProperty=function(g){return this._layoutProperties[g]};n.getPaintProperty=function(g){return this._paintProperties[g]};n.getLayoutValue=function(g,p,u){let v;const q=this._layoutProperties[g];q&&(v=q.getValue(p,u));const F=this._layoutDefinition[g];void 0===v&&(v=F["default"]);"enum"===F.type?v=F.values.indexOf(v):"array"===F.type&&"enum"===F.value&&(v=v.map(C=>F.values.indexOf(C)));
return v};n.getPaintValue=function(g,p,u){let v;const q=this._paintProperties[g];q&&(v=q.getValue(p,u));g=this._paintDefinition[g];void 0===v&&(v=g["default"]);"enum"===g.type&&(v=g.values.indexOf(v));return v};n.isPainterDataDriven=function(){const g=this._paintProperties;if(g)for(const p in g)if(g[p].isDataDriven)return!0;return!1};n._parseLayout=function(g){const p={};for(const u in g){const v=this._layoutDefinition[u];v&&(p[u]=new r(v,g[u]))}return p};n._parsePaint=function(g){const p={};for(const u in g){const v=
this._paintDefinition[u];v&&(p[u]=new r(v,g[u]))}return p};return t}(),e=function(t){function n(g,p,u,v){return t.call(this,g,p,u,v)||this}l._inheritsLoose(n,t);return n}(c),f=function(t){function n(g,p,u,v){g=t.call(this,g,p,u,v)||this;p=g.getPaintProperty("fill-color");g.hasDataDrivenColor=p?p.isDataDriven:!1;p=g.getPaintProperty("fill-opacity");g.hasDataDrivenOpacity=p?p.isDataDriven:!1;g.hasDataDrivenFill=g.hasDataDrivenColor||g.hasDataDrivenOpacity;p=g.getPaintProperty("fill-outline-color");
g.outlineUsesFillColor=!p;g.hasDataDrivenOutlineColor=p?p.isDataDriven:!1;g.hasDataDrivenOutline=(p?g.hasDataDrivenOutlineColor:g.hasDataDrivenColor)||g.hasDataDrivenOpacity;return g}l._inheritsLoose(n,t);return n}(c),k=function(t){function n(g,p,u,v){g=t.call(this,g,p,u,v)||this;u=g.getPaintProperty("line-color");g.hasDataDrivenColor=u?u.isDataDriven:!1;u=g.getPaintProperty("line-opacity");g.hasDataDrivenOpacity=u?u.isDataDriven:!1;u=g.getPaintProperty("line-width");g.hasDataDrivenWidth=u?u.isDataDriven:
!1;g.hasDataDrivenLine=g.hasDataDrivenColor||g.hasDataDrivenOpacity||g.hasDataDrivenWidth;p=p.paint["line-width"];p||(p=y.StyleDefinition.linePaintDefinition["line-width"].default);g.isThinLine=!g.hasDataDrivenWidth&&"number"===typeof p&&p<b.THIN_LINE_THRESHOLD;return g}l._inheritsLoose(n,t);return n}(c),h=function(t){function n(g,p,u,v){g=t.call(this,g,p,u,v)||this;p=g.getPaintProperty("icon-color");g.hasDataDrivenIconColor=p?p.isDataDriven:!1;p=g.getPaintProperty("icon-opacity");g.hasDataDrivenIconOpacity=
p?p.isDataDriven:!1;p=g.getLayoutProperty("icon-size");g.hasDataDrivenIconSize=p?p.isDataDriven:!1;g.hasDataDrivenIcon=g.hasDataDrivenIconColor||g.hasDataDrivenIconOpacity||g.hasDataDrivenIconSize;p=g.getPaintProperty("text-color");g.hasDataDrivenTextColor=p?p.isDataDriven:!1;p=g.getPaintProperty("text-opacity");g.hasDataDrivenTextOpacity=p?p.isDataDriven:!1;p=g.getLayoutProperty("text-size");g.hasDataDrivenTextSize=p?p.isDataDriven:!1;g.hasDataDrivenText=g.hasDataDrivenTextColor||g.hasDataDrivenTextOpacity||
g.hasDataDrivenTextSize;return g}l._inheritsLoose(n,t);return n}(c),d=function(t){function n(g,p,u,v){g=t.call(this,g,p,u,v)||this;p=g.getPaintProperty("circle-radius");g.hasDataDrivenRadius=p?p.isDataDriven:!1;p=g.getPaintProperty("circle-color");g.hasDataDrivenColor=p?p.isDataDriven:!1;p=g.getPaintProperty("circle-opacity");g.hasDataDrivenOpacity=p?p.isDataDriven:!1;p=g.getPaintProperty("circle-stroke-width");g.hasDataDrivenStrokeWidth=p?p.isDataDriven:!1;p=g.getPaintProperty("circle-stroke-color");
g.hasDataDrivenStrokeColor=p?p.isDataDriven:!1;p=g.getPaintProperty("circle-stroke-opacity");g.hasDataDrivenStrokeOpacity=p?p.isDataDriven:!1;p=g.getPaintProperty("circle-blur");g.hasDataDrivenBlur=p?p.isDataDriven:!1;return g}l._inheritsLoose(n,t);return n}(c);a.BackgroundStyleLayer=e;a.CircleStyleLayer=d;a.FillStyleLayer=f;a.IconLayout=function(t,n,g,p){this.allowOverlap=t.getLayoutValue("icon-allow-overlap",n,p);this.anchor=t.getLayoutValue("icon-anchor",n,p);this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",
n,p);this.keepUpright=t.getLayoutValue("icon-keep-upright",n,p);this.offset=t.getLayoutValue("icon-offset",n,p);this.optional=t.getLayoutValue("icon-optional",n,p);this.padding=t.getLayoutValue("icon-padding",n,p);this.rotate=t.getLayoutValue("icon-rotate",n,p);this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",n,p);this.size=t.getLayoutValue("icon-size",n,p);2===this.rotationAlignment&&(this.rotationAlignment=g?0:1)};a.LineStyleLayer=k;a.StyleLayer=c;a.SymbolStyleLayer=h;a.TextLayout=
function(t,n,g,p){this.allowOverlap=t.getLayoutValue("text-allow-overlap",n,p);this.anchor=t.getLayoutValue("text-anchor",n,p);this.fontArray=t.getLayoutValue("text-font",n,p);this.ignorePlacement=t.getLayoutValue("text-ignore-placement",n,p);this.justify=t.getLayoutValue("text-justify",n,p);this.keepUpright=t.getLayoutValue("text-keep-upright",n,p);this.letterSpacing=t.getLayoutValue("text-letter-spacing",n,p);this.lineHeight=t.getLayoutValue("text-line-height",n,p);this.maxAngle=t.getLayoutValue("text-max-angle",
n,p);this.maxWidth=t.getLayoutValue("text-max-width",n,p);this.offset=t.getLayoutValue("text-offset",n,p);this.optional=t.getLayoutValue("text-optional",n,p);this.padding=t.getLayoutValue("text-padding",n,p);this.rotate=t.getLayoutValue("text-rotate",n,p);this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",n,p);this.size=t.getLayoutValue("text-size",n,p);this.transform=t.getLayoutValue("text-transform",n,p);this.writingMode=t.getLayoutValue("text-writing-mode",n,p);2===this.rotationAlignment&&
(this.rotationAlignment=g?0:1)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../../../../../chunks/expression"],function(a){return function(){function l(w){this._expression=w}l.prototype.filter=function(w,y){if(!this._expression)return!0;try{return this._expression.evaluate(w,y)}catch(r){return console.log(r.message),!0}};l.createFilter=function(w){if(!w)return null;this.isLegacyFilter(w)&&(w=this.convertLegacyFilter(w));try{const y=
a.createExpression(w);return new l(y)}catch(y){return console.log(y.message),null}};l.isLegacyFilter=function(w){if(!Array.isArray(w)||0===w.length)return!0;switch(w[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===w.length&&"string"===typeof w[1]&&!Array.isArray(w[2]);case "in":return 3<=w.length&&"string"===typeof w[1]&&!Array.isArray(w[2]);case "!in":return!0;case "any":case "all":for(let y=1;y<w.length;y++)if(!this.isLegacyFilter(w[1]))return!1;
return!0;case "none":return!0;case "has":return 2===w.length&&("$id"===w[1]||"$type"===w[1]);case "!has":return!0;default:return!1}};l.convertLegacyFilter=function(w){if(!Array.isArray(w)||0===w.length)return!0;const y=w[0];if(1===w.length)return"any"!==y;switch(y){case "\x3d\x3d":return l.convertComparison("\x3d\x3d",w[1],w[2]);case "!\x3d":return l.negate(l.convertComparison("\x3d\x3d",w[1],w[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return l.convertComparison(y,w[1],w[2]);case "in":return l.convertIn(w[1],
w.slice(2));case "!in":return l.negate(l.convertIn(w[1],w.slice(2)));case "any":case "all":case "none":return l.convertCombining(y,w.slice(1));case "has":return l.convertHas(w[1]);case "!has":return l.negate(l.convertHas(w[1]));default:throw Error("Unexpected legacy filter.");}};l.convertComparison=function(w,y,r){switch(y){case "$type":return[w,["geometry-type"],r];case "$id":return[w,["id"],r];default:return[w,["get",y],r]}};l.convertIn=function(w,y){switch(w){case "$type":return["in",["geometry-type"],
["literal",y]];case "$id":return["in",["id"],["literal",y]];default:return["in",["get",w],["literal",y]]}};l.convertHas=function(w){switch(w){case "$type":return!0;case "$id":return["has-id"];default:return["has",w]}};l.convertCombining=function(w,y){return[w].concat(y.map(this.convertLegacyFilter))};l.negate=function(w){return["!",w]};return l}()})},"esri/chunks/expression":function(){define("exports ./_rollupPluginBabelHelpers ../Color ../views/2d/engine/vectorTiles/expression/data ../views/2d/unitBezier ../views/2d/engine/vectorTiles/GeometryUtils".split(" "),
function(a,l,w,y,r,b){function c(K){return K>la?Math.pow(K,1/3):K/na+ma}function e(K){return K>qa?K*K*K:na*(K-ma)}function f(K){return 255*(.0031308>=K?12.92*K:1.055*Math.pow(K,1/2.4)-.055)}function k(K){K/=255;return.04045>=K?K/12.92:Math.pow((K+.055)/1.055,2.4)}function h(K){var H=k(K.r);const N=k(K.g),O=k(K.b),Y=c((.4124564*H+.3575761*N+.1804375*O)/.95047),ja=c(.2126729*H+.7151522*N+.072175*O);H=c((.0193339*H+.119192*N+.9503041*O)/1.08883);return{l:116*ja-16,a:500*(Y-ja),b:200*(ja-H),alpha:K.a}}
function d(K){let H=(K.l+16)/116,N=isNaN(K.a)?H:H+K.a/500,O=isNaN(K.b)?H:H-K.b/200;H=1*e(H);N=.95047*e(N);O=1.08883*e(O);return new w([f(3.2404542*N-1.5371385*H-.4985314*O),f(-.969266*N+1.8760108*H+.041556*O),f(.0556434*N-.2040259*H+1.0572252*O),K.alpha])}function t(K,H,N){return{l:b.interpolate(K.l,H.l,N),a:b.interpolate(K.a,H.a,N),b:b.interpolate(K.b,H.b,N),alpha:b.interpolate(K.alpha,H.alpha,N)}}function n(K){const {l:H,a:N,b:O}=h(K),Y=Math.atan2(O,N)*ha;return{h:0>Y?Y+360:Y,c:Math.sqrt(N*N+O*
O),l:H,alpha:K.a}}function g(K){const H=K.h*pa,N=K.c;return d({l:K.l,a:Math.cos(H)*N,b:Math.sin(H)*N,alpha:K.alpha})}function p(K,H,N){{var O=K.h;const Y=H.h-O;O+=N*(180<Y||-180>Y?Y-360*Math.round(Y/360):Y)}return{h:O,c:b.interpolate(K.c,H.c,N),l:b.interpolate(K.l,H.l,N),alpha:b.interpolate(K.alpha,H.alpha,N)}}function u(K,H){return{kind:"array",itemType:K,n:H}}function v(K){if("array"===K.kind){const H=v(K.itemType);return"number"===typeof K.n?`array<${H}, ${K.n}>`:"value"===K.itemType.kind?"array":
`array<${H}>`}return K.kind}function q(K){if(null===K)return Ma;if("string"===typeof K)return Ha;if("boolean"===typeof K)return Ja;if("number"===typeof K)return Fa;if(K instanceof w)return Na;if(Array.isArray(K)){let H;for(const N of K){const O=q(N);if(H){if(H!==O){H=Ia;break}}else H=O}return u(H||Ia,K.length)}return Ra}function F(K,H){if("error"===K.kind)return null;if("array"===H.kind){if("array"===K.kind&&(0===K.n&&"value"===K.itemType.kind||!F(K.itemType,H.itemType))&&("number"!==typeof H.n||
H.n===K.n))return null}else{if(H.kind===K.kind)return null;if("value"===H.kind)for(const N of Ya)if(!F(N,K))return null}return`Expected ${v(H)} but found ${v(K)} instead.`}function C(K){const H=typeof K;return null===K?"":"string"===H||"number"===H||"boolean"===H?String(K):K instanceof w?K.toString():JSON.stringify(K)}function A(K){if(null===K||"string"===typeof K||"boolean"===typeof K||"number"===typeof K)K=["literal",K];if(!Array.isArray(K)||0===K.length)throw Error("Expression must be a non empty array");
const H=K[0];if("string"!==typeof H)throw Error("First element of expression must be a string");const N=Pa[H];if(void 0===N)throw Error(`Invalid expression operator "${H}"`);if(!N)throw Error(`Unimplemented expression operator "${H}"`);return N.parse(K)}let x=function(){function K(H){this.args=H}K.parse=function(H){if(4!==H.length)throw Error('"rgb" expects 3 arguments.');H=H.slice(1).map(N=>A(N));return new K(H)};K.prototype.evaluate=function(H,N){const O=this.args[1].evaluate(H,N),Y=this.args[2].evaluate(H,
N);H=this.args[3].evaluate(H,N);return`rgb(${Math.round(O)},${Math.round(Y)},${Math.round(H)})`};return K}(),m=function(){function K(H){this.args=H}K.parse=function(H){if(5!==H.length)throw Error('"rgba" expects 4 arguments.');H=H.slice(1).map(N=>A(N));return new x(H)};K.prototype.evaluate=function(H,N){const O=this.args[1].evaluate(H,N),Y=this.args[2].evaluate(H,N),ja=this.args[3].evaluate(H,N);H=this.args[4].evaluate(H,N);return`rgb(${Math.round(O)},${Math.round(Y)},${Math.round(ja)},${H})`};return K}(),
B=function(){function K(H){this.color=H}K.parse=function(H){if(2!==H.length)throw Error('"to-rgba" expects 1 argument.');H=A(H[1]);return new K(H)};K.prototype.evaluate=function(H,N){return(new w(this.color.evaluate(H,N))).toRgba()};return K}(),z=function(){function K(H,N,O){this.lhs=H;this.rhs=N;this.compare=O}K.parse=function(H,N){if(3!==H.length&&4!==H.length)throw Error(`"${H[0]}" expects 2 or 3 arguments`);if(4===H.length)throw Error(`"${H[0]}" collator not supported`);return new K(A(H[1]),A(H[2]),
N)};K.prototype.evaluate=function(H,N){return this.compare(this.lhs.evaluate(H,N),this.rhs.evaluate(H,N))};return K}(),G=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){return z.parse(N,(O,Y)=>O===Y)};return H}(z),D=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){return z.parse(N,(O,Y)=>O!==Y)};return H}(z),E=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,
K);H.parse=function(N){return z.parse(N,(O,Y)=>O<Y)};return H}(z),I=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){return z.parse(N,(O,Y)=>O<=Y)};return H}(z),J=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){return z.parse(N,(O,Y)=>O>Y)};return H}(z),Q=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){return z.parse(N,(O,Y)=>O>=Y)};
return H}(z),P=function(){function K(H){this.arg=H}K.parse=function(H){if(2!==H.length)throw Error('"!" expects 1 argument');return new K(A(H[1]))};K.prototype.evaluate=function(H,N){return!this.arg.evaluate(H,N)};return K}(),W=function(){function K(H){this.args=H}K.parse=function(H){const N=[];for(let O=1;O<H.length;O++)N.push(A(H[O]));return new K(N)};K.prototype.evaluate=function(H,N){for(const O of this.args)if(!O.evaluate(H,N))return!1;return!0};return K}(),U=function(){function K(H){this.args=
H}K.parse=function(H){const N=[];for(let O=1;O<H.length;O++)N.push(A(H[O]));return new K(N)};K.prototype.evaluate=function(H,N){for(const O of this.args)if(O.evaluate(H,N))return!0;return!1};return K}(),R=function(){function K(H){this.args=H}K.parse=function(H){const N=[];for(let O=1;O<H.length;O++)N.push(A(H[O]));return new K(N)};K.prototype.evaluate=function(H,N){for(const O of this.args)if(O.evaluate(H,N))return!1;return!0};return K}(),V=function(){function K(H,N){this.args=H;this.fallback=N}K.parse=
function(H){if(4>H.length)throw Error('"case" expects at least 3 arguments');if(1===H.length%2)throw Error('"case" expects an odd number of arguments');const N=[];for(let O=1;O<H.length-1;O+=2)N.push({condition:A(H[O]),output:A(H[O+1])});return new K(N,A(H[H.length-1]))};K.prototype.evaluate=function(H,N){for(const O of this.args)if(O.condition.evaluate(H,N))return O.output.evaluate(H,N);return this.fallback.evaluate(H,N)};return K}(),aa=function(){function K(H){this.args=H}K.parse=function(H){if(2>
H.length)throw Error('"coalesce" expects at least 1 argument');const N=[];for(let O=1;O<H.length;O++)N.push(A(H[O]));return new K(N)};K.prototype.evaluate=function(H,N){for(const O of this.args){const Y=O.evaluate(H,N);if(null!==Y)return Y}return null};return K}(),ea=function(){function K(H,N,O,Y){this.input=H;this.labels=N;this.outputs=O;this.fallback=Y}K.parse=function(H){if(3>H.length)throw Error('"match" expects at least 3 arguments');if(0===H.length%2)throw Error('"case" expects an even number of arguments');
const N=A(H[1]),O=[],Y={};let ja;for(let Da=2;Da<H.length-1;Da+=2){var wa=H[Da];Array.isArray(wa)||(wa=[wa]);for(const Oa of wa){wa=typeof Oa;if("string"!==wa&&"number"!==wa)throw Error('"match" requires string or number literal as labels');if(!ja)ja=wa;else if(wa!==ja)throw Error('"match" requires labels to have the same type');Y[Oa]=O.length}O.push(A(H[Da+1]))}return new K(N,Y,O,A(H[H.length-1]))};K.prototype.evaluate=function(H,N){const O=this.input.evaluate(H,N);return(this.outputs[this.labels[O]]||
this.fallback).evaluate(H,N)};return K}();const ma=4/29,qa=6/29,na=3*qa*qa,la=qa*qa*qa,pa=Math.PI/180,ha=180/Math.PI;let ka=function(){function K(H,N,O,Y){this.operator=H;this.input=N;this.stops=O;this.interpolation=Y}K.parse=function(H){if(5>H.length)throw Error(`"${H[0]}" expects at least 4 arguments.`);const N=H[1];if(!Array.isArray(N)||0===N.length)throw Error(`"${H[0]}" expects an interpolation type expression.`);switch(N[0]){case "linear":break;case "exponential":if("number"!==typeof N[1])throw Error(`"${H[0]}" expects a numeric base for exponential interpolation.`);
break;case "cubic-bezier":if(5!==N.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.");for(var O=1;5>O;O++){var Y=N[O];if("number"!==typeof Y||0>Y||1<Y)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.");}break;default:throw Error(`"${H[0]}" unknown interpolation type "${N[0]}".`);}if(1!==H.length%2)throw Error(`"${H[0]}" expects an even number of arguments.`);O=A(H[2]);Y=[];for(let ja=3;ja<
H.length;ja+=2){const wa=H[ja];if("number"!==typeof wa)throw Error(`"${H[0]}" requires stop inputs as literal numbers.`);if(Y.length&&Y[Y.length-1][0]>=wa)throw Error(`"${H[0]}" requires strictly ascending stop inputs.`);Y.push([wa,A(H[ja+1])])}return new K(H[0],O,Y,N)};K.prototype.evaluate=function(H,N){const O=this.stops;if(1===O.length)return O[0][1].evaluate(H,N);var Y=this.input.evaluate(H,N);if(Y<=O[0][0])return O[0][1].evaluate(H,N);if(Y>=O[O.length-1][0])return O[O.length-1][1].evaluate(H,
N);let ja=0;for(;++ja<O.length&&!(Y<O[ja][0]););const wa=K.interpolationRatio(this.interpolation,Y,O[ja-1][0],O[ja][0]);Y=O[ja-1][1].evaluate(H,N);const Da=O[ja][1].evaluate(H,N);return"interpolate"===this.operator?Array.isArray(Y)?Y.map((Oa,cb)=>b.interpolate(Oa,Da[cb],wa)):b.interpolate(Y,Da,wa):"interpolate-hcl"===this.operator?g(p(n(Y),n(Da),wa)):d(t(h(Y),h(Da),wa))};K.interpolationRatio=function(H,N,O,Y){let ja=0;"exponential"===H[0]?ja=K.exponentialInterpolationRatio(N,H[1],O,Y):"linear"===
H[0]?ja=K.exponentialInterpolationRatio(N,1,O,Y):"cubic-bezier"===H[0]&&(ja=r.unitBezier(H[1],H[2],H[3],H[4])(K.exponentialInterpolationRatio(N,1,O,Y),1E-5));return ja};K.exponentialInterpolationRatio=function(H,N,O,Y){Y-=O;if(0===Y)return 0;H-=O;return 1===N?H/Y:(Math.pow(N,H)-1)/(Math.pow(N,Y)-1)};return K}(),ra=function(){function K(H,N){this.input=H;this.stops=N}K.parse=function(H){if(5>H.length)throw Error('"step" expects at least 4 arguments.');if(1!==H.length%2)throw Error('"step" expects an even number of arguments.');
const N=A(H[1]),O=[];O.push([-Infinity,A(H[2])]);for(let Y=3;Y<H.length;Y+=2){const ja=H[Y];if("number"!==typeof ja)throw Error('"step" requires stop inputs as literal numbers.');if(O.length&&O[O.length-1][0]>=ja)throw Error('"step" requires strictly ascending stop inputs.');O.push([ja,A(H[Y+1])])}return new K(N,O)};K.prototype.evaluate=function(H,N){const O=this.stops;if(1===O.length)return O[0][1].evaluate(H,N);const Y=this.input.evaluate(H,N);let ja=0;for(;++ja<O.length&&!(Y<O[ja][0]););return this.stops[ja-
1][1].evaluate(H,N)};return K}(),ua=function(){function K(H,N){this.index=H;this.array=N}K.parse=function(H){if(3!==H.length)throw Error('"at" expects 2 arguments.');const N=A(H[1]);H=A(H[2]);return new K(N,H)};K.prototype.evaluate=function(H,N){const O=this.index.evaluate(H,N);H=this.array.evaluate(H,N);if(0>O||O>=H.length)throw Error('"at" index out of bounds.');if(O!==Math.floor(O))throw Error('"at" index must be an integer.');return H[O]};return K}(),xa=function(){function K(H,N){this.key=H;this.obj=
N}K.parse=function(H){let N;switch(H.length){case 2:return N=A(H[1]),new K(N);case 3:return N=A(H[1]),H=A(H[2]),new K(N,H);default:throw Error('"get" expects 1 or 2 arguments');}};K.prototype.evaluate=function(H,N){const O=this.key.evaluate(H,N);return this.obj?this.obj.evaluate(H,N)[O]:H.values[O]};return K}(),za=function(){function K(H,N){this.key=H;this.obj=N}K.parse=function(H){let N;switch(H.length){case 2:return N=A(H[1]),new K(N);case 3:return N=A(H[1]),H=A(H[2]),new K(N,H);default:throw Error('"has" expects 1 or 2 arguments');
}};K.prototype.evaluate=function(H,N){const O=this.key.evaluate(H,N);return this.obj?(H=this.obj.evaluate(H,N),O in H):void 0!==H.values[O]};return K}(),Ba=function(){function K(H,N){this.key=H;this.vals=N}K.parse=function(H){if(3!==H.length)throw Error('"in" expects 2 arguments');return new K(A(H[1]),A(H[2]))};K.prototype.evaluate=function(H,N){const O=this.key.evaluate(H,N);return-1!==this.vals.evaluate(H,N).indexOf(O)};return K}(),ya=function(){function K(H,N,O){this.item=H;this.array=N;this.from=
O}K.parse=function(H){if(3>H.length||4<H.length)throw Error('"index-of" expects 3 or 4 arguments.');const N=A(H[1]),O=A(H[2]);return 4===H.length?(H=A(H[3]),new K(N,O,H)):new K(N,O)};K.prototype.evaluate=function(H,N){const O=this.item.evaluate(H,N),Y=this.array.evaluate(H,N);if(this.from){H=this.from.evaluate(H,N);if(H!==Math.floor(H))throw Error('"index-of" index must be an integer.');return Y.indexOf(O,H)}return Y.indexOf(O)};return K}(),L=function(){function K(H){this.arg=H}K.parse=function(H){if(2!==
H.length)throw Error('"length" expects 2 arguments.');H=A(H[1]);return new K(H)};K.prototype.evaluate=function(H,N){H=this.arg.evaluate(H,N);if("string"===typeof H||Array.isArray(H))return H.length;throw Error('"length" expects string or array.');};return K}(),S=function(){function K(H,N,O){this.array=H;this.from=N;this.to=O}K.parse=function(H){if(3>H.length||4<H.length)throw Error('"slice" expects 2 or 3 arguments.');const N=A(H[1]),O=A(H[2]);return 4===H.length?(H=A(H[3]),new K(N,O,H)):new K(N,
O)};K.prototype.evaluate=function(H,N){const O=this.array.evaluate(H,N),Y=this.from.evaluate(H,N);if(0>Y||Y>=O.length)throw Error('"slice" index out of bounds.');if(Y!==Math.floor(Y))throw Error('"slice" index must be an integer.');if(this.to){H=this.to.evaluate(H,N);if(0>H||H>=O.length)throw Error('"slice" index out of bounds.');if(H!==Math.floor(H))throw Error('"slice" index must be an integer.');return O.slice(Y,H)}return O.slice(Y)};return K}(),X=function(){function K(){}K.parse=function(H){if(1!==
H.length)throw Error('"has-id" expects no arguments');return new K};K.prototype.evaluate=function(H,N){return void 0!==H.id};return K}(),Z=function(){function K(H,N){this.args=H;this.calculate=N}K.parse=function(H,N){H=H.slice(1).map(O=>A(O));return new K(H,N)};K.prototype.evaluate=function(H,N){let O;this.args&&(O=this.args.map(Y=>Y.evaluate(H,N)));return this.calculate(O)};return K}(),ia=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){switch(N.length){case 2:return Z.parse(N,
O=>-O[0]);case 3:return Z.parse(N,O=>O[0]-O[1]);default:throw Error('"-" expects 1 or 2 arguments');}};return H}(Z),oa=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){return Z.parse(N,O=>{let Y=1;for(const ja of O)Y*=ja;return Y})};return H}(Z),va=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){if(3===N.length)return Z.parse(N,O=>O[0]/O[1]);throw Error('"/" expects 2 arguments');};return H}(Z),
Aa=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){if(3===N.length)return Z.parse(N,O=>O[0]%O[1]);throw Error('"%" expects 2 arguments');};return H}(Z),Wa=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,K);H.parse=function(N){if(3===N.length)return Z.parse(N,O=>Math.pow(O[0],O[1]));throw Error('"^" expects 1 or 2 arguments');};return H}(Z),La=function(K){function H(){return K.apply(this,arguments)||this}l._inheritsLoose(H,
K);H.parse=function(N){return Z.parse(N,O=>{let Y=0;for(const ja of O)Y+=ja;return Y})};return H}(Z),sa=function(){function K(H,N){this.args=H;this.calculate=N}K.parse=function(H){const N=H.slice(1).map(O=>A(O));return new K(N,K.ops[H[0]])};K.prototype.evaluate=function(H,N){let O;this.args&&(O=this.args.map(Y=>Y.evaluate(H,N)));return this.calculate(O)};return K}();sa.ops={abs:K=>Math.abs(K[0]),acos:K=>Math.acos(K[0]),asin:K=>Math.asin(K[0]),atan:K=>Math.atan(K[0]),ceil:K=>Math.ceil(K[0]),cos:K=>
Math.cos(K[0]),e:()=>Math.E,floor:K=>Math.floor(K[0]),ln:K=>Math.log(K[0]),ln2:()=>Math.LN2,log10:K=>Math.log(K[0])/Math.LN10,log2:K=>Math.log(K[0])/Math.LN2,max:K=>Math.max(...K),min:K=>Math.min(...K),pi:()=>Math.PI,round:K=>Math.round(K[0]),sin:K=>Math.sin(K[0]),sqrt:K=>Math.sqrt(K[0]),tan:K=>Math.tan(K[0])};let Xa=function(){function K(H){this.args=H}K.parse=function(H){return new K(H.slice(1).map(N=>A(N)))};K.prototype.evaluate=function(H,N){return this.args.map(O=>O.evaluate(H,N)).join("")};
return K}(),Ca=function(){function K(H,N){this.arg=H;this.calculate=N}K.parse=function(H){if(2!==H.length)throw Error(`${H[0]} expects 1 argument.`);const N=A(H[1]);return new K(N,K.ops[H[0]])};K.prototype.evaluate=function(H,N){return this.calculate(this.arg.evaluate(H,N))};return K}();Ca.ops={downcase:K=>K.toLowerCase(),upcase:K=>K.toUpperCase()};const Ma={kind:"null"},Fa={kind:"number"},Ha={kind:"string"},Ja={kind:"boolean"},Na={kind:"color"},Ra={kind:"object"},Ia={kind:"value"},Ya=[Ma,Fa,Ha,Ja,
Na,Ra,u(Ia)];let Ga=function(){function K(H,N){this.type=H;this.args=N}K.parse=function(H){var N=H[0];if(2>H.length)throw Error(`${N} expects at least one argument.`);let O=1,Y;if("array"===N){if(2<H.length){switch(H[1]){case "string":Y=Ha;break;case "number":Y=Fa;break;case "boolean":Y=Ja;break;default:throw Error('"array" type argument must be string, number or boolean');}O++}else Y=Ia;if(3<H.length){var ja=H[2];if(null!==ja&&("number"!==typeof ja||0>ja||ja!==Math.floor(ja)))throw Error('"array" length argument must be a positive integer literal');
O++}Y=u(Y,ja)}else switch(N){case "string":Y=Ha;break;case "number":Y=Fa;break;case "boolean":Y=Ja;break;case "object":Y=Ra}for(N=[];O<H.length;O++)ja=A(H[O]),N.push(ja);return new K(Y,N)};K.prototype.evaluate=function(H,N){for(const O of this.args){const Y=O.evaluate(H,N);if(!F(q(Y),this.type))return Y}return null};return K}(),Ka=function(){function K(H,N){this.type=H;this.args=N}K.parse=function(H){var N=H[0];if("to-boolean"===N||"to-string"===N){if(2!==H.length)throw Error(`${N} expects one argument.`);
}else if(2>H.length)throw Error(`${N} expects at least one argument.`);N=K.types[N];const O=[];for(let Y=1;Y<H.length;Y++){const ja=A(H[Y]);O.push(ja)}return new K(N,O)};K.prototype.evaluate=function(H,N){if(this.type===Ja)return!!this.args[0].evaluate(H,N);if(this.type===Ha)return C(this.args[0].evaluate(H,N));if(this.type===Fa){for(var O of this.args){var Y=O.evaluate(H,N);if(null===Y)return 0;Y=Number(Y);if(!isNaN(Y))return Y}return null}if(this.type===Na){for(Y of this.args){O=Y.evaluate(H,N);
if(O instanceof w)return O;if("string"===typeof O)return w.fromString(O);if(Array.isArray(O)&&(3===O.length||4===O.length))return w.fromArray(O)}return null}};return K}();Ka.types={"to-boolean":Ja,"to-color":Na,"to-number":Fa,"to-string":Ha};let Sa=function(){function K(H){this.val=H}K.parse=function(H){if(2!==H.length)throw Error('"literal" expects 1 argument');return new K(H[1])};K.prototype.evaluate=function(H,N){return this.val};return K}(),Za=function(){function K(H){this.arg=H}K.parse=function(H){if(2!==
H.length)throw Error('"typeof" expects 1 argument');return new K(A(H[1]))};K.prototype.evaluate=function(H,N){return v(q(this.arg.evaluate(H,N)))};return K}();const Pa={array:Ga,"boolean":Ga,collator:null,format:null,literal:Sa,image:null,number:Ga,"number-format":null,object:Ga,string:Ga,"to-boolean":Ka,"to-color":Ka,"to-number":Ka,"to-string":Ka,"typeof":Za,accumulated:null,"feature-state":null,"geometry-type":y.GeomType,id:y.ID,"line-progress":null,properties:y.Properties,at:ua,get:xa,has:za,"in":Ba,
"index-of":ya,length:L,slice:S,"!":P,"!\x3d":D,"\x3c":E,"\x3c\x3d":I,"\x3d\x3d":G,"\x3e":J,"\x3e\x3d":Q,all:W,any:U,"case":V,coalesce:aa,match:ea,within:null,interpolate:ka,"interpolate-hcl":ka,"interpolate-lab":ka,step:ra,let:null,"var":null,concat:Xa,downcase:Ca,"is-supported-script":null,"resolved-locale":null,upcase:Ca,rgb:x,rgba:m,"to-rgba":B,"-":ia,"*":oa,"/":va,"%":Aa,"^":Wa,"+":La,abs:sa,acos:sa,asin:sa,atan:sa,ceil:sa,cos:sa,e:sa,floor:sa,ln:sa,ln2:sa,log10:sa,log2:sa,max:sa,min:sa,pi:sa,
round:sa,sin:sa,sqrt:sa,tan:sa,zoom:y.Zoom,"heatmap-density":null,"has-id":X,none:R};a.ALL=W;a.ANY=U;a.Add=La;a.Assert=Ga;a.At=ua;a.BooleanType=Ja;a.Calculate=sa;a.Case=V;a.Coalesce=aa;a.Coerce=Ka;a.ColorType=Na;a.Concat=Xa;a.Div=va;a.EQ=G;a.ErrorType={kind:"error"};a.GE=Q;a.GT=J;a.Get=xa;a.Has=za;a.HasID=X;a.In=Ba;a.IndexOf=ya;a.Interpolate=ka;a.LE=I;a.LT=E;a.Length=L;a.Literal=Sa;a.Match=ea;a.Mod=Aa;a.Mul=oa;a.NE=D;a.NONE=R;a.NOT=P;a.NullType=Ma;a.NumberType=Fa;a.ObjectType=Ra;a.Pow=Wa;a.Rgb=x;
a.Rgba=m;a.Slice=S;a.Step=ra;a.String=Ca;a.StringType=Ha;a.Sub=ia;a.ToRgba=B;a.TypeOf=Za;a.ValueType=Ia;a.array=u;a.createExpression=A;a.ops=Pa;a.typeToString=v;a.valueToString=C})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers","./core/maybe","./core/accessorSupport/ensureType","./colorUtils","./core/mathUtils"],function(a,l,w,y,r){function b(f){return r.clamp(w.ensureInteger(f),0,255)}function c(f,k,h){f=Number(f);return isNaN(f)?h:f<k?k:f>h?h:f}let e=function(){function f(h){this.b=
this.g=this.r=255;this.a=1;h&&this.setColor(h)}f.blendColors=function(h,d,t,n=new f){n.r=Math.round(h.r+(d.r-h.r)*t);n.g=Math.round(h.g+(d.g-h.g)*t);n.b=Math.round(h.b+(d.b-h.b)*t);n.a=h.a+(d.a-h.a)*t;return n._sanitize()};f.fromRgb=function(h,d){var t=h.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(t){h=t[2].split(/\s*,\s*/);t=t[1];if("rgb"===t&&3===h.length||"rgba"===t&&4===h.length)return t=h[0],"%"===t.charAt(t.length-1)?(t=h.map(n=>2.56*parseFloat(n)),4===h.length&&(t[3]=parseFloat(h[3])),
f.fromArray(t,d)):f.fromArray(h.map(n=>parseFloat(n)),d);if("hsl"===t&&3===h.length||"hsla"===t&&4===h.length)return f.fromArray(y.hsla2rgba(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100,parseFloat(h[3])),d)}return null};f.fromHex=function(h,d=new f){const t=4===h.length?4:8,n=(1<<t)-1;let g=Number("0x"+h.substr(1));if(isNaN(g))return null;["b","g","r"].forEach(p=>{const u=g&n;g>>=t;d[p]=4===t?17*u:u});d.a=1;return d};f.fromArray=function(h,d=new f){d._set(Number(h[0]),Number(h[1]),Number(h[2]),
Number(h[3]));isNaN(d.a)&&(d.a=1);return d._sanitize()};f.fromString=function(h,d){const t=y.getNamedColor(h);return t&&f.fromArray(t,d)||f.fromRgb(h,d)||f.fromHex(h,d)};f.fromJSON=function(h){return h&&new f([h[0],h[1],h[2],h[3]/255])};f.toUnitRGB=function(h){return l.isSome(h)?[h.r/255,h.g/255,h.b/255]:null};f.toUnitRGBA=function(h){return l.isSome(h)?[h.r/255,h.g/255,h.b/255,null!=h.a?h.a:1]:null};var k=f.prototype;k.setColor=function(h){if("string"===typeof h)f.fromString(h,this);else if(Array.isArray(h))f.fromArray(h,
this);else{var d,t,n,g;this._set(null!=(d=h.r)?d:0,null!=(t=h.g)?t:0,null!=(n=h.b)?n:0,null!=(g=h.a)?g:1);h instanceof f||this._sanitize()}return this};k.toRgb=function(){return[this.r,this.g,this.b]};k.toRgba=function(){return[this.r,this.g,this.b,this.a]};k.toHex=function(){const h=this.r.toString(16),d=this.g.toString(16),t=this.b.toString(16);return`#${2>h.length?"0"+h:h}${2>d.length?"0"+d:d}${2>t.length?"0"+t:t}`};k.toCss=function(h=!1){const d=this.r+", "+this.g+", "+this.b;return h?`rgba(${d}, ${this.a})`:
`rgb(${d})`};k.toString=function(){return this.toCss(!0)};k.toJSON=function(){return this.toArray()};k.toArray=function(h=0){const d=b(this.r),t=b(this.g),n=b(this.b);return 0===h||1!==this.a?[d,t,n,b(255*this.a)]:[d,t,n]};k.clone=function(){return new f(this.toRgba())};k.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};k._sanitize=function(){this.r=Math.round(c(this.r,0,255));this.g=Math.round(c(this.g,0,255));this.b=Math.round(c(this.b,0,255));this.a=c(this.a,0,1);return this};
k._set=function(h,d,t,n){this.r=h;this.g=d;this.b=t;this.a=n};a._createClass(f,[{key:"isBright",get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return f}();e.prototype.declaredClass="esri.Color";return e})},"esri/colorUtils":function(){define(["exports"],function(a){function l(r){var b;return null!=(b=y[r])?b:null}function w(r,b,c){0>c&&++c;1<c&&--c;const e=6*c;return 1>e?r+(b-r)*e:1>2*c?b:2>3*c?r+(b-r)*(2/3-c)*6:r}const y={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,
192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],
burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,
0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,
255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,
160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,
21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,
224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,
130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};a.getNamedColor=l;a.getNamedColorCopy=function(r){return(r=l(r))?[...r]:r};a.hex2rgba=function(r){var b=5<r.length;const c=b?8:4,e=(1<<c)-1,f=b?1:17;b=b?9===r.length:5===r.length;r=Number("0x"+r.substr(1));if(isNaN(r))return null;const k=[0,0,0,1];b&&(b=r&e,r>>=c,k[3]=f*b/255);b=r&e;r>>=c;k[2]=f*b;b=r&e;r>>=c;k[1]=f*b;b=r&e;r>>=c;k[0]=f*b;return k};a.hsla2rgba=function(r,b,c,e=1){r=(r%360+360)%360/360;b=.5>=c?
c*(b+1):c+b-c*b;c=2*c-b;return[Math.round(256*w(c,b,r+1/3)),Math.round(256*w(c,b,r)),Math.round(256*w(c,b,r-1/3)),e]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/mathUtils":function(){define(["exports"],function(a){function l(h,d,t){return h<d?d:h>t?t:h}function w(h,d,t){return h+(d-h)*t}function y(h){r[0]=h;return r[0]}const r=new Float32Array(1),b=Number.isFinite||function(h){return"number"===typeof h&&window.isFinite(h)},c=Number.isNaN||function(h){return h!==h},e=Math.sign||
function(h){return+(0<h)-+(0>h)||+h},f=Math.log2||function(h){return Math.log(h)/Math.LN2},k=y(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=k;a.acosClamped=function(h){return Math.acos(l(h,-1,1))};a.asinClamped=function(h){return Math.asin(l(h,-1,1))};a.clamp=l;a.clampFloat32=function(h){return y(Math.max(-k,Math.min(h,k)))};a.deg2rad=function(h){return h*Math.PI/180};a.floatEqualAbsolute=function(h,d,t=1E-6){return c(h)||c(d)?!1:(h>d?h-d:d-h)<=t};a.floatEqualRelative=function(h,d,t=1E-6){if(c(h)||
c(d))return!1;if(h===d)return!0;const n=Math.abs(h-d),g=Math.abs(h),p=Math.abs(d);if(0===h||0===d||1E-12>g&&1E-12>p){if(n>.01*t)return!1}else if(n/(g+p)>t)return!1;return!0};a.glClamp=function(h,d,t){return Math.min(Math.max(h,d),t)};a.isFinite=b;a.isNaN=c;a.isPowerOfTwo=function(h){return 0===(h&h-1)};a.lerp=w;a.log2=f;a.nextHighestPowerOfTen=function(h){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(h)))};a.nextHighestPowerOfTwo=function(h){--h;for(let d=1;32>d;d<<=1)h|=h>>d;return h+1};a.nextPowerOfTwo=
function(h){h--;h|=h>>1;h|=h>>2;h|=h>>4;h|=h>>8;h|=h>>16;h++;return h};a.rad2deg=function(h){return 180*h/Math.PI};a.reciprocalClamped=function(h,d=1E-6){return(0>h?-1:1)/Math.max(Math.abs(h),d)};a.scale=function(h,d,t,n,g){return w(n,g,(h-d)/(t-d))};a.sign=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/expression/data":function(){define(["exports"],function(a){let l=function(){function b(){}b.parse=function(c){if(1<c.length)throw Error('"id" does not expect arguments');
return new b};b.prototype.evaluate=function(c,e){return c.id};return b}(),w=function(){function b(){}b.parse=function(c){if(1<c.length)throw Error('"geometry-type" does not expect arguments');return new b};b.prototype.evaluate=function(c,e){switch(c.type){case 0:return"Unknown";case 1:return"Point";case 2:return"LineString";case 3:return"Polygon"}};return b}(),y=function(){function b(){}b.parse=function(c){if(1<c.length)throw Error('"properties" does not expect arguments');return new b};b.prototype.evaluate=
function(c,e){return c.values};return b}(),r=function(){function b(){}b.parse=function(c){if(1<c.length)throw Error('"zoom" does not expect arguments');return new b};b.prototype.evaluate=function(c,e){return e};return b}();a.GeomType=w;a.ID=l;a.Properties=y;a.Zoom=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/unitBezier":function(){define(["exports"],function(a){function l(r,b,c,e){function f(p,u){var v;let q,F;q=p;for(v=0;8>v;v++){F=((d*q+h)*q+k)*q-p;if(Math.abs(F)<u)return q;
var C=(3*d*q+2*h)*q+k;if(1E-6>Math.abs(C))break;q-=F/C}C=0;v=1;q=p;if(q<C)return C;if(q>v)return v;for(;C<v;){F=((d*q+h)*q+k)*q;if(Math.abs(F-p)<u)break;p>F?C=q:v=q;q=.5*(v-C)+C}return q}const k=3*r,h=3*(c-r)-k,d=1-k-h,t=3*b,n=3*(e-b)-t,g=1-t-n;return function(p,u=1E-6){p=f(p,u);return((g*p+n)*p+t)*p}}const w=/^cubic-bezier\((.*)\)/,y={};y.ease=l(.25,.1,.25,1);y.linear=l(0,0,1,1);y.easeIn=y["ease-in"]=l(.42,0,1,1);y.easeOut=y["ease-out"]=l(0,0,.58,1);y.easeInOut=y["ease-in-out"]=l(.42,0,.58,1);a.easingFunctions=
y;a.parse=function(r){let b=y[r]||null;!b&&(r=w.exec(r))&&(r=r[1].split(",").map(c=>parseFloat(c.trim())),4!==r.length||r.some(c=>isNaN(c))||(b=l.apply(l,r)));return b};a.unitBezier=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports"],function(a){function l(e,f){e%=f;return 0<=e?e:e+f}const w=Number.POSITIVE_INFINITY,y=Math.PI,r=128/y,b=256/360,c=1/Math.LN2;a.C_256_TO_RAD=y/128;a.C_2PI=2*y;a.C_DEG_TO_256=b;a.C_DEG_TO_RAD=
y/180;a.C_INFINITY=w;a.C_PI=y;a.C_PI_BY_2=y/2;a.C_RAD_TO_256=r;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/1.414213562;a.between=function(e,f,k){return e>=f&&e<=k||e>=k&&e<=f};a.degToByte=function(e){return l(e*b,256)};a.interpolate=function(e,f,k){return e*(1-k)+f*k};a.log2=function(e){return Math.log(e)*c};a.positiveMod=l;a.radToByte=function(e){return l(e*r,256)};a.sqr=function(e){return e*e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports"],
function(a){let l=function(){};l.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};l.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};l.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},
"line-round-limit":{type:"number",default:1.05}};l.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:"point"},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),
default:"center"},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",
default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:"center"},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",
default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-size":{type:"number",minimum:0,default:16},
"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:["horizontal"]}};l.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};l.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};l.fillPaintDefinition={"fill-antialias":{type:"boolean",
default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};l.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",
value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1}};l.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",
minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",
minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};l.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},
"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};l.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",
minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};a.StyleDefinition=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color","../../../../../chunks/expression","../GeometryUtils"],function(a,l,w){return function(){function y(b,
c){this.isDataDriven=!1;let e;switch(b.type){case "number":e=!0;break;case "color":e=!0;c=y._parseColor(c);break;case "array":e="number"===b.value;break;default:e=!1}null==c&&(c=b.default);if(Array.isArray(c)&&0<c.length&&l.ops[c[0]])try{var f=l.createExpression(c);this.getValue=this._buildExpression(f,b);this.isDataDriven=!0}catch(k){console.log(k.message),this.getValue=this._buildSimple(b.default)}else{e&&"interval"===c.type&&(e=!1);if(f=c&&c.stops&&0<c.stops.length)for(const k of c.stops)k[1]=
this._validate(k[1],b);if(this.isDataDriven=c?!!c.property:!1)if(void 0!==c.default&&(c.default=this._validate(c.default,b)),f)switch(c.type){case "identity":this.getValue=this._buildIdentity(c,b);break;case "categorical":this.getValue=this._buildCategorical(c,b);break;default:this.getValue=e?this._buildInterpolate(c,b):this._buildInterval(c,b)}else this.getValue=this._buildIdentity(c,b);else f?this.getValue=e?this._buildZoomInterpolate(c):this._buildZoomInterval(c):(c=this._validate(c,b),this.getValue=
this._buildSimple(c))}}var r=y.prototype;r._validate=function(b,c){if("number"===c.type){if(b<c.minimum)return c.minimum;if(b>c.maximum)return c.maximum}return b};r._buildSimple=function(b){return()=>b};r._buildExpression=function(b,c){return(e,f)=>{try{let k=b.evaluate(f,e);"color"===c.type&&(k=y._parseColor(k));return void 0===k?c.default:this._validate(k,c)}catch(k){return console.log(k.message),c.default}}};r._buildIdentity=function(b,c){return(e,f)=>{let k;f&&(k=f.values[b.property],"color"===
c.type&&(k=y._parseColor(k)));void 0===k&&(k=b.default);return void 0!==k?this._validate(k,c):c.default}};r._buildCategorical=function(b,c){return(e,f)=>{let k;f&&(k=f.values[b.property]);k=this._categorical(k,b.stops);return void 0!==k?k:void 0!==b.default?b.default:c.default}};r._buildInterval=function(b,c){return(e,f)=>{let k;f&&(k=f.values[b.property]);return"number"===typeof k?this._interval(k,b.stops):void 0!==b.default?b.default:c.default}};r._buildInterpolate=function(b,c){return(e,f)=>{let k;
f&&(k=f.values[b.property]);return"number"===typeof k?this._interpolate(k,b.stops,b.base||1):void 0!==b.default?b.default:c.default}};r._buildZoomInterpolate=function(b){return c=>this._interpolate(c,b.stops,b.base||1)};r._buildZoomInterval=function(b){return c=>this._interval(c,b.stops)};r._categorical=function(b,c){const e=c.length;for(let f=0;f<e;f++)if(c[f][0]===b)return c[f][1]};r._interval=function(b,c){const e=c.length;let f=0;for(let k=0;k<e;k++)if(c[k][0]<=b)f=k;else break;return c[f][1]};
r._interpolate=function(b,c,e){const f=c.length;for(let d=0;d<f;d++){const t=c[d];if(t[0]<=b)var k=t;else{var h=t;break}}if(k&&h){c=h[0]-k[0];b-=k[0];e=1===e?b/c:(Math.pow(e,b)-1)/(Math.pow(e,c)-1);if(Array.isArray(k[1])){k=k[1];h=h[1];b=[];for(c=0;c<k.length;c++)b.push(w.interpolate(k[c],h[c],e));return b}return w.interpolate(k[1],h[1],e)}if(k)return k[1];if(h)return h[1]};y._isEmpty=function(b){for(const c in b)if(b.hasOwnProperty(c))return!1;return!0};y._parseColor=function(b){if(Array.isArray(b))return b;
if("string"===typeof b){if(b=new a(b),!this._isEmpty(b))return a.toUnitRGBA(b)}else return b&&b.default&&(b.default=y._parseColor(b.default)),b&&b.stops&&(b.stops=b.stops.map(c=>[c[0],y._parseColor(c[1])])),b};return y}()})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],function(a){a.ANGLE_FACTOR_256=256/360;a.ATTRIBUTE_DATA_ANIMATION=1;a.ATTRIBUTE_DATA_DD0=3;a.ATTRIBUTE_DATA_DD1=3;a.ATTRIBUTE_DATA_FILTER_FLAGS=0;a.ATTRIBUTE_DATA_VV=2;a.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;a.AVERAGE_GLYPH_MOSAIC_ITEM=
{metrics:{width:15,height:17,left:0,top:-7,advance:14}};a.COLLISION_BOX_PADDING=16;a.COLLISION_BUCKET_SIZE=128;a.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;a.COLLISION_MAX_ZOOM_DELTA=1;a.COLLISION_PLACEMENT_PADDING=8;a.COLLISION_TILE_BOX_SIZE=4;a.DEBUG_LABELS=!1;a.DOT_DENSITY_MAX_FIELDS=8;a.EFFECT_FLAG_0=4;a.EXTRUDE_SCALE=64;a.FILTER_FLAG_0=2;a.GLYPH_SIZE=24;a.HEURISTIC_GLYPHS_PER_FEATURE=10;a.HEURISTIC_GLYPHS_PER_LINE=50;a.HIGHLIGHT_FLAG=1;a.HITTEST_SEARCH_SIZE=6;a.MAGIC_LABEL_LINE_HEIGHT=29;a.MAX_FILTERS=
2;a.MAX_GPU_UPLOADS_PER_FRAME=2;a.NAN_MAGIC_NUMBER=1E-30;a.PICTURE_FILL_COLOR=4294967295;a.RASTER_TILE_SIZE=256;a.SPRITE_PADDING=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;a.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;a.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;a.TEXTURE_BINDING_BITMAP=0;a.TEXTURE_BINDING_GLYPH_ATLAS=0;a.TEXTURE_BINDING_HIGHLIGHT_0=5;a.TEXTURE_BINDING_HIGHLIGHT_1=6;a.TEXTURE_BINDING_RENDERER_0=5;a.TEXTURE_BINDING_RENDERER_1=6;a.TEXTURE_BINDING_SPRITE_ATLAS=0;a.TEXT_PLACEMENT_PADDING=
8;a.THIN_LINE_THRESHOLD=2.5;a.TILE_SIZE=512;a.VTL_HIGH_RES_CUTOFF=1.15;a.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;a.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;a.WEBGL_MAX_INNER_STOPS=6;a.WEBGL_MAX_STOPS=8;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define(["../../../../core/maybe","../../../../core/promiseUtils","../../tiling/enums","./Placement","./TileParser"],function(a,l,w,y,r){return function(){function b(e,f,k,h){this.status=w.TileStatus.INITIALIZED;
this.placementEngine=new y.PlacementEngine;this.tileKey=e;this.refKeys=f;this._workerTileHandler=k;this._styleRepository=h}var c=b.prototype;c.release=function(){this.tileKey="";this.refKeys=null;this.status=w.TileStatus.INITIALIZED;this._workerTileHandler=null};c.parse=async function(e,f,k){const h=k&&k.signal;if(a.isSome(h)){const t=()=>{h.removeEventListener("abort",t);this.status=w.TileStatus.INVALID};h.addEventListener("abort",t)}try{var d=await this._parse(e,k)}catch(t){if(l.isAbortError(t))throw t;
return{result:[],transferList:[]}}this.status=w.TileStatus.READY;e=[];for(const t of d)d=t.serialize(),e.push(d);return{result:e,transferList:e.length<=f&&e}};c.setObsolete=function(){this.status=w.TileStatus.INVALID};c.getLayers=function(){return this._workerTileHandler.getLayers()};c.getWorkerTileHandler=function(){return this._workerTileHandler};c._parse=async function(e,f){const k=e.sourceName2DataAndRefKey;if(0===Object.keys(k).length)return[];this.status=w.TileStatus.MODIFIED;return(new r(k,
this,f.client,this._styleRepository,e.styleLayerUIDs)).parse(f)};return b}()})},"esri/views/2d/tiling/enums":function(){define(["exports"],function(a){var l=a.TileStatus||(a.TileStatus={});l[l.INITIALIZED=0]="INITIALIZED";l[l.NO_DATA=1]="NO_DATA";l[l.READY=2]="READY";l[l.MODIFIED=3]="MODIFIED";l[l.INVALID=4]="INVALID";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["exports","./GeometryUtils","./decluttering/config","../webgl/Geometry",
"./TextShaping"],function(a,l,w,y,r){let b=function(k,h,d,t,n,g=.5,p=l.C_INFINITY){this.anchor=k;this.labelAngle=h;this.glyphAngle=d;this.page=t;this.alternateVerticalGlyph=n;this.minzoom=g;this.maxzoom=p},c=function(k,h,d,t,n,g,p,u,v,q,F,C){this.tl=k;this.tr=h;this.bl=d;this.br=t;this.mosaicRect=n;this.labelAngle=g;this.minAngle=p;this.maxAngle=u;this.anchor=v;this.minzoom=q;this.maxzoom=F;this.page=C},e=function(k){this.shapes=k},f=function(){function k(){}var h=k.prototype;h.getIconPlacement=function(d,
t,n){const g=new y.Point(d.x,d.y),p=0===n.rotationAlignment,u=n.keepUpright;let v=n.rotate*l.C_DEG_TO_RAD;p&&(v+=d.angle);d=new e([]);n.allowOverlap&&n.ignorePlacement||!w.DECLUTTER_TILES||(d.iconColliders=[]);this._addIconPlacement(d,g,t,n,v);p&&u&&this._addIconPlacement(d,g,t,n,v+l.C_PI);return d};h._addIconPlacement=function(d,t,n,g,p){var u=n.pixelRatio;const v=n.width/u,q=n.height/u;var F=g.offset;let C=F[0];F=F[1];switch(g.anchor){case 0:C-=v/2;F-=q/2;break;case 1:F-=q/2;break;case 2:C-=v;F-=
q/2;break;case 3:C-=v/2;break;case 4:C-=v/2;F-=q;break;case 7:F-=q;break;case 6:C-=v;break;case 8:C-=v,F-=q}n=n.rect;var A=2/u,x=C-A,m=F-A,B=x+n.width/u,z=m+n.height/u;u=new y.Point(x,m);A=new y.Point(B,z);x=new y.Point(x,z);m=new y.Point(B,m);0!==p&&(B=Math.cos(p),z=Math.sin(p),u.rotate(B,z),A.rotate(B,z),x.rotate(B,z),m.rotate(B,z));n=new c(u,m,x,A,n,p,0,256,t,.5,l.C_INFINITY,0);d.shapes.push(n);g.allowOverlap&&g.ignorePlacement||!w.DECLUTTER_TILES||(n=g.size,u=g.padding,d.iconColliders.push({xTile:t.x,
yTile:t.y,dxPixels:C*n-u,dyPixels:F*n-u,hard:!g.optional,partIndex:0,width:v*n+2*u,height:q*n+2*u,angle:p,minLod:.5,maxLod:l.C_INFINITY}))};h.getTextPlacement=function(d,t,n,g){var p=new y.Point(d.x,d.y);const u=g.rotate*l.C_DEG_TO_RAD;var v=0===g.rotationAlignment;const q=g.keepUpright,F=g.padding;let C=.5;const A=v?d.angle:0,x=0<=d.segment&&v,m=g.allowOverlap&&g.ignorePlacement?null:[],B=[],z=!x;var G=Number.POSITIVE_INFINITY;let D=Number.NEGATIVE_INFINITY,E=G,I=D;const J=x?q:v&&q,Q=g.size/r.SDF_GLYPH_SIZE;
let P=!1;for(var W of t)if(W.vertical){P=!0;break}let U=0;W=0;if(!x&&P){var R=r.TextShaping.getTextBox(t,g.lineHeight*r.SDF_GLYPH_SIZE);switch(g.anchor){case 1:U=R.height/2;W=-R.width/2;break;case 2:U=-R.height/2;W=R.width/2;break;case 3:U=R.height/2;W=R.width/2;break;case 4:U=-R.height/2;W=-R.width/2;break;case 5:U=R.height;break;case 7:W=-R.width;break;case 6:W=R.width;break;case 8:U=-R.height}}U+=g.offset[0]*r.SDF_GLYPH_SIZE;W+=g.offset[1]*r.SDF_GLYPH_SIZE;for(const ha of t){var V=ha.glyphMosaicItem;
if(!V||V.rect.isEmpty)continue;t=V.rect;R=V.metrics;var aa=V.page;if(m&&z){if(void 0!==qa&&qa!==ha.y){var ea=void 0,ma=void 0;if(P){var qa=-I+U;ea=G+W;ma=I-E;G=D-G}else qa=G+U,ea=E+W,ma=D-G,G=I-E;m.push({xTile:d.x,yTile:d.y,dxPixels:qa*Q-F,dyPixels:ea*Q-F,hard:!g.optional,partIndex:1,width:ma*Q+2*F,height:G*Q+2*F,angle:u,minLod:.5,maxLod:l.C_INFINITY});G=Number.POSITIVE_INFINITY;D=Number.NEGATIVE_INFINITY;E=G;I=D}qa=ha.y}var na=[];if(x){if(V=(ha.x+R.left-4+.5*V.metrics.width)*Q*8,C=this._placeGlyph(d,
C,V,n,d.segment,1,ha.vertical,aa,na),q&&(C=this._placeGlyph(d,C,V,n,d.segment,-1,ha.vertical,aa,na)),2<=C)break}else na.push(new b(p,A,A,aa,!1)),v&&q&&na.push(new b(p,A+l.C_PI,A+l.C_PI,aa,!1));aa=ha.x+R.left;V=ha.y-r.SDF_GLYPH_BASELINE-R.top;ea=aa+R.width;ma=V+R.height;let ka,ra,ua,xa;!x&&P?ha.vertical?(ka=new y.Point(-((V+ma)/2+R.width/2)-4+U,(aa+ea)/2-R.height/2-4+W),ra=new y.Point(ka.x+t.width,ka.y+t.height),ua=new y.Point(ka.x,ra.y),xa=new y.Point(ra.x,ka.y)):(ka=new y.Point(-V+4+U,aa-4+W),ra=
new y.Point(ka.x-t.height,ka.y+t.width),ua=new y.Point(ra.x,ka.y),xa=new y.Point(ka.x,ra.y)):(ka=new y.Point(aa-4+U,V-4+W),ra=new y.Point(ka.x+t.width,ka.y+t.height),ua=new y.Point(ka.x,ra.y),xa=new y.Point(ra.x,ka.y));let za,Ba,ya,L;for(const S of na){let X,Z,ia;S.alternateVerticalGlyph?(za||(za=new y.Point((aa+ea)/2+U-R.height/2-4,(V+ma)/2+W+R.width/2+4),Ba=new y.Point(za.x+t.height,za.y-t.width),ya=new y.Point(Ba.x,za.y),L=new y.Point(za.x,Ba.y)),na=za,X=ya,Z=L,ia=Ba):(na=ka,X=ua,Z=xa,ia=ra);const oa=
V,va=ma,Aa=S.glyphAngle+u;if(0!==Aa){var la=Math.cos(Aa),pa=Math.sin(Aa);na=na.clone();X=X.clone();Z=Z.clone();ia=ia.clone();na.rotate(la,pa);ia.rotate(la,pa);X.rotate(la,pa);Z.rotate(la,pa)}la=0;pa=256;x&&P?ha.vertical?S.alternateVerticalGlyph?(la=32,pa=96):(la=224,pa=32):(la=224,pa=96):(la=192,pa=64);B.push(new c(na,Z,X,ia,t,S.labelAngle,la,pa,S.anchor,S.minzoom,S.maxzoom,S.page));!m||J&&!this._legible(S.labelAngle)||(z?(aa<G&&(G=aa),oa<E&&(E=oa),ea>D&&(D=ea),va>I&&(I=va)):2>S.minzoom&&m.push({xTile:d.x,
yTile:d.y,dxPixels:(aa+U)*Q-F,dyPixels:(oa+U)*Q-F,hard:!g.optional,partIndex:1,width:(ea-aa)*Q+2*F,height:(va-oa)*Q+2*F,angle:Aa,minLod:S.minzoom,maxLod:S.maxzoom}))}}if(2<=C)return null;m&&z&&(P?(n=-I+U,p=G+W,v=I-E,G=D-G):(n=G+U,p=E+W,v=D-G,G=I-E),m.push({xTile:d.x,yTile:d.y,dxPixels:n*Q-F,dyPixels:p*Q-F,hard:!g.optional,partIndex:1,width:v*Q+2*F,height:G*Q+2*F,angle:u,minLod:.5,maxLod:l.C_INFINITY}));d=new e(B);m&&0<m.length&&(d.textColliders=m);return d};h._legible=function(d){d=l.radToByte(d);
return 65>d||193<=d};h._placeGlyph=function(d,t,n,g,p,u,v,q,F){const C=0>u?l.positiveMod(d.angle+l.C_PI,l.C_2PI):d.angle;let A=0;0>n&&(u*=-1,n*=-1,A=l.C_PI);0<u&&++p;d=new y.Point(d.x,d.y);let x=g[p];var m=l.C_INFINITY;if(g.length<=p)return m;for(;;){var B=x.x-d.x,z=x.y-d.y;const G=Math.sqrt(B*B+z*z),D=Math.max(n/G,t);B=l.positiveMod(Math.atan2(z/G,B/G)+A,l.C_2PI);F.push(new b(d,C,B,q,!1,D,m));v&&F.push(new b(d,C,B,q,!0,D,m));if(D<=t)return D;d=x.clone();do{p+=u;if(g.length<=p||0>p)return D;x=g[p]}while(d.isEqual(x));
m=x.x-d.x;B=x.y-d.y;z=Math.sqrt(m*m+B*B);m*=G/z;B*=G/z;d.x-=m;d.y-=B;m=D}};return k}();a.Anchor=function(k,h,d=0,t=-1,n=.5){this.x=k;this.y=h;this.angle=d;this.segment=t;this.minzoom=n};a.PlacedSymbol=c;a.Placement=e;a.PlacementEngine=f;a.TILE_COORD_SIZE=4096;a.TILE_PIXEL_RATIO=8;a.TILE_PIXEL_SIZE=512;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/decluttering/config":function(){define(["exports"],function(a){a.COLLISION_GRID_CELL_SIZE=32;a.DECLUTTER_BUDGET=
1.5;a.DECLUTTER_TILES=!0;a.FADE_DURATION=200;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/Geometry":function(){define(["exports"],function(a){let l=function(){function w(r,b){this.x=r;this.y=b}var y=w.prototype;y.clone=function(){return new w(this.x,this.y)};y.equals=function(r,b){return r===this.x&&b===this.y};y.isEqual=function(r){return r.x===this.x&&r.y===this.y};y.setCoords=function(r,b){this.x=r;this.y=b};y.normalize=function(){var r=this.x;const b=this.y;
r=Math.sqrt(r*r+b*b);this.x/=r;this.y/=r};y.rightPerpendicular=function(){const r=this.x;this.x=this.y;this.y=-r};y.move=function(r,b){this.x+=r;this.y+=b};y.assign=function(r){this.x=r.x;this.y=r.y};y.assignAdd=function(r,b){this.x=r.x+b.x;this.y=r.y+b.y};y.assignSub=function(r,b){this.x=r.x-b.x;this.y=r.y-b.y};y.rotate=function(r,b){const c=this.x,e=this.y;this.x=c*r-e*b;this.y=c*b+e*r};y.scale=function(r){this.x*=r;this.y*=r};y.length=function(){const r=this.x,b=this.y;return Math.sqrt(r*r+b*b)};
w.distance=function(r,b){const c=b.x-r.x;r=b.y-r.y;return Math.sqrt(c*c+r*r)};w.add=function(r,b){return new w(r.x+b.x,r.y+b.y)};w.sub=function(r,b){return new w(r.x-b.x,r.y-b.y)};return w}();a.Point=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["exports","../webgl/Rect","./ScriptUtils"],function(a,l,w){let y=function(){function r(c,e,f,k,h,d,t){this._glyphItems=c;this._maxWidth=e;this._lineHeight=f;this._letterSpacing=k;this._hAnchor=
h;this._vAnchor=d;this._justify=t}var b=r.prototype;b.getShaping=function(c,e,f){const k=this._letterSpacing,h=this._lineHeight;var d=this._justify;const t=this._maxWidth,n=[];var g=0;let p=0,u=0;var v=0;let q=-1,F=0,C=-1;const A=c.length;for(let m=0;m<A;m++){const B=c.charCodeAt(m);var x=f&&w.hasVerticalOrientation(B);if(10===B){if(m===A-1)continue;q>=v&&(g=n[q],F=Math.max(g.x+g.glyphMosaicItem.metrics.advance,F),d&&this._applyJustification(n,v,q),v=n.length);p=e?p-h:p+h;g=0;++u;continue}let z;for(const G of this._glyphItems)if(z=
G[B])break;if(z){n.push({codePoint:B,x:g,y:p,vertical:x,glyphMosaicItem:z});g+=z.metrics.advance+k;if(0<t&&g>t&&0<=C){x=C+1;const G=n[x].x;F=Math.max(G,F);for(let D=x;D<n.length;D++)n[D].y=e?n[D].y-h:n[D].y+h,n[D].x-=G;d&&this._applyJustification(n,v,C);p=e?p-h:p+h;g-=G;++u;v=x;C=-1}++q;32===B&&(C=n.length-1)}}q>=v&&(c=n[q],F=Math.max(F,c.x+c.glyphMosaicItem.metrics.advance),d&&this._applyJustification(n,v,q));if(0<n.length){d=(d-this._hAnchor)*F;v=(-this._vAnchor*(u+1)+.5)*h;e&&u&&(v+=u*h);for(const m of n)m.x+=
d,m.y+=v}return n};r.getTextBox=function(c,e){if(!c.length)return null;let f=Infinity,k=Infinity,h=0,d=0;for(const t of c){c=t.x;const n=t.y-17,g=c+t.glyphMosaicItem.metrics.advance,p=n+e;f=Math.min(f,c);h=Math.max(h,g);k=Math.min(k,n);d=Math.max(d,p)}return{x:f,y:k,width:h-f,height:d-k}};r.getBox=function(c){if(!c.length)return null;let e=Infinity,f=Infinity,k=0,h=0;for(const d of c){const {height:t,left:n,top:g,width:p}=d.glyphMosaicItem.metrics;c=d.x;const u=d.y-(t-Math.abs(g)),v=c+p+n,q=u+t;e=
Math.min(e,c);k=Math.max(k,v);f=Math.min(f,u);h=Math.max(h,q)}return{x:e,y:f,width:k-e,height:h-f}};r.addDecoration=function(c,e){var f=c.length;if(0!==f){var k=c[0].x+c[0].glyphMosaicItem.metrics.left,h=c[0].y;for(let d=1;d<f;d++){const t=c[d];if(t.y!==h){const n=c[d-1].x+c[d-1].glyphMosaicItem.metrics.left+c[d-1].glyphMosaicItem.metrics.width;c.push({codePoint:0,x:k,y:h+e-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new l(4,0,4,8),metrics:{width:n-k,height:8,left:0,top:0,advance:0},page:0,code:0}});
h=t.y;k=t.x+t.glyphMosaicItem.metrics.left}}f=c[f-1].x+c[f-1].glyphMosaicItem.metrics.left+c[f-1].glyphMosaicItem.metrics.width;c.push({codePoint:0,x:k,y:h+e-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new l(4,0,4,8),metrics:{width:f-k,height:8,left:0,top:0,advance:0},page:0,code:0}})}};b._applyJustification=function(c,e,f){var k=c[f];for(k=(k.x+(k.vertical?24:k.glyphMosaicItem.metrics.advance))*this._justify;e<=f;e++)c[e].x-=k};return r}();a.SDF_GLYPH_BASELINE=17;a.SDF_GLYPH_SIZE=24;a.TextShaping=
y;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/Rect":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function l(w=0,y=0,r=0,b=0){this.x=w;this.y=y;this.width=r;this.height=b}l.prototype.union=function(w){this.x=Math.min(this.x,w.x);this.y=Math.min(this.y,w.y);this.width=Math.max(this.width,w.width);this.height=Math.max(this.height,w.height)};a._createClass(l,[{key:"isEmpty",get:function(){return 0>=this.width||0>=
this.height}}]);return l}()})},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["exports"],function(a){a.hasVerticalOrientation=function(l){return 746===l||747===l?!0:4352>l?!1:12704<=l&&12735>=l||12544<=l&&12591>=l||65072<=l&&65103>=l&&!(65097<=l&&65103>=l)||63744<=l&&64255>=l||13056<=l&&13311>=l||11904<=l&&12031>=l||12736<=l&&12783>=l||12288<=l&&12351>=l&&!(12296<=l&&12305>=l||12308<=l&&12319>=l)&&12336!==l||13312<=l&&19903>=l||19968<=l&&40959>=l||12800<=l&&13055>=l||12592<=l&&
12687>=l||43360<=l&&43391>=l||55216<=l&&55295>=l||4352<=l&&4607>=l||44032<=l&&55215>=l||12352<=l&&12447>=l||12272<=l&&12287>=l||12688<=l&&12703>=l||12032<=l&&12255>=l||12784<=l&&12799>=l||12448<=l&&12543>=l&&12540!==l||65280<=l&&65519>=l&&!(65288===l||65289===l||65293===l||65306<=l&&65310>=l||65339===l||65341===l||65343===l||65371<=l&&65503>=l||65507===l||65512<=l&&65519>=l)||65104<=l&&65135>=l&&!(65112<=l&&65118>=l||65123<=l&&65126>=l)||5120<=l&&5759>=l||6320<=l&&6399>=l||65040<=l&&65055>=l||19904<=
l&&19967>=l||40960<=l&&42127>=l||42128<=l&&42191>=l?!0:!1};a.isWhiteSpace=function(l){return 32===l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("../../../../core/promiseUtils ../../../../core/pbf ../webgl/TileClipper ../../tiling/enums ./CircleBucket ./Feature ./FillBucket ./IndexMemoryBuffer ./LineBucket ./SourceLayerData ./SymbolBucket ./VertexMemoryBuffer".split(" "),function(a,l,w,y,r,b,c,e,f,k,h,d){return function(){function t(g,
p,u,v,q){this._pbfTiles={};this._tileClippers={};this._client=u;this._tile=p;if(q){this._styleLayerUIDs=new Set;for(const x of q)this._styleLayerUIDs.add(x)}this._styleRepository=v;this._layers=this._styleRepository.layers;const [F,C,A]=p.tileKey.split("/").map(parseFloat);this._level=F;p=Math.max(8,Math.round(1*this._level)-8);for(const x of Object.keys(g))u=g[x],this._pbfTiles[x]=new l(new Uint8Array(u.protobuff),new DataView(u.protobuff)),u.refKey&&([u]=u.refKey.split("/").map(parseFloat),u=F-
u,0<u&&(v=(1<<u)-1,this._tileClippers[x]=new w.TileClipper(u,C&v,A&v,8,p))),this._tileClippers[x]||(this._tileClippers[x]=new w.SimpleBuilder)}var n=t.prototype;n._canParseStyleLayer=function(g){return!this._styleLayerUIDs||this._styleLayerUIDs.has(g)};n.parse=async function(g){const p=this._initialize(g),{returnedBuckets:u}=p;this._processLayers(p);this._linkReferences(p);this._filterFeatures(p);const v=new Set,q={};for(const F of u)3===F.type&&F.getResources(F.tileClipper,v,q);if(this._tile.status===
y.TileStatus.INVALID)return a.resolve([]);g=this._fetchResources(v,q,g);return a.all(g).then(()=>this._processFeatures(p.returnedBuckets))};n._initialize=function(g){g=g&&g.signal;const p=this._parseTileData(this._pbfTiles),u=this._layers,v=this._level,q=this._tileClippers,F=new Map;return{signal:g,sourceNameToTileData:p,layers:u,zoom:v,sourceNameToTileClipper:q,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:F}};
n._processLayers=function(g){const {sourceNameToTileData:p,layers:u,zoom:v,sourceNameToTileClipper:q,sourceNameToUniqueSourceLayerBuckets:F,sourceNameToUniqueSourceLayers:C,returnedBuckets:A,layerIdToBucket:x,referencerUIDToReferencedId:m}=g;for(g=u.length-1;0<=g;g--){const D=u[g];if(!this._canParseStyleLayer(D.uid)||D.minzoom&&v<Math.floor(D.minzoom)||D.maxzoom&&v>=D.maxzoom||0===D.type)continue;if(!p[D.source]||!q[D.source])continue;var B=q[D.source];const E=D.sourceLayer;var z=p[D.source][E];if(z){var G=
C[D.source];G||(G=C[D.source]=new Set);G.add(D.sourceLayer);if(D.refLayerId)m.set(D.uid,D.refLayerId);else if(G=this._createBucket(D))G.layerUIDs=[D.uid],G.layerExtent=z.extent,G.tileClipper=B,(B=F[D.source])||(B=F[D.source]={}),(z=B[E])||(z=B[E]=[]),z.push(G),A.push(G),x[D.id.toLowerCase()]=G}}};n._linkReferences=function(g){const {layerIdToBucket:p,referencerUIDToReferencedId:u}=g;u.forEach((v,q)=>{v=v.toLowerCase();p[v]&&p[v].layerUIDs.push(q)})};n._filterFeatures=function(g){const {signal:p,sourceNameToTileData:u,
sourceNameToUniqueSourceLayerBuckets:v,sourceNameToUniqueSourceLayers:q}=g;g=10*this._level;const F=10*(this._level+1),C=[],A=[];for(const z of Object.keys(q))q[z].forEach(G=>{C.push(G);A.push(z)});for(let z=0;z<C.length;z++){var x=A[z],m=C[z];if(!u[x]||!v[x])continue;const G=u[x][m];if((x=v[x][m])&&0!==x.length){if(a.isAborted(p))break;for(m=G.getData();m.nextTag(2);){var B=m.getMessage();const D=new b(B,G);B.release();if(B=D.values){const E=B._minzoom;if(E&&E>=F)continue;if((B=B._maxzoom)&&B<=g)continue}for(const E of x)E.pushFeature(D)}}}};
n._fetchResources=function(g,p,u){const v=[],q=this._tile.getWorkerTileHandler();0<g.size&&(g=q.fetchSprites(g,this._client,u),v.push(g));for(const F in p)g=p[F],0<g.size&&(g=q.fetchGlyphs(this._tile.tileKey,F,g,this._client,u),v.push(g));return v};n._processFeatures=function(g){g=g.filter(p=>p.hasFeatures());for(const p of g)p.processFeatures(p.tileClipper);return g};n._parseTileData=function(g){const p={};for(const u of Object.keys(g)){const v=g[u],q={};for(;v.next();)switch(v.tag()){case 3:{const F=
v.getMessage(),C=new k(F);F.release();q[C.name]=C;break}default:v.skip()}p[u]=q}return p};n._createBucket=function(g){switch(g.type){case 0:return null;case 1:return this._createFillBucket(g);case 2:return this._createLineBucket(g);case 4:return this._createCircleBucket(g);case 3:return this._createSymbolBucket(g)}};n._createFillBucket=function(g){return new c(g,this._level,new d.FillVertexBuffer(g.hasDataDrivenFill),new e.TriangleIndexBuffer,new d.OutlineVertexBuffer(g.hasDataDrivenOutline),new e.TriangleIndexBuffer)};
n._createLineBucket=function(g){return new f(g,this._level,new d.LineVertexBuffer(g.hasDataDrivenLine),new e.TriangleIndexBuffer)};n._createCircleBucket=function(g){return new r(g,this._level,new d.CircleVertexBuffer,new e.TriangleIndexBuffer)};n._createSymbolBucket=function(g){const p=this._tile;return new h(g,this._level,new d.SymbolVertexBuffer(g.hasDataDrivenIcon),new e.TriangleIndexBuffer,new d.SymbolVertexBuffer(g.hasDataDrivenText),new e.TriangleIndexBuffer,p.placementEngine,p.getWorkerTileHandler())};
return t}()})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,l){const w=a("esri-text-decoder")?new TextDecoder("utf-8"):null,y=a("safari")||a("ios")?6:a("ff")?12:32;a=function(){function r(c,e,f=0,k=c?c.byteLength:0){this._tag=0;this._dataType=99;this.init(c,e,f,k)}var b=r.prototype;b.init=function(c,e,f,k){this._data=c;this._dataView=e;this._pos=f;this._end=k};b.clone=function(){return new r(this._data,this._dataView,this._pos,this._end)};b.pos=function(){return this._pos};
b.move=function(c){this._pos=c};b.nextTag=function(c){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();this._tag=e>>3;this._dataType=e&7;if(!c||c===this._tag)break;this.skip()}return!0};b.next=function(){if(this._pos===this._end)return!1;const c=this._decodeVarint();this._tag=c>>3;this._dataType=c&7;return!0};b.empty=function(){return this._pos>=this._end};b.tag=function(){return this._tag};b.getInt32=function(){return this._decodeVarint()};b.getInt64=function(){return this._decodeVarint()};
b.getUInt32=function(){let c=4294967295;c=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return c;c=(c|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return c;c=(c|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return c;c=(c|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return c;c=(c|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return c};b.getUInt64=function(){return this._decodeVarint()};b.getSInt32=
function(){const c=this.getUInt32();return c>>>1^-(c&1)|0};b.getSInt64=function(){return this._decodeSVarint()};b.getBool=function(){const c=0!==this._data[this._pos];this._skip(1);return c};b.getEnum=function(){return this._decodeVarint()};b.getFixed64=function(){var c=this._dataView;const e=this._pos;c=c.getUint32(e,!0)+4294967296*c.getUint32(e+4,!0);this._skip(8);return c};b.getSFixed64=function(){var c=this._dataView;const e=this._pos;c=c.getUint32(e,!0)+4294967296*c.getInt32(e+4,!0);this._skip(8);
return c};b.getDouble=function(){const c=this._dataView.getFloat64(this._pos,!0);this._skip(8);return c};b.getFixed32=function(){const c=this._dataView.getUint32(this._pos,!0);this._skip(4);return c};b.getSFixed32=function(){const c=this._dataView.getInt32(this._pos,!0);this._skip(4);return c};b.getFloat=function(){const c=this._dataView.getFloat32(this._pos,!0);this._skip(4);return c};b.getString=function(){const c=this._getLength();var e=this._pos;e=this._toString(this._data,e,e+c);this._skip(c);
return e};b.getBytes=function(){const c=this._getLength();var e=this._pos;e=this._toBytes(this._data,e,e+c);this._skip(c);return e};b.getLength=function(){return this._getLengthUnsafe()};b.processMessageWithArgs=function(c,e,f,k){const h=this.getMessage();c=c(h,e,f,k);h.release();return c};b.processMessage=function(c){const e=this.getMessage();c=c(e);e.release();return c};b.getMessage=function(){const c=this._getLength(),e=r.pool.acquire();e.init(this._data,this._dataView,this._pos,this._pos+c);this._skip(c);
return e};b.release=function(){r.pool.release(this)};b.dataType=function(){return this._dataType};b.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};b.skipLen=function(c){this._skip(c)};b._skip=function(c){if(this._pos+c>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=c};b._decodeVarint=function(){const c=
this._data;let e=this._pos,f=0,k;if(10<=this._end-e){if(k=c[e++],f|=k&127,0!==(k&128)&&(k=c[e++],f|=(k&127)<<7,0!==(k&128)&&(k=c[e++],f|=(k&127)<<14,0!==(k&128)&&(k=c[e++],f|=(k&127)<<21,0!==(k&128)&&(k=c[e++],f+=268435456*(k&127),0!==(k&128)&&(k=c[e++],f+=34359738368*(k&127),0!==(k&128)&&(k=c[e++],f+=4398046511104*(k&127),0!==(k&128)&&(k=c[e++],f+=562949953421312*(k&127),0!==(k&128)&&(k=c[e++],f+=72057594037927936*(k&127),0!==(k&128)&&(k=c[e++],f+=0x7fffffffffffffff*(k&127),0!==(k&128)))))))))))throw Error("Varint too long!");
}else{let h=1;for(;e!==this._end;){k=c[e];if(0===(k&128))break;++e;f+=(k&127)*h;h*=128}if(e===this._end)throw Error("Varint overrun!");++e;f+=k*h}this._pos=e;return f};b._decodeSVarint=function(){const c=this._decodeVarint();return c%2?-(c+1)/2:c/2};b._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};b._getLengthUnsafe=function(){return this.getUInt32()};b._toString=function(c,e,f){f=Math.min(this._end,f);if(f-e>y&&w)return c=c.subarray(e,
f),w.decode(c);let k="",h="";for(;e<f;++e){const d=c[e];d&128?h+="%"+d.toString(16):(k+=decodeURIComponent(h)+String.fromCharCode(d),h="")}h.length&&(k+=decodeURIComponent(h));return k};b._toBytes=function(c,e,f){f=Math.min(this._end,f);return new Uint8Array(c.buffer,e,f-e)};return r}();a.pool=new l(a,null,r=>{r._data=null;r._dataView=null});return a})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./definitions","./GeometryUtils",
"./Geometry"],function(a,l,w,y,r){let b=function(k,h,d){this.ratio=k;this.x=h;this.y=d},c=function(){function k(d,t,n,g=8,p=8){this.lines=[];this.starts=[];this.validateTessellation=!0;this.pixelRatio=g;this.pixelMargin=p;this.tileSize=w.TILE_SIZE*g;this.dz=d;this.yPos=t;this.xPos=n}var h=k.prototype;h.setExtent=function(d){this.finalRatio=this.tileSize/d*(1<<this.dz);let t=this.pixelRatio*this.pixelMargin;t/=this.finalRatio;d>>=this.dz;t>d&&(t=d);this.margin=t;this.xmin=d*this.xPos-t;this.ymin=d*
this.yPos-t;this.xmax=this.xmin+d+2*t;this.ymax=this.ymin+d+2*t};h.reset=function(d){this.type=d;this.lines=[];this.starts=[];this.line=null;this.start=0};h.moveTo=function(d,t){this._pushLine();this._prevIsIn=this._isIn(d,t);this._moveTo(d,t,this._prevIsIn);this._prevPt=new r.Point(d,t);this._firstPt=new r.Point(d,t);this._dist=0};h.lineTo=function(d,t){const n=this._isIn(d,t),g=new r.Point(d,t),p=r.Point.distance(this._prevPt,g);if(n)if(this._prevIsIn)this._lineTo(d,t,!0);else{var u=this._prevPt;
var v=g;d=this._intersect(v,u);this.start=this._dist+p*(1-this._r);this._lineTo(d.x,d.y,!0);this._lineTo(v.x,v.y,!0)}else if(this._prevIsIn)v=this._prevPt,u=g,d=this._intersect(v,u),this._lineTo(d.x,d.y,!0),this._lineTo(u.x,u.y,!1);else{const F=this._prevPt;if(!(F.x<=this.xmin&&g.x<=this.xmin||F.x>=this.xmax&&g.x>=this.xmax||F.y<=this.ymin&&g.y<=this.ymin||F.y>=this.ymax&&g.y>=this.ymax)){d=[];if(F.x<this.xmin&&g.x>this.xmin||F.x>this.xmin&&g.x<this.xmin){t=(this.xmin-F.x)/(g.x-F.x);var q=F.y+t*(g.y-
F.y);q<=this.ymin?v=!1:q>=this.ymax?v=!0:d.push(new b(t,this.xmin,q))}if(F.x<this.xmax&&g.x>this.xmax||F.x>this.xmax&&g.x<this.xmax)t=(this.xmax-F.x)/(g.x-F.x),q=F.y+t*(g.y-F.y),q<=this.ymin?v=!1:q>=this.ymax?v=!0:d.push(new b(t,this.xmax,q));if(F.y<this.ymin&&g.y>this.ymin||F.y>this.ymin&&g.y<this.ymin)t=(this.ymin-F.y)/(g.y-F.y),q=F.x+t*(g.x-F.x),q<=this.xmin?u=!1:q>=this.xmax?u=!0:d.push(new b(t,q,this.ymin));if(F.y<this.ymax&&g.y>this.ymax||F.y>this.ymax&&g.y<this.ymax)t=(this.ymax-F.y)/(g.y-
F.y),q=F.x+t*(g.x-F.x),q<=this.xmin?u=!1:q>=this.xmax?u=!0:d.push(new b(t,q,this.ymax));if(0===d.length)u?v?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):v?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<d.length&&d[0].ratio>d[1].ratio)this.start=this._dist+p*d[1].ratio,this._lineTo(d[1].x,d[1].y,!0),this._lineTo(d[0].x,d[0].y,!0);else for(this.start=this._dist+p*d[0].ratio,u=0;u<d.length;u++)this._lineTo(d[u].x,d[u].y,!0)}this._lineTo(g.x,
g.y,!1)}this._dist+=p;this._prevIsIn=n;this._prevPt=g};h.close=function(){if(2<this.line.length){var d=this._firstPt,t=this._prevPt;d.x===t.x&&d.y===t.y||this.lineTo(d.x,d.y);d=this.line;for(t=d.length;4<=t;)if(d[0].x===d[1].x&&d[0].x===d[t-2].x||d[0].y===d[1].y&&d[0].y===d[t-2].y)d.pop(),d[0].x=d[t-2].x,d[0].y=d[t-2].y,--t;else break}};h.result=function(d=!0){this._pushLine();if(0===this.lines.length)return null;3===this.type&&d&&f.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};
h.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();const d=this.lines,t=d.length;if(0===t)return null;const n=[];for(let g=0;g<t;g++)n.push({line:d[g],start:this.starts[g]||0});return n};h._isIn=function(d,t){return d>=this.xmin&&d<=this.xmax&&t>=this.ymin&&t<=this.ymax};h._intersect=function(d,t){let n,g,p;if(t.x>=this.xmin&&t.x<=this.xmax)g=t.y<=this.ymin?this.ymin:this.ymax,p=(g-d.y)/(t.y-d.y),n=d.x+p*(t.x-d.x);else if(t.y>=this.ymin&&t.y<=this.ymax)n=
t.x<=this.xmin?this.xmin:this.xmax,p=(n-d.x)/(t.x-d.x),g=d.y+p*(t.y-d.y);else{g=t.y<=this.ymin?this.ymin:this.ymax;n=t.x<=this.xmin?this.xmin:this.xmax;const u=(n-d.x)/(t.x-d.x),v=(g-d.y)/(t.y-d.y);u<v?(p=u,g=d.y+u*(t.y-d.y)):(p=v,n=d.x+v*(t.x-d.x))}this._r=p;return new r.Point(n,g)};h._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):
3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};h._moveTo=function(d,t,n){3!==this.type?n&&(d=Math.round((d-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line.push(new r.Point(d,t))):(n||(d<this.xmin&&(d=this.xmin),d>this.xmax&&(d=this.xmax),t<this.ymin&&(t=this.ymin),t>this.ymax&&(t=this.ymax)),d=Math.round((d-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-
(this.ymin+this.margin))*this.finalRatio),this.line.push(new r.Point(d,t)),this._is_v=this._is_h=!1)};h._lineTo=function(d,t,n){if(3!==this.type)if(n){d=Math.round((d-(this.xmin+this.margin))*this.finalRatio);t=Math.round((t-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(n=this.line[this.line.length-1],n.equals(d,t)))return;this.line.push(new r.Point(d,t))}else this.line&&0<this.line.length&&this._pushLine();else if(n||(d<this.xmin&&(d=this.xmin),d>this.xmax&&(d=this.xmax),t<this.ymin&&
(t=this.ymin),t>this.ymax&&(t=this.ymax)),d=Math.round((d-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){n=this.line[this.line.length-1];const g=n.x===d,p=n.y===t;g&&p||(this._is_h&&g?(n.x=d,n.y=t,n=this.line[this.line.length-2],n.x===d&&n.y===t?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(n=this.line[this.line.length-2],this._is_h=n.x===d,this._is_v=n.y===t)):(this._is_h=n.x===d,this._is_v=n.y===
t)):this._is_v&&p?(n.x=d,n.y=t,n=this.line[this.line.length-2],n.x===d&&n.y===t?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(n=this.line[this.line.length-2],this._is_h=n.x===d,this._is_v=n.y===t)):(this._is_h=n.x===d,this._is_v=n.y===t)):(this.line.push(new r.Point(d,t)),this._is_h=g,this._is_v=p))}else this.line.push(new r.Point(d,t))};return k}(),e=function(){function k(){}var h=k.prototype;h.setExtent=function(d){this._ratio=4096===d?1:4096/d};h.reset=function(d){this.lines=[];
this.line=null};h.moveTo=function(d,t){this.line&&this.lines.push(this.line);this.line=[];const n=this._ratio;this.line.push(new r.Point(d*n,t*n))};h.lineTo=function(d,t){const n=this._ratio;this.line.push(new r.Point(d*n,t*n))};h.close=function(){const d=this.line;d&&!d[0].isEqual(d[d.length-1])&&d.push(d[0])};h.result=function(){this.line&&this.lines.push(this.line);return 0===this.lines.length?null:this.lines};l._createClass(k,[{key:"validateTessellation",get:function(){return 1>this._ratio}}]);
return k}(),f=function(){function k(){}k.simplify=function(h,d,t){if(t){var n=-d,g=h+d,p=-d,u=h+d;h=[];d=[];var v=t.length;for(let q=0;q<v;++q){const F=t[q];if(!F||2>F.length)continue;let C=F[0],A;const x=F.length;for(let m=1;m<x;++m)A=F[m],C.x===A.x&&(C.x<=n&&(C.y>A.y?(h.push(q),h.push(m),h.push(0),h.push(-1)):(d.push(q),d.push(m),d.push(0),d.push(-1))),C.x>=g&&(C.y<A.y?(h.push(q),h.push(m),h.push(1),h.push(-1)):(d.push(q),d.push(m),d.push(1),d.push(-1)))),C.y===A.y&&(C.y<=p&&(C.x<A.x?(h.push(q),
h.push(m),h.push(2),h.push(-1)):(d.push(q),d.push(m),d.push(2),d.push(-1))),C.y>=u&&(C.x>A.x?(h.push(q),h.push(m),h.push(3),h.push(-1)):(d.push(q),d.push(m),d.push(3),d.push(-1)))),C=A}0!==h.length&&0!==d.length&&(k.fillParent(t,d,h),k.fillParent(t,h,d),n=[],k.calcDeltas(n,d,h),k.calcDeltas(n,h,d),k.addDeltas(n,t))}};k.fillParent=function(h,d,t){const n=t.length,g=d.length;for(let F=0;F<g;F+=4){var p=d[F],u=d[F+1];const C=d[F+2],A=h[p][u-1];p=h[p][u];u=8092;let x=-1;for(let m=0;m<n;m+=4){if(t[m+2]!==
C)continue;var v=t[m];const B=t[m+1];var q=h[v][B-1];v=h[v][B];switch(C){case 0:case 1:y.between(A.y,q.y,v.y)&&y.between(p.y,q.y,v.y)&&(q=Math.abs(v.y-q.y),q<u&&(u=q,x=m));break;case 2:case 3:y.between(A.x,q.x,v.x)&&y.between(p.x,q.x,v.x)&&(q=Math.abs(v.x-q.x),q<u&&(u=q,x=m))}}d[F+3]=x}};k.calcDeltas=function(h,d,t){const n=d.length;for(let g=0;g<n;g+=4){const p=k.calcDelta(g,d,t,[]);h.push(d[g]);h.push(d[g+1]);h.push(d[g+2]);h.push(p)}};k.calcDelta=function(h,d,t,n){h=d[h+3];if(-1===h)return 0;const g=
n.length;if(1<g&&n[g-2]===h)return 0;n.push(h);return k.calcDelta(h,t,d,n)+1};k.addDeltas=function(h,d){const t=h.length;let n=0;for(var g=0;g<t;g+=4){var p=h[g+3];p>n&&(n=p)}for(g=0;g<t;g+=4){p=d[h[g]];const u=h[g+1],v=n-h[g+3];switch(h[g+2]){case 0:p[u-1].x-=v;p[u].x-=v;1===u&&(p[p.length-1].x-=v);u===p.length-1&&(p[0].x-=v);break;case 1:p[u-1].x+=v;p[u].x+=v;1===u&&(p[p.length-1].x+=v);u===p.length-1&&(p[0].x+=v);break;case 2:p[u-1].y-=v;p[u].y-=v;1===u&&(p[p.length-1].y-=v);u===p.length-1&&(p[0].y-=
v);break;case 3:p[u-1].y+=v,p[u].y+=v,1===u&&(p[p.length-1].y+=v),u===p.length-1&&(p[0].y+=v)}}};return k}();a.SimpleBuilder=e;a.TileClipper=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["exports"],function(a){function l(e,f){e%=f;return 0<=e?e:e+f}const w=Number.POSITIVE_INFINITY,y=Math.PI,r=128/y,b=256/360,c=1/Math.LN2;a.C_256_TO_RAD=y/128;a.C_2PI=2*y;a.C_DEG_TO_256=b;a.C_DEG_TO_RAD=y/180;a.C_INFINITY=w;a.C_PI=y;a.C_PI_BY_2=y/
2;a.C_RAD_TO_256=r;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/1.414213562;a.between=function(e,f,k){return e>=f&&e<=k||e>=k&&e<=f};a.degToByte=function(e){return l(e*b,256)};a.interpolate=function(e,f,k){return e*(1-k)+f*k};a.log2=function(e){return Math.log(e)*c};a.positiveMod=l;a.radToByte=function(e){return l(e*r,256)};a.sqr=function(e){return e*e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["../../../../chunks/_rollupPluginBabelHelpers",
"./BaseBucket"],function(a,l){return function(w){function y(b,c,e,f){b=w.call(this,b,c)||this;b.type=4;b._circleVertexBuffer=e;b._circleIndexBuffer=f;return b}a._inheritsLoose(y,w);var r=y.prototype;r.processFeatures=function(b){const c=this._circleVertexBuffer,e=this._circleIndexBuffer;this._circleIndexStart=3*e.index;this._circleIndexCount=0;const f=this.layer,k=this.zoom;b&&b.setExtent(this.layerExtent);let h=1,d=[1,1,1,1],t=1,n=0,g=1,p=[1,1,1,1],u=1;for(const q of this._features){var v=q.getGeometry(b);
if(v){f.hasDataDrivenRadius&&(h=f.getPaintValue("circle-radius",k,q));f.hasDataDrivenColor&&(d=f.getPaintValue("circle-color",k,q));f.hasDataDrivenOpacity&&(t=f.getPaintValue("circle-opacity",k,q));f.hasDataDrivenStrokeWidth&&(g=f.getPaintValue("circle-stroke-width",k,q));f.hasDataDrivenStrokeColor&&(p=f.getPaintValue("circle-stroke-color",k,q));f.hasDataDrivenStrokeOpacity&&(u=f.getPaintValue("circle-stroke-opacity",k,q));f.hasDataDrivenBlur&&(n=f.getPaintValue("circle-blur",k,q));for(const F of v)if(F)for(const C of F)v=
c.index,c.add(C.x,C.y,0,0,h,d,t,n,g,p,u),c.add(C.x,C.y,0,1,h,d,t,n,g,p,u),c.add(C.x,C.y,1,0,h,d,t,n,g,p,u),c.add(C.x,C.y,1,1,h,d,t,n,g,p,u),e.add(v+0,v+1,v+2),e.add(v+1,v+2,v+3),this._circleIndexCount+=6}}};r.serialize=function(){var b=6+this.layerUIDs.length;b+=this._circleVertexBuffer.array.length;b+=this._circleIndexBuffer.array.length;let c=0;b=new Uint32Array(b);var e=new Int32Array(b.buffer);b[c++]=this.type;b[c++]=this.layerUIDs.length;for(var f=0;f<this.layerUIDs.length;f++)b[c++]=this.layerUIDs[f];
b[c++]=this._circleIndexStart;b[c++]=this._circleIndexCount;b[c++]=this._circleVertexBuffer.array.length;for(f=0;f<this._circleVertexBuffer.array.length;f++)e[c++]=this._circleVertexBuffer.array[f];b[c++]=this._circleIndexBuffer.array.length;for(e=0;e<this._circleIndexBuffer.array.length;e++)b[c++]=this._circleIndexBuffer.array[e];return b.buffer};a._createClass(y,[{key:"circleIndexStart",get:function(){return this._circleIndexStart}},{key:"circleIndexCount",get:function(){return this._circleIndexCount}}]);
return y}(l)})},"esri/views/2d/engine/vectorTiles/BaseBucket":function(){define(function(){return function(){function a(w,y){this.layerExtent=4096;this._features=[];this.layer=w;this.zoom=y;this._filter=w.getFeatureFilter()}var l=a.prototype;l.pushFeature=function(w){this._filter&&!this._filter.filter(w,this.zoom)||this._features.push(w)};l.hasFeatures=function(){return 0<this._features.length};return a}()})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["../webgl/Geometry"],function(a){return function(){function l(w,
y){this.values={};const r=y.keys;for(y=y.values;w.next();)switch(w.tag()){case 1:this.id=w.getUInt64();break;case 2:{const b=w.getMessage(),c=this.values;for(;!b.empty();){const e=b.getUInt32(),f=b.getUInt32();c[r[e]]=y[f]}b.release();break}case 3:this.type=w.getUInt32();break;case 4:this._pbfGeometry=w.getMessage();break;default:w.skip()}}l.prototype.getGeometry=function(w){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const y=this._pbfGeometry;this._pbfGeometry=
null;let r,b;w?w.reset(this.type):r=[];let c=1;var e=0;let f=0,k=0;for(;!y.empty();)switch(0===e&&(e=y.getUInt32(),c=e&7,e>>=3),e--,c){case 1:f+=y.getSInt32();k+=y.getSInt32();w?w.moveTo(f,k):(b&&r.push(b),b=[],b.push(new a.Point(f,k)));break;case 2:f+=y.getSInt32();k+=y.getSInt32();w?w.lineTo(f,k):b.push(new a.Point(f,k));break;case 7:w?w.close():b&&!b[0].equals(f,k)&&b.push(b[0].clone());break;default:throw y.release(),Error("Invalid path operation");}w?w=w.result():(b&&r.push(b),w=r);y.release();
return this._geometry=w};return l}()})},"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ../webgl/Geometry ../webgl/mesh/Tesselator ./BaseBucket".split(" "),function(a,l,w,y,r,b){const c=new r;return function(e){function f(h,d,t,n,g,p){d=e.call(this,h,d)||this;d.type=1;if(h.hasDataDrivenFill!==t.isDataDriven())throw Error("incompatible fill buffer");if(h.hasDataDrivenOutline!==
g.isDataDriven())throw Error("incompatible outline buffer");d._fillVertexBuffer=t;d._fillIndexBuffer=n;d._outlineVertexBuffer=g;d._outlineIndexBuffer=p;return d}a._inheritsLoose(f,e);var k=f.prototype;k.processFeatures=function(h){this._fillIndexStart=3*this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=3*this._outlineIndexBuffer.index;this._outlineIndexCount=0;const d=this.layer,t=this.zoom,n=d.hasDataDrivenFill,g=d.hasDataDrivenOutline;h&&h.setExtent(this.layerExtent);const p=
d.getPaintValue("fill-pattern",t);let u=d.getPaintValue("fill-antialias",t)&&void 0===p,v=[1,1,1,1],q=[1,1,1,1],F=1;if(d.outlineUsesFillColor){if(u&&!d.hasDataDrivenOpacity){var C=d.getPaintValue("fill-opacity",t),A=d.getPaintValue("fill-opacity",t+1);1>C&&1>A&&(u=!1)}u&&!d.hasDataDrivenColor&&(C=d.getPaintValue("fill-color",t),A=d.getPaintValue("fill-color",t+1),1>C[3]&&1>A[3]&&(u=!1))}for(const x of this._features){!p&&d.hasDataDrivenColor&&(v=d.getPaintValue("fill-color",t,x));d.hasDataDrivenOpacity&&
(F=d.getPaintValue("fill-opacity",t,x));!p&&d.hasDataDrivenOutlineColor&&(q=d.getPaintValue("fill-outline-color",t,x));let m;n&&(m={color:v,opacity:F});let B;g&&(B={color:d.outlineUsesFillColor?v:q,opacity:F});C=x.getGeometry(h);this._processFeature(C,u,d.outlineUsesFillColor,m,B,null==h?void 0:h.validateTessellation)}};k.serialize=function(){var h=12+this.layerUIDs.length;h+=this._fillVertexBuffer.array.length;h+=this._fillIndexBuffer.array.length;h+=this._outlineVertexBuffer.array.length;h+=this._outlineIndexBuffer.array.length;
let d=0;h=new Uint32Array(h);var t=new Int32Array(h.buffer);h[d++]=this.type;h[d++]=this.layerUIDs.length;for(var n=0;n<this.layerUIDs.length;n++)h[d++]=this.layerUIDs[n];h[d++]=this._fillIndexStart;h[d++]=this._fillIndexCount;h[d++]=this._outlineIndexStart;h[d++]=this._outlineIndexCount;h[d++]=this._fillVertexBuffer.isDataDriven()?1:0;h[d++]=this._outlineVertexBuffer.isDataDriven()?1:0;h[d++]=this._fillVertexBuffer.array.length;for(n=0;n<this._fillVertexBuffer.array.length;n++)t[d++]=this._fillVertexBuffer.array[n];
h[d++]=this._fillIndexBuffer.array.length;for(n=0;n<this._fillIndexBuffer.array.length;n++)h[d++]=this._fillIndexBuffer.array[n];h[d++]=this._outlineVertexBuffer.array.length;for(n=0;n<this._outlineVertexBuffer.array.length;n++)t[d++]=this._outlineVertexBuffer.array[n];h[d++]=this._outlineIndexBuffer.array.length;for(t=0;t<this._outlineIndexBuffer.array.length;t++)h[d++]=this._outlineIndexBuffer.array[t];return h.buffer};k._processFeature=function(h,d,t,n,g,p){if(h){var u=h.length;if(d&&(!t||!g||
1===g.color[3]*g.opacity))for(d=0;d<u;d++)this._processOutline(h[d],g);for(g=0;g<u;g++)if(d=f._area(h[g]),128<d){void 0!==v&&this._processFill(h,v,n,p);var v=[g]}else-128>d&&void 0!==v&&v.push(g);void 0!==v&&this._processFill(h,v,n,p)}};k._processOutline=function(h,d){const t=this._outlineVertexBuffer,n=this._outlineIndexBuffer,g=n.index;var p;let u,v;const q=new y.Point(0,0),F=new y.Point(0,0),C=new y.Point(0,0);let A=-1,x=-1;var m=-1;let B=-1,z=-1,G=!1,D=h.length;if(!(2>D)){var E=h[0];for(p=h[D-
1];D&&p.isEqual(E);)--D,p=h[D-1];if(!(2>D-0)){for(E=0;E<D;++E){0===E?(p=h[D-1],u=h[0],v=h[1],q.assignSub(u,p),q.normalize(),q.rightPerpendicular()):(p=u,u=v,v=E!==D-1?h[E+1]:h[0],q.assign(F));p=this._isClipEdge(p,u);-1===B&&(G=p);F.assignSub(v,u);F.normalize();F.rightPerpendicular();m=q.x*F.y-q.y*F.x;C.assignAdd(q,F);C.normalize();var I=-C.x*-q.x+-C.y*-q.y;I=Math.abs(0!==I?1/I:1);8<I&&(I=8);0<=m?(m=t.add(u.x,u.y,q.x,q.y,0,1,d),-1===B&&(B=m),0<=A&&0<=x&&0<=m&&!p&&n.add(A,x,m),x=t.add(u.x,u.y,I*-C.x,
I*-C.y,0,-1,d),-1===z&&(z=x),0<=A&&0<=x&&0<=m&&!p&&n.add(A,x,m),A=x,x=m,m=t.add(u.x,u.y,C.x,C.y,0,1,d),0<=A&&0<=x&&0<=m&&!p&&n.add(A,x,m),x=t.add(u.x,u.y,F.x,F.y,0,1,d)):(m=t.add(u.x,u.y,I*C.x,I*C.y,0,1,d),-1===B&&(B=m),0<=A&&0<=x&&0<=m&&!p&&n.add(A,x,m),x=t.add(u.x,u.y,-q.x,-q.y,0,-1,d),-1===z&&(z=x),0<=A&&0<=x&&0<=m&&!p&&n.add(A,x,m),A=x,x=m,m=t.add(u.x,u.y,-C.x,-C.y,0,-1,d),0<=A&&0<=x&&0<=m&&!p&&n.add(A,x,m),A=t.add(u.x,u.y,-F.x,-F.y,0,-1,d));0<=A&&0<=x&&0<=m&&!p&&n.add(A,x,m)}0<=A&&0<=x&&0<=B&&
!G&&n.add(A,x,B);0<=A&&0<=B&&0<=z&&!G&&n.add(A,z,B);this._outlineIndexCount+=3*(n.index-g)}}};k._processFill=function(h,d,t,n){var g;1<d.length&&(g=[]);var p=0;for(var u of d)0!==p&&g.push(p),p+=h[u].length;u=2*p;p=l.acquire();for(var v of d){var q=h[v];const C=q.length;for(let A=0;A<C;++A)p.push(q[A].x,q[A].y)}v=w.earcut(p,g,2);if(n&&0<w.deviation(p,g,2,v)){n=[];u=[];c.beginPolygon(n,u);for(var F of d)if(d=h[F],!(3>d.length)){c.beginContour();for(g=0;g<d.length;++g)v=d[g].x,q=d[g].y,v=[v,q,0],c.addVertex(v,
v);c.endContour()}c.endPolygon();if(0<u.length){h=this._fillVertexBuffer.index;for(F=0;F<n.length;)this._fillVertexBuffer.add(n[F++],n[F++],t);for(t=0;t<u.length;)this._fillIndexBuffer.add(h+u[t+0],h+u[t+1],h+u[t+2]),t+=3;this._fillIndexCount+=u.length}}else if(h=v.length,0<h){F=this._fillVertexBuffer.index;for(d=0;d<u;)this._fillVertexBuffer.add(p[d++],p[d++],t);for(t=0;t<h;)this._fillIndexBuffer.add(F+v[t++],F+v[t++],F+v[t++]);this._fillIndexCount+=h}l.release(p)};k._isClipEdge=function(h,d){return h.x===
d.x?-64>=h.x||4160<=h.x:h.y===d.y?-64>=h.y||4160<=h.y:!1};f._area=function(h){let d=0;const t=h.length-1;for(let n=0;n<t;n++)d+=(h[n].x-h[n+1].x)*(h[n].y+h[n+1].y);d+=(h[t].x-h[0].x)*(h[t].y+h[0].y);return.5*d};a._createClass(f,[{key:"fillIndexStart",get:function(){return this._fillIndexStart}},{key:"fillIndexCount",get:function(){return this._fillIndexCount}},{key:"outlineIndexStart",get:function(){return this._outlineIndexStart}},{key:"outlineIndexCount",get:function(){return this._outlineIndexCount}}]);
return f}(b)})},"esri/core/libs/earcut/earcut":function(){define(["exports"],function(a){function l(C,A,x,m,B){let z;if(B===0<t(C,A,x,m))for(;A<x;A+=m)z=b(A,C[A],C[A+1],z);else for(x-=m;x>=A;x-=m)z=b(x,C[x],C[x+1],z);z&&u(z,z.next)&&(c(z),z=z.next);return z}function w(C,A=C){if(!C)return C;let x;do if(x=!1,C.steiner||!u(C,C.next)&&0!==h(C.prev,C,C.next))C=C.next;else{c(C);C=A=C.prev;if(C===C.next)break;x=!0}while(x||C!==A);return A}function y(C,A,x,m,B,z,G=0){if(C){!G&&z&&(C=k(C,m,B,z));for(var D=
C;C.prev!==C.next;){var E=C.prev,I=C.next;if(z)var J=r(C,m,B,z);else a:{J=C;var Q=J.prev,P=J;const W=J.next;if(0<=h(Q,P,W)){J=!1;break a}let U=J.next.next;const R=U;let V=0;for(;U!==J.prev&&(0===V||U!==R);){V++;if(n(Q.x,Q.y,P.x,P.y,W.x,W.y,U.x,U.y)&&0<=h(U.prev,U,U.next)){J=!1;break a}U=U.next}J=!0}if(J)A.push(E.index/x),A.push(C.index/x),A.push(I.index/x),c(C),D=C=I.next;else if(C=I,C===D){if(!G)y(w(C),A,x,m,B,z,1);else if(1===G){G=A;D=x;E=C;do I=E.prev,J=E.next.next,!u(I,J)&&d(I,E,E.next,J)&&g(I,
J)&&g(J,I)&&(G.push(I.index/D),G.push(E.index/D),G.push(J.index/D),c(E),c(E.next),E=C=J),E=E.next;while(E!==C);C=E;y(C,A,x,m,B,z,2)}else if(2===G)a:{G=C;do{for(D=G.next.next;D!==G.prev;){if(E=G.index!==D.index){J=J=J=void 0;E=G;I=D;if(J=E.next.index!==I.index&&E.prev.index!==I.index){b:{J=E;do{if(J.index!==E.index&&J.next.index!==E.index&&J.index!==I.index&&J.next.index!==I.index&&d(J,J.next,E,I)){J=!0;break b}J=J.next}while(J!==E);J=!1}J=!J}if(J=J&&g(E,I)&&g(I,E)){J=E;Q=!1;P=(E.x+I.x)/2;I=(E.y+I.y)/
2;do J.y>I!==J.next.y>I&&J.next.y!==J.y&&P<(J.next.x-J.x)*(I-J.y)/(J.next.y-J.y)+J.x&&(Q=!Q),J=J.next;while(J!==E);J=Q}E=J}if(E){C=q(G,D);G=w(G,G.next);C=w(C,C.next);y(G,A,x,m,B,z);y(C,A,x,m,B,z);break a}D=D.next}G=G.next}while(G!==C)}break}}}}function r(C,A,x,m){const B=C.prev,z=C.next;if(0<=h(B,C,z))return!1;const G=B.x>C.x?B.x>z.x?B.x:z.x:C.x>z.x?C.x:z.x,D=B.y>C.y?B.y>z.y?B.y:z.y:C.y>z.y?C.y:z.y,E=p(B.x<C.x?B.x<z.x?B.x:z.x:C.x<z.x?C.x:z.x,B.y<C.y?B.y<z.y?B.y:z.y:C.y<z.y?C.y:z.y,A,x,m);A=p(G,D,
A,x,m);x=C.prevZ;for(m=C.nextZ;x&&x.z>=E&&m&&m.z<=A;){if(x!==C.prev&&x!==C.next&&n(B.x,B.y,C.x,C.y,z.x,z.y,x.x,x.y)&&0<=h(x.prev,x,x.next))return!1;x=x.prevZ;if(m!==C.prev&&m!==C.next&&n(B.x,B.y,C.x,C.y,z.x,z.y,m.x,m.y)&&0<=h(m.prev,m,m.next))return!1;m=m.nextZ}for(;x&&x.z>=E;){if(x!==C.prev&&x!==C.next&&n(B.x,B.y,C.x,C.y,z.x,z.y,x.x,x.y)&&0<=h(x.prev,x,x.next))return!1;x=x.prevZ}for(;m&&m.z<=A;){if(m!==C.prev&&m!==C.next&&n(B.x,B.y,C.x,C.y,z.x,z.y,m.x,m.y)&&0<=h(m.prev,m,m.next))return!1;m=m.nextZ}return!0}
function b(C,A,x,m){C=new F(C,A,x);m?(C.next=m.next,C.prev=m,m.next.prev=C,m.next=C):(C.prev=C,C.next=C);return C}function c(C){C.next.prev=C.prev;C.prev.next=C.next;C.prevZ&&(C.prevZ.nextZ=C.nextZ);C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function e(C){let A=C,x=C;do{if(A.x<x.x||A.x===x.x&&A.y<x.y)x=A;A=A.next}while(A!==C);return x}function f(C,A){let x=A;const m=C.x,B=C.y;let z=-Infinity,G;do{if(B<=x.y&&B>=x.next.y&&x.next.y!==x.y){var D=x.x+(B-x.y)*(x.next.x-x.x)/(x.next.y-x.y);if(D<=m&&D>z){z=D;if(D===
m){if(B===x.y)return x;if(B===x.next.y)return x.next}G=x.x<x.next.x?x:x.next}}x=x.next}while(x!==A);if(!G)return null;if(m===z)return G.prev;A=G;D=G.x;const E=G.y;let I=Infinity,J;for(x=G.next;x!==A;)m>=x.x&&x.x>=D&&m!==x.x&&n(B<E?m:z,B,D,E,B<E?z:m,B,x.x,x.y)&&(J=Math.abs(B-x.y)/(m-x.x),(J<I||J===I&&x.x>G.x)&&g(x,C)&&(G=x,I=J)),x=x.next;return G}function k(C,A,x,m){for(var B;B!==C;B=B.next){B=B||C;null===B.z&&(B.z=p(B.x,B.y,A,x,m));if(B.prev.next!==B||B.next.prev!==B)return B.prev.next=B,B.next.prev=
B,k(C,A,x,m);B.prevZ=B.prev;B.nextZ=B.next}C.prevZ.nextZ=null;C.prevZ=null;a:for(x=1;;){m=C;A=C=null;let z=0;for(;m;){z++;B=m;let G=0;for(;G<x&&B;G++)B=B.nextZ;let D=x;for(;0<G||0<D&&B;){let E;0===G?(E=B,B=B.nextZ,D--):0!==D&&B?m.z<=B.z?(E=m,m=m.nextZ,G--):(E=B,B=B.nextZ,D--):(E=m,m=m.nextZ,G--);A?A.nextZ=E:C=E;E.prevZ=A;A=E}m=B}A.nextZ=null;x*=2;if(2>z)break a}return C}function h(C,A,x){return(A.y-C.y)*(x.x-A.x)-(A.x-C.x)*(x.y-A.y)}function d(C,A,x,m){return u(C,A)&&u(x,m)||u(C,m)&&u(x,A)?!0:0<h(C,
A,x)!==0<h(C,A,m)&&0<h(x,m,C)!==0<h(x,m,A)}function t(C,A,x,m){let B=0;for(let z=A,G=x-m;z<x;z+=m)B+=(C[G]-C[z])*(C[z+1]+C[G+1]),G=z;return B}function n(C,A,x,m,B,z,G,D){return 0<=(B-G)*(A-D)-(C-G)*(z-D)&&0<=(C-G)*(m-D)-(x-G)*(A-D)&&0<=(x-G)*(z-D)-(B-G)*(m-D)}function g(C,A){return 0>h(C.prev,C,C.next)?0<=h(C,A,C.next)&&0<=h(C,C.prev,A):0>h(C,A,C.prev)||0>h(C,C.next,A)}function p(C,A,x,m,B){C=32767*(C-x)*B;A=32767*(A-m)*B;C=(C|C<<8)&16711935;C=(C|C<<4)&252645135;C=(C|C<<2)&858993459;A=(A|A<<8)&16711935;
A=(A|A<<4)&252645135;A=(A|A<<2)&858993459;return(C|C<<1)&1431655765|((A|A<<1)&1431655765)<<1}function u(C,A){return C.x===A.x&&C.y===A.y}function v(C,A){return C.x-A.x}function q(C,A){const x=new F(C.index,C.x,C.y),m=new F(A.index,A.x,A.y),B=C.next,z=A.prev;C.next=A;A.prev=C;x.next=B;B.prev=x;m.next=x;x.prev=m;z.next=m;m.prev=z;return m}let F=function(C,A,x){this.index=C;this.x=A;this.y=x;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1};a.deviation=function(C,A,x,m){var B=A&&
A.length;let z=Math.abs(t(C,0,B?A[0]*x:C.length,x));if(B)for(let G=0,D=A.length;G<D;G++)z-=Math.abs(t(C,A[G]*x,G<D-1?A[G+1]*x:C.length,x));A=0;for(B=0;B<m.length;B+=3){const G=m[B]*x,D=m[B+1]*x,E=m[B+2]*x;A+=Math.abs((C[G]-C[E])*(C[D+1]-C[G+1])-(C[G]-C[D])*(C[E+1]-C[G+1]))}return 0===z&&0===A?0:Math.abs((A-z)/z)};a.earcut=function(C,A,x){var m=A&&A.length;const B=m?A[0]*x:C.length;var z=l(C,0,B,x,!0);const G=[];if(!z||z.next===z.prev)return G;let D,E;var I,J;if(m){m=[];for(let P=0,W=A.length;P<W;P++){var Q=
l(C,A[P]*x,P<W-1?A[P+1]*x:C.length,x,!1);Q===Q.next&&(Q.steiner=!0);m.push(e(Q))}m.sort(v);for(J of m){A=J;m=z;if(m=f(A,m))A=q(m,A),w(A,A.next);z=w(z,z.next)}}if(C.length>80*x){D=I=C[0];E=J=C[1];for(A=x;A<B;A+=x)m=C[A],Q=C[A+1],D=Math.min(D,m),E=Math.min(E,Q),I=Math.max(I,m),J=Math.max(J,Q);I=Math.max(I-D,J-E);I=0!==I?1/I:0}y(z,G,x,D,E,I);return G};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/mesh/Tesselator":function(){define(["../../../../../core/Logger","../../../../../chunks/_commonjsHelpers"],
function(a,l){var w=l.createCommonjsModule(function(r){(function(b){b=b();void 0!==b&&(r.exports=b)})(function(){var b={DEBUG:!1,assert:function(c,e){if(b.DEBUG&&!c)throw Error("Assertion failed"+(e?": "+e:""));},GLU_TESS_MAX_COORD:1E150,TRUE_PROJECT:!1,GLU_TESS_DEFAULT_TOLERANCE:0,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,
GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,
GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111,GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901},geom:{}};b.geom.vertEq=function(c,e){return c.s===e.s&&c.t===e.t};b.geom.vertLeq=function(c,e){return c.s<e.s||c.s===e.s&&c.t<=e.t};b.geom.edgeEval=function(c,e,f){b.assert(b.geom.vertLeq(c,e)&&b.geom.vertLeq(e,f));var k=e.s-c.s,h=f.s-e.s;return 0<k+h?k<h?e.t-c.t+k/(k+h)*(c.t-f.t):e.t-
f.t+h/(k+h)*(f.t-c.t):0};b.geom.edgeSign=function(c,e,f){b.assert(b.geom.vertLeq(c,e)&&b.geom.vertLeq(e,f));var k=e.s-c.s,h=f.s-e.s;return 0<k+h?(e.t-f.t)*k+(e.t-c.t)*h:0};b.geom.transLeq=function(c,e){return c.t<e.t||c.t===e.t&&c.s<=e.s};b.geom.transEval=function(c,e,f){b.assert(b.geom.transLeq(c,e)&&b.geom.transLeq(e,f));var k=e.t-c.t,h=f.t-e.t;return 0<k+h?k<h?e.s-c.s+k/(k+h)*(c.s-f.s):e.s-f.s+h/(k+h)*(f.s-c.s):0};b.geom.transSign=function(c,e,f){b.assert(b.geom.transLeq(c,e)&&b.geom.transLeq(e,
f));var k=e.t-c.t,h=f.t-e.t;return 0<k+h?(e.s-f.s)*k+(e.s-c.s)*h:0};b.geom.edgeGoesLeft=function(c){return b.geom.vertLeq(c.dst(),c.org)};b.geom.edgeGoesRight=function(c){return b.geom.vertLeq(c.org,c.dst())};b.geom.vertL1dist=function(c,e){return Math.abs(c.s-e.s)+Math.abs(c.t-e.t)};b.geom.vertCCW=function(c,e,f){return 0<=c.s*(e.t-f.t)+e.s*(f.t-c.t)+f.s*(c.t-e.t)};b.geom.interpolate_=function(c,e,f,k){c=0>c?0:c;f=0>f?0:f;return c<=f?0===f?(e+k)/2:e+c/(c+f)*(k-e):k+f/(c+f)*(e-k)};b.geom.edgeIntersect=
function(c,e,f,k,h){if(!b.geom.vertLeq(c,e)){var d=c;c=e;e=d}b.geom.vertLeq(f,k)||(d=f,f=k,k=d);b.geom.vertLeq(c,f)||(d=c,c=f,f=d,d=e,e=k,k=d);if(b.geom.vertLeq(f,e))if(b.geom.vertLeq(e,k)){d=b.geom.edgeEval(c,f,e);var t=b.geom.edgeEval(f,e,k);0>d+t&&(d=-d,t=-t);h.s=b.geom.interpolate_(d,f.s,t,e.s)}else d=b.geom.edgeSign(c,f,e),t=-b.geom.edgeSign(c,k,e),0>d+t&&(d=-d,t=-t),h.s=b.geom.interpolate_(d,f.s,t,k.s);else h.s=(f.s+e.s)/2;b.geom.transLeq(c,e)||(d=c,c=e,e=d);b.geom.transLeq(f,k)||(d=f,f=k,k=
d);b.geom.transLeq(c,f)||(d=c,c=f,f=d,d=e,e=k,k=d);b.geom.transLeq(f,e)?b.geom.transLeq(e,k)?(d=b.geom.transEval(c,f,e),t=b.geom.transEval(f,e,k),0>d+t&&(d=-d,t=-t),h.t=b.geom.interpolate_(d,f.t,t,e.t)):(d=b.geom.transSign(c,f,e),t=-b.geom.transSign(c,k,e),0>d+t&&(d=-d,t=-t),h.t=b.geom.interpolate_(d,f.t,t,k.t)):h.t=(f.t+e.t)/2};b.mesh={};b.mesh.makeEdge=function(c){var e=b.mesh.makeEdgePair_(c.eHead);b.mesh.makeVertex_(e,c.vHead);b.mesh.makeVertex_(e.sym,c.vHead);b.mesh.makeFace_(e,c.fHead);return e};
b.mesh.meshSplice=function(c,e){var f=!1,k=!1;c!==e&&(e.org!==c.org&&(k=!0,b.mesh.killVertex_(e.org,c.org)),e.lFace!==c.lFace&&(f=!0,b.mesh.killFace_(e.lFace,c.lFace)),b.mesh.splice_(e,c),k||(b.mesh.makeVertex_(e,c.org),c.org.anEdge=c),f||(b.mesh.makeFace_(e,c.lFace),c.lFace.anEdge=c))};b.mesh.deleteEdge=function(c){var e=c.sym,f=!1;c.lFace!==c.rFace()&&(f=!0,b.mesh.killFace_(c.lFace,c.rFace()));c.oNext===c?b.mesh.killVertex_(c.org,null):(c.rFace().anEdge=c.oPrev(),c.org.anEdge=c.oNext,b.mesh.splice_(c,
c.oPrev()),f||b.mesh.makeFace_(c,c.lFace));e.oNext===e?(b.mesh.killVertex_(e.org,null),b.mesh.killFace_(e.lFace,null)):(c.lFace.anEdge=e.oPrev(),e.org.anEdge=e.oNext,b.mesh.splice_(e,e.oPrev()));b.mesh.killEdge_(c)};b.mesh.addEdgeVertex=function(c){var e=b.mesh.makeEdgePair_(c),f=e.sym;b.mesh.splice_(e,c.lNext);e.org=c.dst();b.mesh.makeVertex_(f,e.org);e.lFace=f.lFace=c.lFace;return e};b.mesh.splitEdge=function(c){var e=b.mesh.addEdgeVertex(c).sym;b.mesh.splice_(c.sym,c.sym.oPrev());b.mesh.splice_(c.sym,
e);c.sym.org=e.org;e.dst().anEdge=e.sym;e.sym.lFace=c.rFace();e.winding=c.winding;e.sym.winding=c.sym.winding;return e};b.mesh.connect=function(c,e){var f=!1,k=b.mesh.makeEdgePair_(c),h=k.sym;e.lFace!==c.lFace&&(f=!0,b.mesh.killFace_(e.lFace,c.lFace));b.mesh.splice_(k,c.lNext);b.mesh.splice_(h,e);k.org=c.dst();h.org=e.org;k.lFace=h.lFace=c.lFace;c.lFace.anEdge=h;f||b.mesh.makeFace_(k,c.lFace);return k};b.mesh.zapFace=function(c){var e=c.anEdge,f=e.lNext;do{var k=f;f=k.lNext;k.lFace=null;if(null===
k.rFace()){k.oNext===k?b.mesh.killVertex_(k.org,null):(k.org.anEdge=k.oNext,b.mesh.splice_(k,k.oPrev()));var h=k.sym;h.oNext===h?b.mesh.killVertex_(h.org,null):(h.org.anEdge=h.oNext,b.mesh.splice_(h,h.oPrev()));b.mesh.killEdge_(k)}}while(k!==e);e=c.prev;c=c.next;c.prev=e;e.next=c};b.mesh.meshUnion=function(c,e){var f=c.fHead,k=c.vHead,h=c.eHead,d=e.fHead,t=e.vHead;e=e.eHead;d.next!==d&&(f.prev.next=d.next,d.next.prev=f.prev,d.prev.next=f,f.prev=d.prev);t.next!==t&&(k.prev.next=t.next,t.next.prev=
k.prev,t.prev.next=k,k.prev=t.prev);e.next!==e&&(h.sym.next.sym.next=e.next,e.next.sym.next=h.sym.next,e.sym.next.sym.next=h,h.sym.next=e.sym.next);return c};b.mesh.deleteMesh=function(c){};b.mesh.makeEdgePair_=function(c){var e=new b.GluHalfEdge,f=new b.GluHalfEdge,k=c.sym.next;f.next=k;k.sym.next=e;e.next=c;c.sym.next=f;e.sym=f;e.oNext=e;e.lNext=f;f.sym=e;f.oNext=f;return f.lNext=e};b.mesh.splice_=function(c,e){var f=c.oNext,k=e.oNext;f.sym.lNext=e;k.sym.lNext=c;c.oNext=k;e.oNext=f};b.mesh.makeVertex_=
function(c,e){var f=e.prev,k=new b.GluVertex(e,f);f.next=k;e.prev=k;e=k.anEdge=c;do e.org=k,e=e.oNext;while(e!==c)};b.mesh.makeFace_=function(c,e){var f=e.prev,k=new b.GluFace(e,f);f.next=k;e.prev=k;k.anEdge=c;k.inside=e.inside;e=c;do e.lFace=k,e=e.lNext;while(e!==c)};b.mesh.killEdge_=function(c){var e=c.next;c=c.sym.next;e.sym.next=c;c.sym.next=e};b.mesh.killVertex_=function(c,e){var f=c.anEdge,k=f;do k.org=e,k=k.oNext;while(k!==f);e=c.prev;c=c.next;c.prev=e;e.next=c};b.mesh.killFace_=function(c,
e){var f=c.anEdge,k=f;do k.lFace=e,k=k.lNext;while(k!==f);e=c.prev;c=c.next;c.prev=e;e.next=c};b.normal={};b.normal.S_UNIT_X_=1;b.normal.S_UNIT_Y_=0;b.normal.projectPolygon=function(c,e,f,k){var h=!1,d=[e,f,k];0===e&&0===f&&0===k&&(b.normal.computeNormal_(c,d),h=!0);f=b.normal.longAxis_(d);e=c.mesh.vHead;if(b.TRUE_PROJECT){b.normal.normalize_(d);k=[0,0,0];var t=[0,0,0];k[f]=0;k[(f+1)%3]=b.normal.S_UNIT_X_;k[(f+2)%3]=b.normal.S_UNIT_Y_;f=b.normal.dot_(k,d);k[0]-=f*d[0];k[1]-=f*d[1];k[2]-=f*d[2];b.normal.normalize_(k);
t[0]=d[1]*k[2]-d[2]*k[1];t[1]=d[2]*k[0]-d[0]*k[2];t[2]=d[0]*k[1]-d[1]*k[0];b.normal.normalize_(t);for(d=e.next;d!==e;d=d.next)d.s=b.normal.dot_(d.coords,k),d.t=b.normal.dot_(d.coords,t)}else for(k=(f+1)%3,t=(f+2)%3,f=0<d[f]?1:-1,d=e.next;d!==e;d=d.next)d.s=d.coords[k],d.t=f*d.coords[t];h&&b.normal.checkOrientation_(c)};b.normal.dot_=function(c,e){return c[0]*e[0]+c[1]*e[1]+c[2]*e[2]};b.normal.normalize_=function(c){var e=c[0]*c[0]+c[1]*c[1]+c[2]*c[2];b.assert(0<e);e=Math.sqrt(e);c[0]/=e;c[1]/=e;c[2]/=
e};b.normal.longAxis_=function(c){var e=0;Math.abs(c[1])>Math.abs(c[0])&&(e=1);Math.abs(c[2])>Math.abs(c[e])&&(e=2);return e};b.normal.computeNormal_=function(c,e){var f=[-2*b.GLU_TESS_MAX_COORD,-2*b.GLU_TESS_MAX_COORD,-2*b.GLU_TESS_MAX_COORD],k=[2*b.GLU_TESS_MAX_COORD,2*b.GLU_TESS_MAX_COORD,2*b.GLU_TESS_MAX_COORD],h=[],d=[],t;c=c.mesh.vHead;for(t=c.next;t!==c;t=t.next)for(var n=0;3>n;++n){var g=t.coords[n];g<k[n]&&(k[n]=g,d[n]=t);g>f[n]&&(f[n]=g,h[n]=t)}t=0;f[1]-k[1]>f[0]-k[0]&&(t=1);f[2]-k[2]>f[t]-
k[t]&&(t=2);if(k[t]>=f[t])e[0]=0,e[1]=0,e[2]=1;else{f=0;k=d[t];h=h[t];d=[0,0,0];k=[k.coords[0]-h.coords[0],k.coords[1]-h.coords[1],k.coords[2]-h.coords[2]];n=[0,0,0];for(t=c.next;t!==c;t=t.next)n[0]=t.coords[0]-h.coords[0],n[1]=t.coords[1]-h.coords[1],n[2]=t.coords[2]-h.coords[2],d[0]=k[1]*n[2]-k[2]*n[1],d[1]=k[2]*n[0]-k[0]*n[2],d[2]=k[0]*n[1]-k[1]*n[0],g=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],g>f&&(f=g,e[0]=d[0],e[1]=d[1],e[2]=d[2]);0>=f&&(e[0]=e[1]=e[2]=0,e[b.normal.longAxis_(k)]=1)}};b.normal.checkOrientation_=
function(c){for(var e=0,f=c.mesh.fHead,k=f.next;k!==f;k=k.next){var h=k.anEdge;if(!(0>=h.winding)){do e+=(h.org.s-h.dst().s)*(h.org.t+h.dst().t),h=h.lNext;while(h!==k.anEdge)}}if(0>e)for(c=c.mesh.vHead,e=c.next;e!==c;e=e.next)e.t=-e.t};b.render={};b.render.renderMesh=function(c,e,f){for(var k=!1,h=-1,d=e.fHead.prev;d!==e.fHead;d=d.prev)if(d.inside){k||(c.callBeginCallback(b.primitiveType.GL_TRIANGLES),k=!0);var t=d.anEdge;b.assert(t.lNext.lNext.lNext===t,"renderMesh called with non-triangulated mesh");
do{if(f){var n=t.rFace().inside?0:1;h!==n&&(h=n,c.callEdgeFlagCallback(!!h))}c.callVertexCallback(t.org.data);t=t.lNext}while(t!==d.anEdge)}k&&c.callEndCallback()};b.render.renderBoundary=function(c,e){for(var f=e.fHead.next;f!==e.fHead;f=f.next)if(f.inside){c.callBeginCallback(b.primitiveType.GL_LINE_LOOP);var k=f.anEdge;do c.callVertexCallback(k.org.data),k=k.lNext;while(k!==f.anEdge);c.callEndCallback()}};b.sweep={};b.sweep.SENTINEL_COORD_=4*b.GLU_TESS_MAX_COORD;b.sweep.TOLERANCE_NONZERO_=!1;b.sweep.computeInterior=
function(c){c.fatalError=!1;b.sweep.removeDegenerateEdges_(c);b.sweep.initPriorityQ_(c);b.sweep.initEdgeDict_(c);for(var e;null!==(e=c.pq.extractMin());){for(;;){var f=c.pq.minimum();if(null===f||!b.geom.vertEq(f,e))break;f=c.pq.extractMin();b.sweep.spliceMergeVertices_(c,e.anEdge,f.anEdge)}b.sweep.sweepEvent_(c,e)}e=c.dict.getMin().getKey();c.event=e.eUp.org;b.sweep.doneEdgeDict_(c);b.sweep.donePriorityQ_(c);b.sweep.removeDegenerateFaces_(c.mesh);c.mesh.checkMesh()};b.sweep.addWinding_=function(c,
e){c.winding+=e.winding;c.sym.winding+=e.sym.winding};b.sweep.edgeLeq_=function(c,e,f){c=c.event;e=e.eUp;f=f.eUp;if(e.dst()===c)return f.dst()===c?b.geom.vertLeq(e.org,f.org)?0>=b.geom.edgeSign(f.dst(),e.org,f.org):0<=b.geom.edgeSign(e.dst(),f.org,e.org):0>=b.geom.edgeSign(f.dst(),c,f.org);if(f.dst()===c)return 0<=b.geom.edgeSign(e.dst(),c,e.org);e=b.geom.edgeEval(e.dst(),c,e.org);c=b.geom.edgeEval(f.dst(),c,f.org);return e>=c};b.sweep.deleteRegion_=function(c,e){e.fixUpperEdge&&b.assert(0===e.eUp.winding);
e.eUp.activeRegion=null;c.dict.deleteNode(e.nodeUp);e.nodeUp=null};b.sweep.fixUpperEdge_=function(c,e){b.assert(c.fixUpperEdge);b.mesh.deleteEdge(c.eUp);c.fixUpperEdge=!1;c.eUp=e;e.activeRegion=c};b.sweep.topLeftRegion_=function(c){var e=c.eUp.org;do c=c.regionAbove();while(c.eUp.org===e);c.fixUpperEdge&&(e=b.mesh.connect(c.regionBelow().eUp.sym,c.eUp.lNext),b.sweep.fixUpperEdge_(c,e),c=c.regionAbove());return c};b.sweep.topRightRegion_=function(c){var e=c.eUp.dst();do c=c.regionAbove();while(c.eUp.dst()===
e);return c};b.sweep.addRegionBelow_=function(c,e,f){var k=new b.ActiveRegion;k.eUp=f;k.nodeUp=c.dict.insertBefore(e.nodeUp,k);return f.activeRegion=k};b.sweep.isWindingInside_=function(c,e){switch(c.windingRule){case b.windingRule.GLU_TESS_WINDING_ODD:return 0!==(e&1);case b.windingRule.GLU_TESS_WINDING_NONZERO:return 0!==e;case b.windingRule.GLU_TESS_WINDING_POSITIVE:return 0<e;case b.windingRule.GLU_TESS_WINDING_NEGATIVE:return 0>e;case b.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:return 2<=e||-2>=
e}b.assert(!1);return!1};b.sweep.computeWinding_=function(c,e){e.windingNumber=e.regionAbove().windingNumber+e.eUp.winding;e.inside=b.sweep.isWindingInside_(c,e.windingNumber)};b.sweep.finishRegion_=function(c,e){var f=e.eUp,k=f.lFace;k.inside=e.inside;k.anEdge=f;b.sweep.deleteRegion_(c,e)};b.sweep.finishLeftRegions_=function(c,e,f){var k=e;for(e=e.eUp;k!==f;){k.fixUpperEdge=!1;var h=k.regionBelow(),d=h.eUp;if(d.org!==e.org){if(!h.fixUpperEdge){b.sweep.finishRegion_(c,k);break}d=b.mesh.connect(e.lPrev(),
d.sym);b.sweep.fixUpperEdge_(h,d)}e.oNext!==d&&(b.mesh.meshSplice(d.oPrev(),d),b.mesh.meshSplice(e,d));b.sweep.finishRegion_(c,k);e=h.eUp;k=h}return e};b.sweep.addRightEdges_=function(c,e,f,k,h,d){var t=!0;do b.assert(b.geom.vertLeq(f.org,f.dst())),b.sweep.addRegionBelow_(c,e,f.sym),f=f.oNext;while(f!==k);for(null===h&&(h=e.regionBelow().eUp.rPrev());;){k=e.regionBelow();f=k.eUp.sym;if(f.org!==h.org)break;f.oNext!==h&&(b.mesh.meshSplice(f.oPrev(),f),b.mesh.meshSplice(h.oPrev(),f));k.windingNumber=
e.windingNumber-f.winding;k.inside=b.sweep.isWindingInside_(c,k.windingNumber);e.dirty=!0;!t&&b.sweep.checkForRightSplice_(c,e)&&(b.sweep.addWinding_(f,h),b.sweep.deleteRegion_(c,e),b.mesh.deleteEdge(h));t=!1;e=k;h=f}e.dirty=!0;b.assert(e.windingNumber-f.winding===k.windingNumber);d&&b.sweep.walkDirtyRegions_(c,e)};b.sweep.callCombine_=function(c,e,f,k,h){var d=[e.coords[0],e.coords[1],e.coords[2]];e.data=null;e.data=c.callCombineCallback(d,f,k);null===e.data&&(h?c.fatalError||(c.callErrorCallback(b.errorType.GLU_TESS_NEED_COMBINE_CALLBACK),
c.fatalError=!0):e.data=f[0])};b.sweep.spliceMergeVertices_=function(c,e,f){var k=[null,null,null,null];k[0]=e.org.data;k[1]=f.org.data;b.sweep.callCombine_(c,e.org,k,[.5,.5,0,0],!1);b.mesh.meshSplice(e,f)};b.sweep.vertexWeights_=function(c,e,f,k,h){var d=b.geom.vertL1dist(e,c),t=b.geom.vertL1dist(f,c),n=h+1;k[h]=.5*t/(d+t);k[n]=.5*d/(d+t);c.coords[0]+=k[h]*e.coords[0]+k[n]*f.coords[0];c.coords[1]+=k[h]*e.coords[1]+k[n]*f.coords[1];c.coords[2]+=k[h]*e.coords[2]+k[n]*f.coords[2]};b.sweep.getIntersectData_=
function(c,e,f,k,h,d){var t=[0,0,0,0],n=[f.data,k.data,h.data,d.data];e.coords[0]=e.coords[1]=e.coords[2]=0;b.sweep.vertexWeights_(e,f,k,t,0);b.sweep.vertexWeights_(e,h,d,t,2);b.sweep.callCombine_(c,e,n,t,!0)};b.sweep.checkForRightSplice_=function(c,e){var f=e.regionBelow(),k=e.eUp,h=f.eUp;if(b.geom.vertLeq(k.org,h.org)){if(0<b.geom.edgeSign(h.dst(),k.org,h.org))return!1;b.geom.vertEq(k.org,h.org)?k.org!==h.org&&(c.pq.remove(k.org.pqHandle),b.sweep.spliceMergeVertices_(c,h.oPrev(),k)):(b.mesh.splitEdge(h.sym),
b.mesh.meshSplice(k,h.oPrev()),e.dirty=f.dirty=!0)}else{if(0>b.geom.edgeSign(k.dst(),h.org,k.org))return!1;e.regionAbove().dirty=e.dirty=!0;b.mesh.splitEdge(k.sym);b.mesh.meshSplice(h.oPrev(),k)}return!0};b.sweep.checkForLeftSplice_=function(c,e){var f=e.regionBelow();c=e.eUp;var k=f.eUp;b.assert(!b.geom.vertEq(c.dst(),k.dst()));if(b.geom.vertLeq(c.dst(),k.dst())){if(0>b.geom.edgeSign(c.dst(),k.dst(),c.org))return!1;e.regionAbove().dirty=e.dirty=!0;f=b.mesh.splitEdge(c);b.mesh.meshSplice(k.sym,f);
f.lFace.inside=e.inside}else{if(0<b.geom.edgeSign(k.dst(),c.dst(),k.org))return!1;e.dirty=f.dirty=!0;f=b.mesh.splitEdge(k);b.mesh.meshSplice(c.lNext,k.sym);f.rFace().inside=e.inside}return!0};b.sweep.checkForIntersect_=function(c,e){var f=e.regionBelow(),k=e.eUp,h=f.eUp,d=k.org,t=h.org,n=k.dst(),g=h.dst(),p=new b.GluVertex;b.assert(!b.geom.vertEq(g,n));b.assert(0>=b.geom.edgeSign(n,c.event,d));b.assert(0<=b.geom.edgeSign(g,c.event,t));b.assert(d!==c.event&&t!==c.event);b.assert(!e.fixUpperEdge&&!f.fixUpperEdge);
if(d===t||Math.min(d.t,n.t)>Math.max(t.t,g.t))return!1;if(b.geom.vertLeq(d,t)){if(0<b.geom.edgeSign(g,d,t))return!1}else if(0>b.geom.edgeSign(n,t,d))return!1;b.geom.edgeIntersect(n,d,g,t,p);b.assert(Math.min(d.t,n.t)<=p.t);b.assert(p.t<=Math.max(t.t,g.t));b.assert(Math.min(g.s,n.s)<=p.s);b.assert(p.s<=Math.max(t.s,d.s));b.geom.vertLeq(p,c.event)&&(p.s=c.event.s,p.t=c.event.t);var u=b.geom.vertLeq(d,t)?d:t;b.geom.vertLeq(u,p)&&(p.s=u.s,p.t=u.t);if(b.geom.vertEq(p,d)||b.geom.vertEq(p,t))return b.sweep.checkForRightSplice_(c,
e),!1;if(!b.geom.vertEq(n,c.event)&&0<=b.geom.edgeSign(n,c.event,p)||!b.geom.vertEq(g,c.event)&&0>=b.geom.edgeSign(g,c.event,p)){if(g===c.event)return b.mesh.splitEdge(k.sym),b.mesh.meshSplice(h.sym,k),e=b.sweep.topLeftRegion_(e),k=e.regionBelow().eUp,b.sweep.finishLeftRegions_(c,e.regionBelow(),f),b.sweep.addRightEdges_(c,e,k.oPrev(),k,k,!0),!0;if(n===c.event)return b.mesh.splitEdge(h.sym),b.mesh.meshSplice(k.lNext,h.oPrev()),f=e,e=b.sweep.topRightRegion_(e),d=e.regionBelow().eUp.rPrev(),f.eUp=h.oPrev(),
h=b.sweep.finishLeftRegions_(c,f,null),b.sweep.addRightEdges_(c,e,h.oNext,k.rPrev(),d,!0),!0;0<=b.geom.edgeSign(n,c.event,p)&&(e.regionAbove().dirty=e.dirty=!0,b.mesh.splitEdge(k.sym),k.org.s=c.event.s,k.org.t=c.event.t);0>=b.geom.edgeSign(g,c.event,p)&&(e.dirty=f.dirty=!0,b.mesh.splitEdge(h.sym),h.org.s=c.event.s,h.org.t=c.event.t);return!1}b.mesh.splitEdge(k.sym);b.mesh.splitEdge(h.sym);b.mesh.meshSplice(h.oPrev(),k);k.org.s=p.s;k.org.t=p.t;k.org.pqHandle=c.pq.insert(k.org);b.sweep.getIntersectData_(c,
k.org,d,n,t,g);e.regionAbove().dirty=e.dirty=f.dirty=!0;return!1};b.sweep.walkDirtyRegions_=function(c,e){for(var f=e.regionBelow();;){for(;f.dirty;)e=f,f=f.regionBelow();if(!e.dirty&&(f=e,e=e.regionAbove(),null===e||!e.dirty))break;e.dirty=!1;var k=e.eUp,h=f.eUp;k.dst()!==h.dst()&&b.sweep.checkForLeftSplice_(c,e)&&(f.fixUpperEdge?(b.sweep.deleteRegion_(c,f),b.mesh.deleteEdge(h),f=e.regionBelow(),h=f.eUp):e.fixUpperEdge&&(b.sweep.deleteRegion_(c,e),b.mesh.deleteEdge(k),e=f.regionAbove(),k=e.eUp));
if(k.org!==h.org)if(k.dst()===h.dst()||e.fixUpperEdge||f.fixUpperEdge||k.dst()!==c.event&&h.dst()!==c.event)b.sweep.checkForRightSplice_(c,e);else if(b.sweep.checkForIntersect_(c,e))break;k.org===h.org&&k.dst()===h.dst()&&(b.sweep.addWinding_(h,k),b.sweep.deleteRegion_(c,e),b.mesh.deleteEdge(k),e=f.regionAbove())}};b.sweep.connectRightVertex_=function(c,e,f){var k=f.oNext,h=e.regionBelow(),d=e.eUp,t=h.eUp,n=!1;d.dst()!==t.dst()&&b.sweep.checkForIntersect_(c,e);b.geom.vertEq(d.org,c.event)&&(b.mesh.meshSplice(k.oPrev(),
d),e=b.sweep.topLeftRegion_(e),k=e.regionBelow().eUp,b.sweep.finishLeftRegions_(c,e.regionBelow(),h),n=!0);b.geom.vertEq(t.org,c.event)&&(b.mesh.meshSplice(f,t.oPrev()),f=b.sweep.finishLeftRegions_(c,h,null),n=!0);n?b.sweep.addRightEdges_(c,e,f.oNext,k,k,!0):(k=b.geom.vertLeq(t.org,d.org)?t.oPrev():d,k=b.mesh.connect(f.lPrev(),k),b.sweep.addRightEdges_(c,e,k,k.oNext,k.oNext,!1),k.sym.activeRegion.fixUpperEdge=!0,b.sweep.walkDirtyRegions_(c,e))};b.sweep.connectLeftDegenerate_=function(c,e,f){var k=
e.eUp;if(b.geom.vertEq(k.org,f))b.assert(b.sweep.TOLERANCE_NONZERO_),b.sweep.TOLERANCE_NONZERO_&&b.sweep.spliceMergeVertices_(c,k,f.anEdge);else if(b.geom.vertEq(k.dst(),f)){if(b.assert(b.sweep.TOLERANCE_NONZERO_),b.sweep.TOLERANCE_NONZERO_){e=b.sweep.topRightRegion_(e);k=e.regionBelow();var h=k.eUp.sym,d=h.oNext,t=d;k.fixUpperEdge&&(b.assert(d!==h),b.sweep.deleteRegion_(c,k),b.mesh.deleteEdge(h),h=d.oPrev());b.mesh.meshSplice(f.anEdge,h);b.geom.edgeGoesLeft(d)||(d=null);b.sweep.addRightEdges_(c,
e,h.oNext,t,d,!0)}}else b.mesh.splitEdge(k.sym),e.fixUpperEdge&&(b.mesh.deleteEdge(k.oNext),e.fixUpperEdge=!1),b.mesh.meshSplice(f.anEdge,k),b.sweep.sweepEvent_(c,f)};b.sweep.connectLeftVertex_=function(c,e){var f=new b.ActiveRegion;f.eUp=e.anEdge.sym;f=c.dict.search(f).getKey();var k=f.regionBelow(),h=f.eUp,d=k.eUp;0===b.geom.edgeSign(h.dst(),e,h.org)?b.sweep.connectLeftDegenerate_(c,f,e):(k=b.geom.vertLeq(d.dst(),h.dst())?f:k,f.inside||k.fixUpperEdge?(h=k===f?b.mesh.connect(e.anEdge.sym,h.lNext):
b.mesh.connect(d.dNext(),e.anEdge).sym,k.fixUpperEdge?b.sweep.fixUpperEdge_(k,h):b.sweep.computeWinding_(c,b.sweep.addRegionBelow_(c,f,h)),b.sweep.sweepEvent_(c,e)):b.sweep.addRightEdges_(c,f,e.anEdge,e.anEdge,null,!0))};b.sweep.sweepEvent_=function(c,e){c.event=e;for(var f=e.anEdge;null===f.activeRegion;)if(f=f.oNext,f===e.anEdge){b.sweep.connectLeftVertex_(c,e);return}e=b.sweep.topLeftRegion_(f.activeRegion);var k=e.regionBelow();f=k.eUp;k=b.sweep.finishLeftRegions_(c,k,null);k.oNext===f?b.sweep.connectRightVertex_(c,
e,k):b.sweep.addRightEdges_(c,e,k.oNext,f,f,!0)};b.sweep.addSentinel_=function(c,e){var f=new b.ActiveRegion,k=b.mesh.makeEdge(c.mesh);k.org.s=b.sweep.SENTINEL_COORD_;k.org.t=e;k.dst().s=-b.sweep.SENTINEL_COORD_;k.dst().t=e;c.event=k.dst();f.eUp=k;f.windingNumber=0;f.inside=!1;f.fixUpperEdge=!1;f.sentinel=!0;f.dirty=!1;f.nodeUp=c.dict.insert(f)};b.sweep.initEdgeDict_=function(c){c.dict=new b.Dict(c,b.sweep.edgeLeq_);b.sweep.addSentinel_(c,-b.sweep.SENTINEL_COORD_);b.sweep.addSentinel_(c,b.sweep.SENTINEL_COORD_)};
b.sweep.doneEdgeDict_=function(c){for(var e=0,f;null!==(f=c.dict.getMin().getKey());)f.sentinel||(b.assert(f.fixUpperEdge),b.assert(1===++e)),b.assert(0===f.windingNumber),b.sweep.deleteRegion_(c,f);c.dict=null};b.sweep.removeDegenerateEdges_=function(c){for(var e=c.mesh.eHead,f,k=e.next;k!==e;k=f){f=k.next;var h=k.lNext;b.geom.vertEq(k.org,k.dst())&&k.lNext.lNext!==k&&(b.sweep.spliceMergeVertices_(c,h,k),b.mesh.deleteEdge(k),k=h,h=k.lNext);if(h.lNext===k){if(h!==k){if(h===f||h===f.sym)f=f.next;b.mesh.deleteEdge(h)}if(k===
f||k===f.sym)f=f.next;b.mesh.deleteEdge(k)}}};b.sweep.initPriorityQ_=function(c){var e=new b.PriorityQ;c.pq=e;c=c.mesh.vHead;var f;for(f=c.next;f!==c;f=f.next)f.pqHandle=e.insert(f);e.init()};b.sweep.donePriorityQ_=function(c){c.pq.deleteQ();c.pq=null};b.sweep.removeDegenerateFaces_=function(c){for(var e,f=c.fHead.next;f!==c.fHead;f=e)e=f.next,f=f.anEdge,b.assert(f.lNext!==f),f.lNext.lNext===f&&(b.sweep.addWinding_(f.oNext,f),b.mesh.deleteEdge(f))};b.tessmono={};b.tessmono.tessellateMonoRegion_=function(c){c=
c.anEdge;for(b.assert(c.lNext!==c&&c.lNext.lNext!==c);b.geom.vertLeq(c.dst(),c.org);c=c.lPrev());for(;b.geom.vertLeq(c.org,c.dst());c=c.lNext);for(var e=c.lPrev(),f;c.lNext!==e;)if(b.geom.vertLeq(c.dst(),e.org)){for(;e.lNext!==c&&(b.geom.edgeGoesLeft(e.lNext)||0>=b.geom.edgeSign(e.org,e.dst(),e.lNext.dst()));)f=b.mesh.connect(e.lNext,e),e=f.sym;e=e.lPrev()}else{for(;e.lNext!==c&&(b.geom.edgeGoesRight(c.lPrev())||0<=b.geom.edgeSign(c.dst(),c.org,c.lPrev().org));)f=b.mesh.connect(c,c.lPrev()),c=f.sym;
c=c.lNext}for(b.assert(e.lNext!==c);e.lNext.lNext!==c;)f=b.mesh.connect(e.lNext,e),e=f.sym};b.tessmono.tessellateInterior=function(c){for(var e,f=c.fHead.next;f!==c.fHead;f=e)e=f.next,f.inside&&b.tessmono.tessellateMonoRegion_(f)};b.tessmono.discardExterior=function(c){for(var e,f=c.fHead.next;f!==c.fHead;f=e)e=f.next,f.inside||b.mesh.zapFace(f)};b.tessmono.setWindingNumber=function(c,e,f){for(var k,h=c.eHead.next;h!==c.eHead;h=k)k=h.next,h.rFace().inside!==h.lFace.inside?h.winding=h.lFace.inside?
e:-e:f?b.mesh.deleteEdge(h):h.winding=0};b.Dict=function(c,e){this.head_=new b.DictNode;this.frame_=c;this.leq_=e};b.Dict.prototype.deleteDict_=function(){};b.Dict.prototype.insertBefore=function(c,e){do c=c.prev;while(null!==c.key&&!this.leq_(this.frame_,c.key,e));e=new b.DictNode(e,c.next,c);c.next.prev=e;return c.next=e};b.Dict.prototype.insert=function(c){return this.insertBefore(this.head_,c)};b.Dict.prototype.deleteNode=function(c){c.next.prev=c.prev;c.prev.next=c.next};b.Dict.prototype.search=
function(c){var e=this.head_;do e=e.next;while(null!==e.key&&!this.leq_(this.frame_,c,e.key));return e};b.Dict.prototype.getMin=function(){return this.head_.next};b.Dict.prototype.getMax=function(){return this.head_.prev};b.DictNode=function(c,e,f){this.key=c||null;this.next=e||this;this.prev=f||this};b.DictNode.prototype.getKey=function(){return this.key};b.DictNode.prototype.getSuccessor=function(){return this.next};b.DictNode.prototype.getPredecessor=function(){return this.prev};b.GluTesselator=
function(){this.state_=b.GluTesselator.tessState_.T_DORMANT;this.errorCallback_=this.mesh=this.lastEdge_=null;this.normal_=[0,0,0];this.windingRule=b.windingRule.GLU_TESS_WINDING_ODD;this.fatalError=!1;this.combineCallback_=this.event=this.pq=this.dict=null;this.boundaryOnly_=!1;this.polygonData_=this.meshCallback_=this.endCallback_=this.vertexCallback_=this.edgeFlagCallback_=this.beginCallback_=null};b.GluTesselator.tessState_={T_DORMANT:0,T_IN_POLYGON:1,T_IN_CONTOUR:2};b.GluTesselator.prototype.gluDeleteTess=
function(){this.requireState_(b.GluTesselator.tessState_.T_DORMANT)};b.GluTesselator.prototype.gluTessProperty=function(c,e){switch(c){case b.gluEnum.GLU_TESS_TOLERANCE:return;case b.gluEnum.GLU_TESS_WINDING_RULE:switch(e){case b.windingRule.GLU_TESS_WINDING_ODD:case b.windingRule.GLU_TESS_WINDING_NONZERO:case b.windingRule.GLU_TESS_WINDING_POSITIVE:case b.windingRule.GLU_TESS_WINDING_NEGATIVE:case b.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:this.windingRule=e;return}break;case b.gluEnum.GLU_TESS_BOUNDARY_ONLY:this.boundaryOnly_=
!!e;return;default:this.callErrorCallback(b.gluEnum.GLU_INVALID_ENUM);return}this.callErrorCallback(b.gluEnum.GLU_INVALID_VALUE)};b.GluTesselator.prototype.gluGetTessProperty=function(c){switch(c){case b.gluEnum.GLU_TESS_TOLERANCE:return 0;case b.gluEnum.GLU_TESS_WINDING_RULE:return c=this.windingRule,b.assert(c===b.windingRule.GLU_TESS_WINDING_ODD||c===b.windingRule.GLU_TESS_WINDING_NONZERO||c===b.windingRule.GLU_TESS_WINDING_POSITIVE||c===b.windingRule.GLU_TESS_WINDING_NEGATIVE||c===b.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO),
c;case b.gluEnum.GLU_TESS_BOUNDARY_ONLY:return b.assert(!0===this.boundaryOnly_||!1===this.boundaryOnly_),this.boundaryOnly_;default:this.callErrorCallback(b.gluEnum.GLU_INVALID_ENUM)}return!1};b.GluTesselator.prototype.gluTessNormal=function(c,e,f){this.normal_[0]=c;this.normal_[1]=e;this.normal_[2]=f};b.GluTesselator.prototype.gluTessCallback=function(c,e){e=e?e:null;switch(c){case b.gluEnum.GLU_TESS_BEGIN:case b.gluEnum.GLU_TESS_BEGIN_DATA:this.beginCallback_=e;break;case b.gluEnum.GLU_TESS_EDGE_FLAG:case b.gluEnum.GLU_TESS_EDGE_FLAG_DATA:this.edgeFlagCallback_=
e;break;case b.gluEnum.GLU_TESS_VERTEX:case b.gluEnum.GLU_TESS_VERTEX_DATA:this.vertexCallback_=e;break;case b.gluEnum.GLU_TESS_END:case b.gluEnum.GLU_TESS_END_DATA:this.endCallback_=e;break;case b.gluEnum.GLU_TESS_ERROR:case b.gluEnum.GLU_TESS_ERROR_DATA:this.errorCallback_=e;break;case b.gluEnum.GLU_TESS_COMBINE:case b.gluEnum.GLU_TESS_COMBINE_DATA:this.combineCallback_=e;break;case b.gluEnum.GLU_TESS_MESH:this.meshCallback_=e;break;default:this.callErrorCallback(b.gluEnum.GLU_INVALID_ENUM)}};b.GluTesselator.prototype.gluTessVertex=
function(c,e){var f=!1,k=[0,0,0];this.requireState_(b.GluTesselator.tessState_.T_IN_CONTOUR);for(var h=0;3>h;++h){var d=c[h];d<-b.GLU_TESS_MAX_COORD&&(d=-b.GLU_TESS_MAX_COORD,f=!0);d>b.GLU_TESS_MAX_COORD&&(d=b.GLU_TESS_MAX_COORD,f=!0);k[h]=d}f&&this.callErrorCallback(b.errorType.GLU_TESS_COORD_TOO_LARGE);this.addVertex_(k,e)};b.GluTesselator.prototype.gluTessBeginPolygon=function(c){this.requireState_(b.GluTesselator.tessState_.T_DORMANT);this.state_=b.GluTesselator.tessState_.T_IN_POLYGON;this.mesh=
new b.GluMesh;this.polygonData_=c};b.GluTesselator.prototype.gluTessBeginContour=function(){this.requireState_(b.GluTesselator.tessState_.T_IN_POLYGON);this.state_=b.GluTesselator.tessState_.T_IN_CONTOUR;this.lastEdge_=null};b.GluTesselator.prototype.gluTessEndContour=function(){this.requireState_(b.GluTesselator.tessState_.T_IN_CONTOUR);this.state_=b.GluTesselator.tessState_.T_IN_POLYGON};b.GluTesselator.prototype.gluTessEndPolygon=function(){this.requireState_(b.GluTesselator.tessState_.T_IN_POLYGON);
this.state_=b.GluTesselator.tessState_.T_DORMANT;b.normal.projectPolygon(this,this.normal_[0],this.normal_[1],this.normal_[2]);b.sweep.computeInterior(this);if(!this.fatalError){var c=this.mesh;this.boundaryOnly_?b.tessmono.setWindingNumber(c,1,!0):b.tessmono.tessellateInterior(c);this.mesh.checkMesh();if(this.beginCallback_||this.endCallback_||this.vertexCallback_||this.edgeFlagCallback_)this.boundaryOnly_?b.render.renderBoundary(this,this.mesh):b.render.renderMesh(this,this.mesh,!!this.edgeFlagCallback_);
if(this.meshCallback_){b.tessmono.discardExterior(this.mesh);this.meshCallback_(this.mesh);this.polygonData_=this.mesh=null;return}}b.mesh.deleteMesh(this.mesh);this.mesh=this.polygonData_=null};b.GluTesselator.prototype.requireState_=function(c){this.state_!==c&&this.gotoState_(c)};b.GluTesselator.prototype.gotoState_=function(c){for(;this.state_!==c;)if(this.state_<c)switch(this.state_){case b.GluTesselator.tessState_.T_DORMANT:this.callErrorCallback(b.errorType.GLU_TESS_MISSING_BEGIN_POLYGON);
this.gluTessBeginPolygon(null);break;case b.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorCallback(b.errorType.GLU_TESS_MISSING_BEGIN_CONTOUR),this.gluTessBeginContour()}else switch(this.state_){case b.GluTesselator.tessState_.T_IN_CONTOUR:this.callErrorCallback(b.errorType.GLU_TESS_MISSING_END_CONTOUR);this.gluTessEndContour();break;case b.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorCallback(b.errorType.GLU_TESS_MISSING_END_POLYGON),this.gluTessEndPolygon()}};b.GluTesselator.prototype.addVertex_=
function(c,e){var f=this.lastEdge_;null===f?(f=b.mesh.makeEdge(this.mesh),b.mesh.meshSplice(f,f.sym)):(b.mesh.splitEdge(f),f=f.lNext);f.org.data=e;f.org.coords[0]=c[0];f.org.coords[1]=c[1];f.org.coords[2]=c[2];f.winding=1;f.sym.winding=-1;this.lastEdge_=f};b.GluTesselator.prototype.callBeginCallback=function(c){this.beginCallback_&&this.beginCallback_(c,this.polygonData_)};b.GluTesselator.prototype.callVertexCallback=function(c){this.vertexCallback_&&this.vertexCallback_(c,this.polygonData_)};b.GluTesselator.prototype.callEdgeFlagCallback=
function(c){this.edgeFlagCallback_&&this.edgeFlagCallback_(c,this.polygonData_)};b.GluTesselator.prototype.callEndCallback=function(){this.endCallback_&&this.endCallback_(this.polygonData_)};b.GluTesselator.prototype.callCombineCallback=function(c,e,f){return this.combineCallback_?this.combineCallback_(c,e,f,this.polygonData_)||null:null};b.GluTesselator.prototype.callErrorCallback=function(c){this.errorCallback_&&this.errorCallback_(c,this.polygonData_)};b.GluFace=function(c,e){this.next=c||this;
this.prev=e||this;this.anEdge=null;this.inside=!1};b.GluHalfEdge=function(c){this.next=c||this;this.activeRegion=this.lFace=this.org=this.lNext=this.oNext=this.sym=null;this.winding=0};b.GluHalfEdge.prototype.rFace=function(){return this.sym.lFace};b.GluHalfEdge.prototype.dst=function(){return this.sym.org};b.GluHalfEdge.prototype.oPrev=function(){return this.sym.lNext};b.GluHalfEdge.prototype.lPrev=function(){return this.oNext.sym};b.GluHalfEdge.prototype.dPrev=function(){return this.lNext.sym};
b.GluHalfEdge.prototype.rPrev=function(){return this.sym.oNext};b.GluHalfEdge.prototype.dNext=function(){return this.rPrev().sym};b.GluHalfEdge.prototype.rNext=function(){return this.oPrev().sym};b.GluMesh=function(){this.vHead=new b.GluVertex;this.fHead=new b.GluFace;this.eHead=new b.GluHalfEdge;this.eHeadSym=new b.GluHalfEdge;this.eHead.sym=this.eHeadSym;this.eHeadSym.sym=this.eHead};b.GluMesh.prototype.checkMesh=function(){if(b.DEBUG){var c=this.fHead,e=this.vHead,f=this.eHead,k,h;for(k=k=c;(h=
k.next)!==c;k=h){b.assert(h.prev===k);k=h.anEdge;do b.assert(k.sym!==k),b.assert(k.sym.sym===k),b.assert(k.lNext.oNext.sym===k),b.assert(k.oNext.sym.lNext===k),b.assert(k.lFace===h),k=k.lNext;while(k!==h.anEdge)}b.assert(h.prev===k&&null===h.anEdge);for(k=k=e;(c=k.next)!==e;k=c){b.assert(c.prev===k);k=c.anEdge;do b.assert(k.sym!==k),b.assert(k.sym.sym===k),b.assert(k.lNext.oNext.sym===k),b.assert(k.oNext.sym.lNext===k),b.assert(k.org===c),k=k.oNext;while(k!==c.anEdge)}b.assert(c.prev===k&&null===
c.anEdge&&null===c.data);for(e=e=f;(k=e.next)!==f;e=k)b.assert(k.sym.next===e.sym),b.assert(k.sym!==k),b.assert(k.sym.sym===k),b.assert(null!==k.org),b.assert(null!==k.dst()),b.assert(k.lNext.oNext.sym===k),b.assert(k.oNext.sym.lNext===k);b.assert(k.sym.next===e.sym&&k.sym===this.eHeadSym&&k.sym.sym===k&&null===k.org&&null===k.dst()&&null===k.lFace&&null===k.rFace())}};b.GluVertex=function(c,e){this.next=c||this;this.prev=e||this;this.data=this.anEdge=null;this.coords=[0,0,0];this.pqHandle=this.t=
this.s=0};b.PriorityQ=function(){this.verts_=[];this.order_=null;this.size_=0;this.initialized_=!1;this.heap_=new b.PriorityQHeap};b.PriorityQ.prototype.deleteQ=function(){this.verts_=this.order_=this.heap_=null};b.PriorityQ.prototype.init=function(){this.order_=[];for(var c=0;c<this.size_;c++)this.order_[c]=c;c=function(f){return function(k,h){return b.geom.vertLeq(f[k],f[h])?1:-1}}(this.verts_);this.order_.sort(c);this.initialized_=!0;this.heap_.init();if(b.DEBUG){var e=0+this.size_-1;for(c=0;c<
e;++c)b.assert(b.geom.vertLeq(this.verts_[this.order_[c+1]],this.verts_[this.order_[c]]))}};b.PriorityQ.prototype.insert=function(c){if(this.initialized_)return this.heap_.insert(c);var e=this.size_++;this.verts_[e]=c;return-(e+1)};b.PriorityQ.prototype.extractMin=function(){if(0===this.size_)return this.heap_.extractMin();var c=this.verts_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var e=this.heap_.minimum();if(b.geom.vertLeq(e,c))return this.heap_.extractMin()}do--this.size_;while(0<this.size_&&
null===this.verts_[this.order_[this.size_-1]]);return c};b.PriorityQ.prototype.minimum=function(){if(0===this.size_)return this.heap_.minimum();var c=this.verts_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var e=this.heap_.minimum();if(b.geom.vertLeq(e,c))return e}return c};b.PriorityQ.prototype.remove=function(c){if(0<=c)this.heap_.remove(c);else for(c=-(c+1),b.assert(c<this.verts_.length&&null!==this.verts_[c]),this.verts_[c]=null;0<this.size_&&null===this.verts_[this.order_[this.size_-
1]];)--this.size_};b.PriorityQHeap=function(){this.heap_=b.PriorityQHeap.reallocNumeric_([0],b.PriorityQHeap.INIT_SIZE_+1);this.verts_=[null,null];this.handles_=[0,0];this.size_=0;this.max_=b.PriorityQHeap.INIT_SIZE_;this.freeList_=0;this.initialized_=!1;this.heap_[1]=1};b.PriorityQHeap.INIT_SIZE_=32;b.PriorityQHeap.reallocNumeric_=function(c,e){for(var f=Array(e),k=0;k<c.length;k++)f[k]=c[k];for(;k<e;k++)f[k]=0;return f};b.PriorityQHeap.prototype.init=function(){for(var c=this.size_;1<=c;--c)this.floatDown_(c);
this.initialized_=!0};b.PriorityQHeap.prototype.insert=function(c){var e=++this.size_;2*e>this.max_&&(this.max_*=2,this.handles_=b.PriorityQHeap.reallocNumeric_(this.handles_,this.max_+1));if(0===this.freeList_)var f=e;else f=this.freeList_,this.freeList_=this.handles_[this.freeList_];this.verts_[f]=c;this.handles_[f]=e;this.heap_[e]=f;this.initialized_&&this.floatUp_(e);return f};b.PriorityQHeap.prototype.isEmpty=function(){return 0===this.size_};b.PriorityQHeap.prototype.minimum=function(){return this.verts_[this.heap_[1]]};
b.PriorityQHeap.prototype.extractMin=function(){var c=this.heap_,e=this.verts_,f=this.handles_,k=c[1],h=e[k];0<this.size_&&(c[1]=c[this.size_],f[c[1]]=1,e[k]=null,f[k]=this.freeList_,this.freeList_=k,0<--this.size_&&this.floatDown_(1));return h};b.PriorityQHeap.prototype.remove=function(c){var e=this.heap_,f=this.verts_,k=this.handles_;b.assert(1<=c&&c<=this.max_&&null!==f[c]);var h=k[c];e[h]=e[this.size_];k[e[h]]=h;h<=--this.size_&&(1>=h?this.floatDown_(h):b.geom.vertLeq(f[e[h>>1]],f[e[h]])?this.floatDown_(h):
this.floatUp_(h));f[c]=null;k[c]=this.freeList_;this.freeList_=c};b.PriorityQHeap.prototype.floatDown_=function(c){for(var e=this.heap_,f=this.verts_,k=this.handles_,h=e[c];;){var d=c<<1;d<this.size_&&b.geom.vertLeq(f[e[d+1]],f[e[d]])&&(d+=1);b.assert(d<=this.max_);var t=e[d];if(d>this.size_||b.geom.vertLeq(f[h],f[t])){e[c]=h;k[h]=c;break}e[c]=t;k[t]=c;c=d}};b.PriorityQHeap.prototype.floatUp_=function(c){for(var e=this.heap_,f=this.verts_,k=this.handles_,h=e[c];;){var d=c>>1,t=e[d];if(0===d||b.geom.vertLeq(f[t],
f[h])){e[c]=h;k[h]=c;break}e[c]=t;k[t]=c;c=d}};b.ActiveRegion=function(){this.nodeUp=this.eUp=null;this.windingNumber=0;this.fixUpperEdge=this.dirty=this.sentinel=this.inside=!1};b.ActiveRegion.prototype.regionBelow=function(){return this.nodeUp.getPredecessor().getKey()};b.ActiveRegion.prototype.regionAbove=function(){return this.nodeUp.getSuccessor().getKey()};return b})});const y=a.getLogger("esri.views.2d.engine.webgl.mesh.templates.Tesselator");return function(){function r(){this._indexCounter=
this._currentVertexIndex=0;this._triangleIndices=[-1,-1,-1];this.glu=new w.GluTesselator;this.glu.gluTessCallback(w.gluEnum.GLU_TESS_BEGIN,this._begincallback.bind(this));this.glu.gluTessCallback(w.gluEnum.GLU_TESS_VERTEX_DATA,this._vertexCallback.bind(this));this.glu.gluTessCallback(w.gluEnum.GLU_TESS_END,this._endcallback.bind(this));this.glu.gluTessCallback(w.gluEnum.GLU_TESS_COMBINE,this._combinecallback.bind(this));this.glu.gluTessCallback(w.gluEnum.GLU_TESS_ERROR,this._errorcallback.bind(this));
this.glu.gluTessCallback(w.gluEnum.GLU_TESS_EDGE_FLAG,this._edgeCallback.bind(this));this.glu.gluTessProperty(w.gluEnum.GLU_TESS_WINDING_RULE,w.windingRule.GLU_TESS_WINDING_ODD)}var b=r.prototype;b.beginPolygon=function(c,e){this._triangleIndices[0]=-1;this._triangleIndices[1]=-1;this._triangleIndices[2]=-1;this._indexCounter=this._currentVertexIndex=0;this.glu.gluTessBeginPolygon(c);this._indices=e};b.endPolygon=function(){this.glu.gluTessEndPolygon()};b.beginContour=function(){this.glu.gluTessBeginContour()};
b.endContour=function(){this.glu.gluTessEndContour()};b.addVertex=function(c,e){this.glu.gluTessVertex(c,e)};b._vertexCallback=function(c,e){e[e.length]=c[0];e[e.length]=c[1];this._triangleIndices[this._currentVertexIndex]=-1;if(2<=this._currentVertexIndex){for(c=0;3>c;c++)-1===this._triangleIndices[c]&&(this._triangleIndices[c]=this._indexCounter++),this._indices[this._indices.length]=this._triangleIndices[c];this._currentVertexIndex=0}else this._currentVertexIndex++};b._begincallback=function(){this._triangleIndices[0]=
-1;this._triangleIndices[1]=-1;this._triangleIndices[2]=-1;this._currentVertexIndex=0};b._endcallback=function(){this._currentVertexIndex=0};b._errorcallback=function(c){y.error(`Encountered error during tesselation: ${c}`)};b._combinecallback=function(c){return[c[0],c[1],c[2]]};b._edgeCallback=function(){};return r}()})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){function l(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}a.commonjsGlobal=
"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.commonjsRequire=l;a.createCommonjsModule=function(w,y,r){return r={path:y,exports:{},require:function(b,c){return l(b,void 0===c||null===c?r.path:c)}},w(r,r.exports),r.exports};a.getDefaultExportFromCjs=function(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w["default"]:w}})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers","./MemoryBuffer"],function(a,l,w){let y=function(r){function b(){return r.call(this,12)||this}l._inheritsLoose(b,r);b.prototype.add=function(c,e,f){const k=this.array;k.push(c);k.push(e);k.push(f)};return b}(w);w=function(r){function b(){return r.call(this,4)||this}l._inheritsLoose(b,r);b.prototype.add=function(c){this.array.push(c)};return b}(w);a.PointElementMemoryBuffer=w;a.TriangleIndexBuffer=y;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function l(y){this._array=[];0>=y&&console.error("strideInBytes must be positive!");this._stride=y}var w=l.prototype;w.reset=function(){this.array.length=0};w.toBuffer=function(){return(new Uint32Array(this._array)).buffer};l.i1616to32=function(y,r){return 65535&y|r<<16};l.i8888to32=function(y,r,b,c){return y&255|(r&255)<<8|(b&255)<<16|c<<24};l.i8816to32=
function(y,r,b){return y&255|(r&255)<<8|b<<16};a._createClass(l,[{key:"array",get:function(){return this._array}},{key:"index",get:function(){return 4*this._array.length/this._stride}},{key:"itemSize",get:function(){return this._stride}},{key:"sizeInBytes",get:function(){return 4*this._array.length}}]);return l}()})},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../core/has","../webgl/mesh/templates/util","../webgl/TurboLine",
"./BaseBucket"],function(a,l,w,y,r){const b=1/3.8,c=h=>d=>{d.entry0=h._lineVertexBuffer.index;h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.prevNormal.x,d.prevNormal.y,0,-1,d.distance,h._ddValues);d.entry2=h._lineVertexBuffer.index;h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.prevNormal.x,-d.prevNormal.y,0,1,d.distance,h._ddValues);d.exit0=h._lineVertexBuffer.index;h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.nextNormal.x,d.nextNormal.y,0,-1,d.distance,
h._ddValues);d.exit2=h._lineVertexBuffer.index;h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.nextNormal.x,-d.nextNormal.y,0,1,d.distance,h._ddValues)},e=h=>d=>{h._lineIndexBuffer.add(d.leftExit0,d.rightEntry0,d.leftExit2);h._lineIndexBuffer.add(d.rightEntry0,d.rightEntry2,d.leftExit2)},f=h=>d=>{var t=2===h._joinType?h._miterLimitCosine:h._roundLimitCosine,n=d.isCap&&0!==h._capType,g=!1;.97<d.cosine?(d.exit0=d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,
d.currentVertex.y,d.bisector.x/d.cosine,d.bisector.y/d.cosine,0,-1,d.distance,h._ddValues),d.exit2=d.entry2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.bisector.x/d.cosine,-d.bisector.y/d.cosine,0,1,d.distance,h._ddValues)):d.cosine<1-.97?(d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.prevNormal.x,d.prevNormal.y,0,-1,d.distance,h._ddValues),d.entry2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,
d.currentVertex.y,-d.prevNormal.x,-d.prevNormal.y,0,1,d.distance,h._ddValues),d.exit0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.nextNormal.x,d.nextNormal.y,0,-1,d.distance,h._ddValues),d.exit2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.nextNormal.x,-d.nextNormal.y,0,1,d.distance,h._ddValues)):d.canSplit?(y.splitVertex(),0<d.sign?(d.splitInner?(d.exit0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,
d.currentVertex.y,d.leftInner.x,d.leftInner.y,0,-1,d.distance,h._ddValues),d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.rightInner.x,d.rightInner.y,0,-1,d.distance,h._ddValues)):(d.exit0=d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.bisector.x/d.cosine,d.bisector.y/d.cosine,0,-1,d.distance,h._ddValues)),d.cosine<t?(g=!d.isCap,d.entry2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,
d.currentVertex.y,-d.prevNormal.x,-d.prevNormal.y,0,1,d.distance,h._ddValues),d.exit2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.nextNormal.x,-d.nextNormal.y,0,1,d.distance,h._ddValues)):d.splitOuter?(g=g||d.gapOuter,d.entry2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.leftOuter.x,-d.leftOuter.y,0,1,d.distance,h._ddValues),d.exit2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,
-d.rightOuter.x,-d.rightOuter.y,0,1,d.distance,h._ddValues)):(d.entry2=d.exit2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.bisector.x/d.cosine,-d.bisector.y/d.cosine,0,1,d.distance,h._ddValues))):(d.splitInner?(d.exit2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.leftInner.x,-d.leftInner.y,0,1,d.distance,h._ddValues),d.entry2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,
-d.rightInner.x,-d.rightInner.y,0,1,d.distance,h._ddValues)):(d.exit2=d.entry2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.bisector.x/d.cosine,-d.bisector.y/d.cosine,0,1,d.distance,h._ddValues)),d.cosine<t?(g=!d.isCap,d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.prevNormal.x,d.prevNormal.y,0,-1,d.distance,h._ddValues),d.exit0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,
d.nextNormal.x,d.nextNormal.y,0,-1,d.distance,h._ddValues)):d.splitOuter?(g=g||d.gapOuter,d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.leftOuter.x,d.leftOuter.y,0,-1,d.distance,h._ddValues),d.exit0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.rightOuter.x,d.rightOuter.y,0,-1,d.distance,h._ddValues)):(d.exit0=d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.bisector.x/
d.cosine,d.bisector.y/d.cosine,0,-1,d.distance,h._ddValues)))):0<d.sign?(d.exit0=d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.bisector.x/d.cosine,d.bisector.y/d.cosine,0,-1,d.distance,h._ddValues),d.cosine<t?(g=!d.isCap,d.entry2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.prevNormal.x,-d.prevNormal.y,0,1,d.distance,h._ddValues),d.exit2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,
d.currentVertex.y,-d.nextNormal.x,-d.nextNormal.y,0,1,d.distance,h._ddValues)):(d.entry2=d.exit2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.bisector.x/d.cosine,-d.bisector.y/d.cosine,0,1,d.distance,h._ddValues))):(d.exit2=d.entry2=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.bisector.x/d.cosine,-d.bisector.y/d.cosine,0,1,d.distance,h._ddValues),d.cosine<t?(g=!d.isCap,d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,
d.currentVertex.y,d.prevNormal.x,d.prevNormal.y,0,-1,d.distance,h._ddValues),d.exit0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.nextNormal.x,d.nextNormal.y,0,-1,d.distance,h._ddValues)):(d.exit0=d.entry0=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.bisector.x/d.cosine,d.bisector.y/d.cosine,0,-1,d.distance,h._ddValues)));d.canSplit&&(d.splitInner||d.splitOuter)||g||n?(t=d.entry1=d.exit1=h._lineVertexBuffer.index,
h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,0,0,0,0,d.distance,h._ddValues)):t=d.entry1=d.exit1=null;if(g&&1!==h._joinType)h._lineIndexBuffer.add(t,0<d.sign?d.exit2:d.entry0,0<d.sign?d.entry2:d.exit0);else if(n&&1===h._capType||g&&1===h._joinType){let A,x;if(d.isCap){g=Math.PI;n=Math.ceil(g/.8);var p=g/n;if(d.isFirstVertex){var u=d.prevNormal.x;var v=d.prevNormal.y;A=d.entry0;x=d.entry2}else d.isLastVertex&&(u=-d.nextNormal.x,v=-d.nextNormal.y,A=d.exit2,x=d.exit0)}else u=2*Math.acos(d.cosine),
n=Math.ceil(u/.8),p=u/n,u=0<d.sign?-d.prevNormal.x:d.nextNormal.x,v=0<d.sign?-d.prevNormal.y:d.nextNormal.y,A=0<d.sign?d.entry2:d.exit0,x=0<d.sign?d.exit2:d.entry0;g=Math.cos(p);p=Math.sin(p);var q=p*u+g*v;u=g*u-p*v;v=q;for(q=0;q<n;++q){var F=C;if(q<n-1)if(d.isCap){const m=d.isFirstVertex?-1:1;var C=h._lineVertexBuffer.index;h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,u,v,m,0,d.distance,h._ddValues)}else C=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,
u,v,0,d.sign,d.distance,h._ddValues);h._lineIndexBuffer.add(0===q?A:F,t,q===n-1?x:C);F=p*u+g*v;u=g*u-p*v;v=F}}else n&&2===h._capType&&(C=d.isFirstVertex?1:-1,h._hasPattern?(u=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.prevNormal.x-C*d.inbound.x,d.prevNormal.y-C*d.inbound.y,-C,-1,d.distance,h._ddValues),v=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.prevNormal.x-C*d.inbound.x,-d.prevNormal.y-C*d.inbound.y,-C,1,
d.distance,h._ddValues)):(u=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,d.prevNormal.x-C*d.inbound.x,d.prevNormal.y-C*d.inbound.y,0,-1,d.distance,h._ddValues),v=h._lineVertexBuffer.index,h._lineVertexBuffer.add(d.currentVertex.x,d.currentVertex.y,-d.prevNormal.x-C*d.inbound.x,-d.prevNormal.y-C*d.inbound.y,0,1,d.distance,h._ddValues)),0<C?(h._lineIndexBuffer.add(t,d.entry2,v),h._lineIndexBuffer.add(t,v,u),h._lineIndexBuffer.add(t,u,d.entry0)):(h._lineIndexBuffer.add(t,
v,d.exit2),h._lineIndexBuffer.add(t,u,v),h._lineIndexBuffer.add(t,d.exit0,u)))},k=h=>d=>{h._lineIndexBuffer.add(d.leftExit0,d.rightEntry0,null!=d.leftExit1?d.leftExit1:d.leftExit2);h._lineIndexBuffer.add(d.rightEntry0,null!=d.rightEntry1?d.rightEntry1:d.rightEntry2,null!=d.leftExit1?d.leftExit1:d.leftExit2);null!=d.leftExit1&&null!=d.rightEntry1?(h._lineIndexBuffer.add(d.leftExit1,d.rightEntry1,d.leftExit2),h._lineIndexBuffer.add(d.rightEntry1,d.rightEntry2,d.leftExit2)):null!=d.leftExit1?h._lineIndexBuffer.add(d.leftExit1,
d.rightEntry2,d.leftExit2):null!=d.rightEntry1&&h._lineIndexBuffer.add(d.rightEntry1,d.rightEntry2,d.leftExit2)};return function(h){function d(n,g,p,u){g=h.call(this,n,g)||this;g.type=2;g._tessellationOptions={};g.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,_roundLimitCosine:null};if(n.hasDataDrivenLine!==p.isDataDriven())throw Error("incompatible line buffer");g.tessellationProperties._lineVertexBuffer=
p;g.tessellationProperties._lineIndexBuffer=u;g.tessellationProperties._hasPattern=n.getPaintValue("line-pattern",g.zoom)||0<n.getPaintValue("line-dasharray",g.zoom).length;g._isThinLine=n.isThinLine;g._tessellationCallbacks=g._isThinLine?{vertex:c(g.tessellationProperties),bridge:e(g.tessellationProperties)}:{vertex:f(g.tessellationProperties),bridge:k(g.tessellationProperties)};return g}a._inheritsLoose(d,h);var t=d.prototype;t.processFeatures=function(n){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index;
this._lineIndexCount=0;const g=this.layer,p=this.zoom,u=g.hasDataDrivenLine;n&&n.setExtent(this.layerExtent);let v=[1,1,1,1],q=1,F=1;for(const C of this._features){!this.tessellationProperties._hasPattern&&g.hasDataDrivenColor&&(v=g.getPaintValue("line-color",p,C));g.hasDataDrivenOpacity&&(q=g.getPaintValue("line-opacity",p,C));g.hasDataDrivenWidth&&(F=g.getPaintValue("line-width",p,C));let A;if(u&&(A={color:v,opacity:q,size:Math.max(Math.min(F,256),0)},0>=A.size||0>=A.opacity||0>=A.color[3]))continue;
this.tessellationProperties._capType=g.getLayoutValue("line-cap",p,C);this.tessellationProperties._joinType=g.getLayoutValue("line-join",p,C);this.tessellationProperties._miterLimitCosine=w.getLimitCosine(g.getLayoutValue("line-miter-limit",p,C));this.tessellationProperties._roundLimitCosine=w.getLimitCosine(g.getLayoutValue("line-round-limit",p,C));const x=C.getGeometry(n);this._processFeature(x,A)}y.cleanup()};t.serialize=function(){var n=7+this.layerUIDs.length;n+=this.tessellationProperties._lineVertexBuffer.array.length;
n+=this.tessellationProperties._lineIndexBuffer.array.length;let g=0;n=new Uint32Array(n);var p=new Int32Array(n.buffer);n[g++]=this.type;n[g++]=this.layerUIDs.length;for(var u=0;u<this.layerUIDs.length;u++)n[g++]=this.layerUIDs[u];n[g++]=this._lineIndexStart;n[g++]=this._lineIndexCount;n[g++]=this.tessellationProperties._lineVertexBuffer.isDataDriven()?1:0;n[g++]=this.tessellationProperties._lineVertexBuffer.array.length;for(u=0;u<this.tessellationProperties._lineVertexBuffer.array.length;u++)p[g++]=
this.tessellationProperties._lineVertexBuffer.array[u];n[g++]=this.tessellationProperties._lineIndexBuffer.array.length;for(p=0;p<this.tessellationProperties._lineIndexBuffer.array.length;p++)n[g++]=this.tessellationProperties._lineIndexBuffer.array[p];return n.buffer};t._processFeature=function(n,g){if(n){var p=n.length;for(let u=0;u<p;u++)this._processGeometry(n[u],g)}};t._processGeometry=function(n,g){if(!(2>n.length)){for(var p=n[0],u=1,v,q;u<n.length;)v=n[u].x-p.x,q=n[u].y-p.y,1E-6>v*v+q*q?n.splice(u,
1):(p=n[u],++u);2>n.length||(p=3*this.tessellationProperties._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=b,this._tessellationOptions.enableOuterBisectorSplit=this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=
b,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=g,y.tessellate(n,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*this.tessellationProperties._lineIndexBuffer.index-p)}};a._createClass(d,[{key:"lineIndexStart",get:function(){return this._lineIndexStart}},{key:"lineIndexCount",get:function(){return this._lineIndexCount}}]);return d}(r)})},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["exports"],
function(a){function l(w,y){return Math.sqrt(w*w+y*y)}a.dist=function(w,y){return l(w[0]-y[0],w[1]-y[1])};a.getLimitCosine=function(w){return 1/Math.max(w,1)};a.isExtent=function(w){return void 0!==w.xmin&&void 0!==w.ymin&&void 0!==w.xmax&&void 0!==w.ymax};a.isFunction=function(w){return"function"===typeof w};a.isMultipoint=function(w){return void 0!==w.points};a.isPoint=function(w){return void 0!==w.x&&void 0!==w.y};a.isPolygon=function(w){return void 0!==w.rings};a.isPolyline=function(w){return void 0!==
w.paths};a.len=l;a.normalize=function(w){const y=l(w[0],w[1]);w[0]/=y;w[1]/=y};a.sub=function(w,y,r){w[0]=y[0]-r[0];w[1]=y[1]-r[1];return w};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["exports","./mesh/templates/util"],function(a,l){function w(){if(q.cosine<h.innerBisectorAutoSplitThreshold){q.splitInner=!0;q.gapInner=!0;var A=Math.max(h.innerBisectorAutoSplitThreshold,q.cosine);A=Math.sqrt(1-A*A)/A;q.leftInner.x=q.nextNormal.x+q.sign*
A*q.outbound.x;q.leftInner.y=q.nextNormal.y+q.sign*A*q.outbound.y;q.rightInner.x=q.prevNormal.x-q.sign*A*q.inbound.x;q.rightInner.y=q.prevNormal.y-q.sign*A*q.inbound.y}else h.enableInnerBisectorSplit&&(q.splitInner=!0,q.gapInner=!1,q.leftInner.x=q.rightInner.x=q.bisector.x/q.cosine,q.leftInner.y=q.rightInner.y=q.bisector.y/q.cosine);q.cosine<h.outerBisectorAutoSplitThreshold?(q.splitOuter=!0,q.gapOuter=!0,A=Math.max(h.outerBisectorAutoSplitThreshold,q.cosine),A=Math.sqrt(1-A*A)/A,q.leftOuter.x=q.prevNormal.x-
q.sign*A*q.inbound.x,q.leftOuter.y=q.prevNormal.y-q.sign*A*q.inbound.y,q.rightOuter.x=q.nextNormal.x+q.sign*A*q.outbound.x,q.rightOuter.y=q.nextNormal.y+q.sign*A*q.outbound.y):h.enableOuterBisectorSplit&&(q.splitOuter=!0,q.gapOuter=!1,q.leftOuter.x=q.rightOuter.x=q.bisector.x/q.cosine,q.leftOuter.y=q.rightOuter.y=q.bisector.y/q.cosine)}function y(){if(p)q.distance=0,p=q.isCap=q.isFirstVertex=q.isLastVertex=!1;else{if(0===n)if(q.isFirstVertex=0===t,v=k[t],0===t){if(n=0,q.closed){q.inbound.x=v.x-k[k.length-
2].x;q.inbound.y=v.y-k[k.length-2].y;var A=Math.sqrt(q.inbound.x*q.inbound.x+q.inbound.y*q.inbound.y);q.inbound.x/=A;q.inbound.y/=A}}else q.inbound.x=v.x-u.x,q.inbound.y=v.y-u.y,n=Math.sqrt(q.inbound.x*q.inbound.x+q.inbound.y*q.inbound.y),q.inbound.x/=n,q.inbound.y/=n;q.distance+n-g<=h.wrapDistance?(t<k.length-1?(q.outbound.x=k[t+1].x-v.x,q.outbound.y=k[t+1].y-v.y,A=Math.sqrt(q.outbound.x*q.outbound.x+q.outbound.y*q.outbound.y),q.outbound.x/=A,q.outbound.y/=A):q.closed?(q.outbound.x=k[1].x-v.x,q.outbound.y=
k[1].y-v.y,A=Math.sqrt(q.outbound.x*q.outbound.x+q.outbound.y*q.outbound.y),q.outbound.x/=A,q.outbound.y/=A):(q.outbound.x=q.inbound.x,q.outbound.y=q.inbound.y),0!==t||q.closed||(q.inbound.x=q.outbound.x,q.inbound.y=q.outbound.y),++t,q.isLastVertex=t===k.length,q.isCap=!q.closed&&(q.isFirstVertex||q.isLastVertex),q.distance+=n-g,g=n=0,p=q.distance+n-g===h.wrapDistance,q.currentVertex.x=v.x,q.currentVertex.y=v.y,u=v,v=null):(q.outbound.x=q.inbound.x,q.outbound.y=q.inbound.y,g+=h.wrapDistance-q.distance,
q.distance=h.wrapDistance,p=!0,A=g/n,q.currentVertex.x=(1-A)*u.x+A*v.x,q.currentVertex.y=(1-A)*u.y+A*v.y)}}function r(){q.prevNormal.x=-q.inbound.y;q.prevNormal.y=q.inbound.x;q.nextNormal.x=-q.outbound.y;q.nextNormal.y=q.outbound.x}function b(){r();q.bisector.x=q.prevNormal.x+q.nextNormal.x;q.bisector.y=q.prevNormal.y+q.nextNormal.y;const A=Math.sqrt(q.bisector.x*q.bisector.x+q.bisector.y*q.bisector.y);.001>A?(q.bisector.x=void 0,q.bisector.y=void 0,q.cosine=0,q.sign=void 0):(q.bisector.x/=A,q.bisector.y/=
A,q.cosine=q.bisector.x*q.nextNormal.x+q.bisector.y*q.nextNormal.y,q.sign=0<=q.prevNormal.x*q.nextNormal.y-q.prevNormal.y*q.nextNormal.x?1:-1)}function c(A){d.vertex(q);1===A?(q.leftEntry0=q.entry0,q.leftEntry1=q.entry1,q.leftEntry2=q.entry2,q.leftExit0=q.exit0,q.leftExit1=q.exit1,q.leftExit2=q.exit2):2===A&&(q.rightEntry0=q.entry0,q.rightEntry1=q.entry1,q.rightEntry2=q.entry2,q.rightExit0=q.exit0,q.rightExit1=q.exit1,q.rightExit2=q.exit2)}function e(A){d.vertex(q);1===A?(q.leftEntry0=q.entry0,q.leftEntry2=
q.entry2,q.leftExit0=q.exit0,q.leftExit2=q.exit2):2===A&&(q.rightEntry0=q.entry0,q.rightEntry2=q.entry2,q.rightExit0=q.exit0,q.rightExit2=q.exit2)}let f=function(){this.isCap=this.isLastVertex=this.isFirstVertex=this.closed=void 0;this.currentVertex={x:void 0,y:void 0};this.inbound={x:void 0,y:void 0};this.outbound={x:void 0,y:void 0};this.prevNormal={x:void 0,y:void 0};this.nextNormal={x:void 0,y:void 0};this.bisector={x:void 0,y:void 0};this.leftInner={x:void 0,y:void 0};this.rightInner={x:void 0,
y:void 0};this.leftOuter={x:void 0,y:void 0};this.rightOuter={x:void 0,y:void 0}},k;const h={};let d,t=void 0,n,g,p,u,v;const q=new f;let F=function(){function A(m,B){this.writeVertex=m;this.writeTriangle=B;this.capType=0;this.joinType=2;this.miterLimitCosine=l.getLimitCosine(2);this.roundLimitCosine=Math.cos(23*Math.PI/180);this.almostParallelCosine=.97;this.radsPerSlice=.8;this.joinOnUTurn=this.textured=!1}var x=A.prototype;x.vertex=function(m){var B=2===this.joinType?this.miterLimitCosine:this.roundLimitCosine,
z=m.isCap&&0!==this.capType,G=!1;m.cosine>this.almostParallelCosine?(m.exit0=m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.bisector.x/m.cosine,m.bisector.y/m.cosine,0,-1,m.distance),m.exit2=m.entry2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.bisector.x/m.cosine,-m.bisector.y/m.cosine,0,1,m.distance)):m.cosine<1-this.almostParallelCosine?(G=!m.isCap&&this.joinOnUTurn,m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.prevNormal.x,m.prevNormal.y,
0,-1,m.distance),m.entry2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.prevNormal.x,-m.prevNormal.y,0,1,m.distance),m.exit0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.nextNormal.x,m.nextNormal.y,0,-1,m.distance),m.exit2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.nextNormal.x,-m.nextNormal.y,0,1,m.distance)):m.canSplit?(w(),0<m.sign?(m.splitInner?(m.exit0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.outbound.x,m.outbound.y,m.leftInner.x,m.leftInner.y,
0,-1,m.distance),m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.inbound.x,m.inbound.y,m.rightInner.x,m.rightInner.y,0,-1,m.distance)):m.exit0=m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.inbound.x,m.inbound.y,m.bisector.x/m.cosine,m.bisector.y/m.cosine,0,-1,m.distance),m.cosine<B?(G=!m.isCap,m.entry2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.prevNormal.x,-m.prevNormal.y,0,1,m.distance),m.exit2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,
0,0,-m.nextNormal.x,-m.nextNormal.y,0,1,m.distance)):m.splitOuter?(G=G||m.gapOuter,m.entry2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.inbound.x,m.inbound.y,-m.leftOuter.x,-m.leftOuter.y,0,1,m.distance),m.exit2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.outbound.x,m.outbound.y,-m.rightOuter.x,-m.rightOuter.y,0,1,m.distance)):m.entry2=m.exit2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.bisector.x/m.cosine,-m.bisector.y/m.cosine,0,1,m.distance)):(m.splitInner?
(m.exit2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.outbound.x,m.outbound.y,-m.leftInner.x,-m.leftInner.y,0,1,m.distance),m.entry2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.inbound.x,m.inbound.y,-m.rightInner.x,-m.rightInner.y,0,1,m.distance)):m.exit2=m.entry2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.bisector.x/m.cosine,-m.bisector.y/m.cosine,0,1,m.distance),m.cosine<B?(G=!m.isCap,m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.prevNormal.x,
m.prevNormal.y,0,-1,m.distance),m.exit0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.nextNormal.x,m.nextNormal.y,0,-1,m.distance)):m.splitOuter?(G=G||m.gapOuter,m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.inbound.x,m.inbound.y,m.leftOuter.x,m.leftOuter.y,0,-1,m.distance),m.exit0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.outbound.x,m.outbound.y,m.rightOuter.x,m.rightOuter.y,0,-1,m.distance)):m.exit0=m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,
0,0,m.bisector.x/m.cosine,m.bisector.y/m.cosine,0,-1,m.distance))):0<m.sign?(m.exit0=m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,m.inbound.x,m.inbound.y,m.bisector.x/m.cosine,m.bisector.y/m.cosine,0,-1,m.distance),m.cosine<B?(G=!m.isCap,m.entry2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.prevNormal.x,-m.prevNormal.y,0,1,m.distance),m.exit2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.nextNormal.x,-m.nextNormal.y,0,1,m.distance)):m.entry2=m.exit2=this.writeVertex(m.currentVertex.x,
m.currentVertex.y,0,0,-m.bisector.x/m.cosine,-m.bisector.y/m.cosine,0,1,m.distance)):(m.exit2=m.entry2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.bisector.x/m.cosine,-m.bisector.y/m.cosine,0,1,m.distance),m.cosine<B?(G=!m.isCap,m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.prevNormal.x,m.prevNormal.y,0,-1,m.distance),m.exit0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.nextNormal.x,m.nextNormal.y,0,-1,m.distance)):m.exit0=m.entry0=this.writeVertex(m.currentVertex.x,
m.currentVertex.y,0,0,m.bisector.x/m.cosine,m.bisector.y/m.cosine,0,-1,m.distance));B=m.canSplit&&(m.splitInner||m.splitOuter)||G||z?m.entry1=m.exit1=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,0,0,0,0,m.distance):m.entry1=m.exit1=null;if(G&&1!==this.joinType)this.writeTriangle(B,0<m.sign?m.exit2:m.entry0,0<m.sign?m.entry2:m.exit0);else if(z&&1===this.capType||G&&1===this.joinType){let W,U;if(m.isCap){G=Math.PI;z=Math.ceil(G/this.radsPerSlice);var D=G/z;if(m.isFirstVertex){var E=m.prevNormal.x;
var I=m.prevNormal.y;W=m.entry0;U=m.entry2}else m.isLastVertex&&(E=-m.nextNormal.x,I=-m.nextNormal.y,W=m.exit2,U=m.exit0)}else E=2*Math.acos(m.cosine),z=Math.ceil(E/this.radsPerSlice),D=E/z,E=0<m.sign?-m.prevNormal.x:m.nextNormal.x,I=0<m.sign?-m.prevNormal.y:m.nextNormal.y,W=0<m.sign?m.entry2:m.exit0,U=0<m.sign?m.exit2:m.entry0;G=Math.cos(D);D=Math.sin(D);var J=D*E+G*I;E=G*E-D*I;I=J;var Q;for(J=0;J<z;++J){var P=Q;J<z-1&&(Q=m.isCap?this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,E,I,m.isFirstVertex?
-1:1,0,m.distance):this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,E,I,0,m.sign,m.distance));this.writeTriangle(0===J?W:P,B,J===z-1?U:Q);P=D*E+G*I;E=G*E-D*I;I=P}}else z&&2===this.capType&&(Q=m.isFirstVertex?1:-1,this.textured?(E=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.prevNormal.x-Q*m.inbound.x,m.prevNormal.y-Q*m.inbound.y,-Q,-1,m.distance),I=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.prevNormal.x-Q*m.inbound.x,-m.prevNormal.y-Q*m.inbound.y,-Q,1,m.distance)):
(E=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.prevNormal.x-Q*m.inbound.x,m.prevNormal.y-Q*m.inbound.y,0,-1,m.distance),I=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.prevNormal.x-Q*m.inbound.x,-m.prevNormal.y-Q*m.inbound.y,0,1,m.distance)),0<Q?(this.writeTriangle(B,m.entry2,I),this.writeTriangle(B,I,E),this.writeTriangle(B,E,m.entry0)):(this.writeTriangle(B,I,m.exit2),this.writeTriangle(B,E,I),this.writeTriangle(B,m.exit0,E)))};x.bridge=function(m){this.writeTriangle(m.leftExit0,
m.rightEntry0,null!=m.leftExit1?m.leftExit1:m.leftExit2);this.writeTriangle(m.rightEntry0,null!=m.rightEntry1?m.rightEntry1:m.rightEntry2,null!=m.leftExit1?m.leftExit1:m.leftExit2);null!=m.leftExit1&&null!=m.rightEntry1?(this.writeTriangle(m.leftExit1,m.rightEntry1,m.leftExit2),this.writeTriangle(m.rightEntry1,m.rightEntry2,m.leftExit2)):null!=m.leftExit1?this.writeTriangle(m.leftExit1,m.rightEntry2,m.leftExit2):null!=m.rightEntry1&&this.writeTriangle(m.rightEntry1,m.rightEntry2,m.leftExit2)};return A}(),
C=function(){function A(m,B){this.writeVertex=m;this.writeTriangle=B}var x=A.prototype;x.vertex=function(m){m.entry0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.prevNormal.x,m.prevNormal.y,0,-1,m.distance);m.entry2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,-m.prevNormal.x,-m.prevNormal.y,0,1,m.distance);m.exit0=this.writeVertex(m.currentVertex.x,m.currentVertex.y,0,0,m.nextNormal.x,m.nextNormal.y,0,-1,m.distance);m.exit2=this.writeVertex(m.currentVertex.x,m.currentVertex.y,
0,0,-m.nextNormal.x,-m.nextNormal.y,0,1,m.distance)};x.bridge=function(m){this.writeTriangle(m.leftExit0,m.rightEntry0,m.leftExit2);this.writeTriangle(m.rightEntry0,m.rightEntry2,m.leftExit2)};return A}();a.StandardTessellationCallbacks=F;a.TessellationState=f;a.ThinTessellationCallbacks=C;a.cleanup=function(){d=k=null};a.splitVertex=w;a.tessellate=function(A,x,m){h.trackDistance=null!=x.trackDistance?x.trackDistance:!1;h.wrapDistance=null!=x.wrapDistance?x.wrapDistance:65535;h.thin=null!=x.thin?
x.thin:!1;h.initialDistance=null!=x.initialDistance?x.initialDistance:0;h.enableOuterBisectorSplit=null!=x.enableOuterBisectorSplit?x.enableOuterBisectorSplit:!1;h.outerBisectorAutoSplitThreshold=null!=x.outerBisectorAutoSplitThreshold?x.outerBisectorAutoSplitThreshold:0;h.enableInnerBisectorSplit=null!=x.enableOuterBisectorSplit?x.enableOuterBisectorSplit:!1;h.innerBisectorAutoSplitThreshold=null!=x.innerBisectorAutoSplitThreshold?x.innerBisectorAutoSplitThreshold:0;k=A;d=m;g=n=t=0;p=!1;v=u=null;
q.currentVertex.x=null;q.currentVertex.y=null;q.distance=h.initialDistance;A=k[0];x=k[k.length-1];q.canSplit=!1;q.closed=A.x===x.x&&A.y===x.y;if(!(2>k.length||2===k.length&&q.closed))if(h.thin)if(h.trackDistance)for(y(),r(),e(1);n-g>h.wrapDistance||t<k.length;)y(),r(),e(2),d.bridge(q),q.leftExit0=q.rightExit0,q.leftExit2=q.rightExit2;else for(;t<k.length;)0<t&&(q.inbound.x=q.outbound.x,q.inbound.y=q.outbound.y),t<k.length-1?(q.outbound.x=k[t+1].x-k[t].x,q.outbound.y=k[t+1].y-k[t].y,A=Math.sqrt(q.outbound.x*
q.outbound.x+q.outbound.y*q.outbound.y),q.distance+=A,q.outbound.x/=A,q.outbound.y/=A):(q.outbound.x=q.inbound.x,q.outbound.y=q.inbound.y),0===t&&(q.inbound.x=q.outbound.x,q.inbound.y=q.outbound.y),q.currentVertex.x=k[t].x,q.currentVertex.y=k[t].y,q.prevNormal.x=-q.inbound.y,q.prevNormal.y=q.inbound.x,q.nextNormal.x=-q.outbound.y,q.nextNormal.y=q.outbound.x,0===t?(d.vertex(q),q.leftEntry0=q.entry0,q.leftEntry2=q.entry2,q.leftExit0=q.exit0,q.leftExit2=q.exit2):(d.vertex(q),q.rightEntry0=q.entry0,q.rightEntry2=
q.entry2,q.rightExit0=q.exit0,q.rightExit2=q.exit2,d.bridge(q),q.leftExit0=q.rightExit0,q.leftExit2=q.rightExit2),++t;else{if(h.enableOuterBisectorSplit||0<h.outerBisectorAutoSplitThreshold||h.enableInnerBisectorSplit||0<h.innerBisectorAutoSplitThreshold)for(q.canSplit=!0,y(),b(),q.splitInner=q.gapInner=q.splitOuter=q.gapOuter=!1,c(1),q.closure0=q.leftEntry0,q.closure1=q.leftEntry1,q.closure2=q.leftEntry2;n-g>h.wrapDistance||t<k.length-1||t<k.length&&(!q.closed||h.trackDistance);)y(),b(),q.splitInner=
q.gapInner=q.splitOuter=q.gapOuter=!1,c(2),d.bridge(q),q.leftExit0=q.rightExit0,q.leftExit1=q.rightExit1,q.leftExit2=q.rightExit2;else for(y(),b(),c(1),q.closure0=q.leftEntry0,q.closure1=q.leftEntry1,q.closure2=q.leftEntry2;n-g>h.wrapDistance||t<k.length-1||t<k.length&&(!q.closed||h.trackDistance);)y(),b(),c(2),d.bridge(q),q.leftExit0=q.rightExit0,q.leftExit1=q.rightExit1,q.leftExit2=q.rightExit2;q.closed&&!h.trackDistance&&(q.rightEntry0=q.closure0,q.rightEntry1=q.closure1,q.rightEntry2=q.closure2,
d.bridge(q),q.leftExit0=q.rightExit0,q.leftExit1=q.rightExit1,q.leftExit2=q.rightExit2)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(function(){return function(){function a(l){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=l.clone();l.next();)switch(l.tag()){case 1:this.name=l.getString();break;case 3:this.keys.push(l.getString());break;case 4:this.values.push(l.processMessage(a._parseValue));break;case 5:this.extent=
l.getUInt32();break;default:l.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(l){for(;l.next();)switch(l.tag()){case 1:return l.getString();case 2:return l.getFloat();case 3:return l.getDouble();case 4:return l.getInt64();case 5:return l.getUInt64();case 6:return l.getSInt64();case 7:return l.getBool();default:l.skip()}return null};return a}()})},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/string ../../../../core/BidiEngine ./GeometryUtils ./style/StyleLayer ../webgl/Geometry ./BaseBucket ./TextShaping ./Placement".split(" "),
function(a,l,w,y,r,b,c,e,f){function k(h,d){return h.iconMosaicItem&&d.iconMosaicItem?h.iconMosaicItem.page===d.iconMosaicItem.page?0:h.iconMosaicItem.page-d.iconMosaicItem.page:h.iconMosaicItem&&!d.iconMosaicItem?1:!h.iconMosaicItem&&d.iconMosaicItem?-1:0}c=function(h){function d(n,g,p,u,v,q,F,C){g=h.call(this,n,g)||this;g.type=3;g._markerMap=new Map;g._glyphMap=new Map;g._glyphBufferDataStorage=new Map;g._isIconSDF=!1;if(n.hasDataDrivenIcon!==p.isDataDriven())throw Error("incompatible icon buffer");
if(n.hasDataDrivenText!==v.isDataDriven())throw Error("incompatible text buffer");g._iconVertexBuffer=p;g._iconIndexBuffer=u;g._textVertexBuffer=v;g._textIndexBuffer=q;g._placementEngine=F;g._workerTileHandler=C;return g}a._inheritsLoose(d,h);var t=d.prototype;t.getResources=function(n,g,p){const u=this.layer,v=this.zoom,q=u.hasDataDrivenIcon,F=u.hasDataDrivenText;n&&n.setExtent(this.layerExtent);const C=u.getLayoutProperty("icon-image"),A=u.getLayoutProperty("text-field"),x=[];let m=[1,1,1,1],B=
1,z=1,G=[1,1,1,1],D=1,E=1,I,J,Q;var P,W;let U,R,V,aa;for(const la of this._features){var ea=la.getGeometry(n);if(!ea||0===ea.length)continue;let pa;C&&(pa=u.getLayoutValue("icon-image",v,la),C.isDataDriven||(pa=this._replaceKeys(pa,la.values)),pa&&(g.add(pa),I=u.getLayoutValue("icon-rotate",v,la),J=u.getLayoutValue("icon-anchor",v,la),Q=u.getLayoutValue("icon-offset",v,la)));let ha;var ma=!1;if(A&&((ha=u.getLayoutValue("text-field",v,la))&&!A.isDataDriven&&(ha=this._replaceKeys(ha,la.values)),ha)){ha=
ha.replace(/\\n/g,"\n");switch(u.getLayoutValue("text-transform",v,la)){case 2:ha=ha.toLowerCase();break;case 1:ha=ha.toUpperCase()}d._bidiEngine.hasBidiChar(ha)&&(ma="rtl"===d._bidiEngine.checkContextual(ha)?"IDNNN":"ICNNN",ha=d._bidiEngine.bidiTransform(ha,ma,"VLYSN"),ma=!0);var qa=ha.length;if(0<qa){aa=u.getLayoutValue("text-font",v,la);for(const ua of aa)for((P=p[ua])||(P=p[ua]=new Set),W=0;W<qa;W++){var na=ha.charCodeAt(W);P.add(na)}P=u.getLayoutValue("text-rotate",v,la);W=u.getLayoutValue("text-anchor",
v,la);na=u.getLayoutValue("text-offset",v,la);U=u.getLayoutValue("text-justify",v,la);R=u.getLayoutValue("text-letter-spacing",v,la);V=u.getLayoutValue("text-max-width",v,la)}}if(!pa&&!ha)continue;qa=u.getLayoutValue("icon-size",v,la);const ka=u.getLayoutValue("text-size",v,la);u.hasDataDrivenIconColor&&(m=u.getPaintValue("icon-color",v,la));u.hasDataDrivenIconOpacity&&(B=u.getPaintValue("icon-opacity",v,la));u.hasDataDrivenIconSize&&(z=qa);u.hasDataDrivenTextColor&&(G=u.getPaintValue("text-color",
v,la));u.hasDataDrivenTextOpacity&&(D=u.getPaintValue("text-opacity",v,la));u.hasDataDrivenTextSize&&(E=ka);const ra=u.getLayoutValue("symbol-sort-key",v,la);ea={sprite:pa,label:ha,rtl:ma,type:la.type,geometry:ea,hash:(ha?l.numericHash(ha):0)^(pa?l.numericHash(pa):0),priority:ra,iconSize:qa,iconRotate:I,ddIconValues:q?{color:m,opacity:B,size:z}:null,iconAnchor:J,iconOffset:Q,textSize:ka,textRotate:P,ddTextValues:F?{color:G,opacity:D,size:E}:null,textAnchor:W,textOffset:na,textJustify:U,textLetterSpacing:R,
textMaxWidth:V,textFontArray:aa};x.push(ea)}this._symbolFeatures=x};t.processFeatures=function(n){n&&n.setExtent(this.layerExtent);var g=this.layer,p=this.zoom;n=g.getLayoutValue("symbol-placement",p);const u=0!==n,v=g.getLayoutValue("symbol-spacing",p)*f.TILE_PIXEL_RATIO;var q=g.getLayoutProperty("icon-image"),F=g.getLayoutProperty("text-field");const C=q?new r.IconLayout(g,p,u):null;g=F?new r.TextLayout(g,p,u):null;const A=this._workerTileHandler;let x;q&&(x=A.getSpriteItems());this._iconIndexStart=
3*this._iconIndexBuffer.index;this._textIndexStart=3*this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();q=[];p=1;g&&g.size&&(p=g.size/e.SDF_GLYPH_SIZE);F=g?g.maxAngle*y.C_DEG_TO_RAD:0;const m=g?g.size*f.TILE_PIXEL_RATIO:0;for(const D of this._symbolFeatures){let E;C&&x&&D.sprite&&(E=x[D.sprite])&&E.sdf&&(this._isIconSDF=!0);E&&(C.size=D.iconSize,C.rotate=D.iconRotate,C.offset=D.iconOffset);var B=void 0,z=0,G=D.label;if(G){g.size=
D.textSize;g.rotate=D.textRotate;g.anchor=D.textAnchor;g.fontArray=D.textFontArray;g.justify=D.textJustify;g.letterSpacing=D.textLetterSpacing;g.maxWidth=D.textMaxWidth;g.offset=D.textOffset;B=u?g.keepUpright:g.writingMode&&0<=g.writingMode.indexOf(1);let I=.5;switch(g.anchor){case 5:case 1:case 7:I=0;break;case 6:case 2:case 8:I=1}let J=.5;switch(g.anchor){case 5:case 3:case 6:J=0;break;case 7:case 4:case 8:J=1}let Q=.5;switch(g.justify){case 0:Q=I;break;case 1:Q=0;break;case 3:Q=1}const P=g.letterSpacing*
e.SDF_GLYPH_SIZE,W=u?0:g.maxWidth*e.SDF_GLYPH_SIZE,U=g.lineHeight*e.SDF_GLYPH_SIZE;let R;R=g.fontArray.map(V=>A.getGlyphItems(V));if((B=(new e.TextShaping(R,W,U,P,I,J,Q)).getShaping(G,D.rtl,B))&&0<B.length){z=1E30;G=-1E30;for(const V of B)z=Math.min(z,V.x),G=Math.max(G,V.x);z=(G-z+2*e.SDF_GLYPH_SIZE)*p*f.TILE_PIXEL_RATIO}}for(let I of D.geometry){G=[];1===n?(B&&0<B.length&&g&&g.size&&(I=d._smoothVertices(I,g.size*f.TILE_PIXEL_RATIO*(2+Math.min(2,4*Math.abs(g.offset[1]))))),d._pushAnchors(G,I,v,z)):
2===n?d._pushCenterAnchor(G,I):3===D.type?d._pushCentroid(G,I):G.push(new f.Anchor(I[0].x,I[0].y));for(const J of G)0>J.x||J.x>f.TILE_COORD_SIZE||0>J.y||J.y>f.TILE_COORD_SIZE||u&&0<z&&0===g.rotationAlignment&&!d._honorsTextMaxAngle(I,J,z,F,m)||(G={shaping:B,line:I,iconMosaicItem:E,anchor:J,symbolFeature:D,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]},q.push(G),this._processFeature(G,C,g))}}q.sort(k);this._addPlacedGlyphs();this._symbolInstances=q};t.serialize=function(){var n=
13+this.layerUIDs.length;n+=3*this.markerPageMap.size;n+=3*this.glyphsPageMap.size;n+=d.symbolsSerializationLength(this._symbolInstances);n+=this._iconVertexBuffer.array.length;n+=this._iconIndexBuffer.array.length;n+=this._textVertexBuffer.array.length;n+=this._textIndexBuffer.array.length;let g=0;const p=new Uint32Array(n);n=new Int32Array(p.buffer);var u=new Float32Array(p.buffer);p[g++]=this.type;p[g++]=this.layerUIDs.length;for(let v=0;v<this.layerUIDs.length;v++)p[g++]=this.layerUIDs[v];p[g++]=
this._isIconSDF?1:0;p[g++]=this._iconVertexBuffer.isDataDriven()?1:0;p[g++]=this._textVertexBuffer.isDataDriven()?1:0;p[g++]=this.markerPageMap.size;this.markerPageMap.forEach(([v,q],F)=>{p[g++]=F;p[g++]=v;p[g++]=q});p[g++]=this.glyphsPageMap.size;this.glyphsPageMap.forEach(([v,q],F)=>{p[g++]=F;p[g++]=v;p[g++]=q});p[g++]=this._iconVertexBuffer.index/4;p[g++]=this._textVertexBuffer.index/4;g=d.serializeSymbols(p,n,u,g,this._symbolInstances);p[g++]=this._iconVertexBuffer.array.length;for(u=0;u<this._iconVertexBuffer.array.length;u++)n[g++]=
this._iconVertexBuffer.array[u];p[g++]=this._iconIndexBuffer.array.length;for(u=0;u<this._iconIndexBuffer.array.length;u++)p[g++]=this._iconIndexBuffer.array[u];p[g++]=this._textVertexBuffer.array.length;for(u=0;u<this._textVertexBuffer.array.length;u++)n[g++]=this._textVertexBuffer.array[u];p[g++]=this._textIndexBuffer.array.length;for(n=0;n<this._textIndexBuffer.array.length;n++)p[g++]=this._textIndexBuffer.array[n];return p.buffer};d.symbolsSerializationLength=function(n){let g;g=1;for(const p of n||
[]){g+=4;g+=1;for(const u of p.textColliders)g+=10;for(const u of p.iconColliders)g+=10;g+=1;g+=2*p.textVertexRanges.length;g+=1;g+=2*p.iconVertexRanges.length}return g};d.serializeSymbols=function(n,g,p,u,v){v=v||[];g[u++]=v.length;for(const q of v){g[u++]=q.anchor.x;g[u++]=q.anchor.y;g[u++]=q.symbolFeature.hash;g[u++]=q.symbolFeature.priority;g[u++]=q.textColliders.length+q.iconColliders.length;for(const F of q.textColliders)g[u++]=F.xTile,g[u++]=F.yTile,g[u++]=F.dxPixels,g[u++]=F.dyPixels,g[u++]=
F.hard?1:0,g[u++]=F.partIndex,p[u++]=F.minLod,p[u++]=F.maxLod,g[u++]=F.width,g[u++]=F.height;for(const F of q.iconColliders)g[u++]=F.xTile,g[u++]=F.yTile,g[u++]=F.dxPixels,g[u++]=F.dyPixels,g[u++]=F.hard?1:0,g[u++]=F.partIndex,p[u++]=F.minLod,p[u++]=F.maxLod,g[u++]=F.width,g[u++]=F.height;g[u++]=q.textVertexRanges.length;for(const [F,C]of q.textVertexRanges)g[u++]=F,g[u++]=C;g[u++]=q.iconVertexRanges.length;for(const [F,C]of q.iconVertexRanges)g[u++]=F,g[u++]=C}return u};t._replaceKeys=function(n,
g){return n.replace(/{([^{}]+)}/g,function(p,u){return u in g?g[u]:""})};t._processFeature=function(n,g,p){var u=n.line,v=n.iconMosaicItem,q=n.shaping,F=n.anchor,C=!!v,A=!0;C&&(A=g.optional||!v);var x=q&&0<q.length,m=!0;x&&(m=p.optional||!q||0===q.length);var B;C&&(B=this._placementEngine.getIconPlacement(F,v,g));if(B||A){var z;x&&(z=this._placementEngine.getTextPlacement(F,q,u,p));if(z||m){B&&z||(m||A?m||z?A||B||(z=null):B=null:z=B=null);if(z&&(this._storePlacedGlyphs(n,z.shapes,this.zoom,p.rotationAlignment),
z.textColliders)){n.textColliders=z.textColliders;for(var G of z.textColliders)if(G.minLod=Math.max(this.zoom+y.log2(G.minLod),0),G.maxLod=Math.min(this.zoom+y.log2(G.maxLod),25),p=G.angle)F=Math.cos(p),z=Math.sin(p),C=G.dxPixels*F-G.dyPixels*z,p=G.dxPixels*z+G.dyPixels*F,A=(G.dxPixels+G.width)*F-G.dyPixels*z,u=(G.dxPixels+G.width)*z+G.dyPixels*F,x=G.dxPixels*F-(G.dyPixels+G.height)*z,q=G.dxPixels*z+(G.dyPixels+G.height)*F,m=(G.dxPixels+G.width)*F-(G.dyPixels+G.height)*z,z=(G.dxPixels+G.width)*z+
(G.dyPixels+G.height)*F,F=Math.min(C,A,x,m),C=Math.max(C,A,x,m),A=Math.min(p,u,q,z),p=Math.max(p,u,q,z),G.dxPixels=F,G.dyPixels=A,G.width=C-F,G.height=p-A}if(B&&(this._addPlacedIcons(n,B.shapes,this.zoom,v.page,1===g.rotationAlignment),B.iconColliders)){n.iconColliders=B.iconColliders;for(const D of B.iconColliders)if(D.minLod=Math.max(this.zoom+y.log2(D.minLod),0),D.maxLod=Math.min(this.zoom+y.log2(D.maxLod),25),n=D.angle)B=Math.cos(n),F=Math.sin(n),G=D.dxPixels*B-D.dyPixels*F,n=D.dxPixels*F+D.dyPixels*
B,p=(D.dxPixels+D.width)*B-D.dyPixels*F,g=(D.dxPixels+D.width)*F+D.dyPixels*B,u=D.dxPixels*B-(D.dyPixels+D.height)*F,v=D.dxPixels*F+(D.dyPixels+D.height)*B,q=(D.dxPixels+D.width)*B-(D.dyPixels+D.height)*F,F=(D.dxPixels+D.width)*F+(D.dyPixels+D.height)*B,B=Math.min(G,p,u,q),G=Math.max(G,p,u,q),p=Math.min(n,g,v,F),n=Math.max(n,g,v,F),D.dxPixels=B,D.dyPixels=p,D.width=G-B,D.height=n-p}}}};t._addPlacedIcons=function(n,g,p,u,v){const q=n.symbolFeature.ddIconValues,F=Math.max(p-1,0),C=this._iconVertexBuffer,
A=this._iconIndexBuffer,x=this._markerMap;for(const B of g){g=v?0:Math.max(p+y.log2(B.minzoom),F);const z=v?25:Math.min(p+y.log2(B.maxzoom),25);if(z<=g)continue;const G=B.tl,D=B.tr,E=B.bl,I=B.br;var m=B.mosaicRect;const J=B.labelAngle,Q=B.minAngle,P=B.maxAngle,W=B.anchor,U=C.index,R=m.x,V=m.y,aa=R+m.width;m=V+m.height;const ea=C.index;C.add(W.x,W.y,G.x,G.y,R,V,J,Q,P,g,z,q);C.add(W.x,W.y,D.x,D.y,aa,V,J,Q,P,g,z,q);C.add(W.x,W.y,E.x,E.y,R,m,J,Q,P,g,z,q);C.add(W.x,W.y,I.x,I.y,aa,m,J,Q,P,g,z,q);0<n.iconVertexRanges.length&&
n.iconVertexRanges[0][0]+n.iconVertexRanges[0][1]===ea?n.iconVertexRanges[0][1]+=4:n.iconVertexRanges.push([ea,4]);A.add(U+0,U+1,U+2);A.add(U+1,U+2,U+3);x.has(u)?x.get(u)[1]+=6:x.set(u,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=6}};t._addPlacedGlyphs=function(){const n=this._textVertexBuffer,g=this._textIndexBuffer,p=this._glyphMap;this._glyphBufferDataStorage.forEach((u,v)=>{for(const q of u){u=n.index;const F=q.symbolInstance,C=F.symbolFeature.ddTextValues,A=n.index;n.add(q.glyphAnchor[0],
q.glyphAnchor[1],q.tl[0],q.tl[1],q.xmin,q.ymin,q.labelAngle,q.minAngle,q.maxAngle,q.minLod,q.maxLod,C);n.add(q.glyphAnchor[0],q.glyphAnchor[1],q.tr[0],q.tr[1],q.xmax,q.ymin,q.labelAngle,q.minAngle,q.maxAngle,q.minLod,q.maxLod,C);n.add(q.glyphAnchor[0],q.glyphAnchor[1],q.bl[0],q.bl[1],q.xmin,q.ymax,q.labelAngle,q.minAngle,q.maxAngle,q.minLod,q.maxLod,C);n.add(q.glyphAnchor[0],q.glyphAnchor[1],q.br[0],q.br[1],q.xmax,q.ymax,q.labelAngle,q.minAngle,q.maxAngle,q.minLod,q.maxLod,C);0<F.textVertexRanges.length&&
F.textVertexRanges[0][0]+F.textVertexRanges[0][1]===A?F.textVertexRanges[0][1]+=4:F.textVertexRanges.push([A,4]);g.add(u+0,u+1,u+2);g.add(u+1,u+2,u+3);p.has(v)?p.get(v)[1]+=6:p.set(v,[this._textIndexStart+this._textIndexCount,6]);this._textIndexCount+=6}});this._glyphBufferDataStorage.clear()};t._storePlacedGlyphs=function(n,g,p,u){const v=Math.max(p-1,0);u=1===u;let q,F,C,A,x,m,B,z,G,D;for(const E of g)g=u?0:Math.max(p+y.log2(E.minzoom),v),q=u?25:Math.min(p+y.log2(E.maxzoom),25),q<=g||(F=E.tl,C=
E.tr,A=E.bl,x=E.br,m=E.labelAngle,B=E.minAngle,z=E.maxAngle,G=E.anchor,D=E.mosaicRect,this._glyphBufferDataStorage.has(E.page)||this._glyphBufferDataStorage.set(E.page,[]),this._glyphBufferDataStorage.get(E.page).push({glyphAnchor:[G.x,G.y],tl:[F.x,F.y],tr:[C.x,C.y],bl:[A.x,A.y],br:[x.x,x.y],xmin:D.x,ymin:D.y,xmax:D.x+D.width,ymax:D.y+D.height,labelAngle:m,minAngle:B,maxAngle:z,minLod:g,maxLod:q,placementLod:v,symbolInstance:n}))};d._pushAnchors=function(n,g,p,u){p+=u;var v=0,q=g.length-1;for(var F=
0;F<q;F++)v+=b.Point.distance(g[F],g[F+1]);u=.5*(u||p);if(!(v<=u)){u/=v;p=v/Math.max(Math.round(v/p),1);v=0;q=-p/2;F=g.length-1;for(let A=0;A<F;A++){const x=g[A],m=g[A+1],B=m.x-x.x,z=m.y-x.y,G=Math.sqrt(B*B+z*z);let D;for(;q+p<v+G;){q+=p;var C=(q-v)/G;const E=y.interpolate(x.x,m.x,C);C=y.interpolate(x.y,m.y,C);void 0===D&&(D=Math.atan2(z,B));n.push(new f.Anchor(E,C,D,A,u))}v+=G}}};d._pushCenterAnchor=function(n,g){var p=0,u=g.length-1;for(var v=0;v<u;v++)p+=b.Point.distance(g[v],g[v+1]);var q=p/2;
let F=0;const C=g.length-1;for(p=0;p<C;p++){var A=g[p];const x=g[p+1];u=x.x-A.x;v=x.y-A.y;const m=Math.sqrt(u*u+v*v);if(q<F+m){q=(q-F)/m;g=y.interpolate(A.x,x.x,q);A=y.interpolate(A.y,x.y,q);n.push(new f.Anchor(g,A,Math.atan2(v,u),p,0));break}F+=m}};d._deviation=function(n,g,p){return Math.atan2((g.x-n.x)*(p.y-g.y)-(g.y-n.y)*(p.x-g.x),(g.x-n.x)*(p.x-g.x)+(g.y-n.y)*(p.y-g.y))};d._honorsTextMaxAngle=function(n,g,p,u,v){let q=0;p/=2;for(var F=new b.Point(g.x,g.y),C=g.segment+1;q>-p;){--C;if(0>C)return!1;
q-=b.Point.distance(n[C],F);F=n[C]}q+=b.Point.distance(n[C],n[C+1]);g=[];F=0;const A=n.length;for(;q<p;){var x=n[C];let m;do{++C;if(C===A)return!1;m=n[C]}while(m.isEqual(x));let B=C,z;do{++B;if(B===A)return!1;z=n[B]}while(z.isEqual(m));x=this._deviation(x,m,z);g.push({deviation:x,distToAnchor:q});for(F+=x;q-g[0].distToAnchor>v;)F-=g.shift().deviation;if(Math.abs(F)>u)return!1;q+=b.Point.distance(m,z)}return!0};d._smoothVertices=function(n,g){if(0>=g)return n;let p=n.length;if(3>p)return n;const u=
[];var v=0,q=0;u.push(0);for(var F=1;F<p;F++){var C=b.Point.distance(n[F],n[F-1]);0<C&&(v+=C,u.push(v),q++,q!==F&&(n[q]=n[F]))}p=q+1;if(3>p)return n;g=Math.min(g,.2*v);v=n[0].x;q=n[0].y;F=n[p-1].x;C=n[p-1].y;var A=b.Point.sub(n[0],n[1]);A.normalize();n[0].x+=g*A.x;n[0].y+=g*A.y;A.assignSub(n[p-1],n[p-2]);A.normalize();n[p-1].x+=g*A.x;n[p-1].y+=g*A.y;u[0]-=g;u[p-1]+=g;A=[];A.push(new b.Point(v,q));const x=.5*g;for(let W=1;W<p-1;W++){let U=0,R=0,V=0;for(var m=W-1;0<=m;m--){var B=x+u[m+1]-u[W];if(0>
B)break;var z=u[m+1]-u[m],G=u[W]-u[m]<x?1:B/z;if(1E-6>G)break;var D=G*G,E=G*B-.5*D*z,I=G*z/g,J=n[m+1],Q=n[m].x-J.x,P=n[m].y-J.y;U+=I/E*(J.x*G*B+.5*D*(B*Q-z*J.x)-D*G*z*Q/3);R+=I/E*(J.y*G*B+.5*D*(B*P-z*J.y)-D*G*z*P/3);V+=I}for(m=W+1;m<p;m++){B=x-u[m-1]+u[W];if(0>B)break;z=u[m]-u[m-1];G=u[m]-u[W]<x?1:B/z;if(1E-6>G)break;D=G*G;E=G*B-.5*D*z;I=G*z/g;J=n[m-1];Q=n[m].x-J.x;P=n[m].y-J.y;U+=I/E*(J.x*G*B+.5*D*(B*Q-z*J.x)-D*G*z*Q/3);R+=I/E*(J.y*G*B+.5*D*(B*P-z*J.y)-D*G*z*P/3);V+=I}A.push(new b.Point(U/V,R/V))}A.push(new b.Point(F,
C));n[0].x=v;n[0].y=q;n[p-1].x=F;n[p-1].y=C;return A};d._pushCentroid=function(n,g){const p=g.length-1;let u=0,v=0,q=0,F=g[0].x,C=g[0].y;4096<F&&(F=4096);0>F&&(F=0);4096<C&&(C=4096);0>C&&(C=0);for(let A=1;A<p;A++){let x=g[A].x,m=g[A].y,B=g[A+1].x,z=g[A+1].y;4096<x&&(x=4096);0>x&&(x=0);4096<m&&(m=4096);0>m&&(m=0);4096<B&&(B=4096);0>B&&(B=0);4096<z&&(z=4096);0>z&&(z=0);const G=(x-F)*(z-C)-(B-F)*(m-C);u+=G*(F+x+B);v+=G*(C+m+z);q+=G}u/=3*q;v/=3*q;isNaN(u)||isNaN(v)||n.push(new f.Anchor(u,v))};a._createClass(d,
[{key:"markerPageMap",get:function(){return this._markerMap}},{key:"glyphsPageMap",get:function(){return this._glyphMap}},{key:"symbolInstances",get:function(){return this._symbolInstances}}]);return d}(c);c._bidiEngine=new w;return c})},"esri/core/BidiEngine":function(){define(["./bidiEngineTables"],function(a){function l(A,x,m,B,z){var G=A;void 0===x&&(x=z.defInFormat);void 0===m&&(m=z.defOutFormat);void 0===B&&(B=z.defSwap);if(x!==m){var D=x.substring(0,1),E=m.substring(0,1);var I=x.substring(1,
4);var J=m.substring(1,4);"C"===I.charAt(0)&&(I=w(G),I="ltr"===I||"rtl"===I?I.toUpperCase():"L"===x.charAt(2)?"LTR":"RTL",x=D+I);"C"===J.charAt(0)&&(I=w(G),"rtl"===I?J="RTL":"ltr"===I?(G=G.split(""),G.reverse(),I=w(G.join("")),J=I.toUpperCase()):J="L"===m.charAt(2)?"LTR":"RTL",m=E+J)}if(x===m)return A;E=x.substring(0,1);G=x.substring(1,4);D=m.substring(0,1);J=m.substring(1,4);z.inFormat=x;z.outFormat=m;z.swap=B;if("L"===E&&"VLTR"===m){if("LTR"===G)return z.dir=0,y(A,z);if("RTL"===G)return z.dir=1,
y(A,z)}if("V"===E&&"V"===D)return z.dir="RTL"===G?1:0,b(A,z);if("L"===E&&"VRTL"===m)return z.dir="LTR"===G?0:1,A=y(A,z),b(A);if("VLTR"===x&&"LLTR"===m)return z.dir=0,y(A,z);if("V"===E&&"L"===D&&G!==J)return A=b(A),"RTL"===G?l(A,"LLTR","VLTR",B,z):l(A,"LRTL","VRTL",B,z);if("VRTL"===x&&"LRTL"===m)return l(A,"LRTL","VRTL",B,z);"L"===E&&"L"===D&&(x=z.swap,z.swap=x.substr(0,1)+"N","RTL"===G?(z.dir=1,A=y(A,z),z.swap="N"+x.substr(1,2),z.dir=0,A=y(A,z)):(z.dir=0,A=y(A,z),z.swap="N"+x.substr(1,2),A=l(A,"VLTR",
"LRTL",z.swap,z)));return A}function w(A){return(A=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(A))?"z">=A[0]?"ltr":"rtl":""}function y(A,x){A=A.split("");const m=[];r(A,m,x);if(0!==x.hiLevel&&x.swap.substr(0,1)!==x.swap.substr(1,2))for(let G=0;G<A.length;G++)if(1===m[G]){var B=G;b:{let D=void 0;var z=A[G];let E=0,I=a.SwapTable.length-1;for(;E<=I;)if(D=Math.floor((E+I)/2),z<a.SwapTable[D][0])I=D-1;else if(z>a.SwapTable[D][0])E=D+1;else{z=a.SwapTable[D][1];break b}}A[B]=
z}f(2,A,m,x);f(1,A,m,x);v=m;return A.join("")}function r(A,x,m){const B=A.length;var z=m.dir?a.impTabRtl:a.impTabLtr,G=0,D=-1;const E=[],I=[];m.hiLevel=m.dir;m.lastArabic=!1;m.hasUbatAl=!1;m.hasUbatB=!1;m.hasUbatS=!1;for(var J=0;J<B;J++){var Q=J;{var P=A[J].charCodeAt(0);const W=a.PrimaryTable[P>>8];P=W<a.TBBASE?W:a.UnicodeTable[W-a.TBBASE][P&255]}E[Q]=P}for(Q=0;Q<B;Q++){J=k(A,E,I,Q,m);I[Q]=J;G=z[G][J];P=G&240;G&=15;J=z[G][5];x[Q]=J;if(0<P){if(16===P)for(;D<Q;D++)x[D]=1;D=-1}if(z[G][6])-1===D&&(D=
Q);else if(-1<D){for(;D<Q;D++)x[D]=J;D=-1}E[Q]===a.UBAT_B&&(x[Q]=0);m.hiLevel|=J}if(m.hasUbatS)for(A=0;A<B;A++)if(E[A]===a.UBAT_S)for(x[A]=m.dir,z=A-1;0<=z;z--)if(E[z]===a.UBAT_WS)x[z]=m.dir;else break}function b(A,x){A=A.split("");if(x){const m=[];r(A,m,x);v=m}A.reverse();p.reverse();return A.join("")}function c(A){for(let x=0;x<a.ArabicAlefBetIntervalsBegine.length;x++)if(A>=a.ArabicAlefBetIntervalsBegine[x]&&A<=a.ArabicAlefBetIntervalsEnd[x])return!0;return!1}function e(A,x,m,B){for(;x*m<B&&d(A[x]);)x+=
m;return x*m<B&&c(A[x])?!0:!1}function f(A,x,m,B){if(!(B.hiLevel<A))if(1!==A||1!==B.dir||B.hasUbatB){B=x.length;for(var z=0,G,D,E;z<B;){if(m[z]>=A){for(G=z+1;G<B&&m[G]>=A;)G++;for(D=G-1;z<D;z++,D--)E=x[z],x[z]=x[D],x[D]=E,E=p[z],p[z]=p[D],p[D]=E;z=G}z++}}else x.reverse(),p.reverse()}function k(A,x,m,B,z){return{UBAT_L:()=>{z.lastArabic=!1;return a.UBAT_L},UBAT_R:()=>{z.lastArabic=!1;return a.UBAT_R},UBAT_ON:()=>a.UBAT_ON,UBAT_AN:()=>a.UBAT_AN,UBAT_EN:()=>z.lastArabic?a.UBAT_AN:a.UBAT_EN,UBAT_AL:()=>
{z.lastArabic=!0;z.hasUbatAl=!0;return a.UBAT_R},UBAT_WS:()=>a.UBAT_ON,UBAT_CS:()=>{let G,D;if(1>B||B+1>=x.length||(G=m[B-1])!==a.UBAT_EN&&G!==a.UBAT_AN||(D=x[B+1])!==a.UBAT_EN&&D!==a.UBAT_AN)return a.UBAT_ON;z.lastArabic&&(D=a.UBAT_AN);return D===G?D:a.UBAT_ON},UBAT_ES:()=>(0<B?m[B-1]:a.UBAT_B)===a.UBAT_EN&&B+1<x.length&&x[B+1]===a.UBAT_EN?a.UBAT_EN:a.UBAT_ON,UBAT_ET:()=>{if(0<B&&m[B-1]===a.UBAT_EN)return a.UBAT_EN;if(z.lastArabic)return a.UBAT_ON;let G=B+1;const D=x.length;for(;G<D&&x[G]===a.UBAT_ET;)G++;
return G<D&&x[G]===a.UBAT_EN?a.UBAT_EN:a.UBAT_ON},UBAT_NSM:()=>{if("VLTR"===z.inFormat){for(var G=x.length,D=B+1;D<G&&x[D]===a.UBAT_NSM;)D++;if(D<G&&(G=A[B].charCodeAt[0],D=x[D],(1425<=G&&2303>=G||64286===G)&&(D===a.UBAT_R||D===a.UBAT_AL)))return a.UBAT_R}return 1>B||x[B-1]===a.UBAT_B?a.UBAT_ON:m[B-1]},UBAT_B:()=>{z.lastArabic=!0;z.hasUbatB=!0;return z.dir},UBAT_S:()=>{z.hasUbatS=!0;return a.UBAT_ON},UBAT_LRE:()=>{z.lastArabic=!1;return a.UBAT_ON},UBAT_RLE:()=>{z.lastArabic=!1;return a.UBAT_ON},UBAT_LRO:()=>
{z.lastArabic=!1;return a.UBAT_ON},UBAT_RLO:()=>{z.lastArabic=!1;return a.UBAT_ON},UBAT_PDF:()=>{z.lastArabic=!1;return a.UBAT_ON},UBAT_BN:()=>a.UBAT_ON}[a.TYPES_NAMES[x[B]]]()}function h(A,x){for(let m=0;m<a.BaseForm.length;m++)if(A===a.BaseForm[m])return x[m];return A}function d(A){return"\u064b"<=A&&"\u0655">=A?!0:!1}function t(A){return"L"===A?"LTR":"R"===A?"RTL":"C"===A?"CLR":"D"===A?"CRL":""}function n(A,x){for(let m=0;m<a.AlefTable.length;m++)if(A===a.AlefTable[m])return x[m];return A}function g(A,
x,m,B){for(let z=0;z<A.length;z++)if(A[z]>x||!m&&A[z]===x)A[z]+=B}let p=[],u=[],v=[];const q={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},F=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,C=/[\u0591-\u06ff\ufb1d-\ufefc]/;return function(){function A(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=[];this.levels=[]}var x=
A.prototype;x.bidiTransform=function(m,B,z){this.sourceToTarget=[];this.targetToSource=[];if(!m)return"";var G=this.sourceToTarget,D=this.targetToSource,E=m.length;p=[];v=[];for(var I=0;I<E;I++)G[I]=I,D[I]=I,p[I]=I;if(!this.checkParameters(B,z))return m;B=this.inputFormat;z=this.outputFormat;G=m;E=t(B.charAt(1));G=t(z.charAt(1));I="I"===B.charAt(0)?"L":B.charAt(0);D="I"===z.charAt(0)?"L":z.charAt(0);E=I+E;G=D+G;D=B.charAt(2)+z.charAt(2);q.defInFormat=E;q.defOutFormat=G;q.defSwap=D;m=l(m,E,G,D,q);
G=!1;if("R"===z.charAt(1))G=!0;else if("C"===z.charAt(1)||"D"===z.charAt(1))G="rtl"===this.checkContextual(m);D=this.sourceToTarget=p;E=Array(D.length);for(I=0;I<D.length;I++)E[D[I]]=I;u=this.targetToSource=D=E;if(B.charAt(3)===z.charAt(3))G=m;else if("S"===z.charAt(3))if(B=G,z=!0,0===m.length)G="";else{void 0===B&&(B=!0);void 0===z&&(z=!0);m=String(m);m=m.split("");E=0;G=1;D=m.length;B||(E=m.length-1,G=-1,D=1);var J=E;E=z;var Q=0;I=[];for(var P=0;J*G<D;J+=G)if(c(m[J])||d(m[J])){var W;if(W="\u0644"===
m[J])b:{for(var U=m,R=J+G,V=G,aa=D;R*V<aa&&d(U[R]);)R+=V;W=" ";if(R*V<aa)for(W=U[R],U=0;U<a.AlefTable.length;U++)if(a.AlefTable[U]===W){W=!0;break b}W=!1}if(W){m[J]=0===Q?n(m[J+G],a.LamAlefInialTableFE):n(m[J+G],a.LamAlefMedialTableFE);J+=G;Q=m;W=J;U=G;for(R=D;W*U<R&&d(Q[W]);)W+=U;W*U<R&&(Q[W]=" ");E&&(I[P]=J,P++);Q=0}else{W=m[J];if(1===Q){U=J;if(e(m,J+G,G,D))b:for(R=m[J],V=0;V<a.BaseForm.length;V++){if(R===a.BaseForm[V]){R=a.MedialForm[V];break b}}else R=h(m[J],a.FinalForm);m[U]=R}else!0===e(m,J+
G,G,D)?m[J]=h(m[J],a.InitialForm):m[J]=h(m[J],a.IsolatedForm);d(W)||(Q=1);b:{for(U=0;U<a.StandAlonForm.length;U++)if(a.StandAlonForm[U]===W){W=!0;break b}W=!1}!0===W&&(Q=0)}}else Q=0;G=I;D="";for(E=0;E<m.length;E++){if(I=z){b:{for(I=0;I<G.length;I++)if(G[I]===E)break b;I=-1}I=-1<I}I?(g(u,E,!B,-1),p.splice(E,1)):D+=m[E]}G=D}else if(B=m,z=G,m=!0,0===B.length)G="";else for(void 0===m&&(m=!0),void 0===z&&(z=!0),B=String(B),G="",D=B.split(""),E=0;E<B.length;E++)I=!1,"\ufe70"<=D[E]&&"\ufeff">D[E]?(P=B.charCodeAt(E),
"\ufef5"<=D[E]&&"\ufefc">=D[E]?(z?(0<E&&m&&" "===D[E-1]?G=G.substring(0,G.length-1)+"\u0644":(G+="\u0644",I=!0),G+=a.AlefTable[(P-65269)/2]):(G+=a.AlefTable[(P-65269)/2],G+="\u0644",E+1<B.length&&m&&" "===D[E+1]?E++:I=!0),I&&(g(u,E,!0,1),p.splice(E,0,p[E]))):G+=a.FETo06Table[P-65136]):G+=D[E];this.sourceToTarget=p;this.targetToSource=u;this.levels=v;return G};x._inputFormatSetter=function(m){if(!F.test(m))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=m};
x._outputFormatSetter=function(m){if(!F.test(m))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=m};x.checkParameters=function(m,B){m?this._inputFormatSetter(m):m=this.inputFormat;B?this._outputFormatSetter(B):B=this.outputFormat;return m===B?!1:!0};x.checkContextual=function(m){m=w(m);if("ltr"!==m&&"rtl"!==m){try{m=document.dir.toLowerCase()}catch(B){}"ltr"!==m&&"rtl"!==m&&(m="ltr")}return m};x.hasBidiChar=function(m){return C.test(m)};return A}()})},"esri/core/bidiEngineTables":function(){define(["exports"],
function(a){a.AlefTable=["\u0622","\u0623","\u0625","\u0627"];a.ArabicAlefBetIntervalsBegine=["\u0621","\u0641"];a.ArabicAlefBetIntervalsEnd=["\u063a","\u064a"];a.BaseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");a.FETo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
a.FinalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");a.InitialForm="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");
a.IsolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");a.LamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];a.LamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];a.MedialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");
a.PrimaryTable=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107];a.StandAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");a.SwapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59",
"\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];a.TBBASE=100;a.TYPES_NAMES="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");a.UBAT_AL=7;a.UBAT_AN=3;a.UBAT_B=5;a.UBAT_BN=18;a.UBAT_CS=9;a.UBAT_EN=2;a.UBAT_ES=10;a.UBAT_ET=11;a.UBAT_L=0;a.UBAT_LRE=13;a.UBAT_LRO=16;a.UBAT_NSM=12;a.UBAT_ON=
4;a.UBAT_PDF=15;a.UBAT_R=1;a.UBAT_RLE=14;a.UBAT_RLO=17;a.UBAT_S=6;a.UBAT_WS=8;a.UnicodeTable=[[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,
4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,
12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,1,12,1,12,12,1,12,12,1,12,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,11,11,7,9,7,4,4,12,12,12,12,12,12,12,12,12,12,12,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,3,3,3,3,3,3,3,3,3,3,11,3,3,7,7,7,12,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,3,4,12,12,12,12,12,12,7,7,12,12,4,12,12,12,12,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,12,12,12,12,12,12,12,12,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,18,18,18,18,18,4,4,4,4,4,18,18,18,18,18,18,2,0,4,4,2,2,2,2,2,2,10,10,4,4,4,0,2,2,2,2,2,2,2,2,2,2,10,10,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,
4,4,0,0,0,0,0,4,4,4,4,4,1,12,1,1,1,1,1,1,1,1,1,1,10,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[12,12,12,12,12,12,12,
12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,4,9,4,4,4,4,4,4,4,4,4,11,4,4,10,10,4,4,4,4,4,11,11,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,4,4,18],[4,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,11,11,4,4,4,11,11,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];a.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];a.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./GeometryUtils","./MemoryBuffer"],function(a,l,w,y){const r=new Float32Array(1),b=new Uint32Array(r.buffer);
let c=function(d){function t(g){var p=d.call(this,g?20:12)||this;p._isDataDriven=g;return p}l._inheritsLoose(t,d);var n=t.prototype;n.isDataDriven=function(){return this._isDataDriven};n.add=function(g,p,u,v,q,F,C,A){const x=this.array;g=y.i1616to32(g,p);x.push(g);g=y.i8888to32(Math.round(31*u),Math.round(31*v),Math.round(31*q),Math.round(31*F));x.push(g);g=y.i1616to32(C,0);x.push(g);if(this._isDataDriven){if(!A)throw Error("Expecting data driven values.");u=A.color;v=u[3]*A.opacity*255;x.push(y.i8888to32(u[0]*
v,u[1]*v,u[2]*v,v));r[0]=A.size;x.push(b[0])}};return t}(y),e=function(d){function t(g){var p=d.call(this,g?8:4)||this;p._isDataDriven=g;return p}l._inheritsLoose(t,d);var n=t.prototype;n.isDataDriven=function(){return this._isDataDriven};n.add=function(g,p,u){const v=this.array;v.push(y.i1616to32(g,p));if(this._isDataDriven){if(!u)throw Error("Expecting data driven values.");g=u.color;u=g[3]*u.opacity*255;v.push(y.i8888to32(g[0]*u,g[1]*u,g[2]*u,u))}};return t}(y),f=function(d){function t(g){var p=
d.call(this,g?12:8)||this;p._isDataDriven=g;return p}l._inheritsLoose(t,d);var n=t.prototype;n.isDataDriven=function(){return this._isDataDriven};n.add=function(g,p,u,v,q,F,C){const A=this.array,x=this.index;g=y.i1616to32(g,p);A.push(g);g=y.i8888to32(Math.round(15*u),Math.round(15*v),q,F);A.push(g);if(this._isDataDriven){if(!C)throw Error("Expecting data driven values.");u=C.color;C=u[3]*C.opacity*255;A.push(y.i8888to32(u[0]*C,u[1]*C,u[2]*C,C))}return x};return t}(y),k=function(d){function t(g){var p=
d.call(this,g?24:16)||this;p._isDataDriven=g;return p}l._inheritsLoose(t,d);var n=t.prototype;n.isDataDriven=function(){return this._isDataDriven};n.add=function(g,p,u,v,q,F,C,A,x,m,B,z){const G=this.array;g=y.i1616to32(g,p);G.push(g);g=y.i1616to32(Math.round(8*u),Math.round(8*v));G.push(g);g=y.i8888to32(q/4,F/4,A,x);G.push(g);g=y.i8888to32(0,w.radToByte(C),10*m,Math.min(10*B,255));G.push(g);if(this._isDataDriven){if(!z)throw Error("Expecting data driven values.");u=z.color;v=u[3]*z.opacity*255;G.push(y.i8888to32(u[0]*
v,u[1]*v,u[2]*v,v));r[0]=z.size;G.push(b[0])}};return t}(y),h=function(d){function t(){return d.call(this,16)||this}l._inheritsLoose(t,d);t.prototype.add=function(n,g,p,u,v,q,F,C,A,x,m){const B=this.array;n=y.i1616to32(2*n+p,2*g+u);B.push(n);F=q[3]*F*255;n=y.i8888to32(q[0]*F,q[1]*F,q[2]*F,F);B.push(n);q=x[3]*m*255;n=y.i8888to32(x[0]*q,x[1]*q,x[2]*q,q);B.push(n);n=y.i8888to32(Math.min(32*C,255),Math.min(4*A,255),Math.min(v,255),0);B.push(n)};return t}(y);a.CircleVertexBuffer=h;a.FillVertexBuffer=e;
a.LineVertexBuffer=c;a.OutlineVertexBuffer=f;a.SymbolVertexBuffer=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/SpatialReference ./geometry/Geometry ./geometry/Point ./geometry/Extent ./geometry/Multipoint ./geometry/Polygon ./geometry/Polyline ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),function(a,l,w,y,r,b,c,e,f,k,h){const d={base:y,key:"type",typeMap:{extent:b,multipoint:c,
point:r,polyline:f,polygon:e}};l=l.ensureOneOfType(d);a.SpatialReference=w;a.BaseGeometry=y;a.Point=r;a.Extent=b;a.Multipoint=c;a.Polygon=e;a.Polyline=f;a.featureGeometryTypeKebabDictionary=k.featureGeometryTypeKebabDictionary;a.isFeatureGeometryType=k.isFeatureGeometryType;a.typeKebabDictionary=k.typeKebabDictionary;a.fromJSON=h.fromJSON;a.ensureType=l;a.geometryTypes=d;a.isGeometry=function(t){return t instanceof y};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/JSONSupport ./support/spatialReferenceUtils".split(" "),
function(a,l,w,y,r,b,c,e,f){var k;e=k=function(h){function d(n){n=h.call(this,n)||this;n.latestWkid=null;n.wkid=null;n.wkt=null;n.vcsWkid=null;n.latestVcsWkid=null;n.imageCoordinateSystem=null;return n}a._inheritsLoose(d,h);d.fromJSON=function(n){if(!n)return null;if(n.wkid){if(102100===n.wkid)return k.WebMercator;if(4326===n.wkid)return k.WGS84}const g=new k;g.read(n);return g};var t=d.prototype;t.normalizeCtorArgs=function(n){return n&&"object"===typeof n?n:{["string"===typeof n?"wkt":"wkid"]:n}};
t.writeWkt=function(n,g){this.wkid||(g.wkt=n)};t.clone=function(){if(this===k.WGS84)return k.WGS84;if(this===k.WebMercator)return k.WebMercator;const n=new k;null!=this.wkid?(n.wkid=this.wkid,null!=this.latestWkid&&(n.latestWkid=this.latestWkid),null!=this.vcsWkid&&(n.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(n.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(n.wkt=this.wkt);this.imageCoordinateSystem&&(n.imageCoordinateSystem=w.clone(this.imageCoordinateSystem));return n};t.equals=function(n){if(null==
n)return!1;if(this.imageCoordinateSystem||n.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==n.imageCoordinateSystem)return!1;const {id:g,referenceServiceName:p}=n.imageCoordinateSystem,{geodataXform:u}=n.imageCoordinateSystem,v=this.imageCoordinateSystem;return null==g||u?JSON.stringify(v)===JSON.stringify(n.imageCoordinateSystem):p?v.id===g&&v.referenceServiceName===p:v.id===g}return f.equals(this,n)};t.toJSON=function(n){return this.write(void 0,n)};a._createClass(d,[{key:"isWGS84",
get:function(){return f.isWGS84(this)}},{key:"isWebMercator",get:function(){return f.isWebMercator(this)}},{key:"isGeographic",get:function(){return f.isGeographic(this)}},{key:"isWrappable",get:function(){return f.isWrappable(this)}}]);return d}(e.JSONSupport);e.GCS_NAD_1927=null;e.WGS84=null;e.WebMercator=null;l.__decorate([r.property({dependsOn:["wkid"],autoTracked:!1,readOnly:!0})],e.prototype,"isWGS84",null);l.__decorate([r.property({dependsOn:["wkid"],autoTracked:!1,readOnly:!0})],e.prototype,
"isWebMercator",null);l.__decorate([r.property({dependsOn:["wkid","wkt"],autoTracked:!1,readOnly:!0})],e.prototype,"isGeographic",null);l.__decorate([r.property({dependsOn:["wkid"],autoTracked:!1,readOnly:!0})],e.prototype,"isWrappable",null);l.__decorate([r.property({type:y.Integer,json:{write:!0}})],e.prototype,"latestWkid",void 0);l.__decorate([r.property({type:y.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],e.prototype,"wkid",
void 0);l.__decorate([r.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],e.prototype,"wkt",void 0);l.__decorate([c.writer("wkt"),c.writer("web-scene","wkt")],e.prototype,"writeWkt",null);l.__decorate([r.property({type:y.Integer,json:{write:!0}})],e.prototype,"vcsWkid",void 0);l.__decorate([r.property({type:y.Integer,json:{write:!0}})],e.prototype,"latestVcsWkid",void 0);l.__decorate([r.property()],e.prototype,"imageCoordinateSystem",
void 0);e=k=l.__decorate([b.subclass("esri.geometry.SpatialReference")],e);e.prototype.toJSON.isDefaultToJSON=!0;e.GCS_NAD_1927=new e({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});e.WGS84=new e(f.WGS84);e.WebMercator=new e(f.WebMercator);Object.freeze&&(Object.freeze(e.GCS_NAD_1927),Object.freeze(e.WGS84),Object.freeze(e.WebMercator));return e})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports",
"../../object","./property"],function(a,l,w){a.writer=function(y,r,b){let c,e;void 0===r?(e=y,c=[void 0]):"string"!==typeof r?(e=y,c=[void 0],b=r):(e=r,c=Array.isArray(y)?y:[y]);return(f,k)=>{const h=f.constructor.prototype;c.forEach(d=>{d=w.propertyJSONMeta(f,d,e);d.write&&"object"!==typeof d.write&&(d.write={});b&&l.setDeepValue("write.target",b,d);l.setDeepValue("write.writer",h[k],d)})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/decorators/subclass ./Accessor ./accessorSupport/read ./accessorSupport/write".split(" "),
function(a,l,w,y,r,b,c){const e=f=>{f=function(k){function h(...t){return k.call(this,...t)||this}l._inheritsLoose(h,k);var d=h.prototype;d.read=function(t,n){b.read(this,t,n)};d.write=function(t={},n){return c.write(this,t,n)};d.toJSON=function(t){return this.write({},t)};h.fromJSON=function(t,n){if(t){if(t.declaredClass)throw Error("JSON object is already hydrated");var g=new this;g.read(t,n);t=g}else t=null;return t};return h}(f);f=w.__decorate([y.subclass("esri.core.JSONSupport")],f);f.prototype.toJSON.isDefaultToJSON=
!0;return f};a.JSONSupport=function(f){function k(){return f.apply(this,arguments)||this}l._inheritsLoose(k,f);return k}(e(r));a.JSONSupport=w.__decorate([y.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=e;a.isJSONSupport=function(f){return f&&"read"in f&&"write"in f&&"toJSON"in f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/read":function(){define(["exports","./utils","./get","./extensions/serializableProperty"],function(a,l,w,y){function r(c,
e,f=b){if(e&&"object"===typeof e){var k=l.getProperties(c),h=k.metadatas,d={};for(const A of Object.getOwnPropertyNames(e)){var t=d,n=h,g=A,p=e,u=f,v=y.originSpecificReadPropertyDefinition(n[g],u);v&&(!v.read||!1!==v.read.enabled&&!v.read.source)&&(t[g]=!0);for(const x of Object.getOwnPropertyNames(n)){v=y.originSpecificReadPropertyDefinition(n[x],u);a:{var q=g;var F=p;if(v&&v.read&&!1!==v.read.enabled&&v.read.source){v=v.read.source;if("string"===typeof v){if(v===q||-1<v.indexOf(".")&&0===v.indexOf(q)&&
w.exists(v,F)){q=!0;break a}}else for(const m of v)if(m===q||-1<m.indexOf(".")&&0===m.indexOf(q)&&w.exists(m,F)){q=!0;break a}q=!1}else q=!1}q&&(t[x]=!0)}}k.setDefaultOrigin(f.origin);for(var C of Object.getOwnPropertyNames(d))n=(n=(t=y.originSpecificReadPropertyDefinition(h[C],f).read)&&t.source)&&"string"===typeof n?w.valueOf(e,n):e[C],t&&t.reader&&(n=t.reader.call(c,n,e,f)),void 0!==n&&k.set(C,n);if(!f||!f.ignoreDefaults)for(const A of Object.getOwnPropertyNames(h))d[A]||(C=c,e=A,h=k,t=f,n=(n=
y.originSpecificPropertyDefinition(h.metadatas[e],"any",t))&&n.default,void 0!==n&&(C="function"===typeof n?n.call(C,e,t):n,void 0!==C&&h.set(e,C)));k.setDefaultOrigin("user")}}const b={origin:"service"};a.default=r;a.read=r;a.readLoadable=function(c,e,f,k=b){var h;e={...k,messages:[]};f(e);null==(h=e.messages)?void 0:h.forEach(d=>{"warning"!==d.type||c.loaded?k&&k.messages&&k.messages.push(d):c.loadWarnings.push(d)})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/write":function(){define("exports ../Logger ./utils ./extensions/serializableProperty ../Error ./PropertyOrigin ../arrayUtils ../promiseUtils".split(" "),
function(a,l,w,y,r,b,c,e){function f(t,n,g,p,u){var v,q;const F={};null==(v=n.write)?void 0:null==(q=v.writer)?void 0:q.call(t,p,F,g,u);return F}function k(t,n,g,p,u,v){if(!p||!p.write)return!1;var q=t.get(g);if(!u&&p.write.overridePolicy){var F=p.write.overridePolicy.call(t,q,g,v);void 0!==F&&(u=F)}u||(u=p.write);if(!u||!1===u.enabled)return!1;if((null===q&&!u.allowNull||void 0===q)&&u.isRequired)return(n=new r("web-document-write:property-required",`Missing value for required property '${g}' on '${t.declaredClass}'`,
{propertyName:g,target:t}),v)&&v.messages?v.messages.push(n):n&&!v&&d.error(n.name,n.message),!1;if(void 0===q||null===q&&!u.allowNull)return!1;F=p.default;void 0===F?q=!1:null!=p.defaultEquals?q=p.defaultEquals(q):"function"===typeof F?Array.isArray(q)?(t=F.call(t,g,v),q=c.equals(t,q)):q=!1:q=F===q;return q?!1:void 0!==p.default?!0:!u.ignoreOrigin&&v&&v.origin&&n.store.originOf(g)<b.nameToId(v.origin)?!1:!0}function h(t,n,g){if(t&&"function"===typeof t.toJSON&&(!t.toJSON.isDefaultToJSON||!t.write))return w.merge(n,
t.toJSON());const p=w.getProperties(t),u=p.metadatas;for(const v in u){const q=y.originSpecificWritePropertyDefinition(u[v],g);if(!k(t,p,v,q,void 0,g))continue;const F=t.get(v),C=f(t,q,q.write&&"string"===typeof q.write.target?q.write.target:v,F,g);0<Object.keys(C).length&&(n=w.merge(n,C),g&&g.resources&&g.resources.pendingOperations&&g.resources.pendingOperations.length&&e.all(g.resources.pendingOperations).then(()=>w.merge(n,C)),g&&g.writtenProperties&&g.writtenProperties.push({target:t,propName:v,
oldOrigin:b.idToReadableName(p.store.originOf(v)),newOrigin:g.origin}))}return n}const d=l.getLogger("esri.core.accessorSupport.write");a.default=h;a.willPropertyWrite=function(t,n,g,p){const u=w.getProperties(t),v=y.originSpecificWritePropertyDefinition(u.metadatas[n],p);return v?k(t,u,n,v,g,p):!1};a.write=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/maybe","../../core/string","./WKIDUnitConversion"],
function(a,l,w,y){function r(g){return f(g)&&null!=g.wkid&&!0===k[g.wkid]}function b(g){return 104971===g||104905===g}function c(g){return f(g)&&null!=g.wkid&&b(g.wkid)}function e(g){return f(g)&&null!=g.wkid&&104903===g.wkid}function f(g){return l.isSome(g)&&(null!=g.wkid&&2E3<=g.wkid||null!=g.wkt)}const k={102113:!0,102100:!0,3857:!0,3785:!0},h={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},d=[-2.0037508342788905E7,2.0037508342788905E7],t=[-2.0037508342787E7,2.0037508342787E7],n={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:d,origin:t,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:d,origin:t,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:d,origin:t,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:d,origin:t,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};w={wkid:4326,wkt:w.replace(n[4326].wkTemplate,{Central_Meridian:"0.0"})};a.WGS84=w;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(g,p){return l.isNone(g)||l.isNone(p)?!1:g===p?!0:null!=g.wkid||null!=p.wkid?g.wkid===p.wkid||r(g)&&r(p)||null!=p.latestWkid&&g.wkid===p.latestWkid||null!=g.latestWkid&&p.wkid===g.latestWkid:g.wkt&&p.wkt?g.wkt.toUpperCase()===p.wkt.toUpperCase():!1};a.getInfo=function(g){return f(g)&&g.wkid?n[g.wkid]:null};a.isCGCS2000=function(g){return f(g)&&4490===
g.wkid};a.isEarth=function(g){return!(c(g)||e(g))};a.isGeographic=function(g){return f(g)?g.wkid?null==y[g.wkid]:g.wkt?!!/^\s*GEOGCS/i.test(g.wkt):!1:!1};a.isMars=c;a.isMoon=e;a.isValid=f;a.isWGS84=function(g){return f(g)&&4326===g.wkid};a.isWKIDFromMars=b;a.isWKIDFromMoon=function(g){return 104903===g};a.isWebMercator=r;a.isWrappable=function(g){return f(g)&&null!=g.wkid&&!0===h[g.wkid]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;
const l={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,
2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,
3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,
3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,
3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,
5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,
6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,
6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,
6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,
6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,
7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,
7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,
8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,
8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,
8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9367:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,
24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,
32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,
103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,
103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,
103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,
103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)l[a]=0;for(a=2056;2065>=a;a++)l[a]=0;for(a=2067;2135>=a;a++)l[a]=0;for(a=2137;2154>=a;a++)l[a]=0;for(a=2161;2170>=a;a++)l[a]=0;for(a=2172;2193>=a;a++)l[a]=
0;for(a=2195;2198>=a;a++)l[a]=0;for(a=2200;2203>=a;a++)l[a]=0;for(a=2205;2217>=a;a++)l[a]=0;for(a=2222;2224>=a;a++)l[a]=1;for(a=2225;2250>=a;a++)l[a]=2;for(a=2251;2253>=a;a++)l[a]=1;for(a=2257;2264>=a;a++)l[a]=2;for(a=2274;2279>=a;a++)l[a]=2;for(a=2280;2282>=a;a++)l[a]=1;for(a=2283;2289>=a;a++)l[a]=2;for(a=2290;2292>=a;a++)l[a]=0;for(a=2308;2313>=a;a++)l[a]=0;for(a=2315;2491>=a;a++)l[a]=0;for(a=2494;2866>=a;a++)l[a]=0;for(a=2867;2869>=a;a++)l[a]=1;for(a=2870;2888>=a;a++)l[a]=2;for(a=2891;2895>=a;a++)l[a]=
2;for(a=2896;2898>=a;a++)l[a]=1;for(a=2902;2908>=a;a++)l[a]=2;for(a=2915;2920>=a;a++)l[a]=2;for(a=2921;2923>=a;a++)l[a]=1;for(a=2924;2930>=a;a++)l[a]=2;for(a=2931;2962>=a;a++)l[a]=0;for(a=2964;2968>=a;a++)l[a]=2;for(a=2969;2973>=a;a++)l[a]=0;for(a=2975;2991>=a;a++)l[a]=0;for(a=2995;3051>=a;a++)l[a]=0;for(a=3054;3079>=a;a++)l[a]=0;for(a=3081;3088>=a;a++)l[a]=0;for(a=3092;3101>=a;a++)l[a]=0;for(a=3106;3138>=a;a++)l[a]=0;for(a=3146;3151>=a;a++)l[a]=0;for(a=3153;3166>=a;a++)l[a]=0;for(a=3168;3172>=a;a++)l[a]=
0;for(a=3174;3203>=a;a++)l[a]=0;for(a=3294;3358>=a;a++)l[a]=0;for(a=3367;3403>=a;a++)l[a]=0;for(a=3408;3416>=a;a++)l[a]=0;for(a=3417;3438>=a;a++)l[a]=2;for(a=3441;3446>=a;a++)l[a]=2;for(a=3447;3450>=a;a++)l[a]=0;for(a=3451;3459>=a;a++)l[a]=2;for(a=3460;3478>=a;a++)l[a]=0;for(a=3554;3559>=a;a++)l[a]=0;for(a=3560;3570>=a;a++)l[a]=2;for(a=3571;3581>=a;a++)l[a]=0;for(a=3594;3597>=a;a++)l[a]=0;for(a=3601;3604>=a;a++)l[a]=0;for(a=3637;3639>=a;a++)l[a]=0;for(a=3665;3667>=a;a++)l[a]=0;for(a=3693;3695>=a;a++)l[a]=
0;for(a=3701;3727>=a;a++)l[a]=0;for(a=3728;3739>=a;a++)l[a]=2;for(a=3740;3751>=a;a++)l[a]=0;for(a=3753;3760>=a;a++)l[a]=2;for(a=3761;3773>=a;a++)l[a]=0;for(a=3775;3777>=a;a++)l[a]=0;for(a=3779;3781>=a;a++)l[a]=0;for(a=3783;3785>=a;a++)l[a]=0;for(a=3788;3791>=a;a++)l[a]=0;for(a=3797;3802>=a;a++)l[a]=0;for(a=3814;3816>=a;a++)l[a]=0;for(a=3825;3829>=a;a++)l[a]=0;for(a=3832;3841>=a;a++)l[a]=0;for(a=3844;3852>=a;a++)l[a]=0;for(a=3873;3885>=a;a++)l[a]=0;for(a=3890;3893>=a;a++)l[a]=0;for(a=3907;3912>=a;a++)l[a]=
0;for(a=3942;3950>=a;a++)l[a]=0;for(a=3968;3970>=a;a++)l[a]=0;for(a=3973;3976>=a;a++)l[a]=0;for(a=3986;3989>=a;a++)l[a]=0;for(a=3994;3997>=a;a++)l[a]=0;for(a=4048;4051>=a;a++)l[a]=0;for(a=4056;4063>=a;a++)l[a]=0;for(a=4093;4096>=a;a++)l[a]=0;for(a=4390;4398>=a;a++)l[a]=0;for(a=4399;4413>=a;a++)l[a]=2;for(a=4418;4433>=a;a++)l[a]=2;for(a=4455;4457>=a;a++)l[a]=2;for(a=4484;4489>=a;a++)l[a]=0;for(a=4491;4554>=a;a++)l[a]=0;for(a=4568;4589>=a;a++)l[a]=0;for(a=4652;4656>=a;a++)l[a]=0;for(a=4766;4800>=a;a++)l[a]=
0;for(a=5014;5016>=a;a++)l[a]=0;for(a=5069;5072>=a;a++)l[a]=0;for(a=5105;5130>=a;a++)l[a]=0;for(a=5173;5188>=a;a++)l[a]=0;for(a=5253;5259>=a;a++)l[a]=0;for(a=5269;5275>=a;a++)l[a]=0;for(a=5292;5311>=a;a++)l[a]=0;for(a=5329;5331>=a;a++)l[a]=0;for(a=5343;5349>=a;a++)l[a]=0;for(a=5355;5357>=a;a++)l[a]=0;for(a=5387;5389>=a;a++)l[a]=0;for(a=5459;5463>=a;a++)l[a]=0;for(a=5479;5482>=a;a++)l[a]=0;for(a=5518;5520>=a;a++)l[a]=0;for(a=5530;5539>=a;a++)l[a]=0;for(a=5550;5552>=a;a++)l[a]=0;for(a=5562;5583>=a;a++)l[a]=
0;for(a=5623;5625>=a;a++)l[a]=2;for(a=5631;5639>=a;a++)l[a]=0;for(a=5649;5653>=a;a++)l[a]=0;for(a=5663;5680>=a;a++)l[a]=0;for(a=5682;5685>=a;a++)l[a]=0;for(a=5875;5877>=a;a++)l[a]=0;for(a=5896;5899>=a;a++)l[a]=0;for(a=5921;5940>=a;a++)l[a]=0;for(a=6050;6125>=a;a++)l[a]=0;for(a=6244;6275>=a;a++)l[a]=0;for(a=6328;6348>=a;a++)l[a]=0;for(a=6350;6356>=a;a++)l[a]=0;for(a=6366;6372>=a;a++)l[a]=0;for(a=6381;6387>=a;a++)l[a]=0;for(a=6393;6404>=a;a++)l[a]=0;for(a=6480;6483>=a;a++)l[a]=0;for(a=6511;6514>=a;a++)l[a]=
0;for(a=6579;6581>=a;a++)l[a]=0;for(a=6619;6624>=a;a++)l[a]=0;for(a=6625;6627>=a;a++)l[a]=2;for(a=6628;6632>=a;a++)l[a]=0;for(a=6634;6637>=a;a++)l[a]=0;for(a=6669;6692>=a;a++)l[a]=0;for(a=6707;6709>=a;a++)l[a]=0;for(a=6720;6723>=a;a++)l[a]=0;for(a=6732;6738>=a;a++)l[a]=0;for(a=6931;6933>=a;a++)l[a]=0;for(a=6956;6959>=a;a++)l[a]=0;for(a=7005;7007>=a;a++)l[a]=0;for(a=7057;7070>=a;a++)l[a]=2;for(a=7074;7082>=a;a++)l[a]=0;for(a=7109;7118>=a;a++)l[a]=0;for(a=7119;7127>=a;a++)l[a]=1;for(a=7374;7376>=a;a++)l[a]=
0;for(a=7528;7586>=a;a++)l[a]=0;for(a=7587;7645>=a;a++)l[a]=2;for(a=7692;7696>=a;a++)l[a]=0;for(a=7755;7787>=a;a++)l[a]=0;for(a=7791;7795>=a;a++)l[a]=0;for(a=7799;7801>=a;a++)l[a]=0;for(a=7803;7805>=a;a++)l[a]=0;for(a=7825;7831>=a;a++)l[a]=0;for(a=7845;7859>=a;a++)l[a]=0;for(a=8013;8032>=a;a++)l[a]=0;for(a=8065;8068>=a;a++)l[a]=1;for(a=8518;8529>=a;a++)l[a]=2;for(a=8533;8536>=a;a++)l[a]=2;for(a=8538;8540>=a;a++)l[a]=2;for(a=8677;8679>=a;a++)l[a]=0;for(a=8836;8840>=a;a++)l[a]=0;for(a=8857;8859>=a;a++)l[a]=
0;for(a=8908;8910>=a;a++)l[a]=0;for(a=9154;9159>=a;a++)l[a]=0;for(a=9205;9218>=a;a++)l[a]=0;for(a=9271;9273>=a;a++)l[a]=0;for(a=9295;9297>=a;a++)l[a]=0;for(a=20002;20032>=a;a++)l[a]=0;for(a=20062;20092>=a;a++)l[a]=0;for(a=20135;20138>=a;a++)l[a]=0;for(a=20248;20258>=a;a++)l[a]=0;for(a=20348;20358>=a;a++)l[a]=0;for(a=20436;20440>=a;a++)l[a]=0;for(a=20822;20824>=a;a++)l[a]=0;for(a=20934;20936>=a;a++)l[a]=0;for(a=21035;21037>=a;a++)l[a]=0;for(a=21095;21097>=a;a++)l[a]=0;for(a=21148;21150>=a;a++)l[a]=
0;for(a=21413;21423>=a;a++)l[a]=0;for(a=21453;21463>=a;a++)l[a]=0;for(a=21473;21483>=a;a++)l[a]=0;for(a=21780;21782>=a;a++)l[a]=0;for(a=21891;21894>=a;a++)l[a]=0;for(a=21896;21899>=a;a++)l[a]=0;for(a=22171;22177>=a;a++)l[a]=0;for(a=22181;22187>=a;a++)l[a]=0;for(a=22191;22197>=a;a++)l[a]=0;for(a=22234;22236>=a;a++)l[a]=0;for(a=22521;22525>=a;a++)l[a]=0;for(a=22991;22994>=a;a++)l[a]=0;for(a=23028;23038>=a;a++)l[a]=0;for(a=23830;23853>=a;a++)l[a]=0;for(a=23866;23872>=a;a++)l[a]=0;for(a=23877;23884>=
a;a++)l[a]=0;for(a=23886;23894>=a;a++)l[a]=0;for(a=23946;23948>=a;a++)l[a]=0;for(a=24311;24313>=a;a++)l[a]=0;for(a=24342;24347>=a;a++)l[a]=0;for(a=24370;24374>=a;a++)l[a]=10;for(a=24375;24381>=a;a++)l[a]=0;for(a=24718;24721>=a;a++)l[a]=0;for(a=24817;24821>=a;a++)l[a]=0;for(a=24877;24882>=a;a++)l[a]=0;for(a=24891;24893>=a;a++)l[a]=0;for(a=25391;25395>=a;a++)l[a]=0;for(a=25828;25838>=a;a++)l[a]=0;for(a=26191;26195>=a;a++)l[a]=0;for(a=26391;26393>=a;a++)l[a]=0;for(a=26701;26722>=a;a++)l[a]=0;for(a=26729;26799>=
a;a++)l[a]=2;for(a=26801;26803>=a;a++)l[a]=2;for(a=26811;26813>=a;a++)l[a]=2;for(a=26847;26870>=a;a++)l[a]=2;for(a=26891;26899>=a;a++)l[a]=0;for(a=26901;26923>=a;a++)l[a]=0;for(a=26929;26946>=a;a++)l[a]=0;for(a=26948;26998>=a;a++)l[a]=0;for(a=27037;27040>=a;a++)l[a]=0;for(a=27205;27232>=a;a++)l[a]=0;for(a=27258;27260>=a;a++)l[a]=0;for(a=27391;27398>=a;a++)l[a]=0;for(a=27561;27564>=a;a++)l[a]=0;for(a=27571;27574>=a;a++)l[a]=0;for(a=27581;27584>=a;a++)l[a]=0;for(a=27591;27594>=a;a++)l[a]=0;for(a=28191;28193>=
a;a++)l[a]=0;for(a=28348;28358>=a;a++)l[a]=0;for(a=28402;28432>=a;a++)l[a]=0;for(a=28462;28492>=a;a++)l[a]=0;for(a=29118;29122>=a;a++)l[a]=0;for(a=29168;29172>=a;a++)l[a]=0;for(a=29177;29185>=a;a++)l[a]=0;for(a=29187;29195>=a;a++)l[a]=0;for(a=29900;29903>=a;a++)l[a]=0;for(a=30161;30179>=a;a++)l[a]=0;for(a=30491;30494>=a;a++)l[a]=0;for(a=30729;30732>=a;a++)l[a]=0;for(a=31251;31259>=a;a++)l[a]=0;for(a=31265;31268>=a;a++)l[a]=0;for(a=31275;31279>=a;a++)l[a]=0;for(a=31281;31297>=a;a++)l[a]=0;for(a=31461;31469>=
a;a++)l[a]=0;for(a=31491;31495>=a;a++)l[a]=0;for(a=31917;31922>=a;a++)l[a]=0;for(a=31965;32E3>=a;a++)l[a]=0;for(a=32001;32003>=a;a++)l[a]=2;for(a=32005;32031>=a;a++)l[a]=2;for(a=32033;32060>=a;a++)l[a]=2;for(a=32064;32067>=a;a++)l[a]=2;for(a=32074;32077>=a;a++)l[a]=2;for(a=32081;32086>=a;a++)l[a]=0;for(a=32107;32130>=a;a++)l[a]=0;for(a=32133;32158>=a;a++)l[a]=0;for(a=32164;32167>=a;a++)l[a]=2;for(a=32180;32199>=a;a++)l[a]=0;for(a=32201;32260>=a;a++)l[a]=0;for(a=32301;32360>=a;a++)l[a]=0;for(a=32601;32662>=
a;a++)l[a]=0;for(a=32664;32667>=a;a++)l[a]=2;for(a=32701;32761>=a;a++)l[a]=0;for(a=53001;53004>=a;a++)l[a]=0;for(a=53008;53019>=a;a++)l[a]=0;for(a=53021;53032>=a;a++)l[a]=0;for(a=53034;53037>=a;a++)l[a]=0;for(a=53042;53046>=a;a++)l[a]=0;for(a=53074;53080>=a;a++)l[a]=0;for(a=54001;54004>=a;a++)l[a]=0;for(a=54008;54019>=a;a++)l[a]=0;for(a=54021;54032>=a;a++)l[a]=0;for(a=54034;54037>=a;a++)l[a]=0;for(a=54042;54046>=a;a++)l[a]=0;for(a=54048;54053>=a;a++)l[a]=0;for(a=54074;54080>=a;a++)l[a]=0;for(a=54098;54101>=
a;a++)l[a]=0;for(a=102001;102040>=a;a++)l[a]=0;for(a=102042;102063>=a;a++)l[a]=0;for(a=102065;102067>=a;a++)l[a]=0;for(a=102070;102117>=a;a++)l[a]=0;for(a=102122;102216>=a;a++)l[a]=0;for(a=102221;102377>=a;a++)l[a]=0;for(a=102382;102388>=a;a++)l[a]=0;for(a=102389;102398>=a;a++)l[a]=2;for(a=102399;102444>=a;a++)l[a]=0;for(a=102445;102447>=a;a++)l[a]=2;for(a=102448;102458>=a;a++)l[a]=0;for(a=102459;102468>=a;a++)l[a]=2;for(a=102469;102499>=a;a++)l[a]=0;for(a=102500;102519>=a;a++)l[a]=1;for(a=102520;102524>=
a;a++)l[a]=0;for(a=102525;102529>=a;a++)l[a]=2;for(a=102530;102588>=a;a++)l[a]=0;for(a=102590;102598>=a;a++)l[a]=0;for(a=102601;102603>=a;a++)l[a]=0;for(a=102605;102628>=a;a++)l[a]=0;for(a=102629;102646>=a;a++)l[a]=2;for(a=102648;102700>=a;a++)l[a]=2;for(a=102701;102703>=a;a++)l[a]=0;for(a=102707;102730>=a;a++)l[a]=2;for(a=102733;102758>=a;a++)l[a]=2;for(a=102767;102900>=a;a++)l[a]=0;for(a=102965;102969>=a;a++)l[a]=0;for(a=102971;102973>=a;a++)l[a]=0;for(a=102975;102989>=a;a++)l[a]=0;for(a=102990;102992>=
a;a++)l[a]=1;for(a=102997;103002>=a;a++)l[a]=0;for(a=103003;103008>=a;a++)l[a]=2;for(a=103009;103011>=a;a++)l[a]=0;for(a=103012;103014>=a;a++)l[a]=2;for(a=103019;103021>=a;a++)l[a]=0;for(a=103022;103024>=a;a++)l[a]=2;for(a=103029;103031>=a;a++)l[a]=0;for(a=103032;103034>=a;a++)l[a]=2;for(a=103065;103068>=a;a++)l[a]=0;for(a=103074;103076>=a;a++)l[a]=0;for(a=103077;103079>=a;a++)l[a]=1;for(a=103080;103082>=a;a++)l[a]=0;for(a=103083;103085>=a;a++)l[a]=2;for(a=103090;103093>=a;a++)l[a]=0;for(a=103097;103099>=
a;a++)l[a]=0;for(a=103100;103102>=a;a++)l[a]=2;for(a=103107;103109>=a;a++)l[a]=0;for(a=103110;103112>=a;a++)l[a]=2;for(a=103113;103116>=a;a++)l[a]=0;for(a=103117;103120>=a;a++)l[a]=2;for(a=103153;103157>=a;a++)l[a]=0;for(a=103158;103162>=a;a++)l[a]=2;for(a=103163;103165>=a;a++)l[a]=0;for(a=103166;103168>=a;a++)l[a]=1;for(a=103169;103171>=a;a++)l[a]=2;for(a=103186;103188>=a;a++)l[a]=0;for(a=103189;103191>=a;a++)l[a]=2;for(a=103192;103195>=a;a++)l[a]=0;for(a=103196;103199>=a;a++)l[a]=2;for(a=103200;103224>=
a;a++)l[a]=0;for(a=103225;103227>=a;a++)l[a]=1;for(a=103232;103237>=a;a++)l[a]=0;for(a=103238;103243>=a;a++)l[a]=2;for(a=103244;103246>=a;a++)l[a]=0;for(a=103247;103249>=a;a++)l[a]=2;for(a=103254;103256>=a;a++)l[a]=0;for(a=103257;103259>=a;a++)l[a]=2;for(a=103264;103266>=a;a++)l[a]=0;for(a=103267;103269>=a;a++)l[a]=2;for(a=103300;103375>=a;a++)l[a]=0;for(a=103381;103383>=a;a++)l[a]=0;for(a=103384;103386>=a;a++)l[a]=1;for(a=103387;103389>=a;a++)l[a]=0;for(a=103390;103392>=a;a++)l[a]=2;for(a=103397;103399>=
a;a++)l[a]=0;for(a=103400;103471>=a;a++)l[a]=2;for(a=103476;103478>=a;a++)l[a]=0;for(a=103479;103481>=a;a++)l[a]=2;for(a=103486;103488>=a;a++)l[a]=0;for(a=103489;103491>=a;a++)l[a]=2;for(a=103492;103495>=a;a++)l[a]=0;for(a=103496;103499>=a;a++)l[a]=2;for(a=103528;103543>=a;a++)l[a]=0;for(a=103544;103548>=a;a++)l[a]=2;for(a=103549;103551>=a;a++)l[a]=0;for(a=103552;103554>=a;a++)l[a]=1;for(a=103555;103557>=a;a++)l[a]=2;for(a=103558;103560>=a;a++)l[a]=0;for(a=103571;103573>=a;a++)l[a]=0;for(a=103574;103576>=
a;a++)l[a]=2;for(a=103577;103580>=a;a++)l[a]=0;for(a=103581;103583>=a;a++)l[a]=2;for(a=103595;103694>=a;a++)l[a]=0;for(a=103696;103699>=a;a++)l[a]=0;for(a=103700;103793>=a;a++)l[a]=2;for(a=103794;103872>=a;a++)l[a]=0;for(a=103900;103971>=a;a++)l[a]=2;return l})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./SpatialReference".split(" "),
function(a,l,w,y,r,b,c,e,f,k,h,d,t,n){w=function(g){function p(...v){v=g.call(this,...v)||this;v.type=null;v.hasM=!1;v.hasZ=!1;v.spatialReference=n.WGS84;return v}a._inheritsLoose(p,g);var u=p.prototype;u.readSpatialReference=function(v,q){if(v instanceof n)return v;if(null!=v){const F=new n;F.read(v,q);return F}return v};u.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};u.clearCache=function(){this.notifyChange("cache")};u.getCacheValue=function(v){return this.cache[v]};
u.setCacheValue=function(v,q){this.cache[v]=q};a._createClass(p,[{key:"cache",get:function(){return{}}},{key:"extent",get:function(){return null}}]);return p}(t.JSONSupport);l.__decorate([b.property()],w.prototype,"type",void 0);l.__decorate([b.property({readOnly:!0,dependsOn:["spatialReference"],autoTracked:!1})],w.prototype,"cache",null);l.__decorate([b.property({readOnly:!0,dependsOn:["spatialReference"],autoTracked:!1})],w.prototype,"extent",null);l.__decorate([b.property({type:Boolean,json:{write:{overridePolicy(g){return{enabled:g}}}}})],
w.prototype,"hasM",void 0);l.__decorate([b.property({type:Boolean,json:{write:{overridePolicy(g){return{enabled:g}}}}})],w.prototype,"hasZ",void 0);l.__decorate([b.property({type:n,json:{write:!0}})],w.prototype,"spatialReference",void 0);l.__decorate([e.reader("spatialReference")],w.prototype,"readSpatialReference",null);return w=l.__decorate([f.subclass("esri.geometry.Geometry")],w)})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","../../object","./property"],function(a,
l,w){a.reader=function(y,r,b){let c,e;void 0===r||Array.isArray(r)?(e=y,b=r,c=[void 0]):(e=r,c=Array.isArray(y)?y:[y]);return(f,k)=>{const h=f.constructor.prototype;c.forEach(d=>{d=w.propertyJSONMeta(f,d,e);d.read&&"object"!==typeof d.read&&(d.read={});l.setDeepValue("read.reader",h[k],d);b&&(d.read.source=(d.read.source||[]).concat(b))})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/spatialReferenceUtils ./SpatialReference ./Geometry ./support/offset ./support/pointUtils ./support/webMercatorUtils".split(" "),
function(a,l,w,y,r,b,c,e,f,k,h,d,t,n,g,p,u,v,q,F){function C(B){return B&&("esri.geometry.SpatialReference"===B.declaredClass||null!=B.wkid)}var A;const x=[0,0],m=y.getLogger("esri.geometry.Point");w=A=function(B){function z(...D){D=B.call(this,...D)||this;D.x=0;D.y=0;D.z=void 0;D.m=void 0;D.type="point";return D}a._inheritsLoose(z,B);z.copy=function(D,E){E._set("x",D._get("x"));E._set("y",D._get("y"));E._set("z",D._get("z"));E._set("m",D._get("m"));D=D._get("spatialReference");E._set("spatialReference",
Object.isFrozen(D)?D:D.clone())};var G=z.prototype;G.normalizeCtorArgs=function(D,E,I,J,Q){let P;if(Array.isArray(D))P=D,Q=E,D=P[0],E=P[1],I=P[2],J=P[3];else if(D&&"object"===typeof D){if(P=D,D=null!=P.x?P.x:P.longitude,E=null!=P.y?P.y:P.latitude,I=P.z,J=P.m,(Q=P.spatialReference)&&"esri.geometry.SpatialReference"!==Q.declaredClass&&(Q=new p(Q)),null!=P.longitude||null!=P.latitude)null==P.longitude?m.warn(".longitude\x3d","Latitude was defined without longitude"):null==P.latitude?m.warn(".latitude\x3d",
"Longitude was defined without latitude"):!P.declaredClass&&Q&&Q.isWebMercator&&(E=F.lngLatToXY(P.longitude,P.latitude,x),D=E[0],E=E[1])}else C(I)?(Q=I,I=null):C(J)&&(Q=J,J=null);D={x:D,y:E};null==D.x&&null!=D.y?m.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==D.y&&null!=D.x&&m.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=Q&&(D.spatialReference=Q);null!=I&&(D.z=I);null!=J&&(D.m=J);return D};G.writeX=function(D,E,I){E[I]=isNaN(D)?"NaN":D};G.readX=
function(D){return"string"===typeof D?NaN:D};G.clone=function(){const D=new A;D.x=this.x;D.y=this.y;D.z=this.z;D.m=this.m;D.spatialReference=this.spatialReference;return D};G.copy=function(D){A.copy(D,this);return this};G.equals=function(D){if(!D)return!1;const {x:E,y:I,z:J,m:Q,spatialReference:P}=this,{z:W,m:U}=D;let {x:R,y:V,spatialReference:aa}=D;if(!P.equals(aa))if(P.isWebMercator&&aa.isWGS84)[R,V]=F.lngLatToXY(R,V),aa=P;else if(P.isWGS84&&aa.isWebMercator)[R,V]=F.xyToLngLat(R,V),aa=P;else return!1;
return E===R&&I===V&&J===W&&Q===U&&P.wkid===aa.wkid};G.offset=function(D,E,I){return v.offsetPoint(this,D,E,I)};G.normalize=function(){if(!this.spatialReference)return this;var D=g.getInfo(this.spatialReference);if(!D)return this;let E=this.x;const [I,J]=D.valid;D=2*J;let Q;E>J?(Q=Math.ceil(Math.abs(E-J)/D),E-=Q*D):E<I&&(Q=Math.ceil(Math.abs(E-I)/D),E+=Q*D);this._set("x",E);return this};G.distance=function(D){return q.distance(this,D)};G.toArray=function(){const D=this.hasZ,E=this.hasM;return D&&
E?[this.x,this.y,this.z,this.m]:D?[this.x,this.y,this.z]:E?[this.x,this.y,this.m]:[this.x,this.y]};G.toJSON=function(D){return this.write(null,D)};a._createClass(z,[{key:"hasM",get:function(){return void 0!==this.m},set:function(D){D!==this.hasM&&(this._set("m",D?0:void 0),this._set("hasM",D))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(D){D!==this.hasZ&&(this._set("z",D?0:void 0),this._set("hasZ",D))}},{key:"latitude",get:function(){const D=this._get("spatialReference");if(D){if(D.isWebMercator)return F.xyToLngLat(this.x,
this.y,x)[1];if(D.isGeographic)return this._get("y")}return null},set:function(D){const E=this._get("spatialReference");E&&(E.isWebMercator?this._set("y",F.lngLatToXY(this.x,D,x)[1]):E.isGeographic&&this._set("y",D),this._set("latitude",D))}},{key:"longitude",get:function(){const D=this._get("spatialReference");if(D){if(D.isWebMercator)return F.xyToLngLat(this._get("x"),this._get("y"),x)[0];if(D.isGeographic)return this._get("x")}return null},set:function(D){const E=this._get("spatialReference");
E&&(E.isWebMercator?this._set("x",F.lngLatToXY(D,this._get("y"),x)[0]):E.isGeographic&&this._set("x",D),this._set("longitude",D))}}]);return z}(u);l.__decorate([b.property({dependsOn:["x","y","z","m","spatialReference"],autoTracked:!1})],w.prototype,"cache",void 0);l.__decorate([b.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasM",null);l.__decorate([b.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],
w.prototype,"hasZ",null);l.__decorate([b.property({type:Number,dependsOn:["y"],autoTracked:!1})],w.prototype,"latitude",null);l.__decorate([b.property({type:Number,dependsOn:["x"],autoTracked:!1})],w.prototype,"longitude",null);l.__decorate([b.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),c.cast(B=>isNaN(B)?B:r.ensureNumber(B))],w.prototype,"x",void 0);l.__decorate([h.writer("x")],w.prototype,"writeX",null);l.__decorate([f.reader("x")],w.prototype,"readX",
null);l.__decorate([b.property({type:Number,json:{write:!0}})],w.prototype,"y",void 0);l.__decorate([b.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],w.prototype,"z",void 0);l.__decorate([b.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],w.prototype,"m",void 0);w=A=l.__decorate([k.subclass("esri.geometry.Point")],w);w.prototype.toJSON.isDefaultToJSON=!0;return w})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,l,w){function y(e){const f="__accessorMetadata__"in e?l.ensureType(e):e;return function(...k){k.push(f);if("number"===typeof k[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return r.apply(this,k)}}function r(e,f,k,h){w.getOwnPropertyMetadata(e,f).cast=h}function b(e){return function(f,k){w.getOwnPropertyMetadata(f,e).cast=f[k]}}const c=Object.prototype.toString;a.cast=function(...e){if(3!==e.length||"string"!==typeof e[1]){if(1===
e.length&&"[object Function]"===c.call(e[0]))return y(e[0]);if(1===e.length&&"string"===typeof e[0])return b(e[0])}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/offset":function(){define(["exports"],function(a){a.offsetCoordsX=function(l,w){l[0]+=w;return l};a.offsetPoint=function(l,w,y,r){l.x+=w;l.y+=y;null!=r&&null!=l.z&&(l.z+=r);return l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=
function(l,w){const y=l.x-w.x,r=l.y-w.y;l=l.hasZ&&w.hasZ?l.z-w.z:0;return Math.sqrt(y*y+r*r+l*l)};a.squareDistance=function(l,w){const y=l.x-w.x,r=l.y-w.y;l=l.hasZ&&w.hasZ?l.z-w.z:0;return y*y+r*r+l*l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","./spatialReferenceUtils","../SpatialReference","./Ellipsoid"],function(a,l,w,y,r){function b(h,d,t,n,g){if("x"in h&&"x"in g)[g.x,g.y]=d(h.x,h.y,k,n);else if("xmin"in
h&&"xmin"in g)[g.xmin,g.ymin]=d(h.xmin,h.ymin,k,n),[g.xmax,g.ymax]=d(h.xmax,h.ymax,k,n);else if("paths"in h&&"paths"in g||"rings"in h&&"rings"in g){h="paths"in h?h.paths:h.rings;var p=[];for(let v=0;v<h.length;v++){const q=h[v];var u=[];p.push(u);for(let F=0;F<q.length;F++)u.push(d(q[F][0],q[F][1],[0,0],n)),2<q[F].length&&u[F].push(q[F][2]),3<q[F].length&&u[F].push(q[F][3])}"paths"in g?g.paths=p:g.rings=p}else if("points"in h&&"points"in g){h=h.points;p=[];for(u=0;u<h.length;u++)p[u]=d(h[u][0],h[u][1],
[0,0],n),2<h[u].length&&p[u].push(h[u][2]),3<h[u].length&&p[u].push(h[u][3]);g.points=p}g.spatialReference=t;return g}function c(h,d){const t=h&&(null!=h.wkid||null!=h.wkt?h:h.spatialReference),n=d&&(null!=d.wkid||null!=d.wkt?d:d.spatialReference);return h&&"type"in h&&"mesh"===h.type||d&&"type"in d&&"mesh"===d.type||!t||!n?!1:w.equals(n,t)?!0:w.isWebMercator(n)&&w.isWGS84(t)||w.isWebMercator(t)&&w.isWGS84(n)}function e(h,d,t=[0,0]){89.99999<d?d=89.99999:-89.99999>d&&(d=-89.99999);d*=.017453292519943;
t[0]=.017453292519943*h*r.earth.radius;t[1]=r.earth.halfSemiMajorAxis*Math.log((1+Math.sin(d))/(1-Math.sin(d)));return t}function f(h,d,t=[0,0],n=!1){h=h/r.earth.radius*57.29577951308232;t[0]=n?h:h-360*Math.floor((h+180)/360);t[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*d/r.earth.radius)));return t}const k=[0,0];a.canProject=c;a.geographicToWebMercator=function(h,d=!1,t=l.clone(h)){return b(h,e,y.WebMercator,d,t)};a.lngLatToXY=e;a.project=function(h,d){const t=h&&h.spatialReference;d=
d&&(null!=d.wkid||null!=d.wkt?d:d.spatialReference);return c(t,d)?w.equals(t,d)?l.clone(h):w.isWebMercator(d)?b(h,e,y.WebMercator,!1,l.clone(h)):w.isWGS84(d)?b(h,f,y.WGS84,!1,l.clone(h)):null:null};a.webMercatorToGeographic=function(h,d=!1,t=l.clone(h)){return b(h,f,y.WGS84,d,t)};a.xyToLngLat=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,l){let w=function(){function c(e,f,k,
h){this.semiMajorAxis=e;this.flattening=f;this.outerAtmosphereRimWidth=k;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=h?h:2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}l._createClass(c,[{key:"radius",get:function(){return this.semiMajorAxis}}]);
return c}();const y=new w(6378137,1/298.257223563,3E5,.006694379990137799),r=new w(3396190,.005886007555525457,23E4),b=new w(1737400,0,0);a.Ellipsoid=w;a.earth=y;a.mars=r;a.moon=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/string ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/spatialReferenceUtils ./SpatialReference ./Geometry ./support/webMercatorUtils ./Point ./support/contains ./support/intersects".split(" "),
function(a,l,w,y,r,b,c,e,f,k,h,d,t,n,g,p,u,v,q,F){function C(x,m,B){return null==m?B:null==B?m:x(m,B)}var A;w=A=function(x){function m(...z){z=x.call(this,...z)||this;z.type="extent";z.xmin=0;z.ymin=0;z.mmin=void 0;z.zmin=void 0;z.xmax=0;z.ymax=0;z.mmax=void 0;z.zmax=void 0;return z}a._inheritsLoose(m,x);var B=m.prototype;B.normalizeCtorArgs=function(z,G,D,E,I){return!z||"esri.geometry.SpatialReference"!==z.declaredClass&&null==z.wkid?"object"===typeof z?(z.spatialReference=null==z.spatialReference?
g.WGS84:z.spatialReference,z):{xmin:z,ymin:G,xmax:D,ymax:E,spatialReference:null==I?g.WGS84:I}:{spatialReference:z,xmin:0,ymin:0,xmax:0,ymax:0}};m.fromBounds=function(z,G){return new A({xmin:z[0],ymin:z[1],xmax:z[2],ymax:z[3],spatialReference:G})};B.centerAt=function(z){const G=this.center;return null!=z.z&&this.hasZ?this.offset(z.x-G.x,z.y-G.y,z.z-G.z):this.offset(z.x-G.x,z.y-G.y)};B.clone=function(){const z=new A;z.xmin=this.xmin;z.ymin=this.ymin;z.xmax=this.xmax;z.ymax=this.ymax;z.spatialReference=
this.spatialReference;null!=this.zmin&&(z.zmin=this.zmin,z.zmax=this.zmax);null!=this.mmin&&(z.mmin=this.mmin,z.mmax=this.mmax);return z};B.contains=function(z){if(!z)return!1;const G=this.spatialReference,D=z.spatialReference;G&&D&&!G.equals(D)&&u.canProject(G,D)&&(z=G.isWebMercator?u.geographicToWebMercator(z):u.webMercatorToGeographic(z,!0));return"point"===z.type?q.extentContainsPoint(this,z):"extent"===z.type?q.extentContainsExtent(this,z):!1};B.equals=function(z){if(!z)return!1;const G=this.spatialReference,
D=z.spatialReference;G&&D&&!G.equals(D)&&u.canProject(G,D)&&(z=G.isWebMercator?u.geographicToWebMercator(z):u.webMercatorToGeographic(z,!0));return this.xmin===z.xmin&&this.ymin===z.ymin&&this.zmin===z.zmin&&this.mmin===z.mmin&&this.xmax===z.xmax&&this.ymax===z.ymax&&this.zmax===z.zmax&&this.mmax===z.mmax};B.expand=function(z){z=.5*(1-z);var G=this.width*z;const D=this.height*z;this.xmin+=G;this.ymin+=D;this.xmax-=G;this.ymax-=D;this.hasZ&&(G=(this.zmax-this.zmin)*z,this.zmin+=G,this.zmax-=G);this.hasM&&
(z*=this.mmax-this.mmin,this.mmin+=z,this.mmax-=z);return this};B.intersects=function(z){if(y.isNone(z))return!1;"mesh"===z.type&&(z=z.extent);const G=this.spatialReference,D=z.spatialReference;G&&D&&!G.equals(D)&&u.canProject(G,D)&&(z=G.isWebMercator?u.geographicToWebMercator(z):u.webMercatorToGeographic(z,!0));return F.getExtentIntersector(z.type)(this,z)};B.normalize=function(){const z=this._normalize(!1,!0);return Array.isArray(z)?z:[z]};B.offset=function(z,G,D){this.xmin+=z;this.ymin+=G;this.xmax+=
z;this.ymax+=G;null!=D&&(this.zmin+=D,this.zmax+=D);return this};B.shiftCentralMeridian=function(){return this._normalize(!0)};B.union=function(z){this.xmin=Math.min(this.xmin,z.xmin);this.ymin=Math.min(this.ymin,z.ymin);this.xmax=Math.max(this.xmax,z.xmax);this.ymax=Math.max(this.ymax,z.ymax);if(this.hasZ||z.hasZ)this.zmin=C(Math.min,this.zmin,z.zmin),this.zmax=C(Math.max,this.zmax,z.zmax);if(this.hasM||z.hasM)this.mmin=C(Math.min,this.mmin,z.mmin),this.mmax=C(Math.max,this.mmax,z.mmax);return this};
B.intersection=function(z){if(!this.intersects(z))return null;this.xmin=Math.max(this.xmin,z.xmin);this.ymin=Math.max(this.ymin,z.ymin);this.xmax=Math.min(this.xmax,z.xmax);this.ymax=Math.min(this.ymax,z.ymax);if(this.hasZ||z.hasZ)this.zmin=C(Math.max,this.zmin,z.zmin),this.zmax=C(Math.min,this.zmax,z.zmax);if(this.hasM||z.hasM)this.mmin=C(Math.max,this.mmin,z.mmin),this.mmax=C(Math.min,this.mmax,z.mmax);return this};B.toJSON=function(z){return this.write(null,z)};B._shiftCM=function(z=n.getInfo(this.spatialReference)){if(!z||
!this.spatialReference)return this;const G=this.spatialReference,D=this._getCM(z);if(D){const E=G.isWebMercator?u.webMercatorToGeographic(D):D;this.xmin-=D.x;this.xmax-=D.x;G.isWebMercator||(E.x=this._normalizeX(E.x,z).x);this.spatialReference=new g(r.replace(G.isWGS84?z.altTemplate:z.wkTemplate,{Central_Meridian:E.x}))}return this};B._getCM=function(z){let G=null;const [D,E]=z.valid;z=this.xmin;const I=this.xmax;z>=D&&z<=E&&I>=D&&I<=E||(G=this.center);return G};B._normalize=function(z,G,D){const E=
this.spatialReference;if(!E)return this;D=D||n.getInfo(E);if(!D)return this;const I=this._getParts(D).map(P=>P.extent);if(2>I.length)return I[0]||this;if(2<I.length)return z?this._shiftCM(D):this.set({xmin:D.valid[0],xmax:D.valid[1]});if(z)return this._shiftCM(D);if(G)return I;let J=!0,Q=!0;I.forEach(P=>{P.hasZ||(J=!1);P.hasM||(Q=!1)});return{rings:I.map(P=>{const W=[[P.xmin,P.ymin],[P.xmin,P.ymax],[P.xmax,P.ymax],[P.xmax,P.ymin],[P.xmin,P.ymin]];if(J){var U=(P.zmax-P.zmin)/2;for(let R=0;R<W.length;R++)W[R].push(U)}if(Q)for(P=
(P.mmax-P.mmin)/2,U=0;U<W.length;U++)W[U].push(P);return W}),hasZ:J,hasM:Q,spatialReference:E}};B._getParts=function(z){let G=this.cache._parts;if(!G){G=[];const {ymin:U,ymax:R,spatialReference:V}=this;var D=this.width,E=this.xmin,I=this.xmax;z=z||n.getInfo(V);const [aa,ea]=z.valid;var J=this._normalizeX(this.xmin,z);var Q=J.x,P=J.frameId;J=this._normalizeX(this.xmax,z);z=J.x;J=J.frameId;var W=Q===z&&0<D;if(D>2*ea){D=new A(E<I?Q:z,U,ea,R,V);E=new A(aa,U,E<I?z:Q,R,V);I=new A(0,U,ea,R,V);Q=new A(aa,
U,0,R,V);z=[];W=[];D.contains(I)&&z.push(P);D.contains(Q)&&W.push(P);E.contains(I)&&z.push(J);E.contains(Q)&&W.push(J);for(let ma=P+1;ma<J;ma++)z.push(ma),W.push(ma);G.push({extent:D,frameIds:[P]},{extent:E,frameIds:[J]},{extent:I,frameIds:z},{extent:Q,frameIds:W})}else Q>z||W?G.push({extent:new A(Q,U,ea,R,V),frameIds:[P]},{extent:new A(aa,U,z,R,V),frameIds:[J]}):G.push({extent:new A(Q,U,z,R,V),frameIds:[P]});this.cache._parts=G}J=this.hasZ;D=this.hasM;if(J||D)for(P={},J&&(P.zmin=this.zmin,P.zmax=
this.zmax),D&&(P.mmin=this.mmin,P.mmax=this.mmax),J=0;J<G.length;J++)G[J].extent.set(P);return G};B._normalizeX=function(z,G){const [D,E]=G.valid;G=2*E;var I=0;z>E?(I=Math.ceil(Math.abs(z-E)/G),z-=I*G):z<D&&(I=Math.ceil(Math.abs(z-D)/G),z+=I*G,I=-I);return{x:z,frameId:I}};a._createClass(m,[{key:"center",get:function(){const z=new v({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(z.z=.5*(this.zmin+this.zmax));this.hasM&&(z.m=.5*(this.mmin+
this.mmax));return z}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return m}(p);l.__decorate([e.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" "),autoTracked:!1})],w.prototype,"cache",
void 0);l.__decorate([e.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],w.prototype,"center",null);l.__decorate([e.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],w.prototype,"extent",null);l.__decorate([e.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasM",null);l.__decorate([e.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasZ",null);l.__decorate([e.property({readOnly:!0,
dependsOn:["ymin","ymax"]})],w.prototype,"height",null);l.__decorate([e.property({readOnly:!0,dependsOn:["xmin","xmax"]})],w.prototype,"width",null);l.__decorate([e.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],w.prototype,"xmin",void 0);l.__decorate([e.property({type:Number,json:{write:!0}})],w.prototype,"ymin",void 0);l.__decorate([e.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],w.prototype,
"mmin",void 0);l.__decorate([e.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],w.prototype,"zmin",void 0);l.__decorate([e.property({type:Number,json:{write:!0}})],w.prototype,"xmax",void 0);l.__decorate([e.property({type:Number,json:{write:!0}})],w.prototype,"ymax",void 0);l.__decorate([e.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],w.prototype,"mmax",void 0);
l.__decorate([e.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],w.prototype,"zmax",void 0);w=A=l.__decorate([k.subclass("esri.geometry.Extent")],w);w.prototype.toJSON.isDefaultToJSON=!0;return w})},"esri/geometry/support/contains":function(){define(["exports"],function(a){function l(c,e){return w(c,e[0],e[1])}function w(c,e,f,k){return e>=c.xmin&&e<=c.xmax&&f>=c.ymin&&f<=c.ymax?null!=k&&c.hasZ?k>=c.zmin&&k<=c.zmax:!0:!1}function y(c,
e){if(c=c.rings)if(Array.isArray(c[0][0])){var f=!1;for(let k=0,h=c.length;k<h;k++)f=r(f,c[k],e);e=f}else e=r(!1,c,e);else e=!1;return e}function r(c,e,f){const [k,h]=f;f=0;for(let d=0,t=e.length;d<t;d++){f++;f===t&&(f=0);const [n,g]=e[d],[p,u]=e[f];(g<h&&u>=h||u<h&&g>=h)&&n+(h-g)/(u-g)*(p-n)<k&&(c=!c)}return c}const b=[0,0];a.extentContainsCoords2D=l;a.extentContainsCoords3D=function(c,e){return w(c,e[0],e[1],e[2])};a.extentContainsExtent=function(c,e){const {xmin:f,ymin:k,zmin:h,xmax:d,ymax:t,zmax:n}=
e;return c.hasZ&&e.hasZ?w(c,f,k,h)&&w(c,f,t,h)&&w(c,d,t,h)&&w(c,d,k,h)&&w(c,f,k,n)&&w(c,f,t,n)&&w(c,d,t,n)&&w(c,d,k,n):w(c,f,k)&&w(c,f,t)&&w(c,d,t)&&w(c,d,k)};a.extentContainsMultipoint=function(c,e){if(!e.points||e.points.length)return!1;for(const f of e.points)if(!l(c,f))return!1;return!0};a.extentContainsPoint=function(c,e){return w(c,e.x,e.y,e.z)};a.polygonContainsCoords=y;a.polygonContainsPoint=function(c,e){b[1]=e.y;b[0]=e.x;return y(c,b)};Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/geometry/support/intersects":function(){define(["exports","./contains"],function(a,l){function w(u,v){return l.extentContainsPoint(u,v)}function y(u,v){var q=u.hasZ&&v.hasZ;if(u.xmin<=v.xmin){var F=v.xmin;if(u.xmax<F)return!1}else if(F=u.xmin,v.xmax<F)return!1;if(u.ymin<=v.ymin){if(F=v.ymin,u.ymax<F)return!1}else if(F=u.ymin,v.ymax<F)return!1;if(q&&v.hasZ)if(u.zmin<=v.zmin){if(q=v.zmin,u.zmax<q)return!1}else if(q=u.zmin,v.zmax<q)return!1;return!0}function r(u,v){const {points:q,hasZ:F}=v;v=
F?l.extentContainsCoords3D:l.extentContainsCoords2D;for(const C of q)if(v(u,C))return!0;return!1}function b(u,v){k[0]=u.xmin;k[1]=u.ymax;h[0]=u.xmax;h[1]=u.ymax;d[0]=u.xmin;d[1]=u.ymin;t[0]=u.xmax;t[1]=u.ymin;for(var q of n)if(l.polygonContainsCoords(v,q))return!0;for(const F of v.rings)if(F.length){v=F[0];if(l.extentContainsCoords2D(u,v))return!0;for(q=1;q<F.length;q++){const C=F[q];if(l.extentContainsCoords2D(u,C)||e(v,C,g))return!0;v=C}}return!1}function c(u,v){k[0]=u.xmin;k[1]=u.ymax;h[0]=u.xmax;
h[1]=u.ymax;d[0]=u.xmin;d[1]=u.ymin;t[0]=u.xmax;t[1]=u.ymin;v=v.paths;for(const q of v){if(!v.length)continue;let F=q[0];if(l.extentContainsCoords2D(u,F))return!0;for(let C=1;C<q.length;C++){const A=q[C];if(l.extentContainsCoords2D(u,A)||e(F,A,g))return!0;F=A}}return!1}function e(u,v,q){for(let F=0;F<q.length;F++)if(f(u,v,q[F][0],q[F][1]))return!0;return!1}function f(u,v,q,F,C){const [A,x]=u,[m,B]=v,[z,G]=q,[D,E]=F;var I=D-z;u=A-z;v=m-A;const J=E-G;q=x-G;F=B-x;const Q=J*v-I*F;if(0===Q)return!1;I=
(I*q-J*u)/Q;u=(v*q-F*u)/Q;return 0<=I&&1>=I&&0<=u&&1>=u?(C&&(C[0]=A+I*(m-A),C[1]=x+I*(B-x)),!0):!1}const k=[0,0],h=[0,0],d=[0,0],t=[0,0],n=[k,h,d,t],g=[[d,k],[k,h],[h,t],[t,d]],p=[0,0];a.extentIntersectsExtent=y;a.extentIntersectsMultipoint=r;a.extentIntersectsPoint=w;a.extentIntersectsPolygon=b;a.extentIntersectsPolyline=c;a.getExtentIntersector=function(u){switch(u){case "esriGeometryEnvelope":case "extent":return y;case "esriGeometryMultipoint":case "multipoint":return r;case "esriGeometryPoint":case "point":return w;
case "esriGeometryPolygon":case "polygon":return b;case "esriGeometryPolyline":case "polyline":return c;case "mesh":return y}};a.isSelfIntersecting=function(u){for(let B=0;B<u.length;B++){const z=u[B];for(var v=0;v<z.length-1;v++){var q=z[v],F=z[v+1];for(var C=B+1;C<u.length;C++)for(var A=0;A<u[C].length-1;A++){var x=u[C][A],m=u[C][A+1];if(f(q,F,x,m,p)&&!(p[0]===q[0]&&p[1]===q[1]||p[0]===x[0]&&p[1]===x[1]||p[0]===F[0]&&p[1]===F[1]||p[0]===m[0]&&p[1]===m[1]))return!0}}v=z.length;if(!(4>=v))for(q=0;q<
v-3;q++)for(F=v-1,0===q&&(F=v-2),C=z[q],A=z[q+1],x=q+2;x<F;x++){m=z[x];const G=z[x+1];if(f(C,A,m,G,p)&&!(p[0]===C[0]&&p[1]===C[1]||p[0]===m[0]&&p[1]===m[1]||p[0]===A[0]&&p[1]===A[1]||p[0]===G[0]&&p[1]===G[1]))return!0}}return!1};a.segmentIntersects=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Geometry ./Point ./Extent ./support/zmUtils".split(" "),
function(a,l,w,y,r,b,c,e,f,k,h,d,t,n,g,p,u){function v(F){return(C,A)=>null==C?A:null==A?C:F(C,A)}var q;w=q=function(F){function C(...x){x=F.call(this,...x)||this;x.points=[];x.type="multipoint";return x}a._inheritsLoose(C,F);var A=C.prototype;A.normalizeCtorArgs=function(x,m){if(!x&&!m)return null;const B={};Array.isArray(x)?(B.points=x,B.spatialReference=m):!x||"esri.geometry.SpatialReference"!==x.declaredClass&&null==x.wkid?(x.points&&(B.points=x.points),x.spatialReference&&(B.spatialReference=
x.spatialReference),x.hasZ&&(B.hasZ=x.hasZ),x.hasM&&(B.hasM=x.hasM)):B.spatialReference=x;if(x=B.points&&B.points[0])void 0===B.hasZ&&void 0===B.hasM?(B.hasZ=2<x.length,B.hasM=!1):void 0===B.hasZ?B.hasZ=3<x.length:void 0===B.hasM&&(B.hasM=3<x.length);return B};A.writePoints=function(x,m){m.points=y.clone(this.points)};A.addPoint=function(x){this.clearCache();u.updateSupportFromPoint(this,x);Array.isArray(x)?this.points.push(x):this.points.push(x.toArray());return this};A.clone=function(){const x=
{points:y.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(x.hasZ=!0);this.hasM&&(x.hasM=!0);return new q(x)};A.getPoint=function(x){if(!this._validateInputs(x))return null;x=this.points[x];const m={x:x[0],y:x[1],spatialReference:this.spatialReference};let B=2;this.hasZ&&(m.z=x[2],B=3);this.hasM&&(m.m=x[B]);return new g(m)};A.removePoint=function(x){if(!this._validateInputs(x))return null;this.clearCache();return new g(this.points.splice(x,1)[0],this.spatialReference)};A.setPoint=
function(x,m){if(!this._validateInputs(x))return this;this.clearCache();u.updateSupportFromPoint(this,m);Array.isArray(m)||(m=m.toArray());this.points[x]=m;return this};A.toJSON=function(x){return this.write(null,x)};A._validateInputs=function(x){return null!=x&&0<=x&&x<this.points.length};a._createClass(C,[{key:"extent",get:function(){const x=this.points;if(!x.length)return null;const m=new p,B=this.hasZ,z=this.hasM,G=B?3:2;var D=x[0];const E=v(Math.min),I=v(Math.max);let [J,Q]=D,[P,W]=D,U,R,V,aa;
for(let ea=0,ma=x.length;ea<ma;ea++){D=x[ea];const [qa,na]=D;J=E(J,qa);Q=E(Q,na);P=I(P,qa);W=I(W,na);if(B&&2<D.length){const la=D[2];U=E(U,la);V=I(V,la)}z&&D.length>G&&(D=D[G],R=E(R,D),aa=I(aa,D))}m.xmin=J;m.ymin=Q;m.xmax=P;m.ymax=W;m.spatialReference=this.spatialReference;B?(m.zmin=U,m.zmax=V):(m.zmin=null,m.zmax=null);z?(m.mmin=R,m.mmax=aa):(m.mmin=null,m.mmax=null);return m}}]);return C}(n);l.__decorate([c.property({dependsOn:["points","hasZ","hasM","spatialReference"],autoTracked:!1})],w.prototype,
"cache",void 0);l.__decorate([c.property({dependsOn:["cache"],autoTracked:!1})],w.prototype,"extent",null);l.__decorate([c.property({type:[[Number]],json:{write:{isRequired:!0}}})],w.prototype,"points",void 0);l.__decorate([k.writer("points")],w.prototype,"writePoints",null);w=q=l.__decorate([f.subclass("esri.geometry.Multipoint")],w);w.prototype.toJSON.isDefaultToJSON=!0;return w})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(a){a.updateSupportFromPoint=function(l,w,y=
!1){let {hasM:r,hasZ:b}=l;Array.isArray(w)?4!==w.length||r||b?3===w.length&&y&&!r?(b=!0,r=!1):3===w.length&&r&&b&&(b=r=!1):b=r=!0:(b=!b&&w.hasZ&&(!r||w.hasM),r=!r&&w.hasM&&(!b||w.hasZ));l.hasZ=b;l.hasM=r};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./SpatialReference ./Geometry ./support/webMercatorUtils ./Point ./support/contains ./support/intersects ./Extent ./support/zmUtils ./support/coordsUtils ./support/centroid ./support/extentUtils".split(" "),
function(a,l,w,y,r,b,c,e,f,k,h,d,t,n,g,p,u,v,q,F,C,A,x,m){var B;w=B=function(z){function G(...E){E=z.call(this,...E)||this;E.rings=[];E.type="polygon";return E}a._inheritsLoose(G,z);G.fromExtent=function(E){var I=E.clone().normalize();E=E.spatialReference;let J=!1,Q=!1;I.map(P=>{P.hasZ&&(J=!0);P.hasM&&(Q=!0)});I={rings:I.map(function(P){const W=[[P.xmin,P.ymin],[P.xmin,P.ymax],[P.xmax,P.ymax],[P.xmax,P.ymin],[P.xmin,P.ymin]];if(J&&P.hasZ){var U=P.zmin+.5*(P.zmax-P.zmin);for(let R=0;R<W.length;R++)W[R].push(U)}if(Q&&
P.hasM)for(P=P.mmin+.5*(P.mmax-P.mmin),U=0;U<W.length;U++)W[U].push(P);return W}),spatialReference:E};J&&(I.hasZ=!0);Q&&(I.hasM=!0);return new B(I)};var D=G.prototype;D.normalizeCtorArgs=function(E,I){let J=null,Q,P,W=null;E&&!Array.isArray(E)?(J=E.rings?E.rings:null,I||(E.spatialReference?I=E.spatialReference:E.rings||(I=E)),Q=E.hasZ,P=E.hasM):J=E;J=J||[];I=I||n.WGS84;J.length&&J[0]&&null!=J[0][0]&&"number"===typeof J[0][0]&&(J=[J]);if(W=J[0]&&J[0][0])void 0===Q&&void 0===P?(Q=2<W.length,P=!1):void 0===
Q?Q=!P&&3<W.length:void 0===P&&(P=!Q&&3<W.length);return{rings:J,spatialReference:I,hasZ:Q,hasM:P}};D.writeRings=function(E,I){I.rings=y.clone(this.rings)};D.addRing=function(E){if(E){this.clearCache();var I=this.rings,J=I.length;if(Array.isArray(E[0]))I[J]=E.concat();else{const Q=[];for(let P=0,W=E.length;P<W;P++)Q[P]=E[P].toArray();I[J]=Q}return this}};D.clone=function(){const E=new B;E.spatialReference=this.spatialReference;E.rings=y.clone(this.rings);E.hasZ=this.hasZ;E.hasM=this.hasM;return E};
D.contains=function(E){if(!E)return!1;p.canProject(E,this.spatialReference)&&(E=p.project(E,this.spatialReference));return v.polygonContainsPoint(this,E)};D.isClockwise=function(E){E=Array.isArray(E[0])?E:E.map(I=>this.hasZ?this.hasM?[I.x,I.y,I.z,I.m]:[I.x,I.y,I.z]:[I.x,I.y]);return A.isClockwise(E,this.hasM,this.hasZ)};D.getPoint=function(E,I){if(!this._validateInputs(E,I))return null;E=this.rings[E][I];I=this.hasZ;const J=this.hasM;return I&&!J?new u(E[0],E[1],E[2],void 0,this.spatialReference):
J&&!I?new u(E[0],E[1],void 0,E[2],this.spatialReference):I&&J?new u(E[0],E[1],E[2],E[3],this.spatialReference):new u(E[0],E[1],this.spatialReference)};D.insertPoint=function(E,I,J){if(!this._validateInputs(E,I,!0))return this;this.clearCache();C.updateSupportFromPoint(this,J);Array.isArray(J)||(J=J.toArray());this.rings[E].splice(I,0,J);return this};D.removePoint=function(E,I){if(!this._validateInputs(E,I))return null;this.clearCache();return new u(this.rings[E].splice(I,1)[0],this.spatialReference)};
D.removeRing=function(E){if(!this._validateInputs(E,null))return null;this.clearCache();E=this.rings.splice(E,1)[0];const I=this.spatialReference;return E.map(J=>new u(J,I))};D.setPoint=function(E,I,J){if(!this._validateInputs(E,I))return this;this.clearCache();C.updateSupportFromPoint(this,J);Array.isArray(J)||(J=J.toArray());this.rings[E][I]=J;return this};D._validateInputs=function(E,I,J=!1){return null==E||0>E||E>=this.rings.length||null!=I&&(E=this.rings[E],J&&(0>I||I>E.length)||!J&&(0>I||I>=
E.length))?!1:!0};D.toJSON=function(E){return this.write(null,E)};a._createClass(G,[{key:"centroid",get:function(){const E=x.polygonCentroid(this);if(!E||isNaN(E[0])||isNaN(E[1])||this.hasZ&&isNaN(E[2]))return null;const I=new u;I.x=E[0];I.y=E[1];I.spatialReference=this.spatialReference;this.hasZ&&(I.z=E[2]);return I}},{key:"extent",get:function(){const {spatialReference:E}=this;var I=m.getPolygonExtent(this);if(!I)return null;I=new F(I);I.spatialReference=E;return I}},{key:"isSelfIntersecting",get:function(){return q.isSelfIntersecting(this.rings)}}]);
return G}(g);l.__decorate([c.property({dependsOn:["hasM","hasZ","rings"],autoTracked:!1})],w.prototype,"cache",void 0);l.__decorate([c.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],w.prototype,"centroid",null);l.__decorate([c.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],w.prototype,"extent",null);l.__decorate([c.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],w.prototype,"isSelfIntersecting",null);l.__decorate([c.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],
w.prototype,"rings",void 0);l.__decorate([k.writer("rings")],w.prototype,"writeRings",null);w=B=l.__decorate([f.subclass("esri.geometry.Polygon")],w);w.prototype.toJSON.isDefaultToJSON=!0;return w})},"esri/geometry/support/coordsUtils":function(){define(["exports","./spatialReferenceUtils"],function(a,l){function w(c,e){const f=e[0]-c[0],k=e[1]-c[1];return 2<c.length&&2<e.length?(c=c[2]-e[2],Math.sqrt(f*f+k*k+c*c)):Math.sqrt(f*f+k*k)}function y(c,e,f){const k=c[0]+f*(e[0]-c[0]),h=c[1]+f*(e[1]-c[1]);
return 2<c.length&&2<e.length?[k,h,c[2]+f*(e[2]-c[2])]:[k,h]}function r(c,e,f){const k=c.length;let h=0,d=0,t=0;for(let n=0;n<k;n++){const g=c[n],p=c[(n+1)%k];let u=2;h+=g[0]*p[1]-p[0]*g[1];2<g.length&&2<p.length&&f&&(d+=g[0]*p[2]-p[0]*g[2],u=3);g.length>u&&p.length>u&&e&&(t+=g[0]*p[u]-p[0]*g[u])}return 0>=h&&0>=d&&0>=t}function b(c,e){if(e=l.getInfo(e)){var f=e.valid[0],k=e.valid[1],h=k-f;for(const d of c){let t=Infinity,n=-Infinity;d.forEach(g=>{let p=g[0];for(;p<f;)p+=h;for(;p>k;)p-=h;t=Math.min(t,
p);n=Math.max(n,p);g[0]=p});c=n-t;h-c<c&&d.forEach(g=>{0>g[0]&&(g[0]+=h)})}}}a.closeRings=function(c){if("rings"in c)for(const e of c.rings)3>e.length||e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push([e[0][0],e[0][1]])};a.closeRingsAndFixWinding=function(c){if("rings"in c){for(var e of c.rings)3>e.length||e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]||e.push([e[0][0],e[0][1]]);if(0<c.rings.length&&!r(c.rings[0],c.hasM,c.hasZ))for(e=0;e<c.rings.length;++e)c.rings[e]=c.rings[e].reverse()}};
a.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(c,e,f,k){let h=Infinity,d=-Infinity;c.forEach(n=>{let g=n.pos[0];for(;g<e;)g+=k;for(;g>f;)g-=k;h=Math.min(h,g);d=Math.max(d,g);n.unnormalizedPos[0]=g;n.unnormalizedPos[1]=n.pos[1];2<n.pos.length&&(n.unnormalizedPos[2]=n.pos[2]);3<n.pos.length&&(n.unnormalizedPos[3]=n.pos[3])});const t=d-h;k-t<t&&c.forEach(n=>{0>n.unnormalizedPos[0]&&(n.unnormalizedPos[0]+=k)})};a.geometryToCoordinates=function(c){if(!c)return null;if(Array.isArray(c))return c;
const e=c.hasZ,f=c.hasM;if("point"===c.type)return f&&e?[c.x,c.y,c.z,c.m]:e?[c.x,c.y,c.z]:f?[c.x,c.y,c.m]:[c.x,c.y];if("polygon"===c.type)return c.rings.slice(0);if("polyline"===c.type)return c.paths.slice(0);if("multipoint"===c.type)return c.points.slice(0);if("extent"===c.type){c=c.clone().normalize();if(!c)return null;let k=!1,h=!1;c.forEach(d=>{d.hasZ&&(k=!0);d.hasM&&(h=!0)});return c.map(d=>{const t=[[d.xmin,d.ymin],[d.xmin,d.ymax],[d.xmax,d.ymax],[d.xmax,d.ymin],[d.xmin,d.ymin]];if(k&&d.hasZ){var n=
.5*(d.zmax-d.zmin);for(let g=0;g<t.length;g++)t[g].push(n)}if(h&&d.hasM)for(d=.5*(d.mmax-d.mmin),n=0;n<t.length;n++)t[n].push(d);return t})}return null};a.getLength=w;a.getMidpoint=function(c,e){return y(c,e,.5)};a.getPathLength=function(c){const e=c.length;let f=0;for(let k=0;k<e-1;++k)f+=w(c[k],c[k+1]);return f};a.getPointOnPath=function(c,e){if(0>=e)return c[0];const f=c.length;let k=0;for(let h=0;h<f-1;++h){const d=w(c[h],c[h+1]);if(e-k<d)return y(c[h],c[h+1],(e-k)/d);k+=d}return c[f-1]};a.getRingArea=
function(c){const e=c.length;let f=0;for(let k=0;k<e;k++){const h=c[k],d=c[(k+1)%e];f+=h[0]*d[1]-d[0]*h[1]}return f};a.isClockwise=r;a.projectPointOnLine=function(c,e,f,k){const [h,d]=e,[t,n]=f[k],[g,p]=f[k+1];e=g-t;f=p-n;k=Math.min(1,Math.max(0,((h-t)*e+(d-n)*f)/(e*e+f*f)));c[0]=t+e*k;c[1]=n+f*k;return c};a.unnormalizeGeometryOnDatelineCrossing=function(c){if("polygon"!==c.type&&"polyline"!==c.type)return c;b("polygon"===c.type?c.rings:c.paths,c.spatialReference);return c};a.unnormalizeVerticesOnDatelineCrossing=
b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/centroid":function(){define(["exports","./coordsUtils"],function(a,l){function w(b,c){if(!b||!b.length)return null;const e=[],f=[],k=c?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let d=0,t=b.length;d<t;d++){var h=y(b[d],c,k);h&&f.push(h)}f.sort((d,t)=>{let n=d[2]-t[2];0===n&&c&&(n=d[4]-t[4]);return n});f.length&&(h=6*f[0][2],e[0]=f[0][0]/h,e[1]=f[0][1]/h,c&&(h=6*
f[0][4],e[2]=0!==h?f[0][3]/h:0),e[0]<k[0]||e[0]>k[1]||e[1]<k[2]||e[1]>k[3]||c&&(e[2]<k[4]||e[2]>k[5]))&&(e.length=0);if(!e.length)if(b=b[0]&&b[0].length?r(b[0],c):null)e[0]=b[0],e[1]=b[1],c&&2<b.length&&(e[2]=b[2]);else return null;return e}function y(b,c,e){let f=0,k=0,h=0,d=0,t=0;for(let n=0;n<b.length;n++){const g=b[n],[p,u,v]=g,q=b[(n+1)%b.length],[F,C,A]=q;let x=p*C-F*u;d+=x;f+=(p+F)*x;k+=(u+C)*x;c&&2<g.length&&2<q.length&&(x=p*A-F*v,h+=(v+A)*x,t+=x);p<e[0]&&(e[0]=p);p>e[1]&&(e[1]=p);u<e[2]&&
(e[2]=u);u>e[3]&&(e[3]=u);c&&(v<e[4]&&(e[4]=v),v>e[5]&&(e[5]=v))}0<d&&(d*=-1);0<t&&(t*=-1);if(!d)return null;b=[f,k,.5*d];c&&(b[3]=h,b[4]=.5*t);return b}function r(b,c){const e=c?[0,0,0]:[0,0],f=c?[0,0,0]:[0,0];let k=0,h=0,d=0,t=0;for(let g=0,p=b.length;g<p-1;g++){var n=b[g];const u=b[g+1];if(n&&u){e[0]=n[0];e[1]=n[1];f[0]=u[0];f[1]=u[1];c&&2<n.length&&2<u.length&&(e[2]=n[2],f[2]=u[2]);const v=l.getLength(e,f);v&&(k+=v,n=l.getMidpoint(n,u),h+=v*n[0],d+=v*n[1],c&&2<n.length&&(t+=v*n[2]))}}return 0<
k?c?[h/k,d/k,t/k]:[h/k,d/k]:b.length?b[0]:null}a.extentCentroid=function(b){return b?b.hasZ?[b.xmax-b.xmin/2,b.ymax-b.ymin/2,b.zmax-b.zmin/2]:[b.xmax-b.xmin/2,b.ymax-b.ymin/2]:null};a.lineCentroid=r;a.polygonCentroid=function(b){return b?w(b.rings,b.hasZ):null};a.ringsCentroid=w;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,l){function w(f,k=!1,h=!1){return k?h?{xmin:f[0],ymin:f[1],zmin:f[2],mmin:f[3],
xmax:f[4],ymax:f[5],zmax:f[6],mmax:f[7]}:{xmin:f[0],ymin:f[1],zmin:f[2],xmax:f[3],ymax:f[4],zmax:f[5]}:h?{xmin:f[0],ymin:f[1],mmin:f[2],xmax:f[3],ymax:f[4],mmax:f[5]}:{xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3]}}function y(f){const {hasZ:k,hasM:h,points:d}=f;return w(l.getPointsBounds(e,d,k,h),k,h)}function r(f){const {x:k,y:h,z:d,m:t}=f;f=null!=t;return null!=d?f?{xmin:k,ymin:h,zmin:d,mmin:t,xmax:k,ymax:h,zmax:d,mmax:t}:{xmin:k,ymin:h,zmin:d,xmax:k,ymax:h,zmax:d}:f?{xmin:k,ymin:h,mmin:t,xmax:k,ymax:h,
mmax:t}:{xmin:k,ymin:h,xmax:k,ymax:h}}function b(f){const {hasZ:k,hasM:h,rings:d}=f;return(f=l.getRingsOrPathsBounds(e,d,k,h))?w(f,k,h):null}function c(f){const {hasZ:k,hasM:h,paths:d}=f;return(f=l.getRingsOrPathsBounds(e,d,k,h))?w(f,k,h):null}const e=[];a.getGeometryExtent=function(f){return f?void 0!==f.xmin&&void 0!==f.ymin&&void 0!==f.xmax&&void 0!==f.ymax?f:void 0!==f.x&&void 0!==f.y?r(f):void 0!==f.rings?b(f):void 0!==f.paths?c(f):void 0!==f.points?y(f):null:null};a.getMultipointExtent=y;a.getPointExtent=
r;a.getPolygonExtent=b;a.getPolylineExtent=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/boundsUtils":function(){define(["exports"],function(a){function l(f){return void 0!==f.xmin&&void 0!==f.ymin&&void 0!==f.xmax&&void 0!==f.ymax}function w(f){return(k,h)=>null==k?h:null==h?k:f(k,h)}function y(f,k,h,d){const t=h?3:2;if(!k.length||!k[0].length)return null;let [n,g]=k[0][0],[p,u]=k[0][0],v=void 0,q=void 0,F=void 0;var C=void 0;for(let A=0;A<k.length;A++){const x=k[A];
for(let m=0;m<x.length;m++){const B=x[m],[z,G]=B;n=c(n,z);g=c(g,G);p=e(p,z);u=e(u,G);if(h&&2<B.length){const D=B[2];v=c(v,D);q=e(q,D)}d&&B.length>t&&(C=B[t],F=c(v,C),C=e(q,C))}}if(h){if(d)return f[0]=n,f[1]=g,f[2]=v,f[3]=F,f[4]=p,f[5]=u,f[6]=q,f[7]=C,f.length=8,f;f[0]=n;f[1]=g;f[2]=v;f[3]=p;f[4]=u;f[5]=q;f.length=6;return f}if(d)return f[0]=n,f[1]=g,f[2]=F,f[3]=p,f[4]=u,f[5]=C,f.length=6,f;f[0]=n;f[1]=g;f[2]=p;f[3]=u;f.length=4;return f}function r(f,k,h,d,t,n){h=k.xmin;d=k.xmax;const g=k.ymin,p=k.ymax;
let u=k.zmin,v=k.zmax,q=k.mmin;k=k.mmax;if(t){u=u||0;v=v||0;if(n)return f[0]=h,f[1]=g,f[2]=u,f[3]=q||0,f[4]=d,f[5]=p,f[6]=v,f[7]=k||0,f;f[0]=h;f[1]=g;f[2]=u;f[3]=d;f[4]=p;f[5]=v;return f}if(n)return f[0]=h,f[1]=g,f[2]=q||0,f[3]=d,f[4]=p,f[5]=k||0,f;f[0]=h;f[1]=g;f[2]=d;f[3]=p;return f}function b(f,k,h,d,t,n){const g=h?3:2;d=d&&n;h=h&&t;if(!k.length||!k[0].length)return null;let [p,u]=k[0],[v,q]=k[0],F=void 0,C=void 0,A=void 0;var x=void 0;for(let m=0;m<k.length;m++){const B=k[m],[z,G]=B;p=c(p,z);
u=c(u,G);v=e(v,z);q=e(q,G);if(h&&2<B.length){const D=B[2];F=c(F,D);C=e(C,D)}d&&B.length>g&&(x=B[g],A=c(F,x),x=e(C,x))}if(t){F=F||0;C=C||0;if(n)return f[0]=p,f[1]=u,f[2]=F,f[3]=A||0,f[4]=v,f[5]=q,f[6]=C,f[7]=x||0,f;f[0]=p;f[1]=u;f[2]=F;f[3]=v;f[4]=q;f[5]=C;return f}if(n)return f[0]=p,f[1]=u,f[2]=A||0,f[3]=v,f[4]=q,f[5]=x||0,f;f[0]=p;f[1]=u;f[2]=v;f[3]=q;return f}const c=w(Math.min),e=w(Math.max);a.getBoundsXY=function(f,k){if(void 0!==k.paths)return y(f,k.paths,!1,!1);if(void 0!==k.rings)return y(f,
k.rings,!1,!1);if(void 0!==k.points)return b(f,k.points,!1,!1,!1,!1);if(l(k))return r(f,k);void 0!==k.x&&void 0!==k.y&&(f[0]=k.x,f[1]=k.y,f[2]=k.x,f[3]=k.y);return f};a.getBoundsXYZ=function(f,k){if(void 0!==k.paths)return y(f,k.paths,!0,!1);if(void 0!==k.rings)return y(f,k.rings,!0,!1);if(void 0!==k.points)return b(f,k.points,!0,!1,!0,!1);if(l(k))return r(f,k,!0,!1,!0,!1);void 0!==k.x&&void 0!==k.y&&(f[0]=k.x,f[1]=k.y,f[2]=k.z,f[3]=k.x,f[4]=k.y,f[5]=k.z);return f};a.getExtentBounds=r;a.getPointsBounds=
b;a.getPointsBoundsCenterX=function(f){if(!f.length||!f[0].length)return null;let [k]=f[0],[h]=f[0];for(let d=0;d<f.length;d++){const [t]=f[d];k=c(k,t);h=e(h,t)}return k+.5*(h-k)};a.getPointsBoundsWidth=function(f){if(!f.length||!f[0].length)return null;let [k]=f[0],[h]=f[0];for(let d=0;d<f.length;d++){const [t]=f[d];k=c(k,t);h=e(h,t)}return h-k};a.getRingsOrPathsBounds=y;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./SpatialReference ./Geometry ./Point ./Extent ./support/zmUtils ./support/extentUtils".split(" "),
function(a,l,w,y,r,b,c,e,f,k,h,d,t,n,g,p,u,v,q){var F;w=F=function(C){function A(...m){m=C.call(this,...m)||this;m.paths=[];m.type="polyline";return m}a._inheritsLoose(A,C);var x=A.prototype;x.normalizeCtorArgs=function(m,B){let z=null,G,D,E=null;m&&!Array.isArray(m)?(z=m.paths?m.paths:null,B||(m.spatialReference?B=m.spatialReference:m.paths||(B=m)),G=m.hasZ,D=m.hasM):z=m;z=z||[];B=B||n.WGS84;z.length&&z[0]&&null!=z[0][0]&&"number"===typeof z[0][0]&&(z=[z]);if(E=z[0]&&z[0][0])void 0===G&&void 0===
D?(G=2<E.length,D=!1):void 0===G?G=!D&&3<E.length:void 0===D&&(D=!G&&3<E.length);return{paths:z,spatialReference:B,hasZ:G,hasM:D}};x.writePaths=function(m,B){B.paths=y.clone(this.paths)};x.addPath=function(m){if(m){this.clearCache();var B=this.paths,z=B.length;if(Array.isArray(m[0]))B[z]=m.concat();else{const G=[];for(let D=0,E=m.length;D<E;D++)G[D]=m[D].toArray();B[z]=G}return this}};x.clone=function(){const m=new F;m.spatialReference=this.spatialReference;m.paths=y.clone(this.paths);m.hasZ=this.hasZ;
m.hasM=this.hasM;return m};x.getPoint=function(m,B){if(!this._validateInputs(m,B))return null;m=this.paths[m][B];B=this.hasZ;const z=this.hasM;return B&&!z?new p(m[0],m[1],m[2],void 0,this.spatialReference):z&&!B?new p(m[0],m[1],void 0,m[2],this.spatialReference):B&&z?new p(m[0],m[1],m[2],m[3],this.spatialReference):new p(m[0],m[1],this.spatialReference)};x.insertPoint=function(m,B,z){if(!this._validateInputs(m,B,!0))return this;this.clearCache();v.updateSupportFromPoint(this,z);Array.isArray(z)||
(z=z.toArray());this.paths[m].splice(B,0,z);return this};x.removePath=function(m){if(!this._validateInputs(m,null))return null;this.clearCache();m=this.paths.splice(m,1)[0];const B=this.spatialReference;return m.map(z=>new p(z,B))};x.removePoint=function(m,B){if(!this._validateInputs(m,B))return null;this.clearCache();return new p(this.paths[m].splice(B,1)[0],this.spatialReference)};x.setPoint=function(m,B,z){if(!this._validateInputs(m,B))return this;this.clearCache();v.updateSupportFromPoint(this,
z);Array.isArray(z)||(z=z.toArray());this.paths[m][B]=z;return this};x._validateInputs=function(m,B,z=!1){return null==m||0>m||m>=this.paths.length||null!=B&&(m=this.paths[m],z&&(0>B||B>m.length)||!z&&(0>B||B>=m.length))?!1:!0};x.toJSON=function(m){return this.write(null,m)};a._createClass(A,[{key:"extent",get:function(){const {spatialReference:m}=this;var B=q.getPolylineExtent(this);if(!B)return null;B=new u(B);B.spatialReference=m;return B}}]);return A}(g);l.__decorate([c.property({dependsOn:["hasM",
"hasZ","paths"],autoTracked:!1})],w.prototype,"cache",void 0);l.__decorate([c.property({readOnly:!0,dependsOn:["cache"],autoTracked:!1})],w.prototype,"extent",null);l.__decorate([c.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],w.prototype,"paths",void 0);l.__decorate([k.writer("paths")],w.prototype,"writePaths",null);w=F=l.__decorate([f.subclass("esri.geometry.Polyline")],w);w.prototype.toJSON.isDefaultToJSON=!0;return w})},"esri/geometry/support/typeUtils":function(){define(["exports",
"../../core/jsonMap"],function(a,l){const w=l.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});l=l.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=w;a.isFeatureGeometryType=function(y){return"point"===y||"multipoint"===y||"polyline"===y||"polygon"===
y};a.typeKebabDictionary=l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Geometry ../Point ../Extent ../Multipoint ../Polygon ../Polyline".split(" "),function(a,l,w,y,r,b,c){function e(g){return void 0!==g.xmin&&void 0!==g.ymin&&void 0!==g.xmax&&void 0!==g.ymax}function f(g){return void 0!==g.points}function k(g){return void 0!==g.x&&void 0!==g.y}function h(g){return void 0!==g.paths}function d(g){return void 0!==g.rings}function t(g){return g?
g instanceof l?g:k(g)?w.fromJSON(g):h(g)?c.fromJSON(g):d(g)?b.fromJSON(g):f(g)?r.fromJSON(g):e(g)?y.fromJSON(g):null:null}const n={esriGeometryPoint:w,esriGeometryPolyline:c,esriGeometryPolygon:b,esriGeometryEnvelope:y,esriGeometryMultipoint:r};a.fromJSON=t;a.fromJson=function(g){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(p){console.warn(p.stack)}return t(g)};a.getGeometryType=function(g){return g&&n[g]||null};a.getJsonType=function(g){return g?k(g)?"esriGeometryPoint":
h(g)?"esriGeometryPolyline":d(g)?"esriGeometryPolygon":e(g)?"esriGeometryEnvelope":f(g)?"esriGeometryMultipoint":null:null};a.isExtent=e;a.isMesh=function(g){return void 0!==g.vertexAttributes};a.isMultipoint=f;a.isPoint=k;a.isPolygon=d;a.isPolyline=h;Object.defineProperty(a,"__esModule",{value:!0})})},"*noref":1}});require.boot&&require.apply(null,require.boot);