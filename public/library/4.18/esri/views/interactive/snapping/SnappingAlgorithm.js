// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/maybe","./Settings","./snappingUtils"],function(g,m,k,h){let n=function(){function e({proximityThreshold:a,enabled:b=!0,shortLineThreshold:c=k.defaults.shortLineThreshold}){this.enabled=b;this.squaredShortLineThreshold=c*c;b=a*k.defaults.touchSensitivityMultiplier;this._squaredTouchProximityThreshold=b*b;this._squaredMouseProximityTreshold=a*a}var d=e.prototype;d.snap=function(a,b){return this.enabled?m.isSome(b.vertexHandle)?"vertex"!==b.vertexHandle.type?[]:this.snapExistingVertex(a,
b):this.snapNewVertex(a,b):[]};d.edgeExceedsShortLineThreshold=function(a,b){return this.exceedsShortLineThreshold(a.left.pos,a.right.pos,b)};d.exceedsShortLineThreshold=function(a,b,{elevationInfo:c,view:l,geometry:f}){f=f.data.coordinateHelper;return 0===this.squaredShortLineThreshold||h.squareDistance(h.anyMapPointToScreenPoint(b,f,c,l),h.anyMapPointToScreenPoint(a,f,c,l))>this.squaredShortLineThreshold};d.squaredProximityTreshold=function(a){return"touch"===a?this._squaredTouchProximityThreshold:
this._squaredMouseProximityTreshold};return e}();g.SnappingAlgorithm=n;g.SnappingContext=function(e,d,a,b,c=null){this.geometry=e;this.view=d;this.elevationInfo=a;this.pointer=b;this.vertexHandle=c};Object.defineProperty(g,"__esModule",{value:!0})});