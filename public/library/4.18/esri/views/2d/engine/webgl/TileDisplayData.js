// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./WGLDisplayList","./util/serializationUtils","./WGLDisplayObject"],function(f,l,m,n,p){function k(c){const e=[[],[],[],[],[]];for(const a of c)for(const b of a.displayRecords)e[b.geometryType].push(b);return e}let q=function(){function c(){}var e=c.prototype;e.computeDisplayList=function(a){this._displayList=new m(a);if(a)for(var b of this.displayObjects)for(var d of b.displayRecords)this._displayList.addToList(d);else for(a=k(this.displayObjects),
b=a.length,d=0;d<b;++d)this._displayList.addToList(a[d])};e.clone=function(){const a=new c;this.displayObjects&&(a.displayObjects=this.displayObjects.map(b=>b.clone()));return a};e.serialize=function(a){n.serializeList(a,this.displayObjects);return a};e._deserializeObjects=function(a){var b=a.readInt32();b=Array(b);const d=new Map;for(let g=0;g<b.length;++g){const h=p.deserialize(a);b[g]=h;d.set(h.id,h)}this.displayObjects=b;this._displayList=null;this._displayObjectRegistry=d};c.deserialize=function(a){const b=
new c;b._deserializeObjects(a);return b};l._createClass(c,[{key:"displayObjectRegistry",get:function(){if(!this._displayObjectRegistry){this._displayObjectRegistry=new Map;for(const a of this.displayObjects)this._displayObjectRegistry.set(a.id,a)}return this._displayObjectRegistry}},{key:"displayList",get:function(){return this._displayList}}]);return c}();f.default=q;f.groupRecordsByGeometryType=k;Object.defineProperty(f,"__esModule",{value:!0})});