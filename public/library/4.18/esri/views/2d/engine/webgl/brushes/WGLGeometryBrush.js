// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../../../../chunks/_rollupPluginBabelHelpers ../definitions ../../../../webgl/Program ../../../../webgl/BufferObject ../../../../webgl/Texture ../../../../webgl/VertexArrayObject ../../../../webgl/Renderbuffer ../../../../webgl/FramebufferObject ../../../../webgl/ProgramCache ../../../../webgl/RenderingContext ../../../../webgl/ShaderCompiler ./WGLBrush".split(" "),function(m,e,r,t,u,n,v,w,x,y,z,p){return function(h){function g(){return h.apply(this,arguments)||this}m._inheritsLoose(g,
h);var f=g.prototype;f.prepareState=function({context:a},b,c){c=c&&-1!==c.indexOf("id");a.setBlendingEnabled(!c);a.setBlendFunctionSeparate(1,771,1,771);a.setColorMask(!0,!0,!0,!0);a.setStencilWriteMask(0);a.setStencilTestEnabled(!0);a.setStencilFunction(514,b.stencilRef,255)};f.draw=function(a,b,c){b.commitChanges(a);if(b.visible){var d=this.getGeometryType(),k=b.getDisplayList(),l=b.getGeometry(d);l&&k&&(a.timeline.begin(this.name),a.attributeView.bindTextures(a.context),k.byType(d,q=>{this.drawGeometry(a,
b,q,l,c)}),a.timeline.end(this.name))}};f._getVAO=function(a,b,c,d){d.vao||(d.vao=new n(a,c,b,d.vertexBufferMap,d.indexBuffer));return d.vao};f._setSharedUniforms=function(a,b,c){a.setUniform1f("u_pixelRatio",b.pixelRatio);a.setUniformMatrix3fv("u_dvsMat3",c.transforms.dvs);a.setUniformMatrix3fv("u_displayViewMat3",b.state.displayViewMat3);a.setUniform1i("u_attributeTextureSize",b.attributeView.size);a.setUniform1i("u_attributeData0",e.TEXTURE_BINDING_ATTRIBUTE_DATA_0);a.setUniform1i("u_attributeData1",
e.TEXTURE_BINDING_ATTRIBUTE_DATA_1);a.setUniform1i("u_attributeData2",e.TEXTURE_BINDING_ATTRIBUTE_DATA_2);a.setUniform1i("u_attributeData3",e.TEXTURE_BINDING_ATTRIBUTE_DATA_3)};return g}(p)});