// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../core/mathUtils ../../../../../../core/screenUtils ../../definitions ../../number ../../materialKey/MaterialKey ../../color ../../GeometryUtils ./WGLMeshTemplate ./WGLBaseFillTemplate".split(" "),function(B,q,r,v,e,C,z,D,E,F){return function(A){function n(a,f,g,m,p,t,u,d,c){var b=A.call(this)||this;b.effects=c;a=C.FillMaterialKey.load(a);f&&(a.sdf=f.sdf,a.pattern=!0,a.textureBinding=f.textureBinding);b.fillColor=g;b.tl=m;
b.br=p;b.aux1=t;b.aux2=u;b.aux3=d;b._materialKey=a.data;return b}B._inheritsLoose(n,A);n.fromCIMFill=function(a,f){var g=a.color;g=g&&z.premultiplyAlphaRGBA(g)||0;const m=a.materialKey;if(!f)return f=e.i8888to32(0,0,0,a.colorLocked?1:0),new n(m,null,g,0,0,0,0,f,a.effects);const {rect:p,width:t,height:u}=f;var d=p.x+v.SPRITE_PADDING;const c=p.y+v.SPRITE_PADDING;var b=d+t;const h=c+u;var k=q.nextHighestPowerOfTwo(r.pt2px(a.height||0));255<k?k=255:0>=k&&(k=q.nextHighestPowerOfTwo(h-c));var l=q.nextHighestPowerOfTwo(r.pt2px(a.height/
u*t||0));255<l?l=255:0>=l&&(l=q.nextHighestPowerOfTwo(b-d));let w=r.pt2px(a.offsetX||0)+128;255<w&&(w=255);let x=r.pt2px(-a.offsetY||0)+128;255<x&&(x=255);var y=a.scaleX||1;d=e.i1616to32(d,c);b=e.i1616to32(b,h);k=e.i8888to32(l,k,w,x);y=e.i1616to32(128*y,128);l=e.i8888to32(0,0,D.degToByte(a.angle),a.colorLocked?1:0);return new n(m,f,g,d,b,k,y,l,a.effects)};n.fromSimpleFill=function(a,f,g=!1){var {color:m}=a;m=m&&"esriSFSNull"!==a.style&&z.premultiplyAlphaRGBAArray(m)||0;g=e.i8888to32(0,0,0,g?255:0);
a=a.materialKey;if(!f)return new n(a,null,m,0,0,0,0,g,null);const {rect:p,width:t,height:u}=f;var d=p.x+v.SPRITE_PADDING,c=p.y+v.SPRITE_PADDING;const b=d+t,h=c+u,k=e.i1616to32(d,c),l=e.i1616to32(b,h);d=e.i8888to32(q.nextHighestPowerOfTwo(b-d),q.nextHighestPowerOfTwo(h-c),0,0);c=e.i1616to32(128,128);return new n(a,f,m,k,l,d,c,g,null)};n.fromPictureFill=function(a,f,g=!1){const m=v.PICTURE_FILL_COLOR,{rect:p,width:t,height:u}=f;var d=p.x+v.SPRITE_PADDING,c=p.y+v.SPRITE_PADDING,b=d+t,h=c+u;d=e.i1616to32(d,
c);b=e.i1616to32(b,h);h=q.nextHighestPowerOfTwo(r.pt2px(a.width));255<h&&(h=255);c=q.nextHighestPowerOfTwo(r.pt2px(a.height));255<c&&(c=255);let k=r.pt2px(a.xoffset)+128;255<k&&(k=255);let l=r.pt2px(-a.yoffset)+128;255<l&&(l=255);h=e.i8888to32(h,c,k,l);c=e.i1616to32(128*a.xscale,128*a.yscale);g=e.i8888to32(0,0,0,g?255:0);return new n(a.materialKey,f,m,d,b,h,c,g,null)};return n}(F(E))});