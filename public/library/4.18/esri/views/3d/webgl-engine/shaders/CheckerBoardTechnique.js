// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../../../webgl/Program ../../../webgl/renderState ../core/shaderLibrary/util/View.glsl ../lib/OrderIndependentTransparency ../../../../chunks/CheckerBoard.glsl".split(" "),function(t,n,q,k,e,l,g,u,v,m,r,p,w){l=function(f){function d(){return f.apply(this,
arguments)||this}q._inheritsLoose(d,f);var a=d.prototype;a.initializeProgram=function(b){const c=d.shader.get().build({OITEnabled:0===this.configuration.transparencyPassType});return new v(b.rctx,c.generateSource("vertex"),c.generateSource("fragment"),u.Default3D)};a.bindPass=function(b,c,h){r.View.bindProjectionMatrix(this.program,h.camera.projectionMatrix);this.program.setUniform2fv("size",c.size);this.program.setUniform4fv("color1",c.color1);this.program.setUniform4fv("color2",c.color2)};a.bindDraw=
function(b){r.View.bindView(this.program,b)};a.setPipelineState=function(b){const c=this.configuration,h=3===b,x=2===b;return m.makePipelineState({blending:c.transparent?h?y:p.OITBlending(b):null,depthTest:{func:p.OITDepthTest(b)},depthWrite:h?c.writeDepth&&m.defaultDepthWriteParams:p.OITDepthWrite(b),colorWrite:m.defaultColorWriteParams,polygonOffset:h||x?c.polygonOffset&&z:{factor:-1,units:-25}})};a.initializePipeline=function(){return this.setPipelineState(this.configuration.transparencyPassType)};
return d}(l.ShaderTechnique);l.shader=new e.ReloadableShaderModule(w.CheckerBoardShader,()=>new Promise(function(f,d){t(["./CheckerBoard.glsl"],f,d)}));const z={factor:0,units:-25},y=m.separateBlendingParams(770,1,771,771);e=function(f){function d(){var a=f.apply(this,arguments)||this;a.transparent=!1;a.writeDepth=!0;a.polygonOffset=!1;a.transparencyPassType=3;return a}q._inheritsLoose(d,f);return d}(g.ShaderTechniqueConfiguration);k.__decorate([g.parameter()],e.prototype,"transparent",void 0);k.__decorate([g.parameter()],
e.prototype,"writeDepth",void 0);k.__decorate([g.parameter()],e.prototype,"polygonOffset",void 0);k.__decorate([g.parameter({count:4})],e.prototype,"transparencyPassType",void 0);n.CheckerBoardTechnique=l;n.CheckerBoardTechniqueConfiguration=e;Object.defineProperty(n,"__esModule",{value:!0})});