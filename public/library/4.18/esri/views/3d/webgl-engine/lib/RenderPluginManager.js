// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./Util","./depthRange"],function(g,h,k,l){let n=function(){function f(a){this.pluginContext=a;this.renderPlugins=[];this.slots=[];for(a=0;23>a;++a)this.slots[a]=[]}var d=f.prototype;d.add=function(a,b){this.renderPlugins.push(b);for(let c=0;c<a.length;++c)this.slots[a[c]].push(b);b.initializeRenderContext(this.pluginContext);this.pluginContext.requestRender()};d.remove=function(a){var b=this.renderPlugins.length;this.renderPlugins=
this.renderPlugins.filter(c=>c!==a);k.assert(this.renderPlugins.length<b,"Removing non-added render plugin");for(b=0;b<this.slots.length;++b)this.slots[b]=this.slots[b].filter(c=>c!==a);a.uninitializeRenderContext();this.pluginContext.requestRender()};d.prepareRender=function(a){for(const b of this.renderPlugins)b.prepareRender&&b.prepareRender(a)};d.render=function(a,b){b.slot=a;a=this.slots[a];let c=!1;for(const e of a)e.canRender&&e.render(b)&&(c=!0);return c};d.queryDepthRange=function(a){const b=
m;b.near=Infinity;b.far=-Infinity;for(const c of this.renderPlugins)if(c.queryDepthRange){const e=c.queryDepthRange(a);e&&l.union(b,e,b)}return b};h._createClass(f,[{key:"needsHighlight",get:function(){return this.renderPlugins.some(a=>a.needsHighlight)}},{key:"needsLinearDepth",get:function(){return this.renderPlugins.some(a=>a.needsLinearDepth)}},{key:"needsLaserlineWithContrastControl",get:function(){const a=this.slots[17];return!!a&&0<a.length}},{key:"renderOccludedFlags",get:function(){let a=
0;this.renderPlugins.forEach(b=>{b.renderOccludedFlags&&(a|=b.renderOccludedFlags)});return a}}]);return f}();const m={near:0,far:0};g.RenderPluginManager=n;Object.defineProperty(g,"__esModule",{value:!0})});