// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ../../../../../core/RandomLCG ../../../../../chunks/vec3f64 ../../../../../chunks/vec3 ../../../support/buffer/glUtil ./bufferLayouts".split(" "),function(l,k,x,t,u,h){let q=function(){function f(){}var e=f.prototype;e.updateSettings=function(a){this.settings=a};e.write=function(a,b,c){var d=v;d[0]=c.position0[0];d[1]=c.position0[1];d[2]=c.position0[2];d[3]=c.position1[0];d[4]=c.position1[1];d[5]=c.position1[2];m[0]=5381;for(d=0;d<w.length;d++)m[0]=31*m[0]+w[d];d=m[0];n.seed=d;d=n.getIntRange(0,
255);const y=n.getIntRange(0,this.settings.variants-1);var g=n.getFloat();g=-(1-Math.min(g/.7,1))+Math.max(0,g-.7)/(1-.7);g=255*(Math.pow(Math.abs(g),1.2)*(0>g?-1:1)*.5+.5);a.position0.setVec(b,c.position0);a.position1.setVec(b,c.position1);a.componentIndex.set(b,c.componentIndex);a.variantOffset.set(b,d);a.variantStroke.set(b,y);a.variantExtension.set(b,g)};e.trim=function(a,b){return a.slice(0,b)};return f}();const v=new Float32Array(6),w=new Uint32Array(v.buffer),m=new Uint32Array(1),n=new k;k=
function(){function f(){this.commonWriter=new q}var e=f.prototype;e.updateSettings=function(a){this.commonWriter.updateSettings(a)};e.allocate=function(a){return h.RegularEdgeInstancesLayout.createBuffer(a)};e.write=function(a,b,c){this.commonWriter.write(a,b,c);t.add(p,c.faceNormal0,c.faceNormal1);t.normalize(p,p);a.normal.setVec(b,p)};e.trim=function(a,b){return this.commonWriter.trim(a,b)};return f}();k.Layout=h.RegularEdgeInstancesLayout;k.glLayout=u.glLayout(h.RegularEdgeInstancesLayout,{divisor:1});
let r=function(){function f(){this.commonWriter=new q}var e=f.prototype;e.updateSettings=function(a){this.commonWriter.updateSettings(a)};e.allocate=function(a){return h.SilhouetteEdgeInstancesLayout.createBuffer(a)};e.write=function(a,b,c){this.commonWriter.write(a,b,c);a.normalA.setVec(b,c.faceNormal0);a.normalB.setVec(b,c.faceNormal1)};e.trim=function(a,b){return this.commonWriter.trim(a,b)};return f}();r.Layout=h.SilhouetteEdgeInstancesLayout;r.glLayout=u.glLayout(h.SilhouetteEdgeInstancesLayout,
{divisor:1});const p=x.create();l.CommonBufferWriter=q;l.RegularEdgeBufferWriter=k;l.SilhouetteEdgeBufferWriter=r;Object.defineProperty(l,"__esModule",{value:!0})});