// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/vec3f64 ../../../chunks/vec3 ../support/mathUtils ../../../chunks/frustum".split(" "),function(g,n,h,k,p,c){let f=function(){function l(a){this.frustum=c.create();this.lines=Array(12);this.origin=h.create();this.direction=h.create();this._altitude=null;this.renderCoordsHelper=a?a.renderCoordsHelper:null;for(a=0;12>a;a++)this.lines[a]={origin:null,direction:h.create(),endpoint:null}}var d=l.prototype;d.update=function(a){c.fromMatrix(a.viewMatrix,
a.projectionMatrix,this.frustum);k.copy(this.origin,a.eye);k.copy(this.direction,a.viewForward);this._altitude=this.renderCoordsHelper.getAltitude(this.origin);this.updateLines()};d.updatePoints=function(a){for(let b=0;b<this.frustum.points.length;b++)k.copy(this.frustum.points[b],a[b]);c.recomputePlanes(this.frustum);this.updateLines()};d.intersectsSphere=function(a){return c.intersectsSphere(this.frustum.planes,a)};d.intersectsRay=function(a){return c.intersectsRay(this.frustum.planes,a)};d.intersectsLineSegment=
function(a,b){return c.intersectsLineSegment(this.frustum.planes,a,b)};d.intersectsPoint=function(a){return c.intersectsPoint(this.frustum.planes,a)};d.updateLines=function(){const {points:a}=this.frustum;for(let b=0;4>b;b++){const e=b,m=b+4;this.updateLine(this.lines[b],a[e],a[m]);this.updateLine(this.lines[b+4],a[e],3===b?a[0]:a[e+1]);this.updateLine(this.lines[b+8],a[m],3===b?a[4]:a[m+1])}};d.updateLine=function(a,b,e){a.origin=b;a.endpoint=e;p.directionFromTo(a.direction,b,e)};n._createClass(l,
[{key:"planes",get:function(){return this.frustum.planes}},{key:"points",get:function(){return this.frustum.points}},{key:"mutablePoints",get:function(){return this.frustum.points}},{key:"altitude",get:function(){return this._altitude}}]);return l}();f.planePointIndices=c.planePointIndices;f.nearFarLineIndices=[[0,4],[1,5],[2,6],[3,7]];g.Frustum=f;g.default=f;Object.defineProperty(g,"__esModule",{value:!0})});