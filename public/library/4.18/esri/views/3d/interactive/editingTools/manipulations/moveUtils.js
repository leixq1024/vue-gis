// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("exports ../../../../../core/maybe ../../../support/mathUtils ../../../../../geometry/support/aaBoundingRect ../../../../../chunks/vec2f64 ../../../../../geometry/geometryEngine ../../../../../chunks/vec2 ../../../../../chunks/mat2 ../../../../../chunks/mat2f64 ../../../../interactive/dragEventPipeline".split(" "),function(m,t,u,l,v,w,x,y,z,p){function A(a){let f=0,c=0;for(const b of a)f+=b[0],c+=b[1];f/=a.length;c/=a.length;for(const b of a)b[0]-=f,b[1]-=c}const q=z.create(),n=l.create(),
r=v.create();m.createGraphicMoveDragPipeline=function(a,f,c){const b=a.graphic,d=(h,e)=>f({action:h,graphic:b,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return c((h,e,k)=>{e.next(g=>{"start"===g.action&&d("start",g);return g}).next(p.dragGraphic(b)).next(g=>{switch(g.action){case "start":case "update":(g.translationX||g.translationY||g.translationZ)&&d("update",g);break;case "end":d("end",g)}return g});k.next(p.resetGraphic(b)).next(()=>{d("end",{screenDeltaX:0,screenDeltaY:0})})})};m.primaryShapeOrientation=
function(a){if(t.isNone(a)||"polyline"!==a.type&&"polygon"!==a.type)return 0;a=(a=w.convexHull(a))&&a.rings&&a.rings[0];if(!a)return 0;A(a);var f=[];for(var c=0;c<a.length-1;c++){var b=u.cyclical2PI.normalize(Math.atan2(a[c+1][1]-a[c][1],a[c+1][0]-a[c][0]))%(Math.PI/2);f.push(b)}var d=f.sort((e,k)=>e-k);f=null;c=0;b=Number.POSITIVE_INFINITY;let h=0;for(const e of d)if(e!==f){f=e;y.fromRotation(q,e);l.empty(n);for(const k of a)x.transformMat2(r,k,q),l.expandPointInPlace(n,r);d=l.area(n);if(.99<=(d>
b?b/d:d/b)&&e<c||d<b)c=e,b=d;h=Math.max(h,d)}return.95<=b/h?0:c};Object.defineProperty(m,"__esModule",{value:!0})});