// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
require({cache:{"esri/tasks/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(d,E){d.parsePBFFeatureQuery=function(A,J){var L=E.parseFeatureQuery(A,J);A=L.queryResult.featureResult;J=L.queryResult.queryGeometry;L=L.queryResult.queryGeometryType;if(A&&A.features&&A.features.length&&A.objectIdFieldName){const N=A.objectIdFieldName;for(const F of A.features)F.attributes&&(F.objectId=F.attributes[N])}A&&(A.queryGeometry=J,A.queryGeometryType=L);return A};Object.defineProperty(d,
"__esModule",{value:!0})})},"esri/tasks/operations/pbfFeatureServiceParser":function(){define("exports ../../core/maybe ../../core/Logger ../../core/Error ../../layers/graphics/OptimizedGeometry ../../core/pbf ./pbfOptimizedFeatureSet".split(" "),function(d,E,A,J,L,N,F){function D(c){return c>=S.length?null:S[c]}function v(c,l,g){for(g=l.createPointGeometry(g);c.next();)switch(c.tag()){case 3:{var B=c.getUInt32();B=c.pos()+B;let O=0;for(;c.pos()<B;)l.addCoordinatePoint(g,c.getSInt64(),O++);break}default:c.skip()}return g}
function r(c,l,g){const B=l.createGeometry(g);for(g=2+(g.hasZ?1:0)+(g.hasM?1:0);c.next();)switch(c.tag()){case 2:var O=c.getUInt32();O=c.pos()+O;for(var U=0;c.pos()<O;)l.addLength(B,c.getUInt32(),U++);break;case 3:O=c.getUInt32();O=c.pos()+O;for(U=0;c.pos()<O;)l.addCoordinate(B,c.getSInt64(),U),U++,U===g&&(U=0);break;default:c.skip()}return B}function H(c){const l=new L;let g="esriGeometryPoint";for(;c.next();)switch(c.tag()){case 2:var B=c.getUInt32();for(B=c.pos()+B;c.pos()<B;)l.lengths.push(c.getUInt32());
break;case 3:B=c.getUInt32();for(B=c.pos()+B;c.pos()<B;)l.coords.push(c.getSInt64());break;case 1:g=F.OPTIMIZED_GEOMETRY_TYPES[c.getEnum()];break;default:c.skip()}return{queryGeometry:l,queryGeometryType:g}}function P(c){for(;c.next();)switch(c.tag()){case 1:return c.getString();case 2:return c.getFloat();case 3:return c.getDouble();case 4:return c.getSInt32();case 5:return c.getUInt32();case 6:return c.getInt64();case 7:return c.getUInt64();case 8:return c.getSInt64();case 9:return c.getBool();default:return c.skip(),
null}return null}function f(c){const l={type:D(0)};for(;c.next();)switch(c.tag()){case 1:l.name=c.getString();break;case 2:l.type=D(c.getEnum());break;case 3:l.alias=c.getString();break;case 4:var g=c.getEnum();g=g>=V.length?null:V[g];l.sqlType=g;break;case 5:try{l.domain=JSON.parse(c.getString())}catch(B){M.error(new J("query:parsing-pbf","Failed to parse domain",{error:B})),l.domain=null}break;case 6:l.defaultValue=c.getString();break;default:c.skip()}return l}function q(c){const l={};for(;c.next();)switch(c.tag()){case 1:l.name=
c.getString();break;case 2:l.isSystemMaintained=c.getBool();break;default:c.skip()}return l}function C(c,l,g,B){const O=l.createFeature(g);let U=0;for(;c.next();)switch(c.tag()){case 1:{const Y=B[U++].name;O.attributes[Y]=c.processMessage(P);break}case 2:O.geometry=c.processMessageWithArgs(r,l,g);break;case 4:O.centroid=c.processMessageWithArgs(v,l,g);break;default:c.skip()}return O}function a(c){const l=[1,1,1,1];for(;c.next();)switch(c.tag()){case 1:l[0]=c.getDouble();break;case 2:l[1]=c.getDouble();
break;case 4:l[2]=c.getDouble();break;case 3:l[3]=c.getDouble();break;default:c.skip()}return l}function h(c){const l=[0,0,0,0];for(;c.next();)switch(c.tag()){case 1:l[0]=c.getDouble();break;case 2:l[1]=c.getDouble();break;case 4:l[2]=c.getDouble();break;case 3:l[3]=c.getDouble();break;default:c.skip()}return l}function u(c){const l={originPosition:0>=n.length?null:n[0]};for(;c.next();)switch(c.tag()){case 1:var g=c.getEnum();l.originPosition=g>=n.length?null:n[g];break;case 2:l.scale=c.processMessage(a);
break;case 3:l.translate=c.processMessage(h);break;default:c.skip()}return l}function w(c){const l={};for(;c.next();)switch(c.tag()){case 1:l.shapeAreaFieldName=c.getString();break;case 2:l.shapeLengthFieldName=c.getString();break;case 3:l.units=c.getString();break;default:c.skip()}return l}function y(c,l){for(l=l.createSpatialReference();c.next();)switch(c.tag()){case 1:l.wkid=c.getUInt32();break;case 5:l.wkt=c.getString();break;case 2:l.latestWkid=c.getUInt32();break;case 3:l.vcsWkid=c.getUInt32();
break;case 4:l.latestVcsWkid=c.getUInt32();break;default:c.skip()}return l}function k(c,l){const g=l.createFeatureResult();g.geometryType=0>=l.geometryTypes.length?null:l.geometryTypes[0];let B=!1;for(;c.next();)switch(c.tag()){case 1:g.objectIdFieldName=c.getString();break;case 3:g.globalIdFieldName=c.getString();break;case 4:g.geohashFieldName=c.getString();break;case 5:g.geometryProperties=c.processMessage(w);break;case 7:var O=c.getEnum();g.geometryType=O>=l.geometryTypes.length?null:l.geometryTypes[O];
break;case 8:g.spatialReference=c.processMessageWithArgs(y,l);break;case 10:g.hasZ=c.getBool();break;case 11:g.hasM=c.getBool();break;case 12:g.transform=c.processMessage(u);break;case 9:O=c.getBool();g.exceededTransferLimit=O;break;case 13:l.addField(g,c.processMessage(f));break;case 15:B||(l.prepareFeatures(g),B=!0);l.addFeature(g,c.processMessageWithArgs(C,l,g,g.fields));break;case 2:g.uniqueIdField=c.processMessage(q);break;default:c.skip()}l.finishFeatureResult(g);return g}function t(c,l){const g=
{};let B=null;for(;c.next();)switch(c.tag()){case 4:B=c.processMessageWithArgs(H);break;case 1:g.featureResult=c.processMessageWithArgs(k,l);break;default:c.skip()}E.isSome(B)&&g.featureResult&&l.addQueryGeometry(g,B);return g}const M=A.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),S="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
V="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),n=["upperLeft","lowerLeft"];d.parseFeatureQuery=function(c,l){try{const g=new N(new Uint8Array(c),new DataView(c));
for(c={};g.next();)switch(g.tag()){case 2:c.queryResult=g.processMessageWithArgs(t,l);break;default:g.skip()}return c}catch(g){throw new J("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:g});}};d.parseFieldType=D;d.parseTransform=u;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(d){return function(){function E(J=[],L=[],N=!1){this.lengths=null!=J?J:[];this.coords=
null!=L?L:[];this.hasIndeterminateRingOrder=N}var A=E.prototype;A.forEachVertex=function(J){let L=0;this.lengths.length||J(this.coords[0],this.coords[1]);for(let N=0;N<this.lengths.length;N++){const F=this.lengths[N];for(let D=0;D<F;D++)J(this.coords[2*(D+L)],this.coords[2*(D+L)+1]);L+=F}};A.clone=function(){return new E(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};d._createClass(E,[{key:"isPoint",get:function(){return 0===this.lengths.length}}]);return E}()})},"esri/tasks/operations/pbfOptimizedFeatureSet":function(){define("exports ../../geometry/support/spatialReferenceUtils ../../core/unitUtils ../../layers/graphics/OptimizedFeature ../../layers/graphics/OptimizedFeatureSet ../../layers/graphics/OptimizedGeometry".split(" "),
function(d,E,A,J,L,N){const F=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let D=function(){function v(H){this.options=H;this.geometryTypes=F}var r=v.prototype;r.createFeatureResult=function(){return new L};r.prepareFeatures=function(){};r.finishFeatureResult=function(H){if(H&&H.features&&H.hasZ&&this.options.sourceSpatialReference&&H.spatialReference&&!E.equals(H.spatialReference,this.options.sourceSpatialReference)&&!H.spatialReference.vcsWkid){var P=
A.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),f=A.getMetersPerVerticalUnitForSR(H.spatialReference);P/=f;if(1!==P)for(const q of H.features)if(q.geometry&&q.geometry.coords)for(H=q.geometry.coords,f=2;f<H.length;f+=3)H[f]*=P}};r.addFeature=function(H,P){H.features.push(P)};r.createFeature=function(){return new J};r.createSpatialReference=function(){return{wkid:0}};r.createGeometry=function(){return new N};r.addField=function(H,P){H.fields.push(P)};r.addCoordinate=function(H,
P){H.coords.push(P)};r.addCoordinatePoint=function(H,P){H.coords.push(P)};r.addLength=function(H,P){H.lengths.push(P)};r.addQueryGeometry=function(H,P){H.queryGeometry=P.queryGeometry;H.queryGeometryType=P.queryGeometryType};r.createPointGeometry=function(){return new N};return v}();d.OPTIMIZED_GEOMETRY_TYPES=F;d.OptimizedFeatureSetParserContext=D;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/support/WKIDUnitConversion ../geometry/support/spatialReferenceUtils ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/projectionEllipsoid".split(" "),
function(d,E,A,J,L,N,F,D){function v(g){if(g=l[g])return g;throw Error("unknown measure");}function r(g){return c[g].baseUnit}function H(g,B=null){B=B||v(g);return c[B].baseUnit===g}function P(g,B,O){if(B===O)return g;const U=v(B);if(U!==v(O))throw Error("incompatible units");g=H(B,U)?g:g*c[U].units[B].inBaseUnits;return H(O,U)?g:g/c[U].units[O].inBaseUnits}function f(g,B){return 3E3>P(g,B,"meters")?"meters":"kilometers"}function q(g,B){return 1E5>P(g,B,"meters")?"meters":"kilometers"}function C(g,
B){return 1E3>P(g,B,"feet")?"feet":"miles"}function a(g,B){return 1E5>P(g,B,"feet")?"feet":"miles"}function h(g){return n.fromJSON(g.toLowerCase())||null}function u(g,B=F.earth.metersPerDegree){return w(g,!0)||B}function w(g,B=!1){let O,U,Y=null;null!=g&&("object"===typeof g?(O=g.wkid,U=g.wkt):"number"===typeof g?O=g:"string"===typeof g&&(U=g));if(O){if(L.isWKIDFromMars(O))return F.mars.metersPerDegree;if(L.isWKIDFromMoon(O))return F.moon.metersPerDegree;Y=M.values[M[O]];!Y&&B&&V.has(O)&&(Y=k)}else U&&
(-1!==U.search(/^PROJCS/i)?(g=t.exec(U))&&g[1]&&(Y=parseFloat(g[1].split(",")[1])):-1!==U.search(/^GEOCCS/i)&&(g=S.exec(U))&&g[1]&&(Y=parseFloat(g[1].split(",")[1])));return Y}function y(g){let B,O,U=null;null!=g&&("object"===typeof g?(B=g.wkid,O=g.wkt):"number"===typeof g?B=g:"string"===typeof g&&(O=g));B?U=M.units[M[B]]:O&&-1!==O.search(/^PROJCS/i)&&(g=t.exec(O))&&g[1]&&(U=(g=/[\\"\\']{1}([^\\"\\']+)/.exec(g[1]))&&g[1]);return U?h(U):null}const k=F.earth.radius*Math.PI/200,t=/UNIT\[([^\]]+)\]\]$/i,
M=J,S=/UNIT\[([^\]]+)\]/i,V=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),n=A.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",
"50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});E={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};A={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*
.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(g=>g*g)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const c={length:{baseUnit:"meters",units:E},area:{baseUnit:"square-meters",units:A},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},
"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},l=function(){const g={};for(const B in c)for(const O in c[B].units)g[O]=
B;return g}();d.baseUnitForMeasure=r;d.baseUnitForUnit=function(g){return r(v(g))};d.convertUnit=P;d.getDefaultUnitSystem=function(g){if(!g)return null;switch(y(g)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};
d.getMetersPerUnit=w;d.getMetersPerUnitForSR=u;d.getMetersPerVerticalUnitForSR=function(g){if(g&&"object"===typeof g&&!L.isEarth(g))return 1;g=u(g);return 1E5<g?1:g};d.getUnitString=y;d.getVerticalUnitStringForSR=function(g){const B=u(g),O=g instanceof N?D.getReferenceEllipsoid(g).metersPerDegree:1E5;return B>=O?"meters":y(g)};d.inchesPerMeter=39.37;d.isBaseUnit=H;d.isMeasurementSystem=function(g){return"imperial"===g||"metric"===g};d.lengthToDegrees=function(g,B,O){return P(g,B,"meters")/(O*Math.PI/
180)};d.measureForUnit=v;d.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");d.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");d.preferredImperialAreaUnit=function(g,B){return 1E6>P(g,B,"square-feet")?"square-feet":"square-miles"};d.preferredImperialLengthUnit=C;d.preferredImperialVerticalLengthUnit=a;d.preferredLengthUnit=
function(g,B,O){switch(O){case "metric":return f(g,B);case "imperial":return C(g,B);default:return O}};d.preferredMetricAreaUnit=function(g,B){return 3E6>P(g,B,"square-meters")?"square-meters":"square-kilometers"};d.preferredMetricLengthUnit=f;d.preferredMetricVerticalLengthUnit=q;d.preferredVerticalLengthUnit=function(g,B,O){switch(O){case "metric":return q(g,B);case "imperial":return a(g,B);default:return O}};d.unitFromRESTJSON=h;d.unitToRESTJSON=function(g){return n.toJSON(g)||null};Object.defineProperty(d,
"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./support/spatialReferenceUtils","./SpatialReference","./support/Ellipsoid"],function(d,E,A,J){function L(r){return new A({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${r.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const N=L(J.earth),F=L(J.mars),D=L(J.moon),v=new A({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${J.earth.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});d.SphericalECEFSpatialReference=N;d.SphericalPCPFMars=F;d.SphericalPCPFMoon=D;d.WGS84ECEFSpatialReference=v;d.createSphericalPCPF=L;d.getReferenceEllipsoid=function(r){return r&&(E.isMars(r)||r===F)?J.mars:r&&(E.isMoon(r)||r===D)?J.moon:J.earth};d.getReferenceEllipsoidFromWKID=function(r){return E.isWKIDFromMars(r)?J.mars:E.isWKIDFromMoon(r)?J.moon:J.earth};d.getSphericalPCPF=function(r){return r&&(E.isMars(r)||r===F)?F:r&&(E.isMoon(r)||r===D)?D:N};d.getSphericalPCPFForEllipsoid=function(r){return r&&
r===J.mars?F:r&&r===J.moon?D:N};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(d){return function(){function E(A=null,J={},L,N){this.displayId=0;this.geohashIndexed=!1;this.geohashY=this.geohashX=0;this.geometry=A;J&&(this.attributes=J);L&&(this.centroid=L);null!=N&&(this.objectId=N)}E.prototype.weakClone=function(){const A=new E(this.geometry,this.attributes,this.centroid,this.objectId);
A.displayId=this.displayId;A.geohashIndexed=this.geohashIndexed;A.geohashX=this.geohashX;A.geohashY=this.geohashY;return A};d._createClass(E,[{key:"hasGeometry",get:function(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}}]);return E}()})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function d(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=
null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}d.prototype.weakClone=function(){const E=new d;E.objectIdFieldName=this.objectIdFieldName;E.globalIdFieldName=this.globalIdFieldName;E.geohashFieldName=this.geohashFieldName;E.geometryProperties=this.geometryProperties;E.geometryType=this.geometryType;E.spatialReference=this.spatialReference;E.hasZ=this.hasZ;E.hasM=this.hasM;
E.features=this.features;E.fields=this.fields;E.transform=this.transform;E.exceededTransferLimit=this.exceededTransferLimit;E.uniqueIdField=this.uniqueIdField;E.queryGeometry=this.queryGeometry;E.queryGeometryType=this.queryGeometryType;return E};return d}()})},"esri/tasks/operations/pbfDehydratedFeatureSet":function(){define("exports ../../core/compilerUtils ../../geometry/SpatialReference ../../core/uid ../../layers/support/Field ../../layers/graphics/featureConversionUtils ./zscale ../../layers/graphics/dehydratedFeatures".split(" "),
function(d,E,A,J,L,N,F,D){function v(h,u){return u}function r(h,u,w,y){switch(w){case 0:return q(h,u+y,0);case 1:return"lowerLeft"===h.originPosition?q(h,u+y,1):C(h,u+y,1)}}function H(h,u,w,y){switch(w){case 2:return q(h,u,2);default:return r(h,u,w,y)}}function P(h,u,w,y){switch(w){case 2:return q(h,u,3);default:return r(h,u,w,y)}}function f(h,u,w,y){switch(w){case 3:return q(h,u,3);default:return H(h,u,w,y)}}function q({translate:h,scale:u},w,y){return h[y]+w*u[y]}function C({translate:h,scale:u},
w,y){return h[y]-w*u[y]}let a=function(){function h(w){this.options=w;this.geometryTypes=["point","multipoint","polyline","polygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=v;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}var u=h.prototype;u.createFeatureResult=function(){return new D.DehydratedFeatureSetClass};u.finishFeatureResult=function(w){this.options.applyTransform&&
(w.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0;if(w.hasZ){var y=F.getGeometryZScaler(w.geometryType,this.options.sourceSpatialReference,w.spatialReference);if(y)for(const k of w.features)y(k.geometry)}};u.createSpatialReference=function(){return new A};u.addField=function(w,y){w.fields.push(L.fromJSON(y));const k=w.fields.map(t=>t.name);this.AttributesConstructor=function(){for(const t of k)this[t]=null}};u.addFeature=function(w,y){const k=
this.options.maxStringAttributeLength?this.options.maxStringAttributeLength:0;if(0<k)for(const t in y.attributes){const M=y.attributes[t];"string"===typeof M&&M.length>k&&(y.attributes[t]="")}w.features.push(y)};u.addQueryGeometry=function(w,y){const {queryGeometry:k,queryGeometryType:t}=y;y=N.unquantizeOptimizedGeometry(k.clone(),k,!1,!1,this.transform);y=N.convertToGeometry(y,t,!1,!1);let M=null;switch(t){case "esriGeometryPoint":M="point";break;case "esriGeometryPolygon":M="polygon";break;case "esriGeometryPolyline":M=
"polyline";break;case "esriGeometryMultipoint":M="multipoint"}y.type=M;w.queryGeometryType=t;w.queryGeometry=y};u.prepareFeatures=function(w){this.transform=w.transform;this.options.applyTransform&&w.transform&&(this.applyTransform=this.deriveApplyTransform(w));this.vertexDimension=2;w.hasZ&&this.vertexDimension++;w.hasM&&this.vertexDimension++;switch(w.geometryType){case "point":this.addCoordinate=(y,k,t)=>this.addCoordinatePoint(y,k,t);this.createGeometry=y=>this.createPointGeometry(y);break;case "polygon":this.addCoordinate=
(y,k,t)=>this.addCoordinatePolygon(y,k,t);this.createGeometry=y=>this.createPolygonGeometry(y);break;case "polyline":this.addCoordinate=(y,k,t)=>this.addCoordinatePolyline(y,k,t);this.createGeometry=y=>this.createPolylineGeometry(y);break;case "multipoint":this.addCoordinate=(y,k,t)=>this.addCoordinateMultipoint(y,k,t);this.createGeometry=y=>this.createMultipointGeometry(y);break;default:E.neverReached(w.geometryType)}};u.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=
0;this.previousCoordinate[1]=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return new D.DehydratedFeatureClass(J.generateUID(),null,new this.AttributesConstructor)};u.addLength=function(w,y,k){0===this.lengths.length&&(this.toAddInCurrentPath=y);this.lengths.push(y)};u.createPointGeometry=function(w){w={type:"point",x:0,y:0,spatialReference:w.spatialReference,hasZ:!!w.hasZ,hasM:!!w.hasM};w.hasZ&&(w.z=0);w.hasM&&(w.m=0);return w};u.addCoordinatePoint=function(w,y,k){y=this.applyTransform(this.transform,
y,k,0);switch(k){case 0:w.x=y;break;case 1:w.y=y;break;case 2:w.hasZ?w.z=y:w.m=y;break;case 3:w.m=y}};u.transformPathLikeValue=function(w,y){let k=0;1>=y&&(k=this.previousCoordinate[y],this.previousCoordinate[y]+=w);return this.applyTransform(this.transform,w,y,k)};u.addCoordinatePolyline=function(w,y,k){this.dehydratedAddPointsCoordinate(w.paths,y,k)};u.addCoordinatePolygon=function(w,y,k){this.dehydratedAddPointsCoordinate(w.rings,y,k)};u.addCoordinateMultipoint=function(w,y,k){0===k&&w.points.push([]);
y=this.transformPathLikeValue(y,k);w.points[w.points.length-1].push(y)};u.createPolygonGeometry=function(w){return{type:"polygon",rings:[[]],spatialReference:w.spatialReference,hasZ:!!w.hasZ,hasM:!!w.hasM}};u.createPolylineGeometry=function(w){return{type:"polyline",paths:[[]],spatialReference:w.spatialReference,hasZ:!!w.hasZ,hasM:!!w.hasM}};u.createMultipointGeometry=function(w){return{type:"multipoint",points:[],spatialReference:w.spatialReference,hasZ:!!w.hasZ,hasM:!!w.hasM}};u.dehydratedAddPointsCoordinate=
function(w,y,k){if(null===this.coordinateBuffer){const t=this.lengths.reduce((M,S)=>M+S,0);this.coordinateBuffer=new Float64Array(t*this.vertexDimension)}0===k&&0===this.toAddInCurrentPath--&&(w.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);y=this.transformPathLikeValue(y,k);w=w[w.length-1];0===k&&w.push(new Float64Array(this.coordinateBuffer.buffer,this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));
this.coordinateBuffer[this.coordinateBufferPtr++]=y};u.deriveApplyTransform=function(w){const {hasZ:y,hasM:k}=w;return y&&k?f:y?H:k?P:r};return h}();d.DehydratedFeatureSetParserContext=a;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(d,E){d.neverReached=function(A){};d.neverReachedSilent=function(A){};d.tuple=(...A)=>A;d.typeCast=function(A){return()=>A};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/core/uid":function(){define(["exports"],
function(d){let E=0;d.generateUID=function(){return E++};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./domains ./fieldType".split(" "),
function(d,E,A,J,L,N,F,D,v,r,H,P,f,q,C,a){var h;const u=new F.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});A=h=function(w){function y(t){t=w.call(this,
t)||this;t.alias=null;t.defaultValue=void 0;t.description=null;t.domain=null;t.editable=!0;t.length=-1;t.name=null;t.nullable=!0;t.type=null;t.valueType=null;return t}d._inheritsLoose(y,w);var k=y.prototype;k.readDescription=function(t,{description:M}){let S;try{S=JSON.parse(M)}catch(V){}return S?S.value:null};k.readValueType=function(t,{description:M}){let S;try{S=JSON.parse(M)}catch(V){}return S?u.fromJSON(S.fieldValueType):null};k.clone=function(){return new h({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return y}(q.JSONSupport);E.__decorate([N.property({type:String,json:{write:!0}})],A.prototype,"alias",void 0);E.__decorate([N.property({type:[String,Number],json:{write:{allowNull:!0}}})],A.prototype,"defaultValue",void 0);E.__decorate([N.property()],A.prototype,"description",void 0);E.__decorate([v.reader("description")],
A.prototype,"readDescription",null);E.__decorate([N.property({types:C.types,json:{read:{reader:C.fromJSON},write:!0}})],A.prototype,"domain",void 0);E.__decorate([N.property({type:Boolean,json:{write:!0}})],A.prototype,"editable",void 0);E.__decorate([N.property({type:L.Integer,json:{write:!0}})],A.prototype,"length",void 0);E.__decorate([N.property({type:String,json:{write:!0}})],A.prototype,"name",void 0);E.__decorate([N.property({type:Boolean,json:{write:!0}})],A.prototype,"nullable",void 0);E.__decorate([D.enumeration(a.kebabDict)],
A.prototype,"type",void 0);E.__decorate([N.property()],A.prototype,"valueType",void 0);E.__decorate([v.reader("valueType",["description"])],A.prototype,"readValueType",null);return A=h=E.__decorate([r.subclass("esri.layers.support.Field")],A)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","./property","../../jsonMap"],function(d,E,A){d.enumeration=function(J,L={ignoreUnknown:!0}){J=J instanceof A.JSONMap?J:new A.JSONMap(J,L);J={type:null!=L&&L.ignoreUnknown?J.apiValues:
String,readOnly:null==L?void 0:L.readOnly,json:{type:J.jsonValues,read:null!=L&&L.readOnly?!1:{reader:J.read},write:{writer:J.write}}};void 0!==(null==L?void 0:L.default)&&(J.json.default=L.default);return E.property(J)};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./Domain ./CodedValueDomain ./InheritedDomain ./RangeDomain".split(" "),function(d,E,A,J,L,N){function F(D,v){switch(D.type){case "range":{const r="range"in
D?D.range[1]:D.maxValue;if(+v<("range"in D?D.range[0]:D.minValue)||+v>r)return d.DomainValidationError.VALUE_OUT_OF_RANGE;break}case "coded-value":case "codedValue":if(null==D.codedValues||D.codedValues.every(r=>null==r||r.code!==v))return d.DomainValidationError.INVALID_CODED_VALUE}return null}(function(D){D.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";D.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(d.DomainValidationError||(d.DomainValidationError={}));
E={key:"type",base:A,typeMap:{range:N,"coded-value":J,inherited:L}};d.DomainBase=A;d.CodedValueDomain=J;d.InheritedDomain=L;d.RangeDomain=N;d.fromJSON=function(D){if(!D||!D.type)return null;switch(D.type){case "range":return N.fromJSON(D);case "codedValue":return J.fromJSON(D);case "inherited":return L.fromJSON(D)}return null};d.getDomainRange=function(D){if(D&&"range"===D.type)return{min:"range"in D?D.range[0]:D.minValue,max:"range"in D?D.range[1]:D.maxValue}};d.isValidDomainValue=function(D,v){return null===
F(D,v)};d.types=E;d.validateDomainValue=F;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(d,E,A,J,L,N,F,D,v,r,H,P,f){A=new F.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});f=function(q){function C(a){a=q.call(this,a)||this;a.name=null;a.type=null;return a}d._inheritsLoose(C,q);return C}(f.JSONSupport);E.__decorate([N.property({type:String,json:{write:!0}})],f.prototype,"name",void 0);E.__decorate([D.enumeration(A)],f.prototype,"type",void 0);return f=E.__decorate([v.subclass("esri.layers.support.Domain")],f)})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./CodedValue ./Domain".split(" "),
function(d,E,A,J,L,N,F,D,v,r,H,P,f,q){var C;A=C=function(a){function h(w){w=a.call(this,w)||this;w.codedValues=null;w.type="coded-value";return w}d._inheritsLoose(h,a);var u=h.prototype;u.getName=function(w){let y=null;if(this.codedValues){const k=String(w);this.codedValues.some(t=>{String(t.code)===k&&(y=t.name);return!!y})}return y};u.clone=function(){return new C({codedValues:J.clone(this.codedValues),name:this.name})};return h}(q);E.__decorate([F.property({type:[f["default"]],json:{write:!0}})],
A.prototype,"codedValues",void 0);E.__decorate([D.enumeration({codedValue:"coded-value"})],A.prototype,"type",void 0);return A=C=E.__decorate([v.subclass("esri.layers.support.CodedValueDomain")],A)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(d,E,A,J,L,N,F,D,v,r,H,P,f){var q;d.CodedValue=q=function(C){function a(h){h=C.call(this,h)||this;h.name=null;h.code=null;return h}E._inheritsLoose(a,C);a.prototype.clone=function(){return new q({name:this.name,code:this.code})};return a}(f.JSONSupport);A.__decorate([F.property({type:String,json:{write:!0}})],d.CodedValue.prototype,"name",void 0);A.__decorate([F.property({type:[String,Number],json:{write:!0}})],d.CodedValue.prototype,"code",void 0);d.CodedValue=q=A.__decorate([v.subclass("esri.layers.support.CodedValue")],
d.CodedValue);d.default=d.CodedValue;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Domain".split(" "),
function(d,E,A,J,L,N,F,D,v,r,H,P){var f;A=f=function(q){function C(a){a=q.call(this,a)||this;a.type="inherited";return a}d._inheritsLoose(C,q);C.prototype.clone=function(){return new f};return C}(P);E.__decorate([F.enumeration({inherited:"inherited"})],A.prototype,"type",void 0);return A=f=E.__decorate([D.subclass("esri.layers.support.InheritedDomain")],A)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Domain".split(" "),
function(d,E,A,J,L,N,F,D,v,r,H,P){var f;A=f=function(q){function C(a){a=q.call(this,a)||this;a.maxValue=null;a.minValue=null;a.type="range";return a}d._inheritsLoose(C,q);C.prototype.clone=function(){return new f({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return C}(P);E.__decorate([N.property({type:Number,json:{type:[Number],read:{source:"range",reader(q,C){return C.range&&C.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},
target:"range",writer(q,C,a){C[a]=[this.minValue||0,q]}}}})],A.prototype,"maxValue",void 0);E.__decorate([N.property({type:Number,json:{type:[Number],read:{source:"range",reader(q,C){return C.range&&C.range[0]}},write:{target:"range",writer(q,C,a){C[a]=[q,this.maxValue||0]}}}})],A.prototype,"minValue",void 0);E.__decorate([F.enumeration({range:"range"})],A.prototype,"type",void 0);return A=f=E.__decorate([D.subclass("esri.layers.support.RangeDomain")],A)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(d,E){E=new E.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});d.kebabDict=E;Object.defineProperty(d,"__esModule",
{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Logger ../../core/Error ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(d,E,A,J,L,N,F){function D(b,e){return b?e?4:3:e?3:2}function v(b,e,p,m){if(b){if(p)return e&&m?ra:la;if(e&&m)return ua}else if(e&&m)return la;return sa}function r({scale:b,translate:e},p){return Math.round((p-e[0])/b[0])}function H({scale:b,translate:e},p){return Math.round((e[1]-
p)/b[1])}function P({scale:b,translate:e},p){return p*b[0]+e[0]}function f({scale:b,translate:e},p){return e[1]-p*b[1]}function q(b){b=b.coords;return{x:b[0],y:b[1]}}function C(b,e){b.coords[0]=e.x;b.coords[1]=e.y;return b}function a(b){b=b.coords;return{x:b[0],y:b[1],z:b[2]}}function h(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.z;return b}function u(b){b=b.coords;return{x:b[0],y:b[1],m:b[2]}}function w(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.m;return b}function y(b){b=b.coords;
return{x:b[0],y:b[1],z:b[2],m:b[3]}}function k(b,e){b.coords[0]=e.x;b.coords[1]=e.y;b.coords[2]=e.z;b.coords[3]=e.m;return b}function t(b,e){return b&&e?k:b?h:e?w:C}function M(b,e,p,m,z){p=t(p,m);for(const x of e){const {geometry:I,attributes:G}=x;let K;I&&(K=p(new F,I));b.push(new L(K,G,null,G[z]))}return b}function S(b,e,p,m){for(const z of e){const {geometry:x,attributes:I}=z;let G;x&&(G=V(x,p,m));b.push({attributes:I,geometry:G})}return b}function V(b,e,p){if(!b)return null;const m=D(e,p),z=[];
for(let x=0;x<b.coords.length;x+=m){const I=[];for(let G=0;G<m;G++)I.push(b.coords[x+G]);z.push(I)}return e?p?{points:z,hasZ:e,hasM:p}:{points:z,hasZ:e}:p?{points:z,hasM:p}:{points:z}}function n(b,e,p,m,z){p=D(p,m);for(const x of e){e=x.geometry;m=x.attributes;let I;e&&(I=c(new F,e,p));b.push(new L(I,m,null,m[z]))}return b}function c(b,e,p=D(e.hasZ,e.hasM)){b.lengths[0]=e.points.length;const m=b.coords;let z=0;for(const x of e.points)for(e=0;e<p;e++)m[z++]=x[e];return b}function l(b,e,p){if(!b)return null;
const m=D(e,p),{coords:z,lengths:x}=b;b=[];let I=0;for(const G of x){const K=[];for(let Q=0;Q<G;Q++){const R=[];for(let T=0;T<m;T++)R.push(z[I++]);K.push(R)}b.push(K)}return e?p?{paths:b,hasZ:e,hasM:p}:{paths:b,hasZ:e}:p?{paths:b,hasM:p}:{paths:b}}function g(b,e,p,m,z){p=D(p,m);for(const x of e){e=x.geometry;m=x.attributes;let I;e&&(I=B(new F,e,p));b.push(new L(I,m,null,m[z]))}return b}function B(b,e,p=D(e.hasZ,e.hasM)){const {lengths:m,coords:z}=b;let x=0;for(const I of e.paths){for(const G of I)for(e=
0;e<p;e++)z[x++]=G[e];m.push(I.length)}return b}function O(b,e,p){if(!b)return null;const m=D(e,p),{coords:z,lengths:x}=b;b=[];let I=0;for(const G of x){const K=[];for(let Q=0;Q<G;Q++){const R=[];for(let T=0;T<m;T++)R.push(z[I++]);K.push(R)}b.push(K)}return e?p?{rings:b,hasZ:e,hasM:p}:{rings:b,hasZ:e}:p?{rings:b,hasM:p}:{rings:b}}function U(b,e,p,m,z){for(const x of e){e=x.geometry;const I=x.centroid,G=x.attributes;let K;e&&(K=Y(new F,e,p,m));I?b.push(new L(K,G,C(new F,I),G[z])):b.push(new L(K,G,
null,G[z]))}return b}function Y(b,e,p=e.hasZ,m=e.hasM){ca(b,e.rings,p,m);return b}function ca(b,e,p,m){p=D(p,m);const {lengths:z,coords:x}=b;m=0;z.length=x.length=0;for(const I of e){for(const G of I)for(e=0;e<p;e++)x[m++]=G[e];z.push(I.length)}return b}function ea(b,e,p,m,z,x){b.length=0;if(!p){for(const I of e)b.push(new L(null,I.attributes,null,I.attributes[x]));return b}switch(p){case "esriGeometryPoint":return M(b,e,m,z,x);case "esriGeometryMultipoint":return n(b,e,m,z,x);case "esriGeometryPolyline":return g(b,
e,m,z,x);case "esriGeometryPolygon":return U(b,e,m,z,x);default:ha.error("convertToFeatureSet:unknown-geometry",new A(`Unable to parse unknown geometry type '${p}'`)),b.length=0}return b}function ia(b,e,p,m){b=b&&("coords"in b?b:b.geometry);if(!b)return null;switch(e){case "esriGeometryPoint":return e=q,p&&m?e=y:p?e=a:m&&(e=u),e(b);case "esriGeometryMultipoint":return V(b,p,m);case "esriGeometryPolyline":return l(b,p,m);case "esriGeometryPolygon":return O(b,p,m);default:ha.error("convertToGeometry:unknown-geometry",
new A(`Unable to parse unknown geometry type '${e}'`))}}function ma(b,e,p,m,z){b.length=0;switch(p){case "esriGeometryPoint":var x=q;m&&z?x=y:m?x=a:z&&(x=u);for(var I of e){const {geometry:G,attributes:K}=I;m=G?x(G):null;b.push({attributes:K,geometry:m})}break;case "esriGeometryMultipoint":return S(b,e,m,z);case "esriGeometryPolyline":for(const G of e){const {geometry:K,attributes:Q}=G;let R;K&&(R=l(K,m,z));b.push({attributes:Q,geometry:R})}break;case "esriGeometryPolygon":for(x of e){const {geometry:G,
attributes:K,centroid:Q}=x;let R;G&&(R=O(G,m,z));Q?(I=q(Q),b.push({attributes:K,centroid:I,geometry:R})):b.push({attributes:K,geometry:R})}break;default:ha.error("convertToFeatureSet:unknown-geometry",new A(`Unable to parse unknown geometry type '${p}'`))}return b}function na(b,e,p,m,z,x,I=p,G=m){b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=0);if(!e||!e.coords.length)return null;z=oa[z];const {coords:K,lengths:Q}=e;e=D(p,m);const R=D(p&&I,m&&G);p=v(p,m,I,G);if(!Q.length)return p(b.coords,
K,0,0,r(x,K[0]),H(x,K[1])),b.lengths.length&&(b.lengths.length=0),b.coords.length=e,b;let T,X=0,W,Z=0;for(const da of Q){if(da<z)continue;let ba=0;W=Z;G=m=r(x,K[X]);T=I=H(x,K[X+1]);p(b.coords,K,W,X,G,T);ba++;X+=e;W+=R;for(let aa=1;aa<da;aa++,X+=e)if(G=r(x,K[X]),T=H(x,K[X+1]),G!==m||T!==I)p(b.coords,K,W,X,G-m,T-I),W+=R,ba++,m=G,I=T;ba>=z&&(b.lengths.push(ba),Z=W)}b.coords.length=Z;return b.coords.length?b:null}function pa(b,e,p,m,z,x,I){let G=m,K=0;for(let R=x+p;R<I;R+=p){{var Q=e[R];const T=e[R+1],
X=e[I],W=e[I+1];let Z=e[x],da=e[x+1],ba=X-Z,aa=W-da;if(0!==ba||0!==aa){const fa=((Q-Z)*ba+(T-da)*aa)/(ba*ba+aa*aa);1<fa?(Z=X,da=W):0<fa&&(Z+=ba*fa,da+=aa*fa)}ba=Q-Z;aa=T-da;Q=ba*ba+aa*aa}Q>G&&(K=R,G=Q)}G>m&&(K-x>p&&pa(b,e,p,m,z,x,K),z(b,e,b.length,K,e[K],e[K+1]),I-K>p&&pa(b,e,p,m,z,K,I))}function qa(b,e,p,m,z){const {coords:x,lengths:I}=e,G=p?m?ra:la:m?la:sa;p=D(p,m);if(!x.length)return b!==e&&(b.lengths.length=0,b.coords.length=0),b;if(!I.length)return G(b.coords,x,0,0,P(z,x[0]),f(z,x[1])),b!==e&&
(b.lengths.length=0,b.coords.length=p),b;const [K,Q]=z.scale;m=0;for(let R=0;R<I.length;R++){const T=I[R];b.lengths[R]=T;let X=P(z,x[m]),W=f(z,x[m+1]);G(b.coords,x,m,m,X,W);m+=p;for(let Z=1;Z<T;Z++,m+=p)X+=x[m]*K,W-=x[m+1]*Q,G(b.coords,x,m,m,X,W)}b!==e&&(b.lengths.length=I.length,b.coords.length=x.length);return b}function ta(b,e,p,m){let z=0,x=b[m*e],I=b[m*(e+1)];for(let G=1;G<p;G++){const K=x+b[m*(e+G)],Q=I+b[m*(e+G)+1],R=(K-x)*(Q+I);x=K;I=Q;z+=R}return.5*z}const ha=E.getLogger("esri.tasks.support.optimizedFeatureSet"),
oa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},sa=(b,e,p,m,z,x)=>{b[p]=z;b[p+1]=x},la=(b,e,p,m,z,x)=>{b[p]=z;b[p+1]=x;b[p+2]=e[m+2]},ua=(b,e,p,m,z,x)=>{b[p]=z;b[p+1]=x;b[p+2]=e[m+3]},ra=(b,e,p,m,z,x)=>{b[p]=z;b[p+1]=x;b[p+2]=e[m+2];b[p+3]=e[m+3]},ja=[],ka=[];d.convertFromFeature=function(b,e,p,m,z){ja[0]=b;[b]=ea(ka,ja,e,p,m,z);ja.length=ka.length=0;return b};d.convertFromFeatureSet=function(b,e){const p=new N,{hasM:m,hasZ:z,features:x,objectIdFieldName:I,
spatialReference:G,geometryType:K,exceededTransferLimit:Q,transform:R,fields:T}=b;T&&(p.fields=T);p.geometryType=K;p.objectIdFieldName=I||e;p.spatialReference=G;if(!p.objectIdFieldName)return ha.error(new A("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),p;x&&ea(p.features,x,K,z,m,p.objectIdFieldName);Q&&(p.exceededTransferLimit=Q);m&&(p.hasM=m);z&&(p.hasZ=z);R&&(p.transform=R);return p};d.convertFromFeatures=ea;d.convertFromGeometry=function(b,e,p){if(!b)return null;
const m=new F;"hasZ"in b&&null==e&&(e=b.hasZ);"hasM"in b&&null==p&&(p=b.hasM);if(J.isPoint(b))return t(null!=e?e:null!=b.z,null!=p?p:null!=b.m)(m,b);if(J.isPolygon(b))return Y(m,b,e,p);if(J.isPolyline(b))return B(m,b,D(e,p));if(J.isMultipoint(b))return c(m,b,D(e,p));ha.error("convertFromGeometry:unknown-geometry",new A(`Unable to parse unknown geometry type '${b}'`))};d.convertFromGraphics=function(b,e,p,m,z,x){const I=b.length;switch(p){case "esriGeometryPoint":M(b,e,m,z,x);break;case "esriGeometryMultipoint":n(b,
e,m,z,x);break;case "esriGeometryPolyline":g(b,e,m,z,x);break;case "esriGeometryPolygon":U(b,e,m,z,x);break;default:ha.error("convertToFeatureSet:unknown-geometry",new A(`Unable to parse unknown geometry type '${p}'`))}for(m=0;m<e.length;m++)b[m+I].geometryType=p,b[m+I].insertAfter=e[m].insertAfter,b[m+I].groupId=e[m].groupId;return b};d.convertFromMultipoint=c;d.convertFromMultipointFeatures=n;d.convertFromNestedArray=ca;d.convertFromPoint=function(b,e,p=t(null!=e.z,null!=e.m)){return p(b,e)};d.convertFromPointFeatures=
M;d.convertFromPolygon=Y;d.convertFromPolyline=B;d.convertFromPolylineFeatures=g;d.convertToFeature=function(b,e,p,m){ka[0]=b;ma(ja,ka,e,p,m);b=ja[0];ja.length=ka.length=0;return b};d.convertToFeatureSet=function(b){const {objectIdFieldName:e,spatialReference:p,transform:m,fields:z,hasM:x,hasZ:I,features:G,geometryType:K,exceededTransferLimit:Q,uniqueIdField:R,queryGeometry:T,queryGeometryType:X}=b;b=ma([],G,K,I,x);const W=ia(T,X,!1,!1);b={features:b,fields:z,geometryType:K,objectIdFieldName:e,spatialReference:p,
uniqueIdField:R,queryGeometry:W};m&&(b.transform=m);Q&&(b.exceededTransferLimit=Q);x&&(b.hasM=x);I&&(b.hasZ=I);return b};d.convertToFeatures=ma;d.convertToGeometry=ia;d.convertToMultipoint=V;d.convertToMultipointFeatures=S;d.convertToPoint=function(b,e,p){return b?e?p?y(b):a(b):p?u(b):q(b):null};d.convertToPolygon=O;d.convertToPolyline=l;d.deltaDecodeGeometry=function(b,e){const p=b.clone(),m=b.coords;b=b.lengths;let z=0;for(let G=0;G<b.length;G++){const K=b[G];var x=m[e*z],I=m[e*z+1];for(let Q=1;Q<
K;Q++)x+=m[e*(z+Q)],I+=m[e*(z+Q)+1],p.coords[e*(z+Q)]=x,p.coords[e*(z+Q)+1]=I;z+=K}return p};d.deltaEncodeGeometry=function(b,e){const p=b.clone(),m=b.coords;b=b.lengths;let z=0;for(let I=0;I<b.length;I++){const G=b[I];let K=m[e*z];var x=m[e*z+1];for(let Q=1;Q<G;Q++){const R=m[e*(z+Q)],T=m[e*(z+Q)+1];x=T-x;p.coords[e*(z+Q)]=R-K;p.coords[e*(z+Q)+1]=x;K=R;x=T}z+=G}return p};d.generalizeOptimizedGeometry=function(b,e,p,m,z,x,I=p,G=m){b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=
0);if(!e||!e.coords.length)return null;z=oa[z];const {coords:K,lengths:Q}=e;e=D(p,m);const R=D(p&&I,m&&G);p=v(p,m,I,G);if(!Q.length)return p(b.coords,K,0,0,K[0],K[1]),b.lengths.length&&(b.lengths.length=0),b.coords.length=e,b;m=0;x*=x;for(const T of Q){if(T<z){m+=T*e;continue}I=b.coords.length/R;G=m;const X=m+(T-1)*e;p(b.coords,K,b.coords.length,G,K[G],K[G+1]);pa(b.coords,K,e,x,p,G,X);p(b.coords,K,b.coords.length,X,K[X],K[X+1]);G=b.coords.length/R-I;G>=z?b.lengths.push(G):b.coords.length=I*R;m+=T*
e}return b.coords.length?b:null};d.getBoundsOptimizedGeometry=function(b,e,p,m){if(!e||!e.coords||!e.coords.length)return null;p=D(p,m);let z=m=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,I=Number.NEGATIVE_INFINITY;if(e&&e.coords){e=e.coords;for(let G=0;G<e.length;G+=p){const K=e[G],Q=e[G+1];m=Math.min(m,K);x=Math.max(x,K);z=Math.min(z,Q);I=Math.max(I,Q)}}b[0]=m;b[1]=z;b[2]=x;b[3]=I;return b};d.getQuantizedArea=function(b,e){const {coords:p,lengths:m}=b;let z=b=0;for(let x=0;x<m.length;x++)z+=
ta(p,b,m[x],e),b+=x;return Math.abs(z)};d.getQuantizedBoundsOptimizedGeometry=function(b,e,p,m){p=D(p,m);const {lengths:z,coords:x}=e;m=e=Number.POSITIVE_INFINITY;let I=Number.NEGATIVE_INFINITY,G=Number.NEGATIVE_INFINITY,K=0;for(const Q of z){let R=x[K],T=x[K+1];e=Math.min(R,e);m=Math.min(T,m);I=Math.max(R,I);G=Math.max(T,G);K+=p;for(let X=1;X<Q;X++,K+=p){const W=x[K],Z=x[K+1];R+=W;T+=Z;0>W&&(e=Math.min(e,R));0<W&&(I=Math.max(I,R));0>Z?m=Math.min(m,T):0<Z&&(G=Math.max(G,T))}}b[0]=e;b[1]=m;b[2]=I;
b[3]=G;return b};d.getSignedQuantizedRingArea=ta;d.quantizeOptimizedFeatureSet=function(b,e){const {geometryType:p,features:m,hasM:z,hasZ:x}=e;if(!b)return e;for(let I=0;I<m.length;I++){const G=m[I],K=G.weakClone();K.geometry=new F;na(K.geometry,G.geometry,z,x,p,b);G.centroid&&(K.centroid=new F,na(K.centroid,G.centroid,z,x,"esriGeometryPoint",b));m[I]=K}e.transform=b;return e};d.quantizeOptimizedGeometry=na;d.quantizeX=r;d.quantizeY=H;d.removeCollinearVectices=function(b,e,p,m,z){if(!e||!e.coords||
!e.coords.length)return null;p=oa[p];const {coords:x,lengths:I}=e;e=v(m,z,m,z);m=D(m,z);let G=z=0,K=0,Q=0;for(const X of I){G=Q;e(b.coords,x,G,z,x[z],x[z+1]);z+=m;var R=x[z];let W=x[z+1],Z=R,da=W;var T=W/R;G+=m;e(b.coords,x,G,z,Z,da);z+=m;for(let ba=2;ba<X;ba++){R=x[z];W=x[z+1];const aa=W/R,fa=T===aa||!isFinite(T)&&!isFinite(aa);T=fa&&isFinite(aa)?0<=T&&0<=aa||0>=T&&0>=aa:0<=da&&0<=W||0>=da&&0>=W;fa&&T?(Z+=R,da+=W):(Z=R,da=W,G+=m);e(b.coords,x,G,z,Z,da);z+=m;T=aa}G+=m;R=(G-Q)/m;R>=p&&(b.lengths[K]=
R,Q=G,K++)}b.coords.length>Q&&(b.coords.length=Q);b.lengths.length>K&&(b.lengths.length=K);return b.coords.length&&b.lengths.length?b:null};d.removeZMValues=function(b,e,p,m,z,x){const I=D(p,m);p=v(p,m,z,x);m=e.coords;b.coords.length=0;b.lengths.length=0;b.lengths.push(...e.lengths);for(e=0;e<m.length;e+=I)p(b.coords,m,b.coords.length,e,m[e],m[e+1]);return b};d.unquantizeOptimizedFeatureSet=function(b){const {transform:e,features:p,hasM:m,hasZ:z}=b;if(!e)return b;for(const x of p)x.geometry&&qa(x.geometry,
x.geometry,m,z,e),x.centroid&&qa(x.centroid,x.centroid,m,z,e);b.transform=null;return b};d.unquantizeOptimizedGeometry=qa;d.unquantizeX=P;d.unquantizeY=f;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/tasks/operations/zscale":function(){define(["exports","../../core/maybe","../../geometry/support/spatialReferenceUtils","../../core/unitUtils"],function(d,E,A,J){function L(F,D,v){if(null==F.hasM||F.hasZ)for(const r of D)for(const H of r)2<H.length&&(H[2]*=v)}function N(F,D,v){if(F)for(const H of F){F=
H.geometry;var r=v;if(F&&F.spatialReference&&!A.equals(F.spatialReference,D)&&(r=J.getMetersPerVerticalUnitForSR(F.spatialReference)/r,1!==r))if("x"in F)null!=F.z&&(F.z*=r);else if("rings"in F)L(F,F.rings,r);else if("paths"in F)L(F,F.paths,r);else if("points"in F&&(null==F.hasM||F.hasZ))for(const P of F.points)2<P.length&&(P[2]*=r)}}d.getGeometryZScaler=function(F,D,v){if(E.isNone(D)||E.isNone(v)||v.vcsWkid||A.equals(D,v))return null;D=J.getMetersPerVerticalUnitForSR(D);v=J.getMetersPerVerticalUnitForSR(v);
const r=D/v;if(1===r)return null;switch(F){case "point":case "esriGeometryPoint":return H=>{H&&null!=H.z&&(H.z*=r)};case "polyline":case "esriGeometryPolyline":return H=>{if(H)for(const P of H.paths)for(const f of P)2<f.length&&(f[2]*=r)};case "polygon":case "esriGeometryPolygon":return H=>{if(H)for(const P of H.rings)for(const f of P)2<f.length&&(f[2]*=r)};case "multipoint":case "esriGeometryMultipoint":return H=>{if(H)for(const P of H.points)2<P.length&&(P[2]*=r)};default:return null}};d.unapplyEditsZUnitScaling=
function(F,D,v){if((F||D)&&v){var r=J.getMetersPerVerticalUnitForSR(v);N(F,v,r);N(D,v,r)}};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../core/has ../../core/typedArrayUtil ../../core/maybe ../../geometry/SpatialReference ../../geometry/support/typeUtils ../../core/uid ../../geometry/support/aaBoundingRect ../support/Field ../../core/byteSizeEstimations ../../geometry/support/aaBoundingBox ../../geometry/support/quantizationUtils ./dehydratedFeatureComparison".split(" "),
function(d,E,A,J,L,N,F,D,v,r,H,P,f){function q(k,t,M){if(!k)return null;switch(t){case "point":return{x:k.x,y:k.y,z:k.z,m:k.m,hasZ:null!=k.z,hasM:null!=k.m,type:"point",spatialReference:M};case "polyline":return{paths:k.paths,hasZ:!!k.hasZ,hasM:!!k.hasM,type:"polyline",spatialReference:M};case "polygon":return{rings:k.rings,hasZ:!!k.hasZ,hasM:!!k.hasM,type:"polygon",spatialReference:M};case "multipoint":return{points:k.points,hasZ:!!k.hasZ,hasM:!!k.hasM,type:"multipoint",spatialReference:M}}}function C(k){if(!k)return 0;
let t=32;for(const M in k)if(k.hasOwnProperty(M)){const S=k[M];switch(typeof S){case "string":t+=r.estimateStringByteSize(S);break;default:case "number":t+=r.estimateNumberByteSize()}}return t}function a(k){if(J.isNone(k))return 0;let t=32;switch(k.type){case "point":t+=42;break;case "polyline":case "polygon":{var M=0;const S=2+(k.hasZ?1:0)+(k.hasM?1:0);k="polyline"===k.type?k.paths:k.rings;for(const V of k)M+=V.length;t+=8*M*S+64;t+=128*M;t=t+34+32*(k.length+1);break}case "multipoint":M=k.points.length;
t+=8*M*(2+(k.hasZ?1:0)+(k.hasM?1:0))+64;t+=128*M;t=t+34+32;break;case "extent":t+=98;k.hasM&&(t+=32);k.hasZ&&(t+=32);break;case "mesh":t+=A.estimateSize(k.vertexAttributes.position),t+=A.estimateSize(k.vertexAttributes.normal),t+=A.estimateSize(k.vertexAttributes.uv),t+=A.estimateSize(k.vertexAttributes.tangent)}return t}function h(k,t){H.empty(t);"mesh"===k.type&&(k=k.extent);switch(k.type){case "point":t[0]=t[3]=k.x;t[1]=t[4]=k.y;k.hasZ&&(t[2]=t[5]=k.z);break;case "polyline":for(var M=0;M<k.paths.length;M++)H.expandWithNestedArray(t,
k.paths[M],k.hasZ);break;case "polygon":for(M=0;M<k.rings.length;M++)H.expandWithNestedArray(t,k.rings[M],k.hasZ);break;case "multipoint":H.expandWithNestedArray(t,k.points,k.hasZ);break;case "extent":t[0]=k.xmin,t[1]=k.ymin,t[3]=k.xmax,t[4]=k.ymax,null!=k.zmin&&(t[2]=k.zmin),null!=k.zmax&&(t[5]=k.zmax)}}function u(k,t){D.empty(t);"mesh"===k.type&&(k=k.extent);switch(k.type){case "point":t[0]=t[2]=k.x;t[1]=t[3]=k.y;break;case "polyline":for(var M=0;M<k.paths.length;M++)D.expandWithNestedArray(t,k.paths[M]);
break;case "polygon":for(M=0;M<k.rings.length;M++)D.expandWithNestedArray(t,k.rings[M]);break;case "multipoint":D.expandWithNestedArray(t,k.points);break;case "extent":t[0]=k.xmin,t[1]=k.ymin,t[2]=k.xmax,t[3]=k.ymax}}const w=H.create(),y=D.create();d.equals=f.equals;d.DehydratedFeatureClass=function(k,t,M){this.uid=k;this.geometry=t;this.attributes=M;this.visible=!0;this.centroid=this.objectId=null};d.DehydratedFeatureSetClass=function(){this.exceededTransferLimit=!1;this.features=[];this.fields=
[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null};d.computeAABB=h;d.computeAABR=u;d.estimateAttributesObjectSize=C;d.estimateGeometryObjectSize=a;d.estimateSize=function(k){let t;t=32+C(k.attributes);return t=t+3+(8+a(k.geometry))};d.expandAABB=function(k,t){h(k,w);H.expandWithAABB(t,w)};d.expandAABR=function(k,t){u(k,y);D.expand(t,y)};d.fromFeatureSetJSON=function(k){const t=
N.featureGeometryTypeKebabDictionary.fromJSON(k.geometryType),M=L.fromJSON(k.spatialReference),S=k.transform,V=k.features.map(n=>{var c=k.objectIdFieldName;n={uid:F.generateUID(),objectId:c&&n.attributes?n.attributes[c]:null,attributes:n.attributes,geometry:q(n.geometry,t,M),visible:!0};if((c=n.geometry)&&S)switch(c.type){case "point":n.geometry=P.unquantizePoint(S,c,c,c.hasZ,c.hasM);break;case "multipoint":n.geometry=P.unquantizeMultipoint(S,c,c,c.hasZ,c.hasM);break;case "polygon":n.geometry=P.unquantizePolygon(S,
c,c,c.hasZ,c.hasM);break;case "polyline":n.geometry=P.unquantizePolyline(S,c,c,c.hasZ,c.hasM)}return n});return{geometryType:t,features:V,spatialReference:M,fields:k.fields?k.fields.map(n=>v.fromJSON(n)):null,objectIdFieldName:k.objectIdFieldName,globalIdFieldName:k.globalIdFieldName,geohashFieldName:k.geohashFieldName,geometryProperties:k.geometryProperties,hasZ:k.hasZ,hasM:k.hasM,exceededTransferLimit:k.exceededTransferLimit,transform:null}};d.fromJSONGeometry=q;d.getObjectId=function(k,t){return null!=
k.objectId?k.objectId:k.attributes&&t?k.attributes[t]:null};d.hasGeometry=function(k){return J.isSome(k.geometry)};d.hasVertices=function(k){if(!k)return!1;switch(k.type){case "extent":case "point":return!0;case "polyline":for(const t of k.paths)if(0<t.length)return!0;return!1;case "polygon":for(const t of k.rings)if(0<t.length)return!0;return!1;case "multipoint":return 0<k.points.length;case "mesh":return k.vertexAttributes&&k.vertexAttributes.position&&0<k.vertexAttributes.position.length}};d.isDehydratedPoint=
function(k){return"point"===k.type};d.isFeatureGeometry=function(k){return N.isFeatureGeometryType(k.type)};d.makeDehydratedPoint=function(k,t,M,S){return{x:k,y:t,z:M,hasZ:null!=M,hasM:!1,spatialReference:S,type:"point"}};d.numVertices=function(k){if(J.isNone(k))return 0;switch(k.type){case "point":return 1;case "polyline":var t=0;for(var M of k.paths)t+=M.length;return t;case "polygon":M=0;for(t of k.rings)M+=t.length;return M;case "multipoint":return k.points.length;case "extent":return 2;case "mesh":return(k=
k.vertexAttributes&&k.vertexAttributes.position)?k.length/3:0}};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../Extent"],function(d,E,A){function J(f=P){return[f[0],f[1],f[2],f[3]]}function L(f){return f[0]>=f[2]?0:f[2]-f[0]}function N(f){return f[1]>=f[3]?0:f[3]-f[1]}function F(f,q,C){return q>=f[0]&&C>=f[1]&&q<=f[2]&&C<=f[3]}function D(f,q){f[0]=q[0];f[1]=q[1];f[2]=q[2];f[3]=q[3];return f}function v(f){return 4===
f.length}function r(f,q,C){return f<q?q:f>C?C:f}const H=[Infinity,Infinity,-Infinity,-Infinity],P=[0,0,0,0];d.NEGATIVE_INFINITY=H;d.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];d.UNIT=[0,0,1,1];d.ZERO=P;d.allFinite=function(f){for(let q=0;4>q;q++)if(!isFinite(f[q]))return!1;return!0};d.area=function(f){return L(f)*N(f)};d.center=function(f,q=[0,0]){q[0]=(f[0]+f[2])/2;q[1]=(f[1]+f[3])/2;return q};d.clone=function(f){return[f[0],f[1],f[2],f[3]]};d.contains=function(f,q){return q[0]>=f[0]&&
q[2]<=f[2]&&q[1]>=f[1]&&q[3]<=f[3]};d.containsPoint=function(f,q){return F(f,q[0],q[1])};d.containsPointObject=function(f,q){return F(f,q.x,q.y)};d.containsPointWithMargin=function(f,q,C){return q[0]>=f[0]-C&&q[1]>=f[1]-C&&q[0]<=f[2]+C&&q[1]<=f[3]+C};d.containsXY=F;d.create=J;d.diameter=function(f){const q=L(f);f=N(f);return Math.sqrt(q*q+f*f)};d.distance=function(f,q){const C=(f[1]+f[3])/2,a=Math.max(Math.abs(q[0]-(f[0]+f[2])/2)-L(f)/2,0);f=Math.max(Math.abs(q[1]-C)-N(f)/2,0);return Math.sqrt(a*
a+f*f)};d.empty=function(f){return f?D(f,H):J(H)};d.equals=function(f,q,C){if(null==f||null==q)return f===q;if(!v(f)||!v(q))return!1;if(C)for(let a=0;a<f.length;a++){if(!C(f[a],q[a]))return!1}else for(C=0;C<f.length;C++)if(f[C]!==q[C])return!1;return!0};d.expand=function(f,q,C=f){if("length"in q)if(v(q))C[0]=Math.min(f[0],q[0]),C[1]=Math.min(f[1],q[1]),C[2]=Math.max(f[2],q[2]),C[3]=Math.max(f[3],q[3]);else{if(2===q.length||3===q.length)C[0]=Math.min(f[0],q[0]),C[1]=Math.min(f[1],q[1]),C[2]=Math.max(f[2],
q[0]),C[3]=Math.max(f[3],q[1])}else switch(q.type){case "extent":C[0]=Math.min(f[0],q.xmin);C[1]=Math.min(f[1],q.ymin);C[2]=Math.max(f[2],q.xmax);C[3]=Math.max(f[3],q.ymax);break;case "point":C[0]=Math.min(f[0],q.x),C[1]=Math.min(f[1],q.y),C[2]=Math.max(f[2],q.x),C[3]=Math.max(f[3],q.y)}return C};d.expandPointInPlace=function(f,q){q[0]<f[0]&&(f[0]=q[0]);q[0]>f[2]&&(f[2]=q[0]);q[1]<f[1]&&(f[1]=q[1]);q[1]>f[3]&&(f[3]=q[1])};d.expandWithNestedArray=function(f,q,C=f){const a=q.length;let h=f[0],u=f[1],
w=f[2];f=f[3];for(let y=0;y<a;y++){const k=q[y];h=Math.min(h,k[0]);u=Math.min(u,k[1]);w=Math.max(w,k[0]);f=Math.max(f,k[1])}C[0]=h;C[1]=u;C[2]=w;C[3]=f;return C};d.fromExtent=function(f,q=J()){q[0]=f.xmin;q[1]=f.ymin;q[2]=f.xmax;q[3]=f.ymax;return q};d.fromValues=function(f,q,C,a,h=J()){h[0]=f;h[1]=q;h[2]=C;h[3]=a;return h};d.height=N;d.intersection=function(f,q,C=f){const a=q[0],h=q[1],u=q[2];q=q[3];C[0]=r(f[0],a,u);C[1]=r(f[1],h,q);C[2]=r(f[2],a,u);C[3]=r(f[3],h,q);return C};d.intersects=function(f,
q){return Math.max(q[0],f[0])<=Math.min(q[2],f[2])&&Math.max(q[1],f[1])<=Math.min(q[3],f[3])};d.is=v;d.isPoint=function(f){return(0===L(f)||!isFinite(f[0]))&&(0===N(f)||!isFinite(f[1]))};d.offset=function(f,q,C,a=f){a[0]=f[0]+q;a[1]=f[1]+C;a[2]=f[2]+q;a[3]=f[3]+C;return a};d.pad=function(f,q,C=f){C[0]=f[0]-q;C[1]=f[1]-q;C[2]=f[2]+q;C[3]=f[3]+q;return C};d.set=D;d.setMax=function(f,q,C=f){C[2]=q[0];C[3]=q[1];C!==f&&(C[0]=f[0],C[1]=f[1]);return f};d.setMin=function(f,q,C=f){C[0]=q[0];C[1]=q[1];C!==
f&&(C[2]=f[2],C[3]=f[3]);return C};d.size=function(f,q){q[0]=f[2]-f[0];q[1]=f[3]-f[1]};d.toExtent=function(f,q){return new A({xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3],spatialReference:q})};d.width=L;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(d){d.estimateNumberByteSize=function(){return 16};d.estimateStringByteSize=function(E){return 32+E.length};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports",
"../../core/maybe","../Extent","./aaBoundingRect"],function(d,E,A,J){function L(a=q){return[a[0],a[1],a[2],a[3],a[4],a[5]]}function N(a,h,u,w,y,k,t=L()){t[0]=a;t[1]=h;t[2]=u;t[3]=w;t[4]=y;t[5]=k;return t}function F(a){return a[0]>=a[3]?0:a[3]-a[0]}function D(a){return a[1]>=a[4]?0:a[4]-a[1]}function v(a){return a[2]>=a[5]?0:a[5]-a[2]}function r(a,h){return Math.max(h[0],a[0])<=Math.min(h[3],a[3])&&Math.max(h[1],a[1])<=Math.min(h[4],a[4])&&Math.max(h[2],a[2])<=Math.min(h[5],a[5])}function H(a,h){a[0]=
h[0];a[1]=h[1];a[2]=h[2];a[3]=h[3];a[4]=h[4];a[5]=h[5];return a}function P(a){return 6===a.length}const f=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],q=[0,0,0,0,0,0],C=L();d.NEGATIVE_INFINITY=f;d.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];d.ZERO=q;d.allFinite=function(a){for(let h=0;6>h;h++)if(!isFinite(a[h]))return!1;return!0};d.center=function(a,h=[0,0,0]){h[0]=a[0]+F(a)/2;h[1]=a[1]+D(a)/2;h[2]=a[2]+v(a)/2;return h};d.contains=function(a,h){return h[0]>=
a[0]&&h[1]>=a[1]&&h[2]>=a[2]&&h[3]<=a[3]&&h[4]<=a[4]&&h[5]<=a[5]};d.containsPoint=function(a,h){return h[0]>=a[0]&&h[1]>=a[1]&&h[2]>=a[2]&&h[0]<=a[3]&&h[1]<=a[4]&&h[2]<=a[5]};d.containsPointWithMargin=function(a,h,u){return h[0]>=a[0]-u&&h[1]>=a[1]-u&&h[2]>=a[2]-u&&h[0]<=a[3]+u&&h[1]<=a[4]+u&&h[2]<=a[5]+u};d.create=L;d.depth=D;d.diameter=function(a){const h=F(a),u=v(a);a=D(a);return Math.sqrt(h*h+u*u+a*a)};d.empty=function(a){return a?H(a,f):L(f)};d.equals=function(a,h,u){if(E.isNone(a)||E.isNone(h))return a===
h;if(!P(a)||!P(h))return!1;if(u)for(let w=0;w<a.length;w++){if(!u(a[w],h[w]))return!1}else for(u=0;u<a.length;u++)if(a[u]!==h[u])return!1;return!0};d.expandWithAABB=function(a,h){a[0]=Math.min(a[0],h[0]);a[1]=Math.min(a[1],h[1]);a[2]=Math.min(a[2],h[2]);a[3]=Math.max(a[3],h[3]);a[4]=Math.max(a[4],h[4]);a[5]=Math.max(a[5],h[5])};d.expandWithBuffer=function(a,h,u=0,w=h.length/3){let y=a[0],k=a[1],t=a[2],M=a[3],S=a[4],V=a[5];for(let n=0;n<w;n++)y=Math.min(y,h[u+3*n]),k=Math.min(k,h[u+3*n+1]),t=Math.min(t,
h[u+3*n+2]),M=Math.max(M,h[u+3*n]),S=Math.max(S,h[u+3*n+1]),V=Math.max(V,h[u+3*n+2]);a[0]=y;a[1]=k;a[2]=t;a[3]=M;a[4]=S;a[5]=V};d.expandWithNestedArray=function(a,h,u){const w=h.length;let y=a[0],k=a[1],t=a[2],M=a[3],S=a[4],V=a[5];if(u)for(u=0;u<w;u++){var n=h[u];y=Math.min(y,n[0]);k=Math.min(k,n[1]);t=Math.min(t,n[2]);M=Math.max(M,n[0]);S=Math.max(S,n[1]);V=Math.max(V,n[2])}else for(u=0;u<w;u++)n=h[u],y=Math.min(y,n[0]),k=Math.min(k,n[1]),M=Math.max(M,n[0]),S=Math.max(S,n[1]);a[0]=y;a[1]=k;a[2]=
t;a[3]=M;a[4]=S;a[5]=V};d.expandWithOffset=function(a,h,u,w){a[0]=Math.min(a[0],a[0]+h);a[3]=Math.max(a[3],a[3]+h);a[1]=Math.min(a[1],a[1]+u);a[4]=Math.max(a[4],a[4]+u);a[2]=Math.min(a[2],a[2]+w);a[5]=Math.max(a[5],a[5]+w)};d.expandWithRect=function(a,h){a[0]=Math.min(a[0],h[0]);a[1]=Math.min(a[1],h[1]);a[3]=Math.max(a[3],h[2]);a[4]=Math.max(a[4],h[3])};d.expandWithVec3=function(a,h){a[0]=Math.min(a[0],h[0]);a[1]=Math.min(a[1],h[1]);a[2]=Math.min(a[2],h[2]);a[3]=Math.max(a[3],h[0]);a[4]=Math.max(a[4],
h[1]);a[5]=Math.max(a[5],h[2])};d.fromExtent=function(a,h=L()){h[0]=a.xmin;h[1]=a.ymin;h[2]=a.zmin;h[3]=a.xmax;h[4]=a.ymax;h[5]=a.zmax;return h};d.fromMinMax=function(a,h,u=L()){u[0]=a[0];u[1]=a[1];u[2]=a[2];u[3]=h[0];u[4]=h[1];u[5]=h[2];return u};d.fromRect=function(a,h){a[0]=h[0];a[1]=h[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=h[2];a[4]=h[3];a[5]=Number.POSITIVE_INFINITY;return a};d.fromValues=N;d.getMax=function(a,h){h[0]=a[3];h[1]=a[4];h[2]=a[5];return h};d.getMin=function(a,h){h[0]=a[0];h[1]=a[1];
h[2]=a[2];return h};d.height=v;d.intersects=r;d.intersectsClippingArea=function(a,h){return E.isNone(h)?!0:r(a,h)};d.is=P;d.isPoint=function(a){return 0===F(a)&&0===D(a)&&0===v(a)};d.maximumDimension=function(a){return Math.max(F(a),v(a),D(a))};d.offset=function(a,h,u,w,y=a){y[0]=a[0]+h;y[1]=a[1]+u;y[2]=a[2]+w;y[3]=a[3]+h;y[4]=a[4]+u;y[5]=a[5]+w;return y};d.scale=function(a,h,u=a){const w=a[0]+F(a)/2,y=a[1]+D(a)/2,k=a[2]+v(a)/2;u[0]=w+(a[0]-w)*h;u[1]=y+(a[1]-y)*h;u[2]=k+(a[2]-k)*h;u[3]=w+(a[3]-w)*
h;u[4]=y+(a[4]-y)*h;u[5]=k+(a[5]-k)*h;return u};d.set=H;d.setMax=function(a,h,u=a){u[3]=h[0];u[4]=h[1];u[5]=h[2];u!==a&&(u[0]=a[0],u[1]=a[1],u[2]=a[2]);return a};d.setMin=function(a,h,u=a){u[0]=h[0];u[1]=h[1];u[2]=h[2];u!==a&&(u[3]=a[3],u[4]=a[4],u[5]=a[5]);return u};d.size=function(a,h=[0,0,0]){h[0]=F(a);h[1]=D(a);h[2]=v(a);return h};d.toExtent=function(a,h){return isFinite(a[2])||isFinite(a[5])?new A({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:h}):new A({xmin:a[0],
xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:h})};d.toRect=function(a,h){h||(h=J.create());h[0]=a[0];h[1]=a[1];h[2]=a[3];h[3]=a[4];return h};d.width=F;d.wrap=function(a,h,u,w,y,k){return N(a,h,u,w,y,k,C)};Object.defineProperty(d,"__esModule",{value:!0})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(d,E){function A({scale:n,translate:c},l){return Math.round((l-c[0])/n[0])}function J({scale:n,translate:c},l){return Math.round((c[1]-l)/n[1])}function L(n,
c,l){const g=[];let B,O,U,Y;for(let ca=0;ca<l.length;ca++){const ea=l[ca];if(0<ca){if(U=A(n,ea[0]),Y=J(n,ea[1]),U!==B||Y!==O)g.push(c(ea,U-B,Y-O)),B=U,O=Y}else B=A(n,ea[0]),O=J(n,ea[1]),g.push(c(ea,B,O))}return 0<g.length?g:null}function N(n,c,l,g){return L(n,l?g?V:S:g?S:M,c)}function F(n,c,l,g){const B=[];l=l?g?V:S:g?S:M;for(g=0;g<c.length;g++){const O=L(n,l,c[g]);O&&3<=O.length&&B.push(O)}return B.length?B:null}function D(n,c,l,g){const B=[];l=l?g?V:S:g?S:M;for(g=0;g<c.length;g++){const O=L(n,l,
c[g]);O&&2<=O.length&&B.push(O)}return B.length?B:null}function v({scale:n,translate:c},l){return l*n[0]+c[0]}function r({scale:n,translate:c},l){return c[1]-l*n[1]}function H(n,c,l){const g=Array(l.length);if(!l.length)return g;const [B,O]=n.scale;let U=v(n,l[0][0]);n=r(n,l[0][1]);g[0]=c(l[0],U,n);for(let Y=1;Y<l.length;Y++){const ca=l[Y];U+=ca[0]*B;n-=ca[1]*O;g[Y]=c(ca,U,n)}return g}function P(n,c,l){const g=Array(l.length);for(let B=0;B<l.length;B++)g[B]=H(n,c,l[B]);return g}function f(n,c,l,g){return H(n,
l?g?V:S:g?S:M,c)}function q(n,c,l,g){return P(n,l?g?V:S:g?S:M,c)}function C(n,c,l,g){return P(n,l?g?V:S:g?S:M,c)}function a(n,c,l){let [g,B]=l[0],O=Math.min(g,c[0]),U=Math.min(B,c[1]),Y=Math.max(g,c[2]);c=Math.max(B,c[3]);for(let ca=1;ca<l.length;ca++){const [ea,ia]=l[ca];g+=ea;B+=ia;0>ea&&(O=Math.min(O,g));0<ea&&(Y=Math.max(Y,g));0>ia?U=Math.min(U,B):0<ia&&(c=Math.max(c,B))}n[0]=O;n[1]=U;n[2]=Y;n[3]=c;return n}function h(n,c){if(!c.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY;n[2]=n[3]=
Number.NEGATIVE_INFINITY;for(let l=0;l<c.length;l++)a(n,n,c[l]);return n}function u(n,c,l,g,B){c.xmin=A(n,l.xmin);c.ymin=J(n,l.ymin);c.xmax=A(n,l.xmax);c.ymax=J(n,l.ymax);c!==l&&(g&&(c.zmin=l.zmin,c.zmax=l.zmax),B&&(c.mmin=l.mmin,c.mmax=l.mmax));return c}function w(n,c,l,g,B){c.points=N(n,l.points,g,B);return c}function y(n,c,l,g,B){c.x=A(n,l.x);c.y=J(n,l.y);c!==l&&(g&&(c.z=l.z),B&&(c.m=l.m));return c}function k(n,c,l,g,B){n=F(n,l.rings,g,B);if(!n)return null;c.rings=n;return c}function t(n,c,l,g,
B){n=D(n,l.paths,g,B);if(!n)return null;c.paths=n;return c}const M=(n,c,l)=>[c,l],S=(n,c,l)=>[c,l,n[2]],V=(n,c,l)=>[c,l,n[2],n[3]];d.equals=function(n,c){if(n===c||null==n&&null==c)return!0;if(null==n||null==c)return!1;let l,g,B,O;n&&"upperLeft"===n.originPosition?(l=n.translate[0],g=n.translate[1],n=n.scale[0]):(l=n.extent.xmin,g=n.extent.ymax,n=n.tolerance);c&&"upperLeft"===c.originPosition?(B=c.translate[0],O=c.translate[1],c=c.scale[0]):(B=c.extent.xmin,O=c.extent.ymax,c=c.tolerance);return l===
B&&g===O&&n===c};d.getQuantizedBoundsCoordsArray=a;d.getQuantizedBoundsCoordsArrayArray=h;d.getQuantizedBoundsPaths=function(n){return h([0,0,0,0],n)};d.getQuantizedBoundsPoints=function(n){const c=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return a(c,c,n)};d.getQuantizedBoundsRings=function(n){return h([0,0,0,0],n)};d.quantizeBounds=function(n,c,l){c[0]=A(n,l[0]);c[3]=J(n,l[1]);c[2]=A(n,l[2]);c[1]=J(n,l[3]);return c};d.quantizeExtent=u;d.quantizeGeometry=
function(n,c){return n&&c?E.isPoint(c)?y(n,{},c,!1,!1):E.isPolyline(c)?t(n,{},c,!1,!1):E.isPolygon(c)?k(n,{},c,!1,!1):E.isMultipoint(c)?w(n,{},c,!1,!1):E.isExtent(c)?u(n,{},c,!1,!1):null:null};d.quantizeMultipoint=w;d.quantizePaths=D;d.quantizePoint=y;d.quantizePoints=N;d.quantizePolygon=k;d.quantizePolyline=t;d.quantizeRings=F;d.quantizeX=A;d.quantizeY=J;d.toQuantizationTransform=function(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":
n.originPosition,scale:[n.tolerance,n.tolerance],translate:[n.extent.xmin,n.extent.ymax]}:null};d.unquantizeBounds=function(n,c,l){return l?(c[0]=v(n,l[0]),c[1]=r(n,l[3]),c[2]=v(n,l[2]),c[3]=r(n,l[1]),c):[v(n,c[0]),r(n,c[3]),v(n,c[2]),r(n,c[1])]};d.unquantizeCoordsArray=H;d.unquantizeCoordsArrayArray=P;d.unquantizeExtent=function(n,c,l,g,B){c.xmin=v(n,l.xmin);c.ymin=r(n,l.ymin);c.xmax=v(n,l.xmax);c.ymax=r(n,l.ymax);c!==l&&(g&&(c.zmin=l.zmin,c.zmax=l.zmax),B&&(c.mmin=l.mmin,c.mmax=l.mmax));return c};
d.unquantizeMultipoint=function(n,c,l,g,B){c.points=f(n,l.points,g,B);return c};d.unquantizePaths=q;d.unquantizePoint=function(n,c,l,g,B){c.x=v(n,l.x);c.y=r(n,l.y);c!==l&&(g&&(c.z=l.z),B&&(c.m=l.m));return c};d.unquantizePoints=f;d.unquantizePolygon=function(n,c,l,g,B){c.rings=C(n,l.rings,g,B);return c};d.unquantizePolyline=function(n,c,l,g,B){c.paths=q(n,l.paths,g,B);return c};d.unquantizeRings=C;d.unquantizeX=v;d.unquantizeY=r;Object.defineProperty(d,"__esModule",{value:!0})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports",
"../../core/has","../../core/maybe"],function(d,E,A){function J(v,r){if(v===r)return!0;if(null==v||null==r||v.length!==r.length)return!1;for(let H=0;H<v.length;H++){const P=v[H],f=r[H];if(P.length!==f.length)return!1;for(let q=0;q<P.length;q++)if(P[q]!==f[q])return!1}return!0}function L(v,r){if(v===r)return!0;if(null==v||null==r||v.length!==r.length)return!1;for(let H=0;H<v.length;H++)if(!J(v[H],r[H]))return!1;return!0}function N(v,r){return v===r||v&&r&&v.equals(r)}function F(v,r){if(v===r)return!0;
if(A.isNone(v)||A.isNone(r)||v.type!==r.type)return!1;switch(v.type){case "point":return v=N(v.spatialReference,r.spatialReference)?v.x===r.x&&v.y===r.y&&v.z===r.z&&v.m===r.m:!1,v;case "extent":return v=v.hasZ!==r.hasZ||v.hasM!==r.hasM?!1:N(v.spatialReference,r.spatialReference)?v.xmin===r.xmin&&v.ymin===r.ymin&&v.zmin===r.zmin&&v.xmax===r.xmax&&v.ymax===r.ymax&&v.zmax===r.zmax:!1,v;case "polyline":return v=v.hasZ!==r.hasZ||v.hasM!==r.hasM?!1:N(v.spatialReference,r.spatialReference)?L(v.paths,r.paths):
!1,v;case "polygon":return v=v.hasZ!==r.hasZ||v.hasM!==r.hasM?!1:N(v.spatialReference,r.spatialReference)?L(v.rings,r.rings):!1,v;case "multipoint":return v=v.hasZ!==r.hasZ||v.hasM!==r.hasM?!1:N(v.spatialReference,r.spatialReference)?J(v.points,r.points):!1,v;case "mesh":return!1}}function D(v,r){if(v===r)return!0;if(!v||!r)return!1;const H=Object.keys(v),P=Object.keys(r);if(H.length!==P.length)return!1;for(const f of H)if(v[f]!==r[f])return!1;return!0}d.equals=function(v,r){return v===r?!0:null!=
v&&null!=r&&v.objectId===r.objectId&&F(v.geometry,r.geometry)&&D(v.attributes,r.attributes)?!0:!1};Object.defineProperty(d,"__esModule",{value:!0})})},"*noref":1}});
define(["../../../core/promiseUtils","../../../tasks/operations/pbfQueryUtils","../../../tasks/operations/pbfDehydratedFeatureSet"],function(d,E,A){let J=function(){function L(){}L.prototype._parseFeatureQuery=function(N){N=E.parsePBFFeatureQuery(N.buffer,new A.DehydratedFeatureSetParserContext(N.options));N={...N,spatialReference:N.spatialReference.toJSON(),fields:N.fields?N.fields.map(F=>F.toJSON()):void 0};return d.resolve(N)};return L}();return function(){return new J}});