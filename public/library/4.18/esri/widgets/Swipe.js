// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/events ./support/widgetUtils ./support/decorators/messageBundle ./support/decorators/renderable ../chunks/index ./Widget ./Swipe/SwipeViewModel".split(" "),
function(t,e,d,E,F,n,u,G,A,H,I,J,B,K,C,p,q,D,x){const y={handle:!0,divider:!0};d=function(z){function v(a,b){a=z.call(this,a,b)||this;a.direction=null;a.disabled=!1;a.dragLabel=void 0;a.iconClass="esri-icon-up-down-arrows";a.label=void 0;a.leadingLayers=null;a.messages=null;a.position=null;a.trailingLayers=null;a.view=null;a.viewModel=new x;a._pointerOffset=null;a._container=null;a._onContainerPointerDown=a._onContainerPointerDown.bind(t._assertThisInitialized(a));a._onContainerPointerMove=a._onContainerPointerMove.bind(t._assertThisInitialized(a));
a._onContainerPointerUp=a._onContainerPointerUp.bind(t._assertThisInitialized(a));return a}t._inheritsLoose(v,z);var f=v.prototype;f.render=function(){const {state:a,direction:b}=this.viewModel,c="disabled"===a||this.disabled;return q.jsx("div",{class:this.classes("esri-swipe","esri-widget",{["esri-disabled"]:c,["esri-swipe--disabled"]:c,["esri-swipe--vertical"]:"vertical"===b,["esri-swipe--horizontal"]:"horizontal"===b})},"disabled"===a?null:this.renderContainer())};f.renderHandle=function(){var {direction:a}=
this.viewModel,{visibleElements:b}=this;a={["esri-icon-drag-horizontal"]:"vertical"===a,["esri-icon-drag-vertical"]:"horizontal"===a};b=this.classes("esri-swipe__handle",!b.handle&&"esri-swipe__handle--hidden");return q.jsx("div",{key:"handle",role:"presentation",class:b},q.jsx("span",{"aria-hidden":"true",class:this.classes("esri-swipe__handle-icon",a)}))};f.renderDivider=function(){const {visibleElements:a}=this;return a&&a.divider?q.jsx("div",{key:"divider",role:"presentation",class:"esri-swipe__divider"}):
null};f.renderContent=function(){return[this.renderDivider(),this.renderHandle()]};f.renderContainer=function(){const {disabled:a,dragLabel:b,viewModel:c}=this,{max:h,min:m,direction:k,position:r}=c,g=`${r}%`,l={top:"vertical"===k?g:null,left:"vertical"===k?null:g},w=this.renderContent();return a?q.jsx("div",{key:"container",role:"presentation",styles:l,class:"esri-swipe__container"},w):q.jsx("div",{tabIndex:0,key:"container",bind:this,afterCreate:this._afterContainerCreate,onkeydown:this._onContainerKeyDown,
"touch-action":"none",role:"slider",title:b,"aria-label":b,"aria-orientation":k,"aria-valuemax":`${h}`,"aria-valuemin":`${m}`,"aria-valuenow":`${r}`,"aria-valuetext":g,styles:l,class:"esri-swipe__container"},w)};f._afterContainerCreate=function(a){this._container=a;a.addEventListener("pointerdown",this._onContainerPointerDown)};f._calculatePointerOffset=function(a){const {direction:b}=this;var c=a.target;const h=("vertical"===b?c.clientHeight:c.clientWidth)/2,m=c.getBoundingClientRect();c=a.clientX-
m.left;a=a.clientY-m.top;this._pointerOffset="vertical"===b?a-h:c-h};f._onContainerPointerDown=function(a){a.preventDefault();this._container&&document.activeElement!==this.container&&this._container.focus();this._calculatePointerOffset(a);document.addEventListener("pointerup",this._onContainerPointerUp);document.addEventListener("pointermove",this._onContainerPointerMove)};f._onContainerPointerUp=function(a){a.preventDefault();document.removeEventListener("pointerup",this._onContainerPointerUp);
document.removeEventListener("pointermove",this._onContainerPointerMove)};f._onContainerPointerMove=function(a){a.preventDefault();const {_pointerOffset:b,container:c,direction:h}=this,{clientX:m,clientY:k}=a,{top:r,left:g,width:l,height:w}=c.getBoundingClientRect();this.position=("vertical"===h?k-r-b:m-g-b)/("vertical"===h?w:l)*100};f._getKeyPosition=function(a){const b=B.eventKey(a),{position:c}=this,{max:h,min:m,step:k,stepMultiplier:r,direction:g}=this.viewModel,l=k*r;-1<"ArrowUp ArrowDown ArrowLeft ArrowRight Home End PageUp PageDown".split(" ").indexOf(b)&&
(a.preventDefault(),a.stopPropagation());return("vertical"===g?"ArrowDown"===b||"ArrowRight"===b:"ArrowUp"===b||"ArrowRight"===b)?c+(a.shiftKey?l:k):("vertical"===g?"ArrowUp"===b||"ArrowLeft"===b:"ArrowDown"===b||"ArrowLeft"===b)?c-(a.shiftKey?l:k):"Home"===b?m:"End"===b?h:("vertical"===g?"PageDown"===b:"PageUp"===b)?c+l:("vertical"===g?"PageUp"===b:"PageDown"===b)?c-l:null};f._onContainerKeyDown=function(a){a=this._getKeyPosition(a);"number"===typeof a&&(this.position=a)};t._createClass(v,[{key:"visibleElements",
set:function(a){this._set("visibleElements",{...y,...a})},get:function(){return this._get("visibleElements")||y}}]);return v}(D);e.__decorate([u.aliasOf("viewModel.direction")],d.prototype,"direction",void 0);e.__decorate([n.property(),p.renderable()],d.prototype,"disabled",void 0);e.__decorate([n.property({aliasOf:{source:"messages.dragLabel",overridable:!0}}),p.renderable()],d.prototype,"dragLabel",void 0);e.__decorate([n.property()],d.prototype,"iconClass",void 0);e.__decorate([n.property({aliasOf:{source:"messages.widgetLabel",
overridable:!0}})],d.prototype,"label",void 0);e.__decorate([u.aliasOf("viewModel.leadingLayers")],d.prototype,"leadingLayers",void 0);e.__decorate([n.property(),p.renderable(),C.messageBundle("esri/widgets/Swipe/t9n/Swipe")],d.prototype,"messages",void 0);e.__decorate([u.aliasOf("viewModel.position")],d.prototype,"position",void 0);e.__decorate([u.aliasOf("viewModel.trailingLayers")],d.prototype,"trailingLayers",void 0);e.__decorate([u.aliasOf("viewModel.view"),p.renderable()],d.prototype,"view",
void 0);e.__decorate([n.property({type:x}),p.renderable(["viewModel.state","viewModel.position","viewModel.direction"])],d.prototype,"viewModel",void 0);e.__decorate([n.property(),p.renderable()],d.prototype,"visibleElements",null);return d=e.__decorate([A.subclass("esri.widgets.Swipe")],d)});