// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../assets ../core/Handles ../core/watchUtils ./support/widgetUtils ./support/decorators/accessibleHandler ./support/decorators/messageBundle ./support/decorators/renderable ../chunks/index ./Widget ./BasemapGallery/BasemapGalleryViewModel".split(" "),
function(t,c,b,D,E,l,n,F,u,G,H,I,v,w,q,J,x,y,k,e,z,A){const B=v.getAssetUrl("esri/themes/base/images/basemap-toggle-64.svg");b=function(r){function p(a,d){a=r.call(this,a,d)||this;a._handles=new w;a.activeBasemap=null;a.disabled=!1;a.iconClass="esri-icon-basemap";a.label=void 0;a.messages=null;a.source=null;a.view=null;a.viewModel=new A;return a}t._inheritsLoose(p,r);var m=p.prototype;m.initialize=function(){const a=this._handles;this.own([q.on(this,"viewModel.items","change",d=>{const {added:f,moved:g}=
d;a.remove("basemap-gallery-item-changes");a.add([...f,...g].map(h=>h.watch("state",()=>this.scheduleRender())),"basemap-gallery-item-changes");this.scheduleRender()}),a,q.whenOnce(this,"source",()=>this.viewModel.load())])};m.render=function(){var a="loading"===this.get("source.state"),d=this.disabled||"disabled"===this.get("viewModel.state");const f=this.get("viewModel.items").toArray().map(this._renderBasemapGalleryItem,this);d={["esri-basemap-gallery--source-loading"]:a,["esri-disabled"]:d};const g=
a?e.jsx("div",{class:"esri-basemap-gallery__loader",key:"esri-basemap-gallery__loader"}):null;a=a?null:0<f.length?e.jsx("ul",{class:"esri-basemap-gallery__item-container",key:"esri-basemap-gallery__item-container",role:"menu"},f):e.jsx("div",{class:"esri-widget__content--empty",key:"esri-basemap-gallery__empty-message"},e.jsx("h2",{class:"esri-widget__heading"},this.messages.noBasemaps));return e.jsx("div",{class:this.classes("esri-basemap-gallery esri-widget esri-widget--panel-height-only",d)},g,
a)};m._handleClick=function(a){a=a.currentTarget["data-item"];"ready"===a.state&&(this.activeBasemap=a.basemap)};m._renderBasemapGalleryItem=function(a){const d=a.get("basemap.thumbnailUrl")||B,f=a.get("basemap.title");var g=a.get("basemap.portalItem.snippet");g=a.get("error.message")||g||f;var {viewModel:h}=this;const C=this.disabled||"ready"!==h.state||"ready"!==a.state?-1:0;h=h.basemapEquals(a.basemap,this.activeBasemap);return e.jsx("li",{"aria-selected":h,bind:this,class:this.classes("esri-basemap-gallery__item",
{["esri-basemap-gallery__item--selected"]:h,["esri-basemap-gallery__item--loading"]:"loading"===a.state,["esri-basemap-gallery__item--error"]:"error"===a.state}),"data-item":a,onkeydown:this._handleClick,onclick:this._handleClick,role:"menuitem",tabIndex:C,title:g},e.jsx("img",{alt:"",class:"esri-basemap-gallery__item-thumbnail",src:d}),e.jsx("div",{class:"esri-basemap-gallery__item-title"},f))};return p}(z);c.__decorate([n.aliasOf("viewModel.activeBasemap"),k.renderable()],b.prototype,"activeBasemap",
void 0);c.__decorate([l.property(),k.renderable()],b.prototype,"disabled",void 0);c.__decorate([l.property()],b.prototype,"iconClass",void 0);c.__decorate([l.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",void 0);c.__decorate([l.property(),k.renderable(),y.messageBundle("esri/widgets/BasemapGallery/t9n/BasemapGallery")],b.prototype,"messages",void 0);c.__decorate([n.aliasOf("viewModel.source"),k.renderable("source.state")],b.prototype,"source",void 0);c.__decorate([n.aliasOf("viewModel.view"),
k.renderable()],b.prototype,"view",void 0);c.__decorate([l.property(),k.renderable(["viewModel.state"])],b.prototype,"viewModel",void 0);c.__decorate([x.accessibleHandler()],b.prototype,"_handleClick",null);return b=c.__decorate([u.subclass("esri.widgets.BasemapGallery")],b)});