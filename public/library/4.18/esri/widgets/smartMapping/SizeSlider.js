// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../Color ../../renderers/visualVariables/support/SizeStop ../../renderers/visualVariables/SizeVariable ../support/widgetUtils ../support/decorators/messageBundle ../support/decorators/renderable ../../chunks/index ./support/utils ./SmartMappingSliderBase ./SizeSlider/SizeSliderViewModel".split(" "),
function(F,l,k,y,Q,r,t,G,R,H,S,T,U,z,A,B,I,J,w,p,m,K,L){var x;const C={trackFillColor:new z([149,149,149]),trackBackgroundColor:new z([224,224,224])};k=x=function(D){function u(a,b){a=D.call(this,a,b)||this;a._maxRampFillWidth=1;a._minRampFillWidth=.2;a._rampNode=null;a.handlesSyncedToPrimary=null;a.label=void 0;a.messages=null;a.primaryHandleEnabled=null;a.stops=null;a.style={...C};a.viewModel=new L;a.zoomOptions=null;return a}F._inheritsLoose(u,D);var n=u.prototype;n.castStyle=function(a){return{...C,
...a}};u.fromRendererResult=function(a,b){const {visualVariables:c,statistics:d}=a,{avg:h,stddev:e}=d,f=c[0],[g,q]=m.getSizesFromVariable(f);a=a.renderer.authoringInfo.visualVariables[0];return new x({max:a.maxSliderValue,min:a.minSliderValue,stops:[{value:f.minDataValue,size:q},{value:f.maxDataValue,size:g}],histogramConfig:{average:h,standardDeviation:e,bins:b?b.bins:[]}})};n.updateFromRendererResult=function(a,b){const {visualVariables:c,statistics:d}=a,{avg:h,stddev:e}=d,f=c[0],[g,q]=m.getSizesFromVariable(f);
a=a.renderer.authoringInfo.visualVariables[0];this.set({max:a.maxSliderValue,min:a.minSliderValue,stops:[{value:f.minDataValue,size:q},{value:f.maxDataValue,size:g}],histogramConfig:{average:h,standardDeviation:e,bins:b?b.bins:[]}})};n.updateVisualVariable=function(a){const b=a.clone();var {stops:c}=this;if(!a||!c)return null;if(b.stops)return b.stops=c,b;a=c[0];c=c[c.length-1];let d=b.maxSize,h=b.minSize;if(d instanceof B){var e=d.stops;const f=c.size/e[0].size;e=e.map(g=>{g.size*=f;return g});d.stops=
e}else d=c.size;if(h instanceof B){e=h.stops;const f=a.size/e[0].size;e=e.map(g=>{g.size*=f;return g});h.stops=e}else h=a.size;b.set({maxDataValue:c.value,minDataValue:a.value,maxSize:d,minSize:h});return b};n.updateFromVisualVariable=function(a){if(a){var {maxDataValue:b,minDataValue:c,stops:d}=a;if(d)this.stops=d;else{const [h,e]=m.getSizesFromVariable(a);this.stops=[new A({value:c,size:e}),new A({value:b,size:h})]}}};n.render=function(){const {state:a,label:b}=this,c="disabled"===a,d=this.classes("esri-size-slider",
"esri-widget","esri-widget--panel",{["esri-disabled"]:c});return p.jsx("div",{"aria-label":b,class:d},c?null:this.renderContent(this.renderRamp(),"esri-size-slider__slider-container","esri-size-slider__histogram-container"))};n.renderRamp=function(){const {style:{trackBackgroundColor:a},zoomOptions:b}=this;return p.jsx("div",{afterCreate:I.storeNode,bind:this,class:"esri-size-slider__ramp","data-node-ref":"_rampNode"},p.jsx("svg",{key:"ramp-svg",xmlns:"http://www.w3.org/2000/svg"},p.jsx("rect",{x:"0",
y:"0",fill:m.getFillFromColor(a),height:"100%",width:"100%"}),this.renderPath()),b?this.renderZoomCaps():null)};n.renderPath=function(){if(this._rampNode){var {offsetHeight:a=0,offsetWidth:b=0}=this._rampNode;if(y.isSome(a)&&y.isSome(b)){var {primaryHandleEnabled:c,stops:d,style:{trackFillColor:h},values:e,viewModel:{max:f,min:g},_maxRampFillWidth:q,_minRampFillWidth:M}=this,v=[q,M];d[0].size<d[d.length-1].size&&v.reverse();var [N,E]=v,[O,P]=e;v=c?m.getDynamicPathForSizeStops({max:f,min:g,pathHeight:a,
pathWidth:b,stops:d,padding:E}):m.getPathForSizeStops({bottomValue:O,bottomWidth:N,max:f,min:g,pathHeight:a,pathWidth:b,topValue:P,topWidth:E});return p.jsx("path",{d:v,fill:m.getFillFromColor(h)})}}};return u}(K.SmartMappingSliderBase);l.__decorate([t.aliasOf("viewModel.handlesSyncedToPrimary")],k.prototype,"handlesSyncedToPrimary",void 0);l.__decorate([r.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],k.prototype,"label",void 0);l.__decorate([r.property(),w.renderable(),J.messageBundle("esri/widgets/smartMapping/SizeSlider/t9n/SizeSlider")],
k.prototype,"messages",void 0);l.__decorate([t.aliasOf("viewModel.primaryHandleEnabled")],k.prototype,"primaryHandleEnabled",void 0);l.__decorate([t.aliasOf("viewModel.stops")],k.prototype,"stops",void 0);l.__decorate([r.property(),w.renderable()],k.prototype,"style",void 0);l.__decorate([G.cast("style")],k.prototype,"castStyle",null);l.__decorate([r.property(),w.renderable("viewModel.hasTimeData viewModel.inputFormatFunction viewModel.inputParseFunction viewModel.labelFormatFunction viewModel.max viewModel.min viewModel.stops viewModel.values viewModel.zoomOptions".split(" "))],
k.prototype,"viewModel",void 0);l.__decorate([t.aliasOf("viewModel.zoomOptions")],k.prototype,"zoomOptions",void 0);return k=x=l.__decorate([H.subclass("esri.widgets.smartMapping.SizeSlider")],k)});