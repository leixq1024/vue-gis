// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/watchUtils ../../core/domUtils ./widgetUtils ./decorators/renderable ../../chunks/index ../Widget ../../chunks/popper".split(" "),function(n,d,c,
g,z,A,f,B,u,C,D,E,p,q,F,h,r,v,w){const x="bottom bottom-start bottom-end left left-start left-end right right-start right-end top top-start top-end".split(" "),y={position:"fixed","z-index":"1000"};c=function(t){function l(b,e){var a=t.call(this,b,e)||this;a._popper=null;a._contentNode=null;a._renderAttached=!1;a._rootNode=null;a.anchorElement=null;a.offset=[0,0];a.open=!1;a.renderContentFunction=null;a._afterRootCreate=m=>{a._rootNode=m};a._afterContentCreate=m=>{a._contentNode=m};a._updatePosition=
()=>{g.isSome(a._popper)&&a._popper.update()};return a}n._inheritsLoose(l,t);var k=l.prototype;k.initialize=function(){this.when(()=>{this._projector.append(document.body,this.render);this._renderAttached=!0});this.own(p.init(this,["open","anchorElement"],()=>this._buildPopper()),p.init(this,["placement","offset"],()=>this._setPopperOptions()))};k.destroy=function(){this.renderContentFunction=this.anchorElement=this.owner=null;this._renderAttached&&(this._projector.detach(this.render),this._renderAttached=
!1);g.isSome(this._rootNode)&&(q.remove(this._rootNode),this._rootNode=null);this._contentNode=null;g.isSome(this._popper)&&(this._popper.destroy(),this._popper=null)};k.render=function(){const {open:b,owner:e,renderContentFunction:a}=this;return r.jsx("div",{afterCreate:this._afterRootCreate,class:this.classes("esri-popover",b?"esri-popover--open":null),styles:y},r.jsx("div",{afterCreate:this._afterContentCreate,afterUpdate:this._updatePosition},b&&(null==a?void 0:a.call(e))))};k._buildPopper=function(){g.isSome(this._popper)&&
(this._popper.destroy(),this._popper=null);const b=this._contentNode;if(!g.isNone(b)&&this.open&&this.renderContentFunction){var e=this._getAnchor();e&&(this._popper=w.createPopper(e,b),this._setPopperOptions())}};k._setPopperOptions=function(){const {placement:b,offset:e,_popper:a}=this;g.isNone(a)||(a.setOptions({placement:b,modifiers:[{name:"offset",options:{offset:e}}]}),a.forceUpdate())};k._getAnchor=function(){const {anchorElement:b}=this;return q.byId("function"===typeof b?b():b)};n._createClass(l,
[{key:"container",set:function(b){}},{key:"owner",set:function(b){this._set("owner",b)}},{key:"placement",get:function(){return"top"},set:function(b){-1===x.indexOf(b)?this._clearOverride("placement"):this._override("placement",b)}}]);return l}(v);d.__decorate([f.property(),h.renderable()],c.prototype,"anchorElement",void 0);d.__decorate([f.property()],c.prototype,"container",null);d.__decorate([f.property(),h.renderable()],c.prototype,"offset",void 0);d.__decorate([f.property(),h.renderable()],c.prototype,
"open",void 0);d.__decorate([f.property(),h.renderable()],c.prototype,"owner",null);d.__decorate([f.property(),h.renderable()],c.prototype,"placement",null);d.__decorate([f.property(),h.renderable()],c.prototype,"renderContentFunction",void 0);return c=d.__decorate([u.subclass("esri.widgets.support.Popover")],c)});