// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Handles ../core/watchUtils ./support/widgetUtils ./support/decorators/messageBundle ./support/decorators/renderable ../chunks/index ./Widget ./BuildingExplorer/BuildingExplorerViewModel ./BuildingExplorer/BuildingDisciplinesTree/BuildingDisciplinesTree ./BuildingExplorer/BuildingLevelPicker/BuildingLevelPicker ./BuildingExplorer/BuildingPhasePicker/BuildingPhasePicker".split(" "),
function(u,c,b,C,f,l,v,D,w,E,F,G,x,k,H,n,g,d,y,p,z,A,B){const q={levels:!0,phases:!0,disciplines:!0};b=function(r){function m(a,e){a=r.call(this,a,e)||this;a._defaultViewModel=new p;a.viewModel=a._defaultViewModel;a.view=null;a.layers=null;a.visibleElements={...q};a.iconClass="esri-icon-organization";a.label=void 0;a.messages=null;a.messagesCommon=null;a.toggleSiblingsVisibility=!1;a._handles=new x;a._levelPicker=new A;a._phasePicker=new B;a._disciplinesTree=new z;return a}u._inheritsLoose(m,r);var h=
m.prototype;h.initialize=function(){this._handles.add([k.init(this,"viewModel.level",()=>{this._levelPicker.viewModel=this.viewModel.level}),k.init(this,"viewModel.phase",()=>{this._phasePicker.viewModel=this.viewModel.phase}),k.init(this,"viewModel.disciplines",()=>{this._disciplinesTree.viewModel=this.viewModel.disciplines}),k.init(this,"messages",()=>{var a,e,t;this._levelPicker.messages=null==(a=this.messages)?void 0:a.level;this._phasePicker.messages=null==(e=this.messages)?void 0:e.phase;this._disciplinesTree.messages=
null==(t=this.messages)?void 0:t.disciplines}),k.init(this,"toggleSiblingsVisibility",()=>{this._disciplinesTree.toggleSiblingsVisibility=this.toggleSiblingsVisibility})])};h.destroy=function(){this._handles.destroy();this._levelPicker.destroy();this._phasePicker.destroy();this._disciplinesTree.destroy();this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()};h._castVisibleElements=function(a){return{...q,...a}};h.render=function(){return d.jsx("div",{key:this,class:this.classes("esri-widget",
"esri-building-explorer esri-widget--panel",{["esri-widget--disabled"]:"disabled"===this.viewModel.state||!this.viewModel.isSupported}),"aria-label":this.messages.widgetLabel},this._renderContent())};h._renderContent=function(){if(!this.viewModel.isSupported)return d.jsx("p",{class:"esri-building-explorer__panel--error"},this.messages.unsupported);if(!this.viewModel.layers.length)return d.jsx("p",{class:"esri-building-explorer__panel--error"},this.messages.noData);switch(this.viewModel.state){case "loading":return this._renderLoadingIndicator();
case "ready":return d.jsx("div",{key:"content",class:"esri-building-explorer__content"},this._renderLevelPickerSection(),this._renderPhasePickerSection(),this._renderDisciplinesSection());case "failed":return d.jsx("p",{class:"esri-building-explorer__panel--error"},this.messages.failed);default:return null}};h._renderLoadingIndicator=function(){return d.jsx("div",{key:"loading-container",role:"presentation",class:"esri-building-explorer__loading-container","aria-label":this.messagesCommon.loading,
title:this.messagesCommon.loading},d.jsx("span",{"aria-hidden":"true",class:this.classes("esri-icon-loading-indicator","esri-rotating")}))};h._renderLevelPickerSection=function(){var a=this.viewModel.level;const e="ready"===a.state;a=1<a.allowedValues.length;return this.visibleElements.levels&&e&&a?d.jsx("div",{key:"levels",class:this.classes("esri-building-explorer__section","esri-building-explorer__levels")},d.jsx("h4",{class:"esri-widget__heading"},this.messages.level.title),this._levelPicker.render()):
[]};h._renderPhasePickerSection=function(){var a=this.viewModel.phase;const e="ready"===a.state;a=1<a.allowedValues.length;return this.visibleElements.phases&&e&&a?d.jsx("div",{key:"phases",class:this.classes("esri-building-explorer__section","esri-building-explorer__phases")},d.jsx("h4",{class:"esri-widget__heading"},this.messages.phase.title),this._phasePicker.render()):[]};h._renderDisciplinesSection=function(){var a=this.viewModel.disciplines;const e="ready"===a.state;a=a.root.hasChildren;return this.visibleElements.disciplines&&
e&&a?d.jsx("div",{key:"disciplines",class:this.classes("esri-building-explorer__section","esri-building-explorer__disciplines")},d.jsx("h4",{class:"esri-widget__heading"},this.messages.disciplines.title),this._disciplinesTree.render()):[]};return m}(y);c.__decorate([f.property({type:p}),g.renderable(["state","level.state","phase.state","disciplines.state"])],b.prototype,"viewModel",void 0);c.__decorate([l.aliasOf("viewModel.view"),g.renderable()],b.prototype,"view",void 0);c.__decorate([l.aliasOf("viewModel.layers")],
b.prototype,"layers",void 0);c.__decorate([f.property(),g.renderable()],b.prototype,"visibleElements",void 0);c.__decorate([v.cast("visibleElements")],b.prototype,"_castVisibleElements",null);c.__decorate([f.property()],b.prototype,"iconClass",void 0);c.__decorate([l.aliasOf("messages.widgetLabel",{overridable:!0})],b.prototype,"label",void 0);c.__decorate([f.property(),g.renderable(),n.messageBundle("esri/widgets/BuildingExplorer/t9n/BuildingExplorer")],b.prototype,"messages",void 0);c.__decorate([f.property(),
g.renderable(),n.messageBundle("esri/t9n/common")],b.prototype,"messagesCommon",void 0);c.__decorate([f.property({nonNullable:!0}),g.renderable()],b.prototype,"toggleSiblingsVisibility",void 0);c.__decorate([f.property(),g.renderable()],b.prototype,"_levelPicker",void 0);c.__decorate([f.property(),g.renderable()],b.prototype,"_phasePicker",void 0);c.__decorate([f.property(),g.renderable()],b.prototype,"_disciplinesTree",void 0);return b=c.__decorate([w.subclass("esri.widgets.BuildingExplorer")],b)});