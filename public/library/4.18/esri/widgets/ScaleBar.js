// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/screenUtils ../core/watchUtils ./support/widgetUtils ./support/decorators/messageBundle ./support/decorators/renderable ../chunks/index ./Widget ./ScaleBar/ScaleBarViewModel".split(" "),
function(p,f,e,C,h,w,q,D,x,E,F,G,y,r,H,z,k,c,A,B){e=function(t){function l(a,b){a=t.call(this,a,b)||this;a.label=void 0;a.messages=null;a.unit="non-metric";a.view=null;a.viewModel=new B;return a}p._inheritsLoose(l,t);var g=l.prototype;g.initialize=function(){this.own([r.whenTrue(this,"view.stationary",()=>this.scheduleRender()),r.watch(this,["view.center","view.scale","view.zoom"],()=>{this.view.stationary&&this.scheduleRender()})])};g.castStyle=function(a){return"line"===a?a:"ruler"};g.castUnit=
function(a){return"metric"===a||"dual"===a?a:"non-metric"};g.render=function(){var a="disabled"===this.get("viewModel.state");const b={["esri-disabled"]:a};let d,u;if(!a){const {unit:m,style:v}=this;a="metric"===m||"dual"===m;if("non-metric"===m||"dual"===m){const n=this.viewModel.getScaleBarProperties(50,"non-metric");n&&(u="ruler"===v?this._renderRuler(n):this._renderLine(n,"bottom"))}a&&(a=this.viewModel.getScaleBarProperties(50,"metric"))&&(d="ruler"===v?this._renderRuler(a):this._renderLine(a,
"top"))}return c.jsx("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes("esri-scale-bar esri-widget",b)},d,u)};g._renderRuler=function(a){const b=2*Math.round(a.length),{messages:d}=this;a=`${2*a.value} ${d[a.unit]||d.unknownUnit}`;return c.jsx("div",{class:this.classes("esri-scale-bar__bar-container","esri-scale-bar__bar-container--ruler"),key:"esri-scale-bar__ruler"},c.jsx("div",{class:"esri-scale-bar__ruler",styles:{width:`${b}px`}},
c.jsx("div",{class:"esri-scale-bar__ruler-block"}),c.jsx("div",{class:"esri-scale-bar__ruler-block"}),c.jsx("div",{class:"esri-scale-bar__ruler-block"}),c.jsx("div",{class:"esri-scale-bar__ruler-block"})),c.jsx("div",{class:this.classes("esri-scale-bar__label-container","esri-scale-bar__label-container--ruler")},c.jsx("div",{class:"esri-scale-bar__label"},"0"),c.jsx("div",{class:"esri-scale-bar__label"},a)))};g._renderLine=function(a,b){var {messages:d}=this;d=`${2*a.value} ${d[a.unit]||d.unknownUnit}`;
d=c.jsx("div",{class:this.classes("esri-scale-bar__label-container","esri-scale-bar__label-container--line",{["esri-scale-bar__label-container--top"]:"top"===b,["esri-scale-bar__label-container--bottom"]:"bottom"===b}),key:"esri-scale-bar__label"},c.jsx("div",{class:"esri-scale-bar__label"},d));a=2*Math.round(a.length);b=c.jsx("div",{class:this.classes("esri-scale-bar__line",{["esri-scale-bar__line--top"]:"top"===b,["esri-scale-bar__line--bottom"]:"bottom"===b}),key:"esri-scale-bar__line",styles:{width:`${a}px`}});
return c.jsx("div",{class:this.classes("esri-scale-bar__bar-container","esri-scale-bar__bar-container--line"),key:"esri-scale-bar__line-container"},[b,d])};g._handleRootCreateOrUpdate=function(a){const b=this.viewModel;b&&(a=a.getBoundingClientRect(),b.scaleComputedFrom=y.createScreenPoint(a.left+window.pageXOffset,a.top+window.pageYOffset))};p._createClass(l,[{key:"style",set:function(a){this._set("style","dual"===this.unit?"line":a)}}]);return l}(A);f.__decorate([h.property({aliasOf:{source:"messages.widgetLabel",
overridable:!0}})],e.prototype,"label",void 0);f.__decorate([h.property(),k.renderable(),z.messageBundle("esri/widgets/ScaleBar/t9n/ScaleBar")],e.prototype,"messages",void 0);f.__decorate([h.property({dependsOn:["unit"]}),k.renderable()],e.prototype,"style",null);f.__decorate([q.cast("style")],e.prototype,"castStyle",null);f.__decorate([h.property(),k.renderable()],e.prototype,"unit",void 0);f.__decorate([q.cast("unit")],e.prototype,"castUnit",null);f.__decorate([w.aliasOf("viewModel.view"),k.renderable()],
e.prototype,"view",void 0);f.__decorate([h.property(),k.renderable(["viewModel.state"])],e.prototype,"viewModel",void 0);return e=f.__decorate([x.subclass("esri.widgets.ScaleBar")],e)});