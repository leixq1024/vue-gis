// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/maybe ../../../core/promiseUtils ../../../geometry/support/spatialReferenceUtils ../../../geometry/SpatialReference ../../../core/unitUtils ../../../geometry/projection ../../../geometry/support/geodesicUtils".split(" "),function(t,f,u,g,v,q,w,h,m){function n(a){return u.isSome(a)&&"polyline"===a.type}f.densifyPath=async function(a,k,c,d){var e=null;var b=a.spatialReference;const r=b.isGeographic||b.isWebMercator,l=await new Promise(function(x,y){t(["../../../geometry/geometryEngineAsync"],
x,y)});g.throwIfAborted(d);let p=0;r||(p=await l.planarLength(a,"meters"),g.throwIfAborted(d));r||p>=c.geodesicDistanceThreshold?(await h.initializeProjection([{source:b,dest:k},{source:b,dest:q.WGS84}],d),!v.isEarth(b)&&m.isSupported(b)?(b=m.geodesicLengths([a],"meters")[0],e=m.geodesicDensify(a,Math.max(c.samplingDistance,b/c.maxSamples))):(e=h.project(a,q.WGS84),b=await l.geodesicLength(e,"meters"),g.throwIfAborted(d),e=await l.geodesicDensify(e,Math.max(c.samplingDistance,b/c.maxSamples),"meters"),
g.throwIfAborted(d)),c=h.project(e,k)):(await h.initializeProjection([{source:b,dest:k}],d),b=p,c=await l.densify(a,Math.max(c.samplingDistance,b/c.maxSamples),"meters"),g.throwIfAborted(d),c=h.project(c,k));return{densifiedPath:c,densifiedPathInMeasurementSR:e,pathLength:b/w.getMetersPerUnitForSR(k)}};f.isMultiPathPolyline=function(a){return n(a)&&1<a.paths.length};f.isPolyline=n;f.isValidInputPath=function(a){return n(a)&&1===a.paths.length&&2<=a.paths[0].length};Object.defineProperty(f,"__esModule",
{value:!0})});