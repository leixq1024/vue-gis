// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["exports","../../core/lang","./spatialReferenceUtils","../SpatialReference","./Ellipsoid"],function(l,n,h,p,q){function r(a,b,c,f,d){if("x"in a&&"x"in d)[d.x,d.y]=b(a.x,a.y,t,f);else if("xmin"in a&&"xmin"in d)[d.xmin,d.ymin]=b(a.xmin,a.ymin,t,f),[d.xmax,d.ymax]=b(a.xmax,a.ymax,t,f);else if("paths"in a&&"paths"in d||"rings"in a&&"rings"in d){a="paths"in a?a.paths:a.rings;var k=[];for(let u=0;u<a.length;u++){const m=a[u];var e=[];k.push(e);for(let g=0;g<m.length;g++)e.push(b(m[g][0],m[g][1],
[0,0],f)),2<m[g].length&&e[g].push(m[g][2]),3<m[g].length&&e[g].push(m[g][3])}"paths"in d?d.paths=k:d.rings=k}else if("points"in a&&"points"in d){a=a.points;k=[];for(e=0;e<a.length;e++)k[e]=b(a[e][0],a[e][1],[0,0],f),2<a[e].length&&k[e].push(a[e][2]),3<a[e].length&&k[e].push(a[e][3]);d.points=k}d.spatialReference=c;return d}function x(a,b){const c=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference),f=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&"type"in a&&"mesh"===a.type||b&&"type"in
b&&"mesh"===b.type||!c||!f?!1:h.equals(f,c)?!0:h.isWebMercator(f)&&h.isWGS84(c)||h.isWebMercator(c)&&h.isWGS84(f)}function v(a,b,c=[0,0]){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;c[0]=.017453292519943*a*q.earth.radius;c[1]=q.earth.halfSemiMajorAxis*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return c}function w(a,b,c=[0,0],f=!1){a=a/q.earth.radius*57.29577951308232;c[0]=f?a:a-360*Math.floor((a+180)/360);c[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/q.earth.radius)));
return c}const t=[0,0];l.canProject=x;l.geographicToWebMercator=function(a,b=!1,c=n.clone(a)){return r(a,v,p.WebMercator,b,c)};l.lngLatToXY=v;l.project=function(a,b){const c=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return x(c,b)?h.equals(c,b)?n.clone(a):h.isWebMercator(b)?r(a,v,p.WebMercator,!1,n.clone(a)):h.isWGS84(b)?r(a,w,p.WGS84,!1,n.clone(a)):null:null};l.webMercatorToGeographic=function(a,b=!1,c=n.clone(a)){return r(a,w,p.WGS84,b,c)};l.xyToLngLat=w;Object.defineProperty(l,
"__esModule",{value:!0})});