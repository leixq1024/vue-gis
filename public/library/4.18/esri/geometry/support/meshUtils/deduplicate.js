// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/mathUtils"],function(A,F){function C(f,b,a){var c=f.byteLength/(4*b),r=new Uint32Array(f,0,c*b);f=new Uint32Array(c);var l=a&&a.minReduction||0;const h=a&&a.originalIndices||null;var d=a&&a.componentOffsets||null;a=0;if(d)for(var m=0;m<d.length-1;m++){var u=d[m+1]-d[m];u>a&&(a=u)}else a=c;var t=Math.floor(1.1*a)+1;if(null==n||n.length<2*t)n=new Uint32Array(F.nextHighestPowerOfTwo(2*t));for(a=0;a<2*t;a++)n[a]=0;a=0;u=(m=!!d&&!!h)?h.length:c;var w=m?new Uint32Array(h.length):
null,x=0!==l?Math.ceil(7.84*1.96/(l*l)*l*(1-l)):u,p=1,k=d?d[1]:u;for(var e=0;e<u;e++){if(e===x){var v=1-a/e;if(v+1.96*Math.sqrt(v*(1-v)/e)<l)return null;x*=2}if(e===k){for(k=0;k<2*t;k++)n[k]=0;if(h)for(k=d[p-1];k<d[p];k++)w[k]=f[h[k]];k=d[++p]}v=m?h[e]:e;const D=v*b;var q=0;for(var g=0;g<b;g++)q=r[D+g]+q|0,q=q+(q<<11)+(q>>>2)|0;q>>>=0;g=q%t;let B=a;for(;0!==n[2*g+1];){if(n[2*g]===q){const E=n[2*g+1]-1;var y=E*b;a:{for(let z=0;z<b;z++)if(r[D+z]!==r[y+z]){y=!1;break a}y=!0}if(y){B=f[E];break}}g++;g>=
t&&(g-=t)}B===a&&(n[2*g]=q,n[2*g+1]=v+1,a++);f[v]=B}if(0!==l&&1-a/c<l)return null;if(m){for(c=d[p-1];c<w.length;c++)w[c]=f[h[c]];f=w}c=new Uint32Array(b*a);a=0;for(p=0;p<u;p++)if(f[p]===a){l=r;d=(m?h[p]:p)*b;t=c;w=a*b;x=b;for(e=0;e<x;e++)t[w+e]=l[d+e];a++}if(h&&!m){b=new Uint32Array(h.length);for(r=0;r<b.length;r++)b[r]=f[h[r]];f=b}return{buffer:c.buffer,indices:f,uniqueCount:a}}let n=null;A.deduplicate=C;A.default=C;Object.defineProperty(A,"__esModule",{value:!0})});