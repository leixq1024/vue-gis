// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/spatialReferenceUtils ./SpatialReference ./Geometry ./support/offset ./support/pointUtils ./support/webMercatorUtils".split(" "),
function(x,h,e,z,A,m,B,M,C,D,E,N,O,P,F,G,H,I,J,n){function y(l){return l&&("esri.geometry.SpatialReference"===l.declaredClass||null!=l.wkid)}var v;const q=[0,0],w=z.getLogger("esri.geometry.Point");e=v=function(l){function r(...a){a=l.call(this,...a)||this;a.x=0;a.y=0;a.z=void 0;a.m=void 0;a.type="point";return a}x._inheritsLoose(r,l);r.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",
Object.isFrozen(a)?a:a.clone())};var k=r.prototype;k.normalizeCtorArgs=function(a,b,f,g,d){let c;if(Array.isArray(a))c=a,d=b,a=c[0],b=c[1],f=c[2],g=c[3];else if(a&&"object"===typeof a){if(c=a,a=null!=c.x?c.x:c.longitude,b=null!=c.y?c.y:c.latitude,f=c.z,g=c.m,(d=c.spatialReference)&&"esri.geometry.SpatialReference"!==d.declaredClass&&(d=new G(d)),null!=c.longitude||null!=c.latitude)null==c.longitude?w.warn(".longitude\x3d","Latitude was defined without longitude"):null==c.latitude?w.warn(".latitude\x3d",
"Longitude was defined without latitude"):!c.declaredClass&&d&&d.isWebMercator&&(b=n.lngLatToXY(c.longitude,c.latitude,q),a=b[0],b=b[1])}else y(f)?(d=f,f=null):y(g)&&(d=g,g=null);a={x:a,y:b};null==a.x&&null!=a.y?w.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&w.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=d&&(a.spatialReference=d);null!=f&&(a.z=f);null!=g&&(a.m=g);return a};k.writeX=function(a,b,f){b[f]=isNaN(a)?"NaN":a};k.readX=
function(a){return"string"===typeof a?NaN:a};k.clone=function(){const a=new v;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};k.copy=function(a){v.copy(a,this);return this};k.equals=function(a){if(!a)return!1;const {x:b,y:f,z:g,m:d,spatialReference:c}=this,{z:K,m:L}=a;let {x:t,y:u,spatialReference:p}=a;if(!c.equals(p))if(c.isWebMercator&&p.isWGS84)[t,u]=n.lngLatToXY(t,u),p=c;else if(c.isWGS84&&p.isWebMercator)[t,u]=n.xyToLngLat(t,u),p=c;else return!1;
return b===t&&f===u&&g===K&&d===L&&c.wkid===p.wkid};k.offset=function(a,b,f){return I.offsetPoint(this,a,b,f)};k.normalize=function(){if(!this.spatialReference)return this;var a=F.getInfo(this.spatialReference);if(!a)return this;let b=this.x;const [f,g]=a.valid;a=2*g;let d;b>g?(d=Math.ceil(Math.abs(b-g)/a),b-=d*a):b<f&&(d=Math.ceil(Math.abs(b-f)/a),b+=d*a);this._set("x",b);return this};k.distance=function(a){return J.distance(this,a)};k.toArray=function(){const a=this.hasZ,b=this.hasM;return a&&b?
[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};k.toJSON=function(a){return this.write(null,a)};x._createClass(r,[{key:"hasM",get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))}},{key:"latitude",get:function(){const a=this._get("spatialReference");if(a){if(a.isWebMercator)return n.xyToLngLat(this.x,
this.y,q)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){const b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",n.lngLatToXY(this.x,a,q)[1]):b.isGeographic&&this._set("y",a),this._set("latitude",a))}},{key:"longitude",get:function(){const a=this._get("spatialReference");if(a){if(a.isWebMercator)return n.xyToLngLat(this._get("x"),this._get("y"),q)[0];if(a.isGeographic)return this._get("x")}return null},set:function(a){const b=this._get("spatialReference");
b&&(b.isWebMercator?this._set("x",n.lngLatToXY(a,this._get("y"),q)[0]):b.isGeographic&&this._set("x",a),this._set("longitude",a))}}]);return r}(H);h.__decorate([m.property({dependsOn:["x","y","z","m","spatialReference"],autoTracked:!1})],e.prototype,"cache",void 0);h.__decorate([m.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],e.prototype,"hasM",null);h.__decorate([m.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],
e.prototype,"hasZ",null);h.__decorate([m.property({type:Number,dependsOn:["y"],autoTracked:!1})],e.prototype,"latitude",null);h.__decorate([m.property({type:Number,dependsOn:["x"],autoTracked:!1})],e.prototype,"longitude",null);h.__decorate([m.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),B.cast(l=>isNaN(l)?l:A.ensureNumber(l))],e.prototype,"x",void 0);h.__decorate([E.writer("x")],e.prototype,"writeX",null);h.__decorate([C.reader("x")],e.prototype,"readX",
null);h.__decorate([m.property({type:Number,json:{write:!0}})],e.prototype,"y",void 0);h.__decorate([m.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.prototype,"z",void 0);h.__decorate([m.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.prototype,"m",void 0);e=v=h.__decorate([D.subclass("esri.geometry.Point")],e);e.prototype.toJSON.isDefaultToJSON=!0;return e});