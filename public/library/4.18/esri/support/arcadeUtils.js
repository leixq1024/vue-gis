// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.18/esri/copyright.txt for details.
//>>built
require({cache:{"esri/arcade/Dictionary":function(){define(["../geometry/Geometry","./ImmutableArray","../chunks/languageUtils"],function(x,y,D){function F(h){var q=null;if(null!==h)if(D.isNumber(h))q=D.toNumber(h);else if(D.isBoolean(h))q=D.toBoolean(h);else if(D.isString(h))q=D.toString(h);else if(D.isDate(h))q=D.toDate(h);else if(D.isArray(h)){q=[];for(var e of h)q.push(F(e))}else{if(0===Object.keys(h).length)return null;q=new k;q.immutable=!1;for(const l of Object.keys(h))e=h[l],void 0!==e&&q.setField(l,
F(e));q.immutable=!0}return q}let k=function(){function h(e){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=e instanceof h?e.attributes:void 0===e?{}:null===e?{}:e}var q=h.prototype;q.field=function(e){const l=e.toLowerCase(),f=this.attributes[e];if(void 0!==f)return f;for(const m in this.attributes)if(m.toLowerCase()===l)return this.attributes[m];throw Error("Field not Found : "+e);};q.setField=function(e,l){if(this.immutable)throw Error("Dictionary is Immutable");
const f=e.toLowerCase();if(void 0===this.attributes[e])for(const m in this.attributes)if(m.toLowerCase()===f){this.attributes[m]=l;return}this.attributes[e]=l};q.hasField=function(e){const l=e.toLowerCase();if(void 0!==this.attributes[e])return!0;for(const f in this.attributes)if(f.toLowerCase()===l)return!0;return!1};q.keys=function(){let e=[];for(const l in this.attributes)e.push(l);return e=e.sort()};q.castToText=function(){let e="";for(const l in this.attributes){""!==e&&(e+=",");const f=this.attributes[l];
null==f?e+=JSON.stringify(l)+":null":D.isBoolean(f)||D.isNumber(f)||D.isString(f)?e+=JSON.stringify(l)+":"+JSON.stringify(f):f instanceof x?e+=JSON.stringify(l)+":"+D.toStringExplicit(f):f instanceof y?e+=JSON.stringify(l)+":"+D.toStringExplicit(f):f instanceof Array?e+=JSON.stringify(l)+":"+D.toStringExplicit(f):f instanceof Date?e+=JSON.stringify(l)+":"+JSON.stringify(f):null!==f&&"object"===typeof f&&void 0!==f.castToText&&(e+=JSON.stringify(l)+":"+f.castToText())}return"{"+e+"}"};h.convertObjectToArcadeDictionary=
function(e){const l=new h;l.immutable=!1;for(const f in e){const m=e[f];void 0!==m&&l.setField(f.toString(),F(m))}l.immutable=!0;return l};return h}();return k})},"esri/arcade/ImmutableArray":function(){define(function(){return function(){function x(D=[]){this._elements=D}var y=x.prototype;y.length=function(){return this._elements.length};y.get=function(D){return this._elements[D]};y.toArray=function(){const D=[];for(let F=0;F<this.length();F++)D.push(this.get(F));return D};return x}()})},"esri/chunks/languageUtils":function(){define("exports ../core/maybe ../core/promiseUtils ../geometry/Geometry ../geometry/Point ../geometry/Extent ../geometry/Multipoint ../geometry/support/coordsUtils ../geometry/Polygon ../geometry/Polyline ../arcade/ImmutableArray ../arcade/FunctionWrapper ../arcade/ImmutablePointArray ../arcade/ImmutablePathArray ../core/number".split(" "),
function(x,y,D,F,k,h,q,e,l,f,m,a,b,n,r){function G(w,E,M){return""===E||null===E||void 0===E||E===M||E===M?w:w=w.split(E).join(M)}function v(w){return w instanceof ba||w instanceof a||w instanceof ha}function A(w){return c(w)||d(w)||la(w)||g(w)||null===w||w===Y||"number"===typeof w?!0:!1}function z(w,E){return void 0===w?E:w}function c(w){return"string"===typeof w||w instanceof String}function g(w){return"boolean"===typeof w}function d(w){return"number"===typeof w}function u(w){return"number"===typeof w&&
isFinite(w)&&Math.floor(w)===w}function L(w){return w instanceof Array}function T(w){return!0===(w&&w.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===w.declaredRootClass)}function U(w){return!0===(w&&w.declaredRootClass&&"esri.arcade.featureSetCollection"===w.declaredRootClass)}function Q(w){return w instanceof m}function la(w){return w instanceof Date}function W(w,E,M){if(w.length<E||w.length>M)throw Error("Function called with wrong number of Parameters");}function za(){let w=(new Date).getTime();
return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(E){const M=(w+16*Math.random())%16|0;w=Math.floor(w/16);return("x"===E?M:M&3|8).toString(16)})}function Aa(w,E){if(!1===isNaN(w)){if(void 0===E||null===E||""===E)return w.toString();E=G(E,"\u2030","");E=G(E,"\u00a4","");return r.format(w,{pattern:E})}return w.toString()}function ua(w,E){w=Ba.Moment(w);return void 0===E||null===E||""===E?w.format():w.format(wa(E))}function wa(w){return w.replace(/(LTS)|L|l/g,function(E){return"["+
E+"]"})}function ca(w,E,M){switch(M){case "\x3e":return w>E;case "\x3c":return w<E;case "\x3e\x3d":return w>=E;case "\x3c\x3d":return w<=E}return!1}function ya(w,E,M){if(null===w){if(null===E||E===Y)return ca(null,null,M);if(d(E))return ca(0,E,M);if(c(E)||g(E))return ca(0,da(E),M);if(la(E))return ca(0,E.getTime(),M)}if(w===Y){if(null===E||E===Y)return ca(null,null,M);if(d(E))return ca(0,E,M);if(c(E)||g(E))return ca(0,da(E),M);if(la(E))return ca(0,E.getTime(),M)}else if(d(w)){if(d(E))return ca(w,E,
M);if(g(E))return ca(w,da(E),M);if(null===E||E===Y)return ca(w,0,M);if(c(E))return ca(w,da(E),M);if(la(E))return ca(w,E.getTime(),M)}else if(c(w)){if(c(E))return ca(oa(w),oa(E),M);if(la(E))return ca(da(w),E.getTime(),M);if(d(E))return ca(da(w),E,M);if(null===E||E===Y)return ca(da(w),0,M);if(g(E))return ca(da(w),da(E),M)}else if(la(w)){if(la(E))return ca(w,E,M);if(null===E||E===Y)return ca(w.getTime(),0,M);if(d(E))return ca(w.getTime(),E,M);if(g(E)||c(E))return ca(w.getTime(),da(E),M)}else if(g(w)){if(g(E))return ca(w,
E,M);if(d(E))return ca(da(w),da(E),M);if(la(E))return ca(da(w),E.getTime(),M);if(null===E||E===Y)return ca(da(w),0,M);if(c(E))return ca(da(w),da(E),M)}return!Ca(w,E)||"\x3c\x3d"!==M&&"\x3e\x3d"!==M?!1:!0}function Ca(w,E){if(w===E||null===w&&E===Y||null===E&&w===Y)return!0;if(la(w)&&la(E))return w.getTime()===E.getTime();if(w instanceof n||w instanceof b)return w.equalityTest(E);if(w instanceof k&&E instanceof k){let M,V;M=w.cache._arcadeCacheId;V=E.cache._arcadeCacheId;if(void 0!==M&&null!==M)return M===
V}return void 0!==w&&void 0!==E&&null!==w&&null!==E&&"object"===typeof w&&"object"===typeof E&&(w._arcadeCacheId===E._arcadeCacheId&&void 0!==w._arcadeCacheId&&null!==w._arcadeCacheId||w._underlyingGraphic===E._underlyingGraphic&&void 0!==w._underlyingGraphic&&null!==w._underlyingGraphic)?!0:!1}function oa(w,E){if(c(w))return w;if(null===w)return"";if(d(w))return Aa(w,E);if(g(w))return w.toString();if(la(w))return ua(w,E);if(w instanceof F)return JSON.stringify(w.toJSON());if(L(w)){E=[];for(var M=
0;M<w.length;M++)E[M]=ma(w[M]);return"["+E.join(",")+"]"}if(w instanceof m){E=[];for(M=0;M<w.length();M++)E[M]=ma(w.get(M));return"["+E.join(",")+"]"}return null!==w&&"object"===typeof w&&void 0!==w.castToText?w.castToText():v(w)?"object, Function":""}function xa(w){const E=[];if(!1===L(w))return null;if(w instanceof m){for(var M=0;M<w.length();M++)E[M]=da(w.get(M));return E}for(M=0;M<w.length;M++)E[M]=da(w[M]);return E}function na(w,E){if(c(w))return w;if(null===w)return"";if(d(w))return Aa(w,E);
if(g(w))return w.toString();if(la(w))return ua(w,E);if(w instanceof F)return w instanceof h?'{"xmin":'+w.xmin.toString()+',"ymin":'+w.ymin.toString()+","+(w.hasZ?'"zmin":'+w.zmin.toString()+",":"")+(w.hasM?'"mmin":'+w.mmin.toString()+",":"")+'"xmax":'+w.xmax.toString()+',"ymax":'+w.ymax.toString()+","+(w.hasZ?'"zmax":'+w.zmax.toString()+",":"")+(w.hasM?'"mmax":'+w.mmax.toString()+",":"")+'"spatialReference":'+K(w.spatialReference)+"}":K(w.toJSON(),(V,R)=>V.key===R.key?0:"spatialReference"===V.key?
1:"spatialReference"===R.key||V.key<R.key?-1:V.key>R.key?1:0);if(L(w)){E=[];for(var M=0;M<w.length;M++)E[M]=ma(w[M]);return"["+E.join(",")+"]"}if(w instanceof m){E=[];for(M=0;M<w.length();M++)E[M]=ma(w.get(M));return"["+E.join(",")+"]"}return null!==w&&"object"===typeof w&&void 0!==w.castToText?w.castToText():v(w)?"object, Function":""}function ma(w){return null===w?"null":g(w)||d(w)||c(w)?JSON.stringify(w):w instanceof F||w instanceof m||w instanceof Array?na(w):w instanceof Date?JSON.stringify(ua(w,
"")):null!==w&&"object"===typeof w&&void 0!==w.castToText?w.castToText():"null"}function da(w,E){return d(w)?w:null===w||""===w?0:la(w)?NaN:g(w)?w?1:0:L(w)||""===w||void 0===w?NaN:void 0!==E&&c(w)?(E=G(E,"\u2030",""),E=G(E,"\u00a4",""),r.parse(w,{pattern:E})):w===Y?0:Number(w)}function ra(w,E){return la(w)?w:c(w)&&(w=Ba.Moment(w,[void 0===E||null===E||""===E?Ba.Moment.ISO_8601:E]),w.isValid())?w.toDate():null}function sa(w,E){return la(w)?Ba.Moment(w):c(w)&&(w=Ba.Moment(w,[void 0===E||null===E||""===
E?Ba.Moment.ISO_8601:E]),w.isValid())?w:null}function ta(w){return g(w)?w:c(w)?(w=w.toLowerCase(),"true"===w?!0:!1):d(w)?0===w||isNaN(w)?!1:!0:!1}function pa(w,E){if(y.isNone(w))return null;if(null===w.spatialReference||void 0===w.spatialReference)w.spatialReference=E;return w}function ia(w){if(null===w)return null;if(w instanceof k)return"NaN"===w.x||null===w.x||isNaN(w.x)?null:w;if(w instanceof l){if(0===w.rings.length)return null;for(const E of w.rings)if(0<E.length)return w;return null}if(w instanceof
f){if(0===w.paths.length)return null;for(const E of w.paths)if(0<E.length)return w;return null}return w instanceof q?0===w.points.length?null:w:w instanceof h?"NaN"===w.xmin||null===w.xmin||isNaN(w.xmin)?null:w:null}function S(w,E){if(!w||!w.domain)return E;let M=null;if("string"===w.field.type||"esriFieldTypeString"===w.field.type)E=oa(E);else{if(null===E||void 0===E)return null;if(""===E)return E;E=da(E)}for(let V=0;V<w.domain.codedValues.length;V++){const R=w.domain.codedValues[V];R.code===E&&
(M=R)}return null===M?E:M.name}function B(w,E){if(!w||!w.domain)return E;let M=null;E=oa(E);for(let V=0;V<w.domain.codedValues.length;V++){const R=w.domain.codedValues[V];R.name===E&&(M=R)}return null===M?E:M.code}function C(w,E,M=null,V){if(!E||!E.fields)return null;let R=null;for(let va=0;va<E.fields.length;va++){const qa=E.fields[va];qa.name.toLowerCase()===w.toString().toLowerCase()&&(R=qa)}if(null===R)throw Error("Field not found");let fa,ka;V||(V=M&&E.typeIdField&&M._field(E.typeIdField));null!=
V&&E.types.some(function(va){return va.id===V?((fa=va.domains&&va.domains[R.name])&&"inherited"===fa.type&&(fa=I(R.name,E),ka=!0),!0):!1});ka||fa||(fa=I(w,E));return{field:R,domain:fa}}function I(w,E){let M;E.fields.some(function(V){V.name===w&&(M=V.domain);return!!M});return M}function K(w,E){E||(E={});"function"===typeof E&&(E={cmp:E});const M="boolean"===typeof E.cycles?E.cycles:!1,V=E.cmp&&function(fa){return function(ka){return function(va,qa){return fa({key:va,value:ka[va]},{key:qa,value:ka[qa]})}}}(E.cmp),
R=[];return function va(ka){ka&&ka.toJSON&&"function"===typeof ka.toJSON&&(ka=ka.toJSON());if(void 0!==ka){if("number"===typeof ka)return isFinite(ka)?""+ka:"null";if("object"!==typeof ka)return JSON.stringify(ka);var qa;if(Array.isArray(ka)){var Da="[";for(qa=0;qa<ka.length;qa++)qa&&(Da+=","),Da+=va(ka[qa])||"null";return Da+"]"}if(null===ka)return"null";if(-1!==R.indexOf(ka)){if(M)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var La=R.push(ka)-
1,Ia=Object.keys(ka).sort(V&&V(ka));Da="";for(qa=0;qa<Ia.length;qa++){const Ja=Ia[qa],Ka=va(ka[Ja]);Ka&&(Da&&(Da+=","),Da+=JSON.stringify(Ja)+":"+Ka)}R.splice(La,1);return"{"+Da+"}"}}(w)}function O(w){if(null===w)return null;const E=[];for(const M of w)M&&(M.declaredClass&&"esri.arcade.Feature"===M.declaredClass||"FeatureSetReader"===M.type)?E.push(M.geometry()):E.push(M);return E}function X(w,E){if(E instanceof k)w.push(E.hasZ?E.hasM?[E.x,E.y,E.z,E.m]:[E.x,E.y,E.z]:[E.x,E.y]);else throw Error("Invalid Argument");
}function ja(w,E){if(L(w)||Q(w)){let M=!1,V=!1,R=[];if(L(w)){for(const fa of w)X(R,fa);0<R.length&&(E=w[0].spatialReference,M=w[0].hasZ,V=w[0].hasM)}else if(w instanceof b)R=w._elements,0<R.length&&(M=w._hasZ,V=w._hasM,E=w.get(0).spatialReference);else if(Q(w)){for(const fa of w.toArray())X(R,fa);0<R.length&&(E=w.get(0).spatialReference,M=!0===w.get(0).hasZ,V=!0===w.get(0).hasM)}else throw Error("Invalid Argument");if(0===R.length)return null;!1===e.isClockwise(R,V,M)&&(R=R.slice(0).reverse());return new l({rings:[R],
spatialReference:E,hasZ:M,hasM:V})}return w}function ea(w,E){if(L(w)||Q(w)){let M=!1,V=!1,R=[];if(L(w)){for(const fa of w)X(R,fa);0<R.length&&(E=w[0].spatialReference,M=!0===w[0].hasZ,V=!0===w[0].hasM)}else if(w instanceof b)R=w._elements,0<R.length&&(M=w._hasZ,V=w._hasM,E=w.get(0).spatialReference);else if(Q(w)){for(const fa of w.toArray())X(R,fa);0<R.length&&(E=w.get(0).spatialReference,M=!0===w.get(0).hasZ,V=!0===w.get(0).hasM)}return 0===R.length?null:new f({paths:[R],spatialReference:E,hasZ:M,
hasM:V})}return w}function p(w,E){if(L(w)||Q(w)){let M=!1,V=!1,R=[];if(L(w)){for(const fa of w)X(R,fa);0<R.length&&(E=w[0].spatialReference,M=!0===w[0].hasZ,V=!0===w[0].hasM)}else if(w instanceof b)R=w._elements,0<R.length&&(M=w._hasZ,V=w._hasM,E=w.get(0).spatialReference);else if(Q(w)){for(const fa of w.toArray())X(R,fa);0<R.length&&(E=w.get(0).spatialReference,M=!0===w.get(0).hasZ,V=!0===w.get(0).hasM)}return 0===R.length?null:new q({points:R,spatialReference:E,hasZ:M,hasM:V})}return w}function t(w,
E=!1){const M=[];if(null===w)return M;if(!0===L(w)){for(var V=0;V<w.length;V++){var R=oa(w[V]);""===R&&!0!==E||M.push(R)}return M}if(w instanceof m){for(V=0;V<w.length();V++)R=oa(w.get(V)),""===R&&!0!==E||M.push(R);return M}return A(w)?(w=oa(w),""===w&&!0!==E||M.push(w),M):[]}function H(w){Ea++;return 0===Ea%100?(Ea=0,D.create(E=>{setTimeout(()=>{E(w)},0)})):w}function J(w,E,M){switch(M){case "\x26":return w&E;case "|":return w|E;case "^":return w^E;case "\x3c\x3c":return w<<E;case "\x3e\x3e":return w>>
E;case "\x3e\x3e\x3e":return w>>>E}}let N=function(w){this.value=w},aa=function(w){this.value=w},ba=function(w){this.fn=w},ha=function(w){this.fn=w};const P=ba,Z=ha,Y={type:"VOID"},Fa={type:"BREAK"},Ga={type:"CONTINUE"};let Ea=0;const Ba={Moment:null};var Ha=Object.freeze({__proto__:null,ReturnResultE:N,ImplicitResultE:aa,NativeFunctionE:ba,SizzleFunctionE:ha,NativeFunction:P,ImplicitResult:aa,ReturnResult:N,SizzleFunction:Z,voidOperation:Y,breakResult:Fa,continueResult:Ga,multiReplace:G,isFunctionParameter:v,
isSimpleType:A,defaultUndefined:z,isString:c,isBoolean:g,isNumber:d,isInteger:u,isArray:L,isFeatureSet:T,isFeatureSetCollection:U,isImmutableArray:Q,isDate:la,pcCheck:W,generateUUID:za,formatNumber:Aa,formatDate:ua,standardiseDateFormat:wa,greaterThanLessThan:ya,equalityTest:Ca,toString:oa,toNumberArray:xa,toStringExplicit:na,toNumber:da,toDate:ra,toDateM:sa,toBoolean:ta,fixSpatialReference:pa,fixNullGeometry:ia,getDomainValue:S,getDomainCode:B,getDomain:C,stableStringify:K,autoCastFeatureToGeometry:O,
autoCastArrayOfPointsToPolygon:ja,autoCastArrayOfPointsToPolyline:ea,autoCastArrayOfPointsToMultiPoint:p,toStringArray:t,tick:H,MomentLibrary:Ba,binaryOperator:J});x.ImplicitResult=aa;x.ImplicitResultE=aa;x.MomentLibrary=Ba;x.NativeFunction=P;x.NativeFunctionE=ba;x.ReturnResult=N;x.ReturnResultE=N;x.SizzleFunction=Z;x.SizzleFunctionE=ha;x.autoCastArrayOfPointsToMultiPoint=p;x.autoCastArrayOfPointsToPolygon=ja;x.autoCastArrayOfPointsToPolyline=ea;x.autoCastFeatureToGeometry=O;x.binaryOperator=J;x.breakResult=
Fa;x.continueResult=Ga;x.defaultUndefined=z;x.equalityTest=Ca;x.fixNullGeometry=ia;x.fixSpatialReference=pa;x.formatDate=ua;x.formatNumber=Aa;x.generateUUID=za;x.getDomain=C;x.getDomainCode=B;x.getDomainValue=S;x.greaterThanLessThan=ya;x.isArray=L;x.isBoolean=g;x.isDate=la;x.isFeatureSet=T;x.isFeatureSetCollection=U;x.isFunctionParameter=v;x.isImmutableArray=Q;x.isInteger=u;x.isNumber=d;x.isSimpleType=A;x.isString=c;x.lc=Ha;x.multiReplace=G;x.pcCheck=W;x.stableStringify=K;x.standardiseDateFormat=
wa;x.tick=H;x.toBoolean=ta;x.toDate=ra;x.toDateM=sa;x.toNumber=da;x.toNumberArray=xa;x.toString=oa;x.toStringArray=t;x.toStringExplicit=na;x.voidOperation=Y})},"esri/arcade/FunctionWrapper":function(){define(function(){return function(x,y){this.context=this.definition=null;this.definition=x;this.context=y}})},"esri/arcade/ImmutablePointArray":function(){define(["../chunks/_rollupPluginBabelHelpers","../geometry/Point","./ImmutableArray"],function(x,y,D){return function(F){function k(q,e,l,f,m,a){q=
F.call(this,q)||this;q._lazyPt=[];q._hasZ=!1;q._hasM=!1;q._spRef=e;q._hasZ=l;q._hasM=f;q._cacheId=m;q._partId=a;return q}x._inheritsLoose(k,F);var h=k.prototype;h.get=function(q){if(void 0===this._lazyPt[q]){const e=this._elements[q];if(void 0===e)return;const l=this._hasZ,f=this._hasM;let m=null;m=l&&!f?new y(e[0],e[1],e[2],void 0,this._spRef):f&&!l?new y(e[0],e[1],void 0,e[2],this._spRef):l&&f?new y(e[0],e[1],e[2],e[3],this._spRef):new y(e[0],e[1],this._spRef);m.cache._arcadeCacheId=this._cacheId.toString()+
"-"+this._partId.toString()+"-"+q.toString();this._lazyPt[q]=m}return this._lazyPt[q]};h.equalityTest=function(q){return q===this?!0:null===q||!1===q instanceof k?!1:q.getUniqueHash()===this.getUniqueHash()};h.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};return k}(D)})},"esri/arcade/ImmutablePathArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","./ImmutablePointArray"],function(x,y,D){return function(F){function k(q,e,l,f,m){q=
F.call(this,q)||this;q._lazyPath=[];q._hasZ=!1;q._hasM=!1;q._hasZ=l;q._hasM=f;q._spRef=e;q._cacheId=m;return q}x._inheritsLoose(k,F);var h=k.prototype;h.get=function(q){if(void 0===this._lazyPath[q]){const e=this._elements[q];if(void 0===e)return;this._lazyPath[q]=new D(e,this._spRef,this._hasZ,this._hasM,this._cacheId,q)}return this._lazyPath[q]};h.equalityTest=function(q){return q===this?!0:null===q||!1===q instanceof k?!1:q.getUniqueHash()===this.getUniqueHash()};h.getUniqueHash=function(){return this._cacheId.toString()};
return k}(y)})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(x,y,D){function F(a){a||(a=D.getLocale());let b=a in l;if(!b){const v=a.split("-");1<v.length&&v[0]in l&&(a=v[0],b=!0);b||(a="en")}const [n,r,G="#,##0.###"]=l[a];return{decimal:n,group:r,pattern:G}}function k(a,b,n){n=n||{};!0===n.places&&(n.places=0);Infinity===n.places&&(n.places=6);b=b.split(".");var r="string"===typeof n.places&&n.places.indexOf(","),G=n.places;r?G=n.places.substring(r+1):0<=
G||(G=(b[1]||[]).length);0>n.round||(a=Number(a.toFixed(Number(G))));a=String(Math.abs(a)).split(".");const v=a[1]||"";b[1]||n.places?(r&&(n.places=n.places.substring(0,r)),r=void 0!==n.places?n.places:b[1]&&b[1].lastIndexOf("0")+1,r>v.length&&(a[1]=v.padEnd(Number(r),"0")),G<v.length&&(a[1]=v.substr(0,Number(G)))):a[1]&&a.pop();G=b[0].replace(",","");r=G.indexOf("0");-1!==r&&(r=G.length-r,r>a[0].length&&(a[0]=a[0].padStart(r,"0")),-1===G.indexOf("#")&&(a[0]=a[0].substr(a[0].length-r)));G=b[0].lastIndexOf(",");
let A,z;-1!==G&&(A=b[0].length-G-1,b=b[0].substr(0,G),G=b.lastIndexOf(","),-1!==G&&(z=b.length-G-1));b=[];for(G=a[0];G;)r=G.length-A,b.push(0<r?G.substr(r):G),G=0<r?G.slice(0,r):"",z&&(A=z,z=void 0);a[0]=b.reverse().join(n.group||",");return a.join(n.decimal||".")}function h(a){a=a||{};var b=F(a.locale);const n=a.pattern||b.pattern,r=b.group,G=b.decimal;let v=1;if(-1!==n.indexOf("%"))v/=100;else if(-1!==n.indexOf("\u2030"))v/=1E3;else if(-1!==n.indexOf("\u00a4"))throw Error("currency notation not supported");
b=n.split(";");1===b.length&&b.push("-"+b[0]);return{regexp:m(b,function(A){A="(?:"+y.escapeRegExpString(A,".")+")";return A.replace(f,function(z){const c={signed:!1,separator:a.strict?r:[r,""],fractional:a.fractional,decimal:G,exponent:!1};z=z.split(".");let g=a.places;1===z.length&&1!==v&&(z[1]="###");1===z.length||0===g?c.fractional=!1:(void 0===g&&(g=a.pattern?z[1].lastIndexOf("0")+1:Infinity),g&&null==a.fractional&&(c.fractional=!0),!a.places&&g<z[1].length&&(g+=","+z[1].length),c.places=g);
z=z[0].split(",");1<z.length&&(c.groupSize=z.pop().length,1<z.length&&(c.groupSize2=z.pop().length));return"("+q(c)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:r,decimal:G,factor:v}}function q(a){a=a||{};"places"in a||(a.places=Infinity);"string"!==typeof a.decimal&&(a.decimal=".");"fractional"in a&&!/^0/.test(String(a.places))||(a.fractional=[!0,!1]);"exponent"in a||(a.exponent=[!0,!1]);"eSigned"in a||(a.eSigned=[!0,!1]);var b=e(a);const n=m(a.fractional,function(G){let v="";G&&0!==a.places&&
(v="\\"+a.decimal,v=Infinity===a.places?"(?:"+v+"\\d+)?":v+("\\d{"+a.places+"}"));return v},!0),r=m(a.exponent,function(G){return G?"([eE]"+e({signed:a.eSigned})+")":""});b+=n;n&&(b="(?:(?:"+b+")|(?:"+n+"))");return b+r}function e(a){a=a||{};"signed"in a||(a.signed=[!0,!1]);"separator"in a?"groupSize"in a||(a.groupSize=3):a.separator="";const b=m(a.signed,function(r){return r?"[-+]":""},!0),n=m(a.separator,function(r){if(!r)return"(?:\\d+)";r=y.escapeRegExpString(r);" "===r?r="\\s":"\u00a0"===r&&
(r="\\s\\xa0");const G=a.groupSize,v=a.groupSize2;return v?(r="(?:0|[1-9]\\d{0,"+(v-1)+"}(?:["+r+"]\\d{"+v+"})*["+r+"]\\d{"+G+"})",0<G-v?"(?:"+r+"|(?:0|[1-9]\\d{0,"+(G-1)+"}))":r):"(?:0|[1-9]\\d{0,"+(G-1)+"}(?:["+r+"]\\d{"+G+"})*)"},!0);return b+n}const l={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],"fr-ch":[",",
"\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},f=/[#0,]*[#0](?:\.0*#*)?/,m=function(a,b,n){if(!(a instanceof
Array))return b(a);const r=[];for(let G=0;G<a.length;G++)r.push(b(a[G]));a=r.join("|");return"("+(n?"?:":"")+a+")"};x._parseInfo=h;x.format=function(a,b){b={...b};var n=F(b.locale);b.customs=n;var r=b.pattern||n.pattern;if(isNaN(a)||Infinity===Math.abs(a))return null;{b=b||{};n=b.customs.group;const v=b.customs.decimal;r=r.split(";");var G=r[0];r=r[0>a?1:0]||"-"+G;if(-1!==r.indexOf("%"))a*=100;else if(-1!==r.indexOf("\u2030"))a*=1E3;else{if(-1!==r.indexOf("\u00a4"))throw Error("currency notation not supported");
if(-1!==r.indexOf("E"))throw Error("exponential notation not supported");}const A=f;G=G.match(A);if(!G)throw Error("unable to find a number expression in pattern: "+r);!1===b.fractional&&(b.places=0);a=r.replace(A,k(a,G[0],{decimal:v,group:n,places:b.places,round:b.round}))}return a};x.getCustoms=F;x.parse=function(a,b){b=h(b);a=(new RegExp("^"+b.regexp+"$")).exec(a);if(!a)return NaN;let n=a[1];if(!a[1]){if(!a[2])return NaN;n=a[2];b.factor*=-1}n=n.replace(new RegExp("["+b.group+"\\s\\xa0]","g"),"").replace(b.decimal,
".");return Number(n)*b.factor};x.regexp=function(a){return h(a).regexp};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/Feature":function(){define("../core/maybe ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils ./ImmutableArray ../chunks/languageUtils ./Dictionary ./featureset/support/shared ../layers/graphics/featureConversionUtils".split(" "),function(x,y,D,F,k,h,q,e,l){return function(){function f(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=
this._geometry=this._optimizedGeomDefinition=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}f.createFromGraphic=function(a){const b=new f;b._geometry=x.isSome(a.geometry)?a.geometry:null;b.attributes=void 0===a.attributes?{}:null===a.attributes?{}:a.attributes;a._sourceLayer?(b._layer=a._sourceLayer,b._datesfixed=!1):a._layer?(b._layer=a._layer,b._datesfixed=!1):a.layer?(b._layer=a.layer,b._datesfixed=!1):a.sourceLayer&&(b._layer=a.sourceLayer,b._datesfixed=!1);return b};
f.createFromArcadeFeature=function(a){const b=new f;b._datesfixed=a._datesfixed;b.attributes=a.attributes;b._geometry=a._geometry;b._optimizedGeomDefinition=a._optimizedGeomDefinition;a._layer&&(b._layer=a._layer);return b};f.createFromOptimisedFeature=function(a,b,n){const r=new f;r._geometry=a.geometry?{geometry:a.geometry}:null;r._optimizedGeomDefinition=n;r.attributes=a.attributes||{};r._layer=b;r._datesfixed=!1;return r};f.createFromArcadeDictionary=function(a){const b=new f;b.attributes=a.field("attributes");
null!==b.attributes?b.attributes instanceof q?(b.attributes=b.attributes.attributes,null===b.attributes&&(b.attributes={})):b.attributes={}:b.attributes={};b._geometry=a.field("geometry");null!==b._geometry&&(b._geometry instanceof q?b._geometry=f.parseGeometryFromDictionary(b._geometry):b._geometry instanceof y||(b._geometry=null));return b};f.createFromGraphicLikeObject=function(a,b,n=null){const r=new f;null===b&&(b={});r.attributes=b;r._geometry=x.isSome(a)?a:null;r._layer=n;r._layer&&(r._datesfixed=
!1);r._adapter=null;return r};var m=f.prototype;m.repurposeFromGraphicLikeObject=function(a,b,n=null){null===b&&(b={});this.attributes=b;this._geometry=a?a:null;this._datesfixed=(this._layer=n)?!1:!0};m.repurposeFromAdapter=function(a,b=null){this._adapter=a;this._layer=b};m.castToText=function(){if(this._adapter)return this._adapter.castToText();let a="";!1===this._datesfixed&&this._fixDates();for(const b in this.attributes){""!==a&&(a+=",");const n=this.attributes[b];null==n?a+=JSON.stringify(b)+
":null":h.isBoolean(n)||h.isNumber(n)||h.isString(n)?a+=JSON.stringify(b)+":"+JSON.stringify(n):n instanceof y?a+=JSON.stringify(b)+":"+h.toStringExplicit(n):n instanceof k?a+=JSON.stringify(b)+":"+h.toStringExplicit(n):n instanceof Array?a+=JSON.stringify(b)+":"+h.toStringExplicit(n):n instanceof Date?a+=JSON.stringify(b)+":"+JSON.stringify(n):null!==n&&"object"===typeof n&&void 0!==n.castToText&&(a+=JSON.stringify(b)+":"+n.castToText())}return'{"geometry":'+(null===this.geometry()?"null":h.toStringExplicit(this.geometry()))+
',"attributes":{'+a+"}}"};m._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{var a=[];for(let b=0;b<this._layer.fields.length;b++){const n=this._layer.fields[b];"date"!==n.type&&"esriFieldTypeDate"!==n.type||a.push(n.name)}this._datefields=a;0<a.length&&this._fixDateFields(a)}this._datesfixed=!0};m._fixDateFields=function(a){this.attributes={...this.attributes};for(let b=0;b<a.length;b++){let n=this.attributes[a[b]];if(null!==n)if(void 0===
n)for(const r in this.attributes){if(r.toLowerCase()===a[b].toLowerCase()){n=this.attributes[r];null===n||n instanceof Date||(this.attributes[r]=new Date(n));break}}else n instanceof Date||(this.attributes[a[b]]=new Date(n))}};m.geometry=function(){if(this._adapter)return this._adapter.geometry();if(null===this._geometry||this._geometry instanceof y)return this._geometry;this._optimizedGeomDefinition?(this._geometry=x.unwrap(F.fromJSON(l.convertToGeometry(this._geometry,this._optimizedGeomDefinition.geometryType,
this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=x.unwrap(F.fromJSON(this._geometry));return this._geometry};m.field=function(a){if(this._adapter)return this._adapter.field(a);!1===this._datesfixed&&this._fixDates();var b=this.attributes[a];if(void 0!==b)return b;b=a.toLowerCase();for(const n in this.attributes)if(n.toLowerCase()===b)return this.attributes[n];if(this._hasFieldDefinition(b))return null;
throw Error("Field not Found : "+a);};m._hasFieldDefinition=function(a){if(null===this._layer)return!1;for(let b=0;b<this._layer.fields.length;b++)if(this._layer.fields[b].name.toLowerCase()===a)return!0;return!1};m._field=function(a){if(this._adapter){var b;return null!=(b=this._adapter.field(a))?b:null}!1===this._datesfixed&&this._fixDates();b=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(const n in this.attributes)if(n.toLowerCase()===b)return this.attributes[n];return null};
m.setField=function(a,b){if(this.immutable)throw Error("Feature is Immutable");if(!1===h.isSimpleType(b))throw Error("Illegal Value Assignment to Feature");if(this._adapter)this._adapter.setField(a,b);else{var n=a.toLowerCase();if(void 0===this.attributes[a])for(const r in this.attributes)if(r.toLowerCase()===n){this.attributes[r]=b;return}this.attributes[a]=b}};m.hasField=function(a){if(this._adapter)return this._adapter.hasField(a);const b=a.toLowerCase();if(void 0!==this.attributes[a])return!0;
for(const n in this.attributes)if(n.toLowerCase()===b)return!0;return this._hasFieldDefinition(b)?!0:!1};m.keys=function(){if(this._adapter)return this._adapter.keys();let a=[];const b={};for(var n in this.attributes)a.push(n),b[n.toLowerCase()]=1;if(null!==this._layer)for(n=0;n<this._layer.fields.length;n++){const r=this._layer.fields[n];1!==b[r.name.toLowerCase()]&&a.push(r.name)}return a=a.sort()};f.parseGeometryFromDictionary=function(a){a=f.convertDictionaryToJson(a,!0);void 0!==a.hasm&&(a.hasM=
a.hasm,delete a.hasm);void 0!==a.hasz&&(a.hasZ=a.hasz,delete a.hasz);void 0!==a.spatialreference&&(a.spatialReference=a.spatialreference,delete a.spatialreference);void 0!==a.rings&&(a.rings=this.fixPathArrays(a.rings,!0===a.hasZ,!0===a.hasZ));void 0!==a.paths&&(a.paths=this.fixPathArrays(a.paths,!0===a.hasZ,!0===a.hasM));void 0!==a.points&&(a.points=this.fixPointArrays(a.points,!0===a.hasZ,!0===a.hasM));return F.fromJSON(a)};f.fixPathArrays=function(a,b,n){const r=[];if(a instanceof Array)for(var G=
0;G<a.length;G++)r.push(this.fixPointArrays(a[G],b,n));else if(a instanceof k)for(G=0;G<a.length();G++)r.push(this.fixPointArrays(a.get(G),b,n));return r};f.fixPointArrays=function(a,b,n){const r=[];if(a instanceof Array)for(var G=0;G<a.length;G++){var v=a[G];v instanceof D?b&&n?r.push([v.x,v.y,v.z,v.m]):b?r.push([v.x,v.y,v.z]):n?r.push([v.x,v.y,v.m]):r.push([v.x,v.y]):v instanceof k?r.push(v.toArray()):r.push(v)}else if(a instanceof k)for(G=0;G<a.length();G++)v=a.get(G),v instanceof D?b&&n?r.push([v.x,
v.y,v.z,v.m]):b?r.push([v.x,v.y,v.z]):n?r.push([v.x,v.y,v.m]):r.push([v.x,v.y]):v instanceof k?r.push(v.toArray()):r.push(v);return r};f.convertDictionaryToJson=function(a,b=!1){const n={};for(const r in a.attributes){let G=a.attributes[r];G instanceof q&&(G=f.convertDictionaryToJson(G));b?n[r.toLowerCase()]=G:n[r]=G}return n};f.parseAttributesFromDictionary=function(a){const b={};for(const n in a.attributes){const r=a.attributes[n];if(h.isSimpleType(r))b[n]=r;else throw Error("Illegal Argument");
}return b};f.fromJson=function(a){let b=null;null!==a.geometry&&void 0!==a.geometry&&(b=F.fromJSON(a.geometry));const n={};if(null!==a.attributes&&void 0!==a.attributes)for(const r in a.attributes){const G=a.attributes[r];if(null===G)n[r]=G;else if(h.isString(G)||h.isNumber(G)||h.isBoolean(G)||h.isDate(G))n[r]=G;else throw Error("Illegal Argument");}return f.createFromGraphicLikeObject(b,n,null)};m.fullDomain=function(a,b){return null!==this._layer&&this._layer.fields?h.getDomain(a,this._layer,this,
b):null};m.subtypes=function(){return null!==this._layer&&this._layer.fields?this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map(a=>({name:a.name,code:a.id})):[]}:null:null};m.domainValueLookup=function(a,b,n){if(null===this._layer||!this._layer.fields)return null;n=h.getDomain(a,this._layer,this,n);if(void 0===b)try{b=this.field(a)}catch(r){return null}return h.getDomainValue(n,b)};m.gdbVersion=function(){if(null===this._layer)return"";const a=
this._layer.gdbVersion;return void 0===a?"":""===a&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":a};m.domainCodeLookup=function(a,b,n){if(null===this._layer||!this._layer.fields)return null;if(void 0===b){try{b=this.field(a)}catch(r){return null}return b}a=h.getDomain(a,this._layer,this,n);return h.getDomainCode(a,b)};m.schema=function(){if(null===this._layer||!this._layer.fields)return null;const a=[];for(const b of this._layer.fields)a.push(e.esriFieldToJson(b));
return{objectIdField:this._layer.objectIdField,globalIdField:this._layer.globalIdField,geometryType:void 0===e.layerGeometryEsriRestConstants[this._layer.geometryType]?"":e.layerGeometryEsriRestConstants[this._layer.geometryType],fields:a}};return f}()})},"esri/arcade/featureset/support/shared":function(){define(["exports","../../../core/promiseUtils","../../../geometry/Extent","../../../layers/support/Field"],function(x,y,D,F){function k(h){return h instanceof Date}(function(h){h[h.Standardised=
0]="Standardised";h[h.StandardisedNoInterval=1]="StandardisedNoInterval";h[h.SqlServer=2]="SqlServer";h[h.Oracle=3]="Oracle";h[h.Postgres=4]="Postgres";h[h.PGDB=5]="PGDB";h[h.FILEGDB=6]="FILEGDB";h[h.NotEvaluated=7]="NotEvaluated"})(x.FeatureServiceDatabaseType||(x.FeatureServiceDatabaseType={}));(function(h){h[h.InFeatureSet=0]="InFeatureSet";h[h.NotInFeatureSet=1]="NotInFeatureSet";h[h.Unknown=2]="Unknown"})(x.IdState||(x.IdState={}));x.callback=function(h,q){return function(){try{h.apply(null,
arguments)}catch(e){q.reject(e)}}};x.cloneAttributes=function(h){const q={};for(const e in h)q[e]=h[e];return q};x.cloneField=function(h){return F.fromJSON(h.toJSON())};x.convertLinearUnitsToCode=function(h){if(void 0===h)return null;if("number"===typeof h||"number"===typeof h)return h;switch(h.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};x.convertSquareUnitsToCode=function(h){if(void 0===
h)return null;if("number"===typeof h)return h;switch(h.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};x.defaultMaxRecords=1E3;x.equalityTest=function(h,q){return h===q?!0:k(h)&&k(q)?h.getTime()===q.getTime():!1};x.errback=function(h){return function(q){h.reject(q)}};x.esriFieldToJson=function(h){return h.toJSON()};x.extractServiceUrl=function(h){if(void 0===h)return"";h=h.replace(/\/featureserver\/[0-9]*/i,
"/FeatureServer");h=h.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return h=h.split("?")[0]};x.isArray=function(h){return h instanceof Array};x.isBoolean=function(h){return"boolean"===typeof h};x.isDate=k;x.isNumber=function(h){return"number"===typeof h};x.isString=function(h){return"string"===typeof h||h instanceof String};x.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger","long":"esriFieldTypeLong",single:"esriFieldTypeSingle","double":"esriFieldTypeDouble",
string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",
esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};x.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",
esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};x.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};
x.reduceArrayWithPromises=function(h,q){return y.create((e,l)=>{const f=y.resolve(!0);h.reduce((m,a,b,n)=>m.then(r=>{try{return q(r,a,b,n)}catch(G){return y.reject(G)}},r=>y.reject(r)),f).then(e,l)})};x.sameGeomType=function(h,q){return h===q||"point"===h&&"esriGeometryPoint"===q||"polyline"===h&&"esriGeometryPolyline"===q||"polygon"===h&&"esriGeometryPolygon"===q||"extent"===h&&"esriGeometryEnvelope"===q||"multipoint"===h&&"esriGeometryMultipoint"===q||"point"===q&&"esriGeometryPoint"===h||"polyline"===
q&&"esriGeometryPolyline"===h||"polygon"===q&&"esriGeometryPolygon"===h||"extent"===q&&"esriGeometryEnvelope"===h||"multipoint"===q&&"esriGeometryMultipoint"===h?!0:!1};x.shapeExtent=function(h){if(null===h)return null;switch(h.type){case "polygon":case "multipoint":case "polyline":return h.extent;case "point":return new D({xmin:h.x,ymin:h.y,xmax:h.x,ymax:h.y,spatialReference:h.spatialReference});case "extent":return h}return null};x.stableStringify=function(h,q){q||(q={});"function"===typeof q&&
(q={cmp:q});const e="boolean"===typeof q.cycles?q.cycles:!1,l=q.cmp&&function(m){return function(a){return function(b,n){return m({key:b,value:a[b]},{key:n,value:a[n]})}}}(q.cmp),f=[];return function b(a){a&&a.toJSON&&"function"===typeof a.toJSON&&(a=a.toJSON());if(void 0!==a){if("number"===typeof a)return isFinite(a)?""+a:"null";if("object"!==typeof a)return JSON.stringify(a);var n;if(Array.isArray(a)){var r="[";for(n=0;n<a.length;n++)n&&(r+=","),r+=b(a[n])||"null";return r+"]"}if(null===a)return"null";
if(-1!==f.indexOf(a)){if(e)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var G=f.push(a)-1,v=Object.keys(a).sort(l&&l(a));r="";for(n=0;n<v.length;n++){const A=v[n],z=b(a[A]);z&&(r&&(r+=","),r+=JSON.stringify(A)+":"+z)}f.splice(G,1);return"{"+r+"}"}}(h)};x.toEsriGeometryType=function(h){switch(h){case "point":return"esriGeometryPoint";case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";
default:return"esriGeometryPoint"}};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/chunks/arcade":function(){define("require exports ../core/has ../core/promiseUtils ./languageUtils ../arcade/treeAnalysis ../arcade/arcadeCompiler ../arcade/arcadeRuntime ../arcade/parser ../intl/moment".split(" "),function(x,y,D,F,k,h,q,e,l,f){function m(S,B){return!0===B.useAsync||!0===S.isAsync?a(S,B):D("csp-restrictions")?function(C){return e.executeScript(S,C)}:q.compileScript(S,B)}function a(S,B){if(null===
na)throw Error("Async Arcade must be enabled for this script");return D("csp-restrictions")||!1===Ca?function(C){return na.executeScript(S,C)}:q.compileScript(S,B,!0)}function b(S){e.extend(S);q.extend(S,"sync");null===na?ma.push(S):(q.extend(S,"async"),na.extend(S))}function n(S,B=[]){return l.parseScript(S,B)}function r(S,B,C=""){return l.validateScript(S,B,C)}function G(S,B,C,I=""){return l.scriptCheck(S,B,C,I)}function v(S,B,C=[]){S=l.parseScript(S,C);return A(S,B)}function A(S,B){if(!0===B.useAsync||
!0===S.isAsync){if(null===na)throw Error("Async Arcade must be enabled for this script");return na.executeScript(S,B)}return e.executeScript(S,B)}function z(S,B){return e.referencesMember(S,B)}function c(S,B){return e.referencesFunction(S,B)}function g(S,B){return l.extractFieldLiterals(S)}function d(S,B=[]){void 0===S.usesGeometry&&h.findScriptDependencies(S,B);return!0===S.usesGeometry}function u(){return da?da:da=F.all([new Promise(function(S,B){x(["../geometry/geometryEngine"],S,B)}),new Promise(function(S,
B){x(["../arcade/functions/geomsync"],S,B)})]).then(([S,B])=>{xa=!0;B.setGeometryEngine(S);return!0})}function L(){return null!==ra?ra:ra=q.enableAsyncSupport().then(()=>new Promise(function(S,B){x(["../arcade/arcadeAsyncRuntime"],S,B)})).then(S=>{na=S;for(const B of ma)na.extend(B),q.extend(B,"async");ma=null;return!0})}function T(){return oa}function U(){return na?!0:!1}function Q(){return xa}function la(){return sa?sa:sa=L().then(()=>F.all([new Promise(function(S,B){x(["../arcade/featureSetUtils"],
S,B)}),new Promise(function(S,B){x(["../arcade/functions/featuresetbase"],S,B)}),new Promise(function(S,B){x(["../arcade/functions/featuresetgeom"],S,B)}),new Promise(function(S,B){x(["../arcade/functions/featuresetstats"],S,B)}),new Promise(function(S,B){x(["../arcade/functions/featuresetstring"],S,B)})]).then(([S,B,C,I,K])=>{ta=S;na.extend([B,C,I,K]);q.extend([B,C,I,K],"async");return oa=!0}))}function W(S,B=[]){void 0===S.usesFeatureSet&&h.findScriptDependencies(S,B);return!0===S.usesFeatureSet}
function za(S,B=[]){void 0===S.isAsync&&h.findScriptDependencies(S,B);return!0===S.isAsync}function Aa(S,B){if(B)for(const C of B)if(z(S,C))return!0;return!1}function ua(S,B,C=[],I=!1){return F.create((K,O)=>{const X="string"===typeof S?n(S):S,ja=[];ja.push(ya());X&&(!1===xa&&(d(X)||I)&&ja.push(u()),!1===U()&&(!0===X.isAsync||B)&&ja.push(L()),!1===oa&&(W(X)||Aa(X,C))&&ja.push(la()));ja?F.all(ja).then(()=>{K(!0)},O):K(!0)})}function wa(S){if(d(S))return!0;S=h.findFunctionCalls(S);return-1<S.indexOf("geometry")||
-1<S.indexOf("feature")?!0:!1}function ca(){return ta}function ya(){return null!==pa?pa:pa=f.loadMoment().then(S=>{k.MomentLibrary.Moment=S;return!0})}const Ca=function(){if(D("csp-restrictions"))return!1;try{return(new Function("function* test() {}; return true"))()}catch(S){return!1}}();let oa=!1,xa=!1,na=null,ma=[],da=null,ra=null,sa=null,ta=null,pa=null;var ia=Object.freeze({__proto__:null,compileScript:m,extend:b,parseScript:n,validateScript:r,scriptCheck:G,parseAndExecuteScript:v,executeScript:A,
referencesMember:z,referencesFunction:c,extractFieldLiterals:g,scriptUsesGeometryEngine:d,enableGeometrySupport:u,enableAsyncSupport:L,isFeatureSetSupportEnabled:T,isAsyncEnabled:U,isGeometryEnabled:Q,enableFeatureSetSupport:la,scriptUsesFeatureSet:W,scriptIsAsync:za,loadScriptDependencies:ua,scriptTouchesGeometry:wa,featureSetUtils:ca,load:ya});y.arcade=ia;y.compileScript=m;y.enableAsyncSupport=L;y.enableFeatureSetSupport=la;y.enableGeometrySupport=u;y.executeScript=A;y.extend=b;y.extractFieldLiterals=
g;y.featureSetUtils=ca;y.isAsyncEnabled=U;y.isFeatureSetSupportEnabled=T;y.isGeometryEnabled=Q;y.load=ya;y.loadScriptDependencies=ua;y.parseAndExecuteScript=v;y.parseScript=n;y.referencesFunction=c;y.referencesMember=z;y.scriptCheck=G;y.scriptIsAsync=za;y.scriptTouchesGeometry=wa;y.scriptUsesFeatureSet=W;y.scriptUsesGeometryEngine=d;y.validateScript=r})},"esri/arcade/treeAnalysis":function(){define(["exports"],function(x){function y(c,g){return"0"!==c.min&&g.length<Number(c.min)||"*"!==c.max&&g.length>
Number(c.max)?-2:1}function D(c,g,d){if(null!==d.localScope&&void 0!==d.localScope[c.toLowerCase()]){const u=d.localScope[c.toLowerCase()];if("FormulaFunction"===u.type||"any"===u.type)return void 0===u.signature&&(u.signature={min:"0",max:"*"}),y(u.signature,g)}return void 0!==d.globalScope[c.toLowerCase()]&&(c=d.globalScope[c.toLowerCase()],"FormulaFunction"===c.type||"any"===c.type)?(void 0===c.signature&&(c.signature={min:"0",max:"*"}),y(c.signature,g)):-1}function F(c,g){if(c)for(const d of c)k(d,
g)}function k(c,g){if(c&&!1!==g(c))switch(c.type){case "ArrayExpression":F(c.elements,g);break;case "AssignmentExpression":case "BinaryExpression":k(c.left,g);k(c.right,g);break;case "BlockStatement":F(c.body,g);break;case "CallExpression":k(c.callee,g);F(c.arguments,g);break;case "ConditionalExpression":k(c.test,g);k(c.alternate,g);k(c.consequent,g);break;case "ExpressionStatement":k(c.expression,g);break;case "ForInStatement":k(c.left,g);k(c.right,g);k(c.body,g);break;case "ForStatement":k(c.init,
g);k(c.test,g);k(c.update,g);k(c.body,g);break;case "FunctionDeclaration":case "FunctionDeclaration":case "FunctionExpression":k(c.id,g);F(c.params,g);k(c.body,g);break;case "IfStatement":k(c.test,g);k(c.consequent,g);k(c.alternate,g);break;case "LogicalExpression":k(c.left,g);k(c.right,g);break;case "MemberExpression":k(c.object,g);k(c.property,g);break;case "ObjectExpression":F(c.properties,g);break;case "Program":F(c.body,g);break;case "Property":k(c.key,g);k(c.value,g);break;case "ReturnStatement":k(c.argument,
g);break;case "UnaryExpression":k(c.argument,g);break;case "UpdateExpression":k(c.argument,g);break;case "VariableDeclaration":F(c.declarations,g);break;case "VariableDeclarator":k(c.id,g);k(c.init,g);break;case "TemplateLiteral":F(c.expressions,g),F(c.quasis,g)}}function h(c,g=!0){let d=a(c,"SYNTAX","UNREOGNISED");try{switch(c.type){case "VariableDeclarator":return null!==c.init&&"FunctionExpression"===c.init.type?a(c,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):"Identifier"!==c.id.type?a(c,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):
null!==c.init?h(c.init,!1):"";case "VariableDeclaration":for(var u=0;u<c.declarations.length;u++)if(d=h(c.declarations[u],g),""!==d)return d;return"";case "ForInStatement":d=h(c.left,g);if(""!==d)break;if("VariableDeclaration"===c.left.type){if(1<c.left.declarations.length)return a(c,"SYNTAX","ONLY1VAR");if(null!==c.left.declarations[0].init)return a(c,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==c.left.type)return a(c,"SYNTAX","LEFTNOTVAR");d=h(c.right,g);if(""!==d)break;d=h(c.body,g);if(""!==
d)break;return"";case "ForStatement":if(null!==c.test&&(d=h(c.test,g),""!==d))break;if(null!==c.init&&(d=h(c.init,g),""!==d))break;if(null!==c.update&&(d=h(c.update,g),""!==d))break;if(null!==c.body&&(d=h(c.body,g),""!==d))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":d=h(c.test,g);if(""!==d)break;if(null!==c.consequent&&(d=h(c.consequent,!1),""!==d))break;if(null!==c.alternate&&(d=h(c.alternate,!1),""!==d))break;
return"";case "BlockStatement":u=[];for(var L=0;L<c.body.length;L++)"EmptyStatement"!==c.body[L].type&&u.push(c.body[L]);c.body=u;for(u=0;u<c.body.length;u++)if(d=h(c.body[u],g),""!==d)return d;return"";case "FunctionDeclaration":return!1===g?a(c,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==c.id.type?a(c,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):h(c.body,!1);case "ReturnStatement":return null!==c.argument?h(c.argument,g):"";case "UpdateExpression":return"Identifier"!==c.argument.type&&"MemberExpression"!==
c.argument.type?a(c,"SYNTAX","ASSIGNMENTTOVARSONLY"):h(c.argument,g);case "AssignmentExpression":if("Identifier"!==c.left.type&&"MemberExpression"!==c.left.type)return a(c,"SYNTAX","ASSIGNMENTTOVARSONLY");d=h(c.left,g);if(""!==d)break;switch(c.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return a(c,"SYNTAX","OPERATORNOTRECOGNISED")}return h(c.right,!1);case "ExpressionStatement":return h(c.expression,!1);case "Identifier":d="";break;case "MemberExpression":d=
h(c.object,g);if(""!==d)break;return!0===c.computed?h(c.property,g):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==c.callee.type)return a(c,"SYNTAX","ONLYNODESSUPPORTED");d="";for(u=0;u<c.arguments.length;u++)if(d=h(c.arguments[u],g),""!==d)return d;return"";case "UnaryExpression":d=h(c.argument,g);break;case "BinaryExpression":d=h(c.left,g);if(""!==d)break;d=h(c.right,g);if(""!==d)break;switch(c.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;
default:return a(c,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":d=h(c.left,g);if(""!==d)break;d=h(c.right);if(""!==d)break;switch(c.operator){case "\x26\x26":case "||":break;default:return a(c,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ConditionalExpression":return a(c,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":d="";for(u=0;u<c.elements.length&&(d=h(c.elements[u],g),""===d);u++);break;case "TemplateLiteral":d="";for(u=0;u<c.quasis.length;u++)if(d=h(c.quasis[u],g),
""!==d)return d;for(u=0;u<c.expressions.length&&(d=h(c.expressions[u],g),""===d);u++);break;case "ObjectExpression":d="";for(u=0;u<c.properties.length;u++){d="";if(null!==c.properties[u].key&&("Literal"!==c.properties[u].key.type&&"Identifier"!==c.properties[u].key.type&&(d=a(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===c.properties[u].key.type)){L=c.properties[u].key;const T="value"in L?L.value:null;"string"===typeof T||T instanceof String||(d=a(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===
d&&(d=h(c.properties[u],g));if(""!==d)break}break;case "Property":if("Literal"!==c.key.type&&"Identifier"!==c.key.type)return a(c,"SYNTAX","ONLYLITERAL");if("Identifier"!==c.key.type&&(d=h(c.key,g),""!==d))break;d=h(c.value,g)}return d}catch(T){throw T;}}function q(c,g){var d=a(c,"SYNTAX","UNREOGNISED");let u=null,L="";try{switch(c.type){case "VariableDeclarator":{if(null!==c.init&&"FunctionExpression"===c.init.type)return a(c,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");const U=null===c.init?"":q(c.init,
g);if(""!==U)return U;"Identifier"===c.id.type&&(null===g.localScope?g.globalScope[c.id.name.toLowerCase()]={type:"any"}:g.localScope[c.id.name.toLowerCase()]={type:"any"});return""}case "FunctionDeclaration":u=l(c.id.name.toLowerCase(),c);L=f(c,g);if(""!==L)return L;if(null!==g.localScope)return a(c,"SYNTAX","GLOBALFUNCTIONSONLY");u.isnative=!1;g.globalScope[c.id.name.toLowerCase()]={type:"FormulaFunction",signature:[u]};return"";case "VariableDeclaration":d="";for(var T=0;T<c.declarations.length&&
(d=q(c.declarations[T],g),""===d);T++);break;case "IfStatement":d=q(c.test,g);if(""!==d)break;if("AssignmentExpression"===c.test.type||"UpdateExpression"===c.test.type)return a(c.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==c.consequent&&(d=q(c.consequent,g),""!==d))break;if(null!==c.alternate&&(d=q(c.alternate,g),""!==d))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(T=0;T<c.body.length;T++)if(d=q(c.body[T],g),""!==d)return d;return"";case "ReturnStatement":return null!==
c.argument?q(c.argument,g):"";case "ForInStatement":if("VariableDeclaration"===c.left.type){if(1<c.left.declarations.length)return a(c,"SYNTAX","ONLY1VAR");if(null!==c.left.declarations[0].init)return a(c,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==c.left.type)return a(c,"SYNTAX","LEFTNOTVAR");d=q(c.left,g);if(""!==d)break;d=q(c.right,g);if(""!==d)break;d=q(c.body,g);if(""!==d)break;return"";case "ForStatement":if(null!==c.init&&(d=q(c.init,g),""!==d))break;if(null!==c.test&&(d=q(c.test,g),
""!==d))break;if(null!==c.body&&(d=q(c.body,g),""!==d))break;if(null!==c.update&&(d=q(c.update,g),""!==d))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==c.argument.type&&"MemberExpression"!==c.argument.type)return a(c,"SYNTAX","ASSIGNMENTTOVARSONLY");d=!1;if("MemberExpression"===c.argument.type)return q(c.argument,g);null!==g.localScope&&void 0!==g.localScope[c.argument.name.toLowerCase()]&&(d=!0);void 0!==g.globalScope[c.argument.name.toLowerCase()]&&
(d=!0);return!1===d?"Identifier "+c.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==c.left.type&&"MemberExpression"!==c.left.type)return a(c,"SYNTAX","ASSIGNMENTTOVARSONLY");T=q(c.right,g);if(""!==T)return T;d=!1;if("MemberExpression"===c.left.type)return T=q(c.left,g),""!==T?T:"";null!==g.localScope&&void 0!==g.localScope[c.left.name.toLowerCase()]&&(d=!0);void 0!==g.globalScope[c.left.name.toLowerCase()]&&(d=!0);return!1===d?"Identifier "+c.left.name+" has not been declared.":
"";case "ExpressionStatement":return q(c.expression,g);case "Identifier":{const U=c.name.toLowerCase();if(null!==g.localScope&&void 0!==g.localScope[U])return"";d=void 0!==g.globalScope[U]?"":a(c,"SYNTAX","VARIABLENOTFOUND");break}case "MemberExpression":d=q(c.object,g);if(""!==d)break;return!0===c.computed?q(c.property,g):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":{if("Identifier"!==c.callee.type)return a(c,"SYNTAX","ONLYNODESSUPPORTED");d="";for(T=0;T<c.arguments.length;T++)if(d=
q(c.arguments[T],g),""!==d)return d;const U=D(c.callee.name,c.arguments,g);-1===U&&(d=a(c,"SYNTAX","NOTFOUND"));-2===U&&(d=a(c,"SYNTAX","WRONGSIGNATURE"));break}case "UnaryExpression":d=q(c.argument,g);break;case "BinaryExpression":d=q(c.left,g);if(""!==d)break;d=q(c.right,g);if(""!==d)break;return"";case "LogicalExpression":d=q(c.left,g);if(""!==d)break;if("AssignmentExpression"===c.left.type||"UpdateExpression"===c.left.type)return a(c.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");d=q(c.right,
g);if(""!==d)break;return"AssignmentExpression"===c.right.type||"UpdateExpression"===c.right.type?a(c.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ConditionalExpression":return a(c,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":d="";for(T=0;T<c.elements.length&&(d=q(c.elements[T],g),""===d);T++);break;case "TemplateLiteral":d="";for(T=0;T<c.quasis.length;T++)if(d=q(c.quasis[T],g),""!==d)return d;for(T=0;T<c.expressions.length&&(d=q(c.expressions[T],g),""===d);T++);break;case "ObjectExpression":d=
"";for(T=0;T<c.properties.length;T++){d="";if(null!==c.properties[T].key&&("Literal"!==c.properties[T].key.type&&"Identifier"!==c.properties[T].key.type&&(d=a(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===c.properties[T].key.type)){const U=c.properties[T].key,Q="value"in U?U.value:null;"string"===typeof Q||Q instanceof String||(d=a(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===d&&(d=q(c.properties[T],g));if(""!==d)break}break;case "Property":if("Literal"!==c.key.type&&"Identifier"!==c.key.type)return a(c,
"SYNTAX","ONLYLITERAL");if("Identifier"!==c.key.type&&(d=q(c.key,g),""!==d))break;d=q(c.value,g)}return d}catch(U){throw U;}}function e(c,g){let d=!1;const u=g.toLowerCase();k(c,L=>{if(d)return!1;"Identifier"===L.type&&L.name&&L.name.toLowerCase()===u&&(d=!0);return!0});return d}function l(c,g){const d=[];if(void 0!==g.params&&null!==g.params)for(let u=0;u<g.params.length;u++)d.push("any");return{name:c,return:"any",params:d}}function f(c,g){g={globalScope:g.globalScope,localScope:{}};for(let d=0;d<
c.params.length;d++)g.localScope[c.params[d].name.toLowerCase()]={type:"any"};return q(c.body,g)}function m(c,g,d,u){const L={};if(void 0===c||null===c)c={};if(void 0===d||null===d)d={};L.infinity={type:"any"};L.textformatting={type:"any"};L.pi={type:"any"};for(const T in g)"sync"===u&&void 0!==g[T].min?L[T]={type:"FormulaFunction",signature:{min:g[T].min,max:g[T].max}}:"sync"!==u&&void 0!==g[T].fmin&&(L[T]={type:"FormulaFunction",signature:{min:g[T].fmin,max:g[T].fmax}});for(g=0;g<d.length;g++)u=
d[g],L[u.name]={type:"FormulaFunction",signature:u};for(const T in c)L[T]=c[T],L[T].type="any";return L}function a(c,g,d){let u="";switch(g){case "SYNTAX":u="Syntax Error: ";break;case "RUNTIME":u="Runtime Error: ";break;default:u="Syntax Error: "}try{switch(c.type){case "IfStatement":switch(d){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":u+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":u+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(d){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":u+=
" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":u+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":u+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(d){case "GLOBALFUNCTIONSONLY":u+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":u+=" Function Definition must have an identifier"}break;case "VariableDeclaration":u+=" Only 1 variable can be declared at a time";break;
case "VariableDeclarator":switch(d){case "FUNCTIONVARIABLEDECLARATOR":u+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":u+=" Variable Definition must have an identifier"}break;case "Identifier":u+=" Identifier Not Found. ";u+=c.name;break;case "ObjectExpression":switch(d){case "OBJECTPROPERTYMUSTBESTRING":u+=" Property name must be a string"}break;case "ForStatement":switch(d){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":u+=" Non Boolean used as Condition"}break;
case "ForInStatement":switch(d){case "ONLY1VAR":u+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":u+=" Can only declare value for use with IN";break;case "LEFTNOVAR":u+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":u+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":u+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(d){case "PROPERTYNOTFOUND":u+="Cannot find member property. ";u+=
!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "OUTOFBOUNDS":u+="Out of Bounds. ";u+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "NOTFOUND":u+="Cannot call member method on null. ";u+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "INVALIDTYPE":u+="Cannot call member property on object of this type. ",u+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":""}break;case "Property":switch(d){case "ONLYLITERAL":u+=
"Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(d){case "WRONGSIGNATURE":u+="Function signature does not match: ";u+="Identifier"===c.callee.type?c.callee.name:"";break;case "ONLYNODESUPPORTED":u+="Functions must be declared.";u+="Identifier"===c.callee.type?c.callee.name:"";break;case "NOTAFUNCTION":u+="Not a Function: ";u+="Identifier"===c.callee.type?c.callee.name:"";break;case "NOTFOUND":u+="Function Not Found: "+("Identifier"===c.callee.type?
c.callee.name:"")}break;case "UnaryExpression":switch(d){case "NOTSUPPORTEDUNARYOPERATOR":u+="Operator "+c.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":u+="Unary operator "+c.operator+" cannot be used with this argument."}case "BinaryExpression":switch(d){case "OPERATORNOTRECOGNISED":u+="Binary Operator not recognised "+c.operator}break;case "LogicalExpression":switch(d){case "ONLYBOOLEAN":u+="Operator "+c.operator+" cannot be used. Only || or \x26\x26 are allowed values";
break;case "ONLYORORAND":u+="Logical Expression "+c.operator+" being applied to parameters that are not boolean."}break;case "ConditionalExpression":u+="Conditional statements not supported.";break;case "ArrayExpression":switch(d){case "FUNCTIONCONTEXTILLEGAL":u+=" Cannot Put Function inside Array."}break;default:u+="Expression contains unrecognised code structures."}}catch(L){throw L;}return u}function b(c,g,d){return{line:c.loc.start.line,character:c.loc.start.column,reason:a(c,g,d)}}function n(c,
g,d,u){g={globalScope:g.globalScope,localScope:{}};for(let L=0;L<c.params.length;L++)g.localScope[c.params[L].name.toLowerCase()]={type:"any"};r(c.body,g,d,u,!1)}function r(c,g,d,u,L=!0){if(null===c)throw Error("Unnexpexted Expression Syntax");var T=null;try{switch(c.type){case "VariableDeclarator":if(null!==c.init&&"FunctionExpression"===c.init.type){u.push(b(c,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"));break}"Identifier"!==c.id.type?u.push(b(c,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(c.id.name.toLowerCase(),
null===g.localScope?g.globalScope[c.id.name.toLowerCase()]={type:"any"}:g.localScope[c.id.name.toLowerCase()]={type:"any"});null!==c.init&&r(c.init,g,d,u,L);break;case "FunctionDeclaration":!1===L&&u.push(b(c,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==c.id.type&&u.push(b(c,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));T=l("",c);n(c,g,d,u);null!==g.localScope&&u.push(b(c,"SYNTAX","GLOBALFUNCTIONSONLY"));T.isnative=!1;"Identifier"===c.id.type&&(g.globalScope[c.id.name.toLowerCase()]={type:"FormulaFunction",
signature:[T]});break;case "VariableDeclaration":for(var U=0;U<c.declarations.length;U++)r(c.declarations[U],g,d,u,L);break;case "IfStatement":null!==c.test&&(r(c.test,g,d,u,L),"AssignmentExpression"!==c.test.type&&"UpdateExpression"!==c.test.type||u.push(b(c.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==c.consequent&&r(c.consequent,g,d,u,L);null!==c.alternate&&r(c.alternate,g,d,u,L);break;case "EmptyStatement":break;case "BlockStatement":if(null!==c.body)for(U=0;U<c.body.length;U++)r(c.body[U],
g,d,u,L);break;case "ReturnStatement":null!==c.argument&&r(c.argument,g,d,u,L);break;case "ForInStatement":"VariableDeclaration"===c.left.type?(1<c.left.declarations.length&&u.push(b(c,"SYNTAX","ONLY1VAR")),null!==c.left.declarations[0].init&&u.push(b(c,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==c.left.type&&u.push(b(c,"SYNTAX","LEFTNOTVAR"));r(c.left,g,d,u,L);r(c.right,g,d,u,L);r(c.body,g,d,u,L);break;case "ForStatement":null!==c.init&&r(c.init,g,d,u,L);null!==c.test&&r(c.test,g,d,u,L);null!==
c.body&&r(c.body,g,d,u,L);null!==c.update&&r(c.update,g,d,u,L);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==c.argument.type&&"MemberExpression"!==c.argument.type?u.push(b(c,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===c.argument.type&&(U=!1,!1===d&&(null!==g.localScope&&void 0!==g.localScope[c.argument.name.toLowerCase()]&&(U=!0),void 0!==g.globalScope[c.argument.name.toLowerCase()]&&(U=!0),!1===U&&u.push({line:null===c?0:c.loc.start.line,
character:null===c?0:c.loc.start.column,reason:"Identifier "+c.argument.name+" has not been declared."}))),"MemberExpression"===c.argument.type&&r(c.argument,g,d,u,L));break;case "AssignmentExpression":"Identifier"!==c.left.type&&"MemberExpression"!==c.left.type&&u.push(b(c,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(c.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:u.push(b(c,"SYNTAX","OPERATORNOTRECOGNISED"))}r(c.right,g,d,u,L);U=!1;"Identifier"===
c.left.type&&(null!==g.localScope&&void 0!==g.localScope[c.left.name.toLowerCase()]&&(U=!0),void 0!==g.globalScope[c.left.name.toLowerCase()]&&(U=!0),!1===d&&!1===U&&u.push({line:null===c?0:c.loc.start.line,character:null===c?0:c.loc.start.column,reason:"Identifier "+c.left.name+" has not been declared."}));"MemberExpression"===c.left.type&&r(c.left,g,d,u,L);break;case "ExpressionStatement":r(c.expression,g,d,u,L);break;case "Identifier":{const Q=c.name.toLowerCase();if(null!==g.localScope&&void 0!==
g.localScope[Q]||void 0!==g.globalScope[Q])break;!1===d&&u.push(b(c,"SYNTAX","VARIABLENOTFOUND"));break}case "MemberExpression":r(c.object,g,d,u,L);!0===c.computed&&r(c.property,g,d,u,L);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==c.callee.type&&u.push(b(c,"SYNTAX","ONLYNODESSUPPORTED"));for(T=0;T<c.arguments.length;T++)r(c.arguments[T],g,d,u,L);"Identifier"===c.callee.type&&(U=D(c.callee.name,c.arguments,g),!1===d&&-1===U&&u.push(b(c,"SYNTAX","NOTFOUND")),
-2===U&&u.push(b(c,"SYNTAX","WRONGSIGNATURE")));break;case "UnaryExpression":r(c.argument,g,d,u,L);break;case "BinaryExpression":r(c.left,g,d,u,L);r(c.right,g,d,u,L);switch(c.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;default:u.push(b(c,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(c.operator){case "\x26\x26":case "||":break;
default:u.push(b(c,"SYNTAX","OPERATORNOTRECOGNISED"))}r(c.left,g,d,u,L);"AssignmentExpression"!==c.left.type&&"UpdateExpression"!==c.left.type||u.push(b(c,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));r(c.right,g,d,u,L);"AssignmentExpression"!==c.right.type&&"UpdateExpression"!==c.right.type||u.push(b(c,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ConditionalExpression":u.push(b(c,"SYNTAX","NOTSUPPORTED"));break;case "ArrayExpression":for(U=0;U<c.elements.length;U++)r(c.elements[U],
g,d,u,L);break;case "TemplateLiteral":for(U=0;U<c.quasis.length;U++)r(c.quasis[U],g,d,u,L);for(U=0;U<c.expressions.length;U++)r(c.expressions[U],g,d,u,L);break;case "ObjectExpression":for(U=0;U<c.properties.length;U++)r(c.properties[U],g,d,u,L);break;case "Property":"Literal"!==c.key.type&&"Identifier"!==c.key.type&&u.push(b(c,"SYNTAX","ONLYLITERAL"));"Literal"===c.key.type&&r(c.key,g,d,u,L);r(c.value,g,d,u,L);break;default:u.push(b(c,"SYNTAX","UNRECOGNISED"))}}catch(Q){u.push({line:null===c?0:c.loc.start.line,
character:null===c?0:c.loc.start.column,reason:"Unnexpected Syntax"})}}function G(c){const g=[];k(c,d=>{"CallExpression"===d.type&&"Identifier"===d.callee.type&&g.push(d.callee.name.toLowerCase());return!0});return g}const v={concatenate:{min:"0",max:"*"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},
pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",
max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",
max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",
max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",
max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},
difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",
max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},schema:{min:"1",max:"1"}};for(const c in v)v[c].fmin=v[c].min,v[c].fmax=v[c].max;const A="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl attachments featuresetbyportalitem".split(" "),
z="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");x.addFunctionDeclaration=function(c,g){const d=v[c.name.toLowerCase()];void 0===d?"sync"===g?v[c.name.toLowerCase()]={min:c.min,max:c.max}:v[c.name.toLowerCase()]={fmin:c.min,
fmax:c.max}:"sync"===g?(d.min=c.min,d.max=c.max):(d.fmin=c.min,d.fmax=c.max)};x.checkFunctionSignature=y;x.checkScript=function(c,g,d,u="async",L=v){const T=[];if("BlockStatement"!==c.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===g||void 0===g)g={vars:{},customFunctions:[]};g={globalScope:m(g.vars,L,g.customFunctions,u),localScope:null};try{r(c.body[0].body,g,d,T)}catch(U){}return T};x.constructGlobalScope=m;x.extractAllIssues=r;x.extractAllIssuesInFunction=n;x.extractFunctionDeclaration=
l;x.findFieldLiterals=function(c){const g=[];k(c,d=>{if("MemberExpression"!==d.type||"Identifier"!==d.object.type)return!0;!1===d.computed&&d.object&&d.object.name&&d.property&&"Identifier"===d.property.type&&d.property.name?g.push(d.object.name.toLowerCase()+"."+d.property.name.toLowerCase()):d.object&&d.object.name&&d.property&&"Literal"===d.property.type&&"string"===typeof d.property.value&&g.push(d.object.name.toLowerCase()+"."+d.property.value.toString().toLowerCase());return!1});return g};x.findFunction=
D;x.findFunctionCalls=G;x.findScriptDependencies=function(c,g=[]){let d=null;if(void 0===c.usesFeatureSet){null===d&&(d=G(c));c.usesFeatureSet=!1;for(let u=0;u<d.length;u++)-1<A.indexOf(d[u])&&(c.usesFeatureSet=!0,c.isAsync=!0);if(!1===c.usesFeatureSet&&g&&0<g.length)for(const u of g)if(e(c,u)){c.usesFeatureSet=!0;c.isAsync=!0;break}}if(void 0===c.usesGeometry)for(c.usesGeometry=!1,null===d&&(d=G(c)),g=0;g<d.length;g++)-1<z.indexOf(d[g])&&(c.usesGeometry=!0)};x.functionDecls=v;x.makeError=b;x.nodeErrorMessage=
a;x.referencesFunction=function(c,g){let d=!1;const u=g.toLowerCase();k(c,L=>d?!1:"CallExpression"===L.type&&"Identifier"===L.callee.type&&L.callee.name&&L.callee.name.toLowerCase()===u?(d=!0,!1):!0);return d};x.referencesMember=e;x.scriptUsesFeatureSet=function(c){c=G(c);for(let g=0;g<c.length;g++)if(-1<A.indexOf(c[g]))return!0;return!1};x.testValidityOfExpression=q;x.validateFunction=f;x.validateLanguage=function(c){return"BlockStatement"!==c.body[0].body.type?"Invalid formula content.":h(c.body[0].body)};
x.validateLanguageNode=h;x.validateScript=function(c,g,d="async",u=v){g={globalScope:m(g.vars,u,g.customFunctions,d),localScope:null};return q(c.body[0].body,g)};x.walk=k;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/arcadeCompiler":function(){define("require exports ../core/promiseUtils ../geometry/SpatialReference ../geometry/Geometry ../geometry/Point ../geometry/Extent ../geometry/Multipoint ../geometry/Polygon ../geometry/Polyline ./ImmutablePointArray ./ImmutablePathArray ../chunks/languageUtils ./Dictionary ./ArcadePortal ./Attachment ./Feature ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../views/2d/layers/features/support/FeatureSetReader".split(" "),
function(x,y,D,F,k,h,q,e,l,f,m,a,b,n,r,G,v,A,z,c,g,d,u,L,T,U){function Q(p,t,H){try{return H(p,null,t)}catch(J){throw J;}}function la(p){return p instanceof Error?D.reject(p):D.reject(Error(p))}function W(p,t){try{switch(t.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return ca(p,t);case "VariableDeclaration":var H,J=[];for(var N=0;N<t.declarations.length;N++)J.push(W(p,t.declarations[N]));return H=J.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return wa(p,
t);case "FunctionDeclaration":{const E=t.id.name.toLowerCase(),M={isAsync:p.isAsync,spatialReference:p.spatialReference,console:p.console,lrucache:p.lrucache,services:p.services,symbols:p.symbols,mangleMap:p.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:p.depthCounter+1,globalScope:p.globalScope};if(64<M.depthCounter)throw Error("Exceeded maximum function depth");J="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(H=0;H<t.params.length;H++){const V=t.params[H].name.toLowerCase(),R=sa(p);M.localScope._SymbolsMap[V]=R;M.mangleMap[V]=R;J+="lscope['"+R+"']\x3darguments["+H.toString()+"];\n"}!0===p.isAsync?(J=J+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(wa(M,t.body)+"\n return lastStatement; "),J+="});  }, runtimeCtx))\n lastStatement \x3d lc.voidOperation; \n"):(J+=wa(M,t.body)+"\n return lastStatement; }, runtimeCtx))",J+="\n lastStatement \x3d lc.voidOperation; \n");if(void 0!==p.globalScope[E])N=
"gscope['"+E+"']\x3d"+J;else if(void 0!==p.globalScope._SymbolsMap[E])N="gscope['"+p.globalScope._SymbolsMap[E]+"']\x3d"+J;else{{const V=sa(p);p.globalScope._SymbolsMap[E]=V;p.mangleMap[E]=V;N="gscope['"+V+"']\x3d"+J}}}return N;case "ReturnStatement":var aa=null===t.argument?"return lc.voidOperation":"return "+W(p,t.argument);return aa;case "IfStatement":{if("AssignmentExpression"===t.test.type||"UpdateExpression"===t.test.type)throw Error(A.nodeErrorMessage(t.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));
const E=W(p,t.test),M=ta(p);let V="var "+M+" \x3d "+E+";\n if ("+M+" \x3d\x3d\x3d true) {\n"+ua(p,t.consequent)+"\n }\n";V=null!==t.alternate?V+("else if ("+M+"\x3d\x3d\x3dfalse)   { \n"+ua(p,t.alternate)+"}\n"):V+("else if ("+M+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");var ba=V+="else { lang.error({type: '"+t.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n"}return ba;case "ExpressionStatement":var ha="AssignmentExpression"===t.expression.type?"lastStatement \x3d lc.voidOperation; "+
W(p,t.expression)+"; \n ":"lastStatement \x3d "+W(p,t.expression)+"; ";return ha;case "AssignmentExpression":return Aa(p,t);case "UpdateExpression":return za(p,t);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{J=[];H=0;for(const E of t.quasis)J.push(E.value?JSON.stringify(E.value.cooked):JSON.stringify("")),!1===E.tail&&(J.push(t.expressions[H]?"lang.castString(lang.aCheck("+W(p,t.expressions[H])+", 'TemplateLiteral'))":""),H++);var P="(["+
J.join(",")+"]).join('')"}catch(E){throw E;}return P;case "TemplateElement":return JSON.stringify(t.value?t.value.cooked:"");case "ForStatement":{J="lastStatement \x3d lc.voidOperation; \n";null!==t.init&&(J+=W(p,t.init)+"; ");const E=ta(p),M=ta(p);J+="var "+E+" \x3d true; \n do { ";null!==t.update&&(J+=" if ("+E+"\x3d\x3d\x3dfalse) {\n "+W(p,t.update)+"  \n}\n "+E+"\x3dfalse; \n");null!==t.test&&(J+="var "+M+" \x3d "+W(p,t.test)+"; ",J+="if ("+M+"\x3d\x3d\x3dfalse) { break; } else if ("+M+"!\x3d\x3dtrue) { lang.error({type: '"+
t.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");J+=W(p,t.body);null!==t.update&&(J+="\n "+W(p,t.update));var Z=J+("\n"+E+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ")}return Z;case "ForInStatement":{const E=ta(p),M=ta(p),V=ta(p);let R="var "+E+" \x3d "+W(p,t.right)+";\n";"VariableDeclaration"===t.left.type&&(R+=W(p,t.left));let fa="VariableDeclaration"===t.left.type?t.left.declarations[0].id.name:t.left.name;fa=fa.toLowerCase();J="";null!==p.localScope&&
(void 0!==p.localScope[fa]?J="lscope['"+fa+"']":void 0!==p.localScope._SymbolsMap[fa]&&(J="lscope['"+p.localScope._SymbolsMap[fa]+"']"));""===J&&(void 0!==p.globalScope[fa]?J="gscope['"+fa+"']":void 0!==p.globalScope._SymbolsMap[fa]&&(J="gscope['"+p.globalScope._SymbolsMap[fa]+"']"));R=R+("if ("+E+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+(E+") || lc.isString("+E+")) {var ")+(M+"\x3d"+E+".length; \nfor(var ")+(V+"\x3d0; "+V+"\x3c"+M+"; "+V+"++) {\n");R+=
J+"\x3d"+V+";\n";R+=W(p,t.body);R+="\n}\n";R+=" lastStatement \x3d lc.voidOperation; \n";R+=" \n}\n";R+="else if (lc.isImmutableArray("+E+")) {";R=R+("var "+M+"\x3d"+E+".length(); \nfor(var ")+(V+"\x3d0; "+V+"\x3c"+M+"; "+V+"++) {\n");R+=J+"\x3d"+V+";\n";R+=W(p,t.body);R+="\n}\n";R+=" lastStatement \x3d lc.voidOperation; \n";R+=" \n}\n";R+="else if (( "+E+" instanceof lang.Dictionary) || ( "+E+" instanceof lang.Feature)) {";R=R+("var "+M+"\x3d"+E+".keys(); \nfor(var ")+(V+"\x3d0; "+V+"\x3c"+M+".length; "+
V+"++) {\n");R+=J+"\x3d"+M+"["+V+"];\n";R+=W(p,t.body);R+="\n}\n";R+=" lastStatement \x3d lc.voidOperation; \n";R+=" \n}\n";p.isAsync&&(R+="else if (lc.isFeatureSet("+E+")) {",R=R+("var "+M+"\x3d"+E+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(V+"\x3dlang. graphicToFeature( yield "+M+".next(),"+E+"); "+V+"!\x3dnull; "+V+"\x3dlang. graphicToFeature( yield "+M+".next(),"+E+")) {\n")+(J+"\x3d"+V+";\n"),R+=W(p,t.body),R+="\n}\n",R+=" lastStatement \x3d lc.voidOperation; \n",R+=" \n}\n");var Y=R+=
"else { lastStatement \x3d lc.voidOperation; } \n"}return Y;case "Identifier":return Ca(p,t);case "MemberExpression":try{let E;E=!0===t.computed?W(p,t.property):"'"+t.property.name+"'";var Fa="lang.member("+W(p,t.object)+","+E+")"}catch(E){throw E;}return Fa;case "Literal":return null===t.value||void 0===t.value?"null":JSON.stringify(t.value);case "ThisExpression":throw Error(A.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==t.callee.type)throw Error(A.nodeErrorMessage(t,
"RUNTIME","ONLYNODESSUPPORTED"));const E=t.callee.name.toLowerCase();H="";null!==p.localScope&&(void 0!==p.localScope[E]?H="lscope['"+E+"']":void 0!==p.localScope._SymbolsMap[E]&&(H="lscope['"+p.localScope._SymbolsMap[E]+"']"));""===H&&(void 0!==p.globalScope[E]?H="gscope['"+E+"']":void 0!==p.globalScope._SymbolsMap[E]&&(H="gscope['"+p.globalScope._SymbolsMap[E]+"']"));if(""!==H){N="[";for(P=0;P<t.arguments.length;P++)0<P&&(N+=", "),N+=W(p,t.arguments[P]);N+="]";J=p.isAsync?"(yield lang.callfunc("+
H+","+N+",runtimeCtx) )":"lang.callfunc("+H+","+N+",runtimeCtx)"}else throw Error(A.nodeErrorMessage(t,"RUNTIME","NOTFOUND"));}catch(E){throw E;}return J;case "UnaryExpression":try{var Ga="lang.unary("+W(p,t.argument)+",'"+t.operator+"')"}catch(E){throw E;}return Ga;case "BinaryExpression":try{var Ea="lang.binary("+W(p,t.left)+","+W(p,t.right)+",'"+t.operator+"')"}catch(E){throw E;}return Ea;case "LogicalExpression":try{if("AssignmentExpression"===t.left.type||"UpdateExpression"===t.left.type)throw Error(A.nodeErrorMessage(t.left,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===t.right.type||"UpdateExpression"===t.right.type)throw Error(A.nodeErrorMessage(t.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===t.operator||"||"===t.operator)var Ba="(lang.logicalCheck("+W(p,t.left)+") "+t.operator+" lang.logicalCheck("+W(p,t.right)+"))";else throw Error(A.nodeErrorMessage(t,"RUNTIME","ONLYORORAND"));}catch(E){throw E;}return Ba;case "ConditionalExpression":throw Error(A.nodeErrorMessage(t,
"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{J=[];for(H=0;H<t.elements.length;H++)"Literal"===t.elements[H].type?J.push(W(p,t.elements[H])):J.push("lang.aCheck("+W(p,t.elements[H])+",'ArrayExpression')");var Ha="["+J.join(",")+"]"}catch(E){throw E;}return Ha;case "ObjectExpression":var w;J="lang.dictionary([";for(H=0;H<t.properties.length;H++){const E=t.properties[H],M="Identifier"===E.key.type?"'"+E.key.name+"'":W(p,E.key),V=W(p,E.value);0<H&&(J+=",");J+="lang.strCheck("+M+",'ObjectExpression'),lang.aCheck("+
V+", 'ObjectExpression')"}return w=J+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(A.nodeErrorMessage(t,"RUNTIME","NOTSUPPORTED"));default:throw Error(A.nodeErrorMessage(t,"RUNTIME","UNREOGNISED"));}}catch(E){throw E;}}function za(p,t){let H=null,J="";if("MemberExpression"===t.argument.type)return H=W(p,t.argument.object),J=!0===t.argument.computed?W(p,t.argument.property):"'"+t.argument.property.name+"'","lang.memberupdate("+H+","+J+",'"+t.operator+"',"+t.prefix+
")";H=t.argument.name.toLowerCase();if(null!==p.localScope){if(void 0!==p.localScope[H])return"lang.update(lscope, '"+H+"','"+t.operator+"',"+t.prefix+")";if(void 0!==p.localScope._SymbolsMap[H])return"lang.update(lscope, '"+p.localScope._SymbolsMap[H]+"','"+t.operator+"',"+t.prefix+")"}if(void 0!==p.globalScope[H])return"lang.update(gscope, '"+H+"','"+t.operator+"',"+t.prefix+")";if(void 0!==p.globalScope._SymbolsMap[H])return"lang.update(gscope, '"+p.globalScope._SymbolsMap[H]+"','"+t.operator+
"',"+t.prefix+")";throw Error("Variable not recognised");}function Aa(p,t){const H=W(p,t.right);let J=null,N="";if("MemberExpression"===t.left.type)return J=W(p,t.left.object),N=!0===t.left.computed?W(p,t.left.property):"'"+t.left.property.name+"'","lang.assignmember("+J+","+N+",'"+t.operator+"',"+H+")";J=t.left.name.toLowerCase();if(null!==p.localScope){if(void 0!==p.localScope[J])return"lscope['"+J+"']\x3dlang.assign("+H+",'"+t.operator+"', lscope['"+J+"'])";if(void 0!==p.localScope._SymbolsMap[J])return"lscope['"+
p.localScope._SymbolsMap[J]+"']\x3dlang.assign("+H+",'"+t.operator+"', lscope['"+p.localScope._SymbolsMap[J]+"'])"}if(void 0!==p.globalScope[J])return"gscope['"+J+"']\x3dlang.assign("+H+",'"+t.operator+"', gscope['"+J+"'])";if(void 0!==p.globalScope._SymbolsMap[J])return"gscope['"+p.globalScope._SymbolsMap[J]+"']\x3dlang.assign("+H+",'"+t.operator+"', gscope['"+p.globalScope._SymbolsMap[J]+"'])";throw Error("Variable not recognised");}function ua(p,t){return"BlockStatement"===t.type?W(p,t):"ReturnStatement"===
t.type||"BreakStatement"===t.type||"ContinueStatement"===t.type?W(p,t)+"; ":"UpdateExpression"===t.type?"lastStatement \x3d "+W(p,t)+"; ":"ExpressionStatement"===t.type?W(p,t):"ObjectExpression"===t.type?"lastStatement \x3d "+W(p,t)+"; ":W(p,t)+"; "}function wa(p,t){let H="";for(let J=0;J<t.body.length;J++)H="ReturnStatement"===t.body[J].type?H+(W(p,t.body[J])+"; \n"):"BreakStatement"===t.body[J].type?H+(W(p,t.body[J])+"; \n"):"ContinueStatement"===t.body[J].type?H+(W(p,t.body[J])+"; \n"):"UpdateExpression"===
t.body[J].type?H+("lastStatement \x3d "+W(p,t.body[J])+"; \n"):"ObjectExpression"===t.body[J].type?H+("lastStatement \x3d "+W(p,t.body[J])+"; \n"):H+(W(p,t.body[J])+" \n");return H}function ca(p,t){let H=null===t.init?null:W(p,t.init);H===b.voidOperation&&(H=null);t=t.id.name.toLowerCase();if(null!==p.localScope){if(void 0!==p.localScope[t])return"lscope['"+t+"']\x3d"+H+"; ";if(void 0!==p.localScope._SymbolsMap[t])return"lscope['"+p.localScope._SymbolsMap[t]+"']\x3d"+H+"; ";var J=sa(p);p.localScope._SymbolsMap[t]=
J;p.mangleMap[t]=J;return"lscope['"+J+"']\x3d"+H+"; "}if(void 0!==p.globalScope[t])return"gscope['"+t+"']\x3d"+H+"; ";if(void 0!==p.globalScope._SymbolsMap[t])return"gscope['"+p.globalScope._SymbolsMap[t]+"']\x3d"+H+"; ";J=sa(p);p.globalScope._SymbolsMap[t]=J;p.mangleMap[t]=J;return"gscope['"+J+"']\x3d"+H+"; "}function ya(p,t,H){t=t.toLowerCase();switch(t){case "hasz":return p=p.hasZ,void 0===p?!1:p;case "hasm":return p=p.hasM,void 0===p?!1:p;case "spatialreference":return t=p.spatialReference._arcadeCacheId,
void 0===t&&(H=!0,Object.freeze&&Object.isFrozen(p.spatialReference)&&(H=!1),H&&(C++,t=p.spatialReference._arcadeCacheId=C)),p=new n({wkt:p.spatialReference.wkt,wkid:p.spatialReference.wkid}),void 0!==t&&(p._arcadeCacheId="SPREF"+t.toString()),p}switch(p.type){case "extent":switch(t){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return p=p[t],void 0!==p?p:null;case "type":return"Extent"}break;case "polygon":switch(t){case "rings":return t=p.cache._arcadeCacheId,
void 0===t&&(C++,t=C,p.cache._arcadeCacheId=t),new a(p.rings,p.spatialReference,!0===p.hasZ,!0===p.hasM,t);case "type":return"Polygon"}break;case "point":switch(t){case "x":case "y":case "z":case "m":return void 0!==p[t]?p[t]:null;case "type":return"Point"}break;case "polyline":switch(t){case "paths":return t=p.cache._arcadeCacheId,void 0===t&&(C++,t=C,p.cache._arcadeCacheId=t),new a(p.paths,p.spatialReference,!0===p.hasZ,!0===p.hasM,t);case "type":return"Polyline"}break;case "multipoint":switch(t){case "points":return t=
p.cache._arcadeCacheId,void 0===t&&(C++,t=C,p.cache._arcadeCacheId=t),new m(p.points,p.spatialReference,!0===p.hasZ,!0===p.hasM,t,1);case "type":return"Multipoint"}}throw Error(A.nodeErrorMessage(H,"RUNTIME","PROPERTYNOTFOUND"));}function Ca(p,t){try{const H=t.name.toLowerCase();if(null!==p.localScope){if(void 0!==p.localScope[H])return"lscope['"+H+"']";if(void 0!==p.localScope._SymbolsMap[H])return"lscope['"+p.localScope._SymbolsMap[H]+"']"}if(void 0!==p.globalScope[H])return"gscope['"+H+"']";if(void 0!==
p.globalScope._SymbolsMap[H])return"gscope['"+p.globalScope._SymbolsMap[H]+"']";throw Error(A.nodeErrorMessage(t,"RUNTIME","VARIABLENOTFOUND"));}catch(H){throw H;}}function oa(p){return null===p?"":b.isArray(p)||b.isImmutableArray(p)?"Array":b.isDate(p)?"Date":b.isString(p)?"String":b.isBoolean(p)?"Boolean":b.isNumber(p)?"Number":p instanceof G?"Attachment":p instanceof r?"Portal":p instanceof n?"Dictionary":p instanceof v?"Feature":p instanceof h?"Point":p instanceof l?"Polygon":p instanceof f?"Polyline":
p instanceof e?"Multipoint":p instanceof q?"Extent":b.isFunctionParameter(p)?"Function":b.isFeatureSet(p)?"FeatureSet":b.isFeatureSetCollection(p)?"FeatureSetCollection":p===b.voidOperation?"":"number"===typeof p&&isNaN(p)?"Number":"Unrecognised Type"}function xa(p,t,H,J){try{if(b.equalityTest(t[H],J))return t[H+1];{const N=t.length-H;return 1===N?t[H]:2===N?null:3===N?t[H+2]:xa(p,t,H+2,J)}}catch(N){throw N;}}function na(p,t,H,J){try{if(!0===J)return t[H+1];if(3===t.length-H)return t[H+2];{const N=
t[H+2];if(!1===b.isBoolean(N))throw Error("WHEN needs boolean test conditions");return na(p,t,H+2,N)}}catch(N){throw N;}}function ma(p,t){var H=p.length,J=Math.floor(H/2);if(0===H)return[];if(1===H)return[p[0]];var N=ma(p.slice(0,J),t);p=ma(p.slice(J,H),t);for(H=[];0<N.length||0<p.length;)0<N.length&&0<p.length?(J=t(N[0],p[0]),isNaN(J)&&(J=0),0>=J?(H.push(N[0]),N=N.slice(1)):(H.push(p[0]),p=p.slice(1))):0<N.length?(H.push(N[0]),N=N.slice(1)):0<p.length&&(H.push(p[0]),p=p.slice(1));return t=H}function da(p,
t){try{const H=p.length,J=Math.floor(H/2);if(0===H)return D.resolve([]);if(1===H)return D.resolve([p[0]]);const N=[da(p.slice(0,J),t),da(p.slice(J,H),t)];return D.all(N).then(aa=>ra(aa[0],aa[1],t,[]))}catch(H){return D.reject(H)}}function ra(p,t,H,J){return D.create((N,aa)=>{0<p.length||0<t.length?0<p.length&&0<t.length?H(p[0],t[0]).then(ba=>{try{isNaN(ba)&&(ba=1),0>=ba?(J.push(p[0]),p=p.slice(1)):(J.push(t[0]),t=t.slice(1)),ra(p,t,H,J).then(ha=>{N(ha)},aa)}catch(ha){aa(ha)}},aa):0<p.length?(J.push(p[0]),
p=p.slice(1),ra(p,t,H,J).then(ba=>{N(ba)},aa)):0<t.length&&(J.push(t[0]),t=t.slice(1),ra(p,t,H,J).then(ba=>{N(ba)},aa)):N(J)})}function sa(p){p.symbols.symbolCounter++;return"_T"+p.symbols.symbolCounter.toString()}function ta(p){p.symbols.symbolCounter++;return"_Tvar"+p.symbols.symbolCounter.toString()}function pa(p,t,H){const J={};p||(p={});H||(H={});J._SymbolsMap={};J.textformatting=1;J.infinity=1;J.pi=1;for(const N in t)J[N]=1;for(const N in H)J[N]=1;for(const N in p)J[N]=1;return J}function ia(p,
t){const H={mode:t,compiled:!0,functions:{},signatures:[],failDefferred:la,standardFunction:Q,standardFunctionAsync:Q,evaluateIdentifier:S};for(let J=0;J<p.length;J++)p[J].registerFunctions(H);if("sync"===t){for(const J in H.functions)I[J]=new b.NativeFunction(H.functions[J]),O.prototype[J]=I[J];for(p=0;p<H.signatures.length;p++)A.addFunctionDeclaration(H.signatures[p],"sync")}else{for(const J in H.functions)K[J]=new b.NativeFunction(H.functions[J]),X.prototype[J]=K[J];for(p=0;p<H.signatures.length;p++)A.addFunctionDeclaration(H.signatures[p],
"async")}}function S(p,t){t=t.name;if("_SymbolsMap"===t)throw"Illegal";if(0<p.localStack.length){if("_t"!==t.substr(0,2).toLowerCase()&&void 0!==p.localStack[p.localStack.length-1][t])return p.localStack[p.localStack.length-1][t];const H=p.mangleMap[t];if(void 0!==H&&void 0!==p.localStack[p.localStack.length-1][H])return p.localStack[p.localStack.length-1][H]}if("_t"!==t.substr(0,2).toLowerCase()&&void 0!==p.globalScope[t]||1===p.globalScope._SymbolsMap[t])return p.globalScope[t];t=p.mangleMap[t];
if(void 0!==t)return p.globalScope[t]}function B(p){console.log(p)}let C=0;const I={};z.registerFunctions(I,Q);c.registerFunctions(I,Q);T.registerFunctions(I,Q);u.registerFunctions(I,Q);g.registerFunctions(I,Q);L.registerFunctions(I,Q);I["typeof"]=function(p,t){return Q(p,t,function(H,J,N){b.pcCheck(N,1,1);H=oa(N[0]);if("Unrecognised Type"===H)throw Error("Unrecognised Type");return H})};I.iif=function(p,t){try{return Q(p,t,function(H,J,N){b.pcCheck(N,3,3);if(!1===b.isBoolean(N[0]))throw Error("IF Function must have a boolean test condition");
return N[0]?N[1]:N[2]})}catch(H){throw H;}};I.decode=function(p,t){try{return Q(p,t,function(H,J,N){if(2>N.length)throw Error("Missing Parameters");if(2===N.length)return N[1];if(0===(N.length-1)%2)throw Error("Must have a default value result.");return xa(p,N,1,N[0])})}catch(H){throw H;}};I.when=function(p,t){try{return Q(p,t,function(H,J,N){if(3>N.length)throw Error("Missing Parameters");if(0===N.length%2)throw Error("Must have a default value result.");H=N[0];if(!1===b.isBoolean(H))throw Error("WHEN needs boolean test conditions");
return na(p,N,0,H)})}catch(H){throw H;}};I.top=function(p,t){return Q(p,t,function(H,J,N){b.pcCheck(N,2,2);if(b.isArray(N[0]))return b.toNumber(N[1])>=N[0].length?N[0].slice(0):N[0].slice(0,b.toNumber(N[1]));if(b.isImmutableArray(N[0]))return b.toNumber(N[1])>=N[0].length()?N[0].slice(0):N[0].slice(0,b.toNumber(N[1]));throw Error("Top cannot accept this parameter type");})};I.first=function(p,t){return Q(p,t,function(H,J,N){b.pcCheck(N,1,1);return b.isArray(N[0])?0===N[0].length?null:N[0][0]:b.isImmutableArray(N[0])?
0===N[0].length()?null:N[0].get(0):null})};I.sort=function(p,t){return Q(p,t,function(H,J,N){b.pcCheck(N,1,2);J=N[0];b.isImmutableArray(J)&&(J=J.toArray());if(!1===b.isArray(J))throw Error("Illegal Argument");if(1<N.length){if(!1===b.isFunctionParameter(N[1]))throw Error("Illegal Argument");var aa=J;const P=function(Z,Y){return ea.callfunc(N[1],[Z,Y],H)};return p.isAsync?da(aa,P):aa=ma(aa,function(Z,Y){return P(Z,Y)})}{if(0===J.length)return[];const P={};for(var ba=0;ba<J.length;ba++){var ha=oa(J[ba]);
""!==ha&&(P[ha]=!0)}if(!0===P.Array||!0===P.Dictionary||!0===P.Feature||!0===P.Point||!0===P.Polygon||!0===P.Polyline||!0===P.Multipoint||!0===P.Extent||!0===P.Function)return J.slice(0);ba=0;ha="";for(aa in P)ba++,ha=aa;return J=1<ba||"String"===ha?ma(J,function(Z,Y){if(null===Z||void 0===Z||Z===b.voidOperation)return null===Y||void 0===Y||Y===b.voidOperation?0:1;if(null===Y||void 0===Y||Y===b.voidOperation)return-1;Z=b.toString(Z);Y=b.toString(Y);return Z<Y?-1:Z===Y?0:1}):"Number"===ha?ma(J,function(Z,
Y){return Z-Y}):"Boolean"===ha?ma(J,function(Z,Y){return Z===Y?0:Y?-1:1}):"Date"===ha?ma(J,function(Z,Y){return Y-Z}):J.slice(0)}})};const K={};for(const p in I)K[p]=new b.NativeFunction(I[p]);d.registerFunctions(I,Q);for(const p in I)I[p]=new b.NativeFunction(I[p]);const O=function(){};O.prototype=I;const X=function(){};X.prototype=K;z={fixSpatialReference:b.fixSpatialReference,parseArguments:function(p,t){const H=[];for(let J=0;J<t.arguments.length;J++)H.push(W(p,t.arguments[J]));return H},standardFunction:Q};
let ja=0;const ea={error(p,t,H){throw Error(A.nodeErrorMessage(p,t,H));},__awaiter(p,t,H,J){return D.create((N,aa)=>{function ba(Z){try{P(J.next(Z))}catch(Y){aa(Y)}}function ha(Z){try{P(J["throw"](Z))}catch(Y){aa(Y)}}function P(Z){Z.done?N(Z.value):Z.value&&Z.value.then?Z.value.then(ba,ha):(ja++,0===ja%100?setTimeout(()=>{ja=0;ba(Z.value)},0):ba(Z.value))}P((J=J.apply(p,t||[])).next())})},functionDepthchecker(p,t){return function(){t.depthCounter++;t.localStack.push([]);if(64<t.depthCounter)throw Error("Exceeded maximum function depth");
const H=p.apply(this,arguments);if(D.isPromiseLike(H))return H.then(J=>{t.depthCounter--;--t.localStack.length;return J});t.depthCounter--;--t.localStack.length;return H}},castString(p){return b.toString(p)},aCheck(p,t){if(b.isFunctionParameter(p))throw Error(A.nodeErrorMessage({type:t},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return p===b.voidOperation?null:p},Dictionary:n,Feature:v,dictionary(p){const t={};for(let H=0;H<p.length;H+=2){if(b.isFunctionParameter(p[H+1]))throw Error("Illegal Argument");
if(!1===b.isString(p[H]))throw Error("Illegal Argument");t[p[H].toString()]=p[H+1]===b.voidOperation?null:p[H+1]}p=new n(t);p.immutable=!1;return p},strCheck(p){if(!1===b.isString(p))throw Error("Illegal Argument");return p},unary(p,t){if(b.isBoolean(p)){if("!"===t)return!p;if("-"===t)return-1*b.toNumber(p);if("+"===t)return 1*b.toNumber(p);if("~"===t)return~b.toNumber(p);throw Error(A.nodeErrorMessage({type:"UnaryExpression",operator:t,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));
}if("-"===t)return-1*b.toNumber(p);if("+"===t)return 1*b.toNumber(p);if("~"===t)return~b.toNumber(p);throw Error(A.nodeErrorMessage({type:"UnaryExpression",operator:t,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck(p){if(!1===b.isBoolean(p))throw Error(A.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return p},logical(p,t,H){if(b.isBoolean(p)&&b.isBoolean(t))switch(H){case "||":return p||t;case "\x26\x26":return p&&
t}throw Error(A.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary(p,t,H){switch(H){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return b.binaryOperator(b.toNumber(p),b.toNumber(t),H);case "\x3d\x3d":return b.equalityTest(p,t);case "\x3d":return b.equalityTest(p,t);case "!\x3d":return!b.equalityTest(p,t);case "\x3c":return b.greaterThanLessThan(p,t,H);case "\x3e":return b.greaterThanLessThan(p,t,H);
case "\x3c\x3d":return b.greaterThanLessThan(p,t,H);case "\x3e\x3d":return b.greaterThanLessThan(p,t,H);case "+":return b.isString(p)||b.isString(t)?b.toString(p)+b.toString(t):b.toNumber(p)+b.toNumber(t);case "-":return b.toNumber(p)-b.toNumber(t);case "*":return b.toNumber(p)*b.toNumber(t);case "/":return b.toNumber(p)/b.toNumber(t);case "%":return b.toNumber(p)%b.toNumber(t);default:throw Error(A.nodeErrorMessage({type:"BinaryExpression",operator:H,left:p,right:t},"RUNTIME","OPERATORNOTRECOGNISED"));
}},assign(p,t,H){switch(t){case "\x3d":return p===b.voidOperation?null:p;case "/\x3d":return b.toNumber(H)/b.toNumber(p);case "*\x3d":return b.toNumber(H)*b.toNumber(p);case "-\x3d":return b.toNumber(H)-b.toNumber(p);case "+\x3d":return b.isString(H)||b.isString(p)?b.toString(H)+b.toString(p):b.toNumber(H)+b.toNumber(p);case "%\x3d":return b.toNumber(H)%b.toNumber(p);default:throw Error(A.nodeErrorMessage({type:"AssignmentExpression",operator:t,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));
}},update(p,t,H,J){const N=b.toNumber(p[t]);p[t]="++"===H?N+1:N-1;return!1===J?N:"++"===H?N+1:N-1},graphicToFeature(p,t){return null===p?null:v.createFromGraphicLikeObject(p.geometry,p.attributes,t)},memberupdate(p,t,H,J){let N;if(b.isArray(p))if(b.isNumber(t)){0>t&&(t=p.length+t);if(0>t||t>=p.length)throw Error("Assignment outside of array bounds");N=b.toNumber(p[t]);p[t]="++"===H?N+1:N-1}else throw Error("Invalid Parameter");else if(p instanceof n){if(!1===b.isString(t))throw Error("Dictionary accessor must be a string");
if(!0===p.hasField(t))N=b.toNumber(p.field(t)),p.setField(t,"++"===H?N+1:N-1);else throw Error("Invalid Parameter");}else if(p instanceof v){if(!1===b.isString(t))throw Error("Feature accessor must be a string");if(!0===p.hasField(t))N=b.toNumber(p.field(t)),p.setField(t,"++"===H?N+1:N-1);else throw Error("Invalid Parameter");}else{if(b.isImmutableArray(p))throw Error("Array is Immutable");throw Error("Invalid Parameter");}return!1===J?N:"++"===H?N+1:N-1},assignmember(p,t,H,J){if(b.isArray(p))if(b.isNumber(t)){0>
t&&(t=p.length+t);if(0>t||t>p.length)throw Error("Assignment outside of array bounds");if(t===p.length&&"\x3d"!==H)throw Error("Invalid Parameter");p[t]=this.assign(J,H,p[t])}else throw Error("Invalid Parameter");else if(p instanceof n){if(!1===b.isString(t))throw Error("Dictionary accessor must be a string");if(!0===p.hasField(t))p.setField(t,this.assign(J,H,p.field(t)));else{if("\x3d"!==H)throw Error("Invalid Parameter");p.setField(t,this.assign(J,H,null))}}else if(p instanceof v){if(!1===b.isString(t))throw Error("Feature accessor must be a string");
if(!0===p.hasField(t))p.setField(t,this.assign(J,H,p.field(t)));else{if("\x3d"!==H)throw Error("Invalid Parameter");p.setField(t,this.assign(J,H,null))}}else{if(b.isImmutableArray(p))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member(p,t){if(null===p)throw Error(A.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(p instanceof U.FeatureSetReader){if(b.isString(t))return p.field(t);throw Error(A.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(p instanceof n||p instanceof v){if(b.isString(t))return p.field(t);throw Error(A.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(p instanceof k){if(b.isString(t))return ya(p,t,"MemberExpression");throw Error(A.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(b.isArray(p)){if(b.isNumber(t)&&isFinite(t)&&
Math.floor(t)===t){0>t&&(t=p.length+t);if(t>=p.length||0>t)throw Error(A.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return p[t]}throw Error(A.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(b.isString(p)){if(b.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){0>t&&(t=p.length+t);if(t>=p.length||0>t)throw Error(A.nodeErrorMessage({type:"MemberExpression",object:null,property:null,
computed:null},"RUNTIME","OUTOFBOUNDS"));return p[t]}throw Error(A.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(b.isImmutableArray(p)&&b.isNumber(t)&&isFinite(t)&&Math.floor(t)===t){0>t&&(t=p.length()+t);if(t>=p.length()||0>t)throw Error(A.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return p.get(t)}throw Error(A.nodeErrorMessage({type:"MemberExpression",object:null,
property:null,computed:null},"RUNTIME","INVALIDTYPE"));},callfunc(p,t,H){return p instanceof b.NativeFunction?p.fn(H,t):p instanceof b.SizzleFunction?p.fn.apply(this,t):p.apply(this,t)}};y.compileScript=function(p,t=null,H=!1){null===t&&(t={vars:{},customfunctions:{}});t={isAsync:H,globalScope:pa(t.vars,H?K:I,t.customfunctions),localScope:null,mangleMap:{},console:B,lrucache:t.lrucache,services:t.services,symbols:{symbolCounter:0}};p=W(t,p.body[0].body);""===p&&(p="lc.voidOperation; ");t={lc:b.lc,
lang:ea,mangles:t.mangleMap,postProcess(J){J instanceof b.ReturnResult&&(J=J.value);J instanceof b.ImplicitResult&&(J=J.value);J===b.voidOperation&&(J=null);if(J===b.breakResult)throw Error("Cannot return BREAK");if(J===b.continueResult)throw Error("Cannot return CONTINUE");if(b.isFunctionParameter(J))throw Error("Cannot return FUNCTION");return J},prepare(J,N){let aa=J.spatialReference;if(null===aa||void 0===aa)aa=new F({wkid:102100});{var ba=J.vars;var ha=J.customfunctions;const P=N?new X:new O;
ba||(ba={});ha||(ha={});const Z=new n({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});Z.immutable=!1;P._SymbolsMap={textformatting:1,infinity:1,pi:1};P.textformatting=Z;P.infinity=Number.POSITIVE_INFINITY;P.pi=Math.PI;for(const Y in ha)P[Y]=ha[Y],P._SymbolsMap[Y]=1;for(const Y in ba)P._SymbolsMap[Y]=1,P[Y]=ba[Y]&&"esri.Graphic"===ba[Y].declaredClass?v.createFromGraphic(ba[Y]):ba[Y];ba=P}return{localStack:[],isAsync:N,mangleMap:this.mangles,spatialReference:aa,
globalScope:ba,abortSignal:void 0===J.abortSignal||null===J.abortSignal?{aborted:!1}:J.abortSignal,localScope:null,services:J.services,console:J.console?J.console:B,lrucache:J.lrucache,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context","spatialReference",H?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
p+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+p+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(t)};y.enableAsyncSupport=function(){return(new Promise(function(p,t){x(["./functions/geomasync"],p,t)})).then(p=>{ia([p],"async");
return!0})};y.executeScript=function(p,t){return p(t)};y.extend=ia;y.extractFieldLiterals=function(p,t){return A.findFieldLiterals(p)};y.functionHelper=z;y.referencesFunction=function(p,t){return A.referencesFunction(p,t)};y.referencesMember=function(p,t){return A.referencesMember(p,t)};y.validateScript=function(p,t){return A.validateScript(p,t,"sync")};Object.defineProperty(y,"__esModule",{value:!0})})},"esri/arcade/ArcadePortal":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],
function(x,y){return function(D){function F(k){var h=D.call(this)||this;h.immutable=!1;h.setField("url",k);h.immutable=!0;return h}x._inheritsLoose(F,D);return F}(y)})},"esri/arcade/Attachment":function(){define(["../chunks/_rollupPluginBabelHelpers","./Dictionary"],function(x,y){return function(D){function F(k,h,q,e,l){var f=D.call(this)||this;f.attachmentUrl=l;f.immutable=!1;f.setField("id",k);f.setField("name",h);f.setField("contenttype",q);f.setField("size",e);f.immutable=!0;return f}x._inheritsLoose(F,
D);return F}(y)})},"esri/arcade/functions/array":function(){define(["exports","../../chunks/languageUtils"],function(x,y){x.registerFunctions=function(D,F){D.array=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,1,2);q=y.toNumber(l[0]);if(isNaN(q)||!1===y.isInteger(q))throw Error("Invalid Parameter");l=y.defaultUndefined(l[1],null);q=Array(q);q.fill(l);return q})};D.front=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,1,1);if(y.isImmutableArray(l[0])){if(0>=l[0].length())throw Error("Array is empty");
return l[0].get(0)}if(y.isArray(l[0])){if(0>=l[0].length)throw Error("Array is empty");return l[0][0]}throw Error("Invalid Parameter");})};D.back=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,1,1);if(y.isImmutableArray(l[0])){if(0>=l[0].length())throw Error("Array is empty");return l[0].get(l[0].length()-1)}if(y.isArray(l[0])){if(0>=l[0].length)throw Error("Array is empty");return l[0][l[0].length-1]}throw Error("Invalid Parameter");})};D.push=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,
1,2);if(y.isArray(l[0]))return l[0][l[0].length]=l[1],l[0].length;throw Error("Invalid Parameter");})};D.pop=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,1,1);if(y.isArray(l[0])){if(0>=l[0].length)throw Error("Array is empty");q=l[0][l[0].length-1];--l[0].length;return q}throw Error("Invalid Parameter");})};D.erase=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,2,2);if(y.isArray(l[0])){q=y.toNumber(l[1]);if(isNaN(q)||!1===y.isInteger(q))throw Error("Invalid Parameter");l=l[0];if(0>=
l.length)throw Error("Array is empty");0>q&&(q=l.length+q);if(0>q)throw Error("Element not found");if(q>=l.length)throw Error("Index is greater than array");l.splice(q,1);return y.voidOperation}throw Error("Invalid Parameter");})};D.insert=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,3,3);if(y.isArray(l[0])){q=y.toNumber(l[1]);if(isNaN(q)||!1===y.isInteger(q))throw Error("Invalid Parameter");e=l[2];l=l[0];if(q>l.length)throw Error("Index is greater than array");if(0>q&&q<-1*l.length)throw Error("Index is greater than array");
if(q===l.length)return l[q]=e,y.voidOperation;l.splice(q,0,e);return y.voidOperation}throw Error("Invalid Parameter");})};D.resize=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,2,3);if(y.isArray(l[0])){e=y.toNumber(l[1]);if(isNaN(e)||!1===y.isInteger(e))throw Error("Invalid Parameter");if(0>e)throw Error("Size cannot be negative");q=y.defaultUndefined(l[2],null);l=l[0];if(l.length>=e)return l.length=e,y.voidOperation;const f=l.length;l.length=e;for(e=f;e<l.length;e++)l[e]=q;return y.voidOperation}throw Error("Invalid Parameter");
})};D.includes=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,2,2);if(y.isArray(l[0])){const f=l[1];return-1<l[0].findIndex(m=>y.equalityTest(m,f))?!0:!1}if(y.isImmutableArray(l[0])){const f=l[1];return-1<l[0].toArray().findIndex(m=>y.equalityTest(m,f))?!0:!1}throw Error("Invalid Parameter");})};D.slice=function(k,h){return F(k,h,function(q,e,l){y.pcCheck(l,1,3);if(y.isArray(l[0])){q=y.toNumber(y.defaultUndefined(l[1],0));e=y.toNumber(y.defaultUndefined(l[2],l[0].length));if(isNaN(q)||!1===
y.isInteger(q))throw Error("Invalid Parameter");if(isNaN(e)||!1===y.isInteger(e))throw Error("Invalid Parameter");return l[0].slice(q,e)}if(y.isImmutableArray(l[0])){q=l[0];e=y.toNumber(y.defaultUndefined(l[1],0));l=y.toNumber(y.defaultUndefined(l[2],q.length()));if(isNaN(e)||!1===y.isInteger(e))throw Error("Invalid Parameter");if(isNaN(l)||!1===y.isInteger(l))throw Error("Invalid Parameter");return q.toArray().slice(e,l)}throw Error("Invalid Parameter");})};D.splice=function(k,h){return F(k,h,function(q,
e,l){q=[];for(e=0;e<l.length;e++)y.isArray(l[e])?q.push(...l[e]):y.isImmutableArray(l[e])?q.push(...l[e].toArray()):q.push(l[e]);return q})}};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/functions/date":function(){define(["exports","../../chunks/languageUtils"],function(x,y){function D(h){h=new Date(h.getTime());const q=h.getFullYear();var e=new Date(0);e.setFullYear(q+1,0,4);e.setHours(0,0,0,0);e=F(e);var l=new Date(0);l.setFullYear(q,0,4);l.setHours(0,0,0,0);l=F(l);return h.getTime()>=
e.getTime()?q+1:h.getTime()>=l.getTime()?q:q-1}function F(h){h=new Date(h.getTime());var q=h.getDay();q=(1>q?7:0)+q-1;h.setDate(h.getDate()-q);h.setHours(0,0,0,0);return h}function k(h){return null===h?h:isNaN(h.getTime())?null:h}x.registerFunctions=function(h,q){h.today=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,0,0);f=new Date;f.setHours(0,0,0,0);return f})};h.now=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,0,0);return new Date})};h.timestamp=function(e,l){return q(e,l,function(f,
m,a){y.pcCheck(a,0,0);f=new Date;return f=new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds())})};h.toutc=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===f?null:new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds())})};h.tolocal=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);
return null===f?null:y.MomentLibrary.Moment.utc([f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()]).toDate()})};h.day=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===f?NaN:f.getDate()})};h.month=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===f?NaN:f.getMonth()})};h.year=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===
f?NaN:f.getFullYear()})};h.hour=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===f?NaN:f.getHours()})};h.second=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===f?NaN:f.getSeconds()})};h.millisecond=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===f?NaN:f.getMilliseconds()})};h.minute=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===
f?NaN:f.getMinutes()})};h.weekday=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===f?NaN:f.getDay()})};h.isoweekday=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);if(null===f)return NaN;f=f.getDay();0===f&&(f=7);return f})};h.isomonth=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===f?NaN:f.getMonth()+1})};h.isoweek=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);m=y.toDate(a[0]);
if(null===m)return NaN;f=F(m).getTime();m=D(m);a=new Date(0);a.setFullYear(m,0,4);a.setHours(0,0,0,0);m=F(a);f-=m.getTime();return Math.round(f/6048E5)+1})};h.isoyear=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,1,1);f=y.toDate(a[0]);return null===f?NaN:D(f)})};h.date=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,0,7);if(3===a.length)return k(new Date(y.toNumber(a[0]),y.toNumber(a[1]),y.toNumber(a[2]),0,0,0,0));if(4===a.length)return k(new Date(y.toNumber(a[0]),y.toNumber(a[1]),
y.toNumber(a[2]),y.toNumber(a[3]),0,0,0));if(5===a.length)return k(new Date(y.toNumber(a[0]),y.toNumber(a[1]),y.toNumber(a[2]),y.toNumber(a[3]),y.toNumber(a[4]),0,0));if(6===a.length)return k(new Date(y.toNumber(a[0]),y.toNumber(a[1]),y.toNumber(a[2]),y.toNumber(a[3]),y.toNumber(a[4]),y.toNumber(a[5]),0));if(7===a.length)return k(new Date(y.toNumber(a[0]),y.toNumber(a[1]),y.toNumber(a[2]),y.toNumber(a[3]),y.toNumber(a[4]),y.toNumber(a[5]),y.toNumber(a[6])));if(2===a.length){f=y.toString(a[1]);if(""===
f)return null;f=y.standardiseDateFormat(f);a=y.MomentLibrary.Moment(y.toString(a[0]),f,!0);return!0===a.isValid()?a.toDate():null}if(1===a.length){if(y.isString(a[0])){if(""===a[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(a[0]))return y.toDate(a[0]+"-01-01")}f=y.toNumber(a[0]);return!1===isNaN(f)?k(new Date(f)):y.toDate(a[0])}if(0===a.length)return new Date})};h.datediff=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,2,3);f=y.toDateM(a[0]);
m=y.toDateM(a[1]);if(null===f||null===m)return NaN;switch(y.toString(a[2]).toLowerCase()){case "days":case "day":case "d":return f.diff(m,"days",!0);case "months":case "month":return f.diff(m,"months",!0);case "minutes":case "minute":case "m":return"M"===a[2]?f.diff(m,"months",!0):f.diff(m,"minutes",!0);case "seconds":case "second":case "s":return f.diff(m,"seconds",!0);case "milliseconds":case "millisecond":case "ms":return f.diff(m);case "hours":case "hour":case "h":return f.diff(m,"hours",!0);
case "years":case "year":case "y":return f.diff(m,"years",!0);default:return f.diff(m)}})};h.dateadd=function(e,l){return q(e,l,function(f,m,a){y.pcCheck(a,2,3);f=y.toDateM(a[0]);if(null===f)return null;m="milliseconds";switch(y.toString(a[2]).toLowerCase()){case "days":case "day":case "d":m="days";break;case "months":case "month":m="months";break;case "minutes":case "minute":case "m":m="M"===a[2]?"months":"minutes";break;case "seconds":case "second":case "s":m="seconds";break;case "milliseconds":case "millisecond":case "ms":m=
"milliseconds";break;case "hours":case "hour":case "h":m="hours";break;case "years":case "year":case "y":m="years"}f.add(y.toNumber(a[1]),m);return f.toDate()})}};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/functions/geometry":function(){define("exports ../../geometry/Geometry ../../geometry/Point ../../geometry/Extent ../../geometry/Multipoint ../../geometry/support/coordsUtils ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils ../ImmutablePointArray ../../chunks/languageUtils ../Dictionary ../Feature ./centroid".split(" "),
function(x,y,D,F,k,h,q,e,l,f,m,a,b,n){x.registerFunctions=function(r,G){r.ringisclockwise=function(v,A){return G(v,A,function(z,c,g){m.pcCheck(g,1,1);z=[];let d=c=!1;if(null===g[0])return!1;if(m.isArray(g[0])){for(const u of g[0])if(u instanceof D)z.push(u.hasZ?u.hasM?[u.x,u.y,u.z,u.m]:[u.x,u.y,u.z]:[u.x,u.y]);else throw Error("Invalid Argument");0<z.length&&(c=g[0][0].hasZ,d=g[0][0].hasM)}else if(g[0]instanceof f)z=g[0]._elements,0<z.length&&(c=g[0]._hasZ,d=g[0]._hasM);else if(m.isImmutableArray(g[0])){for(const u of g[0].toArray())if(u instanceof
D)z.push(u.hasZ?u.hasM?[u.x,u.y,u.z,u.m]:[u.x,u.y,u.z]:[u.x,u.y]);else throw Error("Invalid Argument");0<z.length&&(c=g[0].get(0).hasZ,d=g[0].get(0).hasM)}else throw Error("Invalid Argument");return 3>z.length?!1:h.isClockwise(z,d,c)})};r.polygon=function(v,A){return G(v,A,function(z,c,g){m.pcCheck(g,1,1);z=null;if(g[0]instanceof a){if(z=m.fixSpatialReference(b.parseGeometryFromDictionary(g[0]),v.spatialReference),!1===z instanceof q)throw Error("Illegal Parameter");}else z=g[0]instanceof q?l.fromJSON(g[0].toJSON()):
m.fixSpatialReference(new q(JSON.parse(g[0])),v.spatialReference);if(null!==z&&!1===z.spatialReference.equals(v.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(z)})};r.polyline=function(v,A){return G(v,A,function(z,c,g){m.pcCheck(g,1,1);z=null;if(g[0]instanceof a){if(z=m.fixSpatialReference(b.parseGeometryFromDictionary(g[0]),v.spatialReference),!1===z instanceof e)throw Error("Illegal Parameter");
}else z=g[0]instanceof e?l.fromJSON(g[0].toJSON()):m.fixSpatialReference(new e(JSON.parse(g[0])),v.spatialReference);if(null!==z&&!1===z.spatialReference.equals(v.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(z)})};r.point=function(v,A){return G(v,A,function(z,c,g){m.pcCheck(g,1,1);z=null;if(g[0]instanceof a){if(z=m.fixSpatialReference(b.parseGeometryFromDictionary(g[0]),v.spatialReference),
!1===z instanceof D)throw Error("Illegal Parameter");}else z=g[0]instanceof D?l.fromJSON(g[0].toJSON()):m.fixSpatialReference(new D(JSON.parse(g[0])),v.spatialReference);if(null!==z&&!1===z.spatialReference.equals(v.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(z)})};r.multipoint=function(v,A){return G(v,A,function(z,c,g){m.pcCheck(g,1,1);z=null;if(g[0]instanceof a){if(z=m.fixSpatialReference(b.parseGeometryFromDictionary(g[0]),
v.spatialReference),!1===z instanceof k)throw Error("Illegal Parameter");}else z=g[0]instanceof k?l.fromJSON(g[0].toJSON()):m.fixSpatialReference(new k(JSON.parse(g[0])),v.spatialReference);if(null!==z&&!1===z.spatialReference.equals(v.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(z)})};r.extent=function(v,A){return G(v,A,function(z,c,g){g=m.autoCastFeatureToGeometry(g);m.pcCheck(g,1,1);z=null;
g[0]instanceof a?z=m.fixSpatialReference(b.parseGeometryFromDictionary(g[0]),v.spatialReference):g[0]instanceof D?(z={xmin:g[0].x,ymin:g[0].y,xmax:g[0].x,ymax:g[0].y,spatialReference:g[0].spatialReference.toJSON()},g=g[0],g.hasZ?(z.zmin=g.z,z.zmax=g.z):g.hasM&&(z.mmin=g.m,z.mmax=g.m),z=l.fromJSON(z)):z=g[0]instanceof q?l.fromJSON(g[0].extent.toJSON()):g[0]instanceof e?l.fromJSON(g[0].extent.toJSON()):g[0]instanceof k?l.fromJSON(g[0].extent.toJSON()):g[0]instanceof F?l.fromJSON(g[0].toJSON()):m.fixSpatialReference(new F(JSON.parse(g[0])),
v.spatialReference);if(null!==z&&!1===z.spatialReference.equals(v.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(z)})};r.geometry=function(v,A){return G(v,A,function(z,c,g){m.pcCheck(g,1,1);z=null;z=g[0]instanceof b?m.fixSpatialReference(g[0].geometry(),v.spatialReference):g[0]instanceof a?m.fixSpatialReference(b.parseGeometryFromDictionary(g[0]),v.spatialReference):m.fixSpatialReference(l.fromJSON(JSON.parse(g[0])),
v.spatialReference);if(null!==z&&!1===z.spatialReference.equals(v.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return m.fixNullGeometry(z)})};r.setgeometry=function(v,A){return G(v,A,function(z,c,g){m.pcCheck(g,2,2);if(g[0]instanceof b){if(!0===g[0].immutable)throw Error("Feature is Immutable");if(g[1]instanceof y||null===g[1])g[0]._geometry=g[1];else throw Error("Illegal Argument");}else throw Error("Illegal Argument");
return m.voidOperation})};r.feature=function(v,A){return G(v,A,function(z,c,g){if(0===g.length)throw Error("Missing Parameters");z=null;if(1===g.length)if(m.isString(g[0]))z=b.fromJson(JSON.parse(g[0]));else if(g[0]instanceof b)z=b.createFromArcadeFeature(g[0]);else if(g[0]instanceof y)z=b.createFromGraphicLikeObject(g[0],null,null);else if(g[0]instanceof a)z=g[0].hasField("geometry")?g[0].field("geometry"):null,g=g[0].hasField("attributes")?g[0].field("attributes"):null,null!==z&&z instanceof a&&
(z=b.parseGeometryFromDictionary(z)),null!==g&&(g=b.parseAttributesFromDictionary(g)),z=b.createFromGraphicLikeObject(z,g,null);else throw Error("Illegal Argument");else if(2===g.length){c=z=null;if(null!==g[0])if(g[0]instanceof y)z=g[0];else if(z instanceof a)z=b.parseGeometryFromDictionary(g[0]);else throw Error("Illegal Argument");if(null!==g[1])if(g[1]instanceof a)c=b.parseAttributesFromDictionary(g[1]);else throw Error("Illegal Argument");z=b.createFromGraphicLikeObject(z,c,null)}else{z=null;
c={};if(null!==g[0])if(g[0]instanceof y)z=g[0];else if(z instanceof a)z=b.parseGeometryFromDictionary(g[0]);else throw Error("Illegal Argument");for(let d=1;d<g.length;d+=2){const u=m.toString(g[d]),L=g[d+1];if(null===L||void 0===L||m.isString(L)||isNaN(L)||m.isDate(L)||m.isNumber(L)||m.isBoolean(L)){if(m.isFunctionParameter(L)||!1===m.isSimpleType(L))throw Error("Illegal Argument");c[u]=L===m.voidOperation?null:L}else throw Error("Illegal Argument");}z=b.createFromGraphicLikeObject(z,c,null)}z._geometry=
m.fixSpatialReference(z.geometry(),v.spatialReference);z.immutable=!1;return z})};r.dictionary=function(v,A){return G(v,A,function(z,c,g){if(0===g.length)return g=new a,g.immutable=!1,g;if(1===g.length&&m.isString(g[0]))try{var d=JSON.parse(g[0]),u=a.convertObjectToArcadeDictionary(d);u.immutable=!1;return u}catch(L){throw Error("Missing Parameters or Illegal Json");}if(0!==g.length%2)throw Error("Missing Parameters");z={};for(c=0;c<g.length;c+=2)if(d=m.toString(g[c]),u=g[c+1],null===u||void 0===
u||m.isString(u)||isNaN(u)||m.isDate(u)||m.isNumber(u)||m.isBoolean(u)||m.isArray(u)||m.isImmutableArray(u)){if(m.isFunctionParameter(u))throw Error("Illegal Argument");z[d]=u===m.voidOperation?null:u}else throw Error("Illegal Argument");g=new a(z);g.immutable=!1;return g})};r.haskey=function(v,A){return G(v,A,function(z,c,g){m.pcCheck(g,2,2);z=m.toString(g[1]);if(g[0]instanceof b||g[0]instanceof a)return g[0].hasField(z);throw Error("Illegal Argument");})};r.indexof=function(v,A){return G(v,A,function(z,
c,g){m.pcCheck(g,2,2);z=g[1];if(m.isArray(g[0])){for(c=0;c<g[0].length;c++)if(m.equalityTest(z,g[0][c]))return c;return-1}if(m.isImmutableArray(g[0])){c=g[0].length();for(let d=0;d<c;d++)if(m.equalityTest(z,g[0].get(d)))return d;return-1}throw Error("Illegal Argument");})};r.angle=function(v,A){return G(v,A,function(z,c,g){g=m.autoCastFeatureToGeometry(g);m.pcCheck(g,2,3);if(!(g[0]instanceof D))throw Error("Illegal Argument");if(!(g[1]instanceof D))throw Error("Illegal Argument");if(2<g.length&&!(g[2]instanceof
D))throw Error("Illegal Argument");return 2===g.length?n.angle2D(g[0],g[1]):n.angleBetween2D(g[0],g[1],g[2])})};r.bearing=function(v,A){return G(v,A,function(z,c,g){g=m.autoCastFeatureToGeometry(g);m.pcCheck(g,2,3);if(!(g[0]instanceof D))throw Error("Illegal Argument");if(!(g[1]instanceof D))throw Error("Illegal Argument");if(2<g.length&&!(g[2]instanceof D))throw Error("Illegal Argument");return 2===g.length?n.bearing2D(g[0],g[1]):n.bearingBetween2D(g[0],g[1],g[2])})};r.isselfintersecting=function(v,
A){return G(v,A,function(z,c,g){g=m.autoCastFeatureToGeometry(g);m.pcCheck(g,1,1);z=g[0];if(z instanceof q)return z.isSelfIntersecting;if(z instanceof e)return z=z.paths,n.pathsSelfIntersecting(z);if(z instanceof k)for(c=z.points,g=0;g<c.length;g++)for(let d=0;d<c.length;d++)if(d!==g){let u=!0;for(let L=0;L<c[g].length;L++)if(c[g][L]!==c[d][L]){u=!1;break}if(!0===u)return!0}return m.isArray(z)||m.isImmutableArray(z)?(z=m.autoCastArrayOfPointsToPolyline(z,v.spatialReference),null!==z&&(z=z.paths),
n.pathsSelfIntersecting(z)):!1})}};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/functions/centroid":function(){define(["exports","../../geometry/Point","../../geometry/support/intersects"],function(x,y,D){function F(f,m,a){const b={x:0,y:0};m&&(b.z=0);a&&(b.m=0);let n=0;var r=f[0];for(let c=0;c<f.length;c++){const g=f[c];a:if(g.length!==r.length)var G=!1;else{for(G=0;G<g.length;G++)if(g[G]!==r[G]){G=!1;break a}G=!0}if(!1===G){G=k(r,g,m);{var v=g,A=m,z=a;const d={x:(r[0]+v[0])/
2,y:(r[1]+v[1])/2};A&&(d.z=(r[2]+v[2])/2);A&&z?d.m=(r[3]+v[3])/2:z&&(d.m=(r[2]+v[2])/2);r=d}r.x*=G;r.y*=G;b.x+=r.x;b.y+=r.y;m&&(r.z*=G,b.z+=r.z);a&&(r.m*=G,b.m+=r.m);n+=G;r=g}}0<n?(b.x/=n,b.y/=n,m&&(b.z/=n),a&&(b.m/=n)):(b.x=f[0][0],b.y=f[0][1],m&&(b.z=f[0][2]),a&&m?b.m=f[0][3]:a&&(b.m=f[0][2]));return b}function k(f,m,a){const b=m[0]-f[0];f=m[1]-f[1];return a?(m=m[2]-m[2],Math.sqrt(b*b+f*f+m*m)):Math.sqrt(b*b+f*f)}function h(f,m,a=0){for(;f<a;)f+=m;for(a+=m;f>=a;)f-=m;return f}function q(f,m){return Math.atan2(m.y-
f.y,m.x-f.x)}function e(f,m,a){var b=f.x-m.x;f=f.y-m.y;var n=a.x-m.x;m=a.y-m.y;return Math.atan2(b*m-n*f,b*n+f*m)}const l=[0,0];x.angle2D=function(f,m){return h(q(f,m),2*Math.PI)*(180/Math.PI)};x.angleBetween2D=function(f,m,a){return h(e(f,m,a),2*Math.PI)*(180/Math.PI)};x.angleBetweenRad=e;x.angleRad=q;x.bearing2D=function(f,m){return h(Math.PI/2-q(f,m),2*Math.PI)*(180/Math.PI)};x.bearingBetween2D=function(f,m,a){return h(-1*e(f,m,a),2*Math.PI)*(180/Math.PI)};x.centroidMultiPoint=function(f){if(0===
f.points.length)return null;var m=0;let a=0,b=0,n=0;for(let r=0;r<f.points.length;r++){const G=f.getPoint(r);!0===G.hasZ&&(b+=G.z);!0===G.hasM&&(n+=G.m);m+=G.x;a+=G.y;n+=G.m}m={x:m/f.points.length,y:a/f.points.length,spatialReference:null};m.spatialReference=f.spatialReference.toJSON();!0===f.hasZ&&(m.z=b/f.points.length);!0===f.hasM&&(m.m=n/f.points.length);return new y(m)};x.centroidPolyline=function(f){const m={x:0,y:0,spatialReference:f.spatialReference.toJSON()},a={x:0,y:0,spatialReference:f.spatialReference.toJSON()};
let b=0,n=0;for(let v=0;v<f.paths.length;v++)if(0!==f.paths[v].length){a:{var r=f.paths[v];var G=!0===f.hasZ;if(1>=r.length){r=0;break a}let A=0;for(let z=1;z<r.length;z++)A+=k(r[z-1],r[z],G);r=A}0===r?(r=F(f.paths[v],!0===f.hasZ,!0===f.hasM),m.x+=r.x,m.y+=r.y,!0===f.hasZ&&(m.z+=r.z),!0===f.hasM&&(m.m+=r.m),++b):(G=F(f.paths[v],!0===f.hasZ,!0===f.hasM),a.x+=G.x*r,a.y+=G.y*r,!0===f.hasZ&&(a.z+=G.z*r),!0===f.hasM&&(a.m+=G.m*r),n+=r)}return 0<n?(a.x/=n,a.y/=n,!0===f.hasZ&&(a.z/=n),!0===f.hasM&&(a.m/=
n),new y(a)):0<b?(m.x/=b,m.y/=b,!0===f.hasZ&&(a.z/=b),!0===f.hasM&&(m.m/=b),new y(m)):null};x.pathsSelfIntersecting=function(f){for(let A=0;A<f.length;A++){const z=f[A];for(var m=0;m<z.length-1;m++){var a=z[m],b=z[m+1];for(var n=A+1;n<f.length;n++)for(var r=0;r<f[n].length-1;r++){var G=f[n][r],v=f[n][r+1];if(D.segmentIntersects(a,b,G,v,l)&&!(l[0]===a[0]&&l[1]===a[1]||l[0]===G[0]&&l[1]===G[1]||l[0]===b[0]&&l[1]===b[1]||l[0]===v[0]&&l[1]===v[1]))return!0}}m=z.length;if(!(3>m))for(a=0;a<=m-2;a++)for(b=
z[a],n=z[a+1],r=a+2;r<=m-2;r++)if(G=z[r],v=z[r+1],D.segmentIntersects(b,n,G,v,l)&&!(l[0]===b[0]&&l[1]===b[1]||l[0]===G[0]&&l[1]===G[1]||l[0]===n[0]&&l[1]===n[1]||l[0]===v[0]&&l[1]===v[1]))return!0}return!1};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/functions/geomsync":function(){define("exports ../../geometry/Geometry ../../geometry/Point ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils ../../kernel ../../chunks/languageUtils ./centroid ../kernel".split(" "),
function(x,y,D,F,k,h,q,e,l,f,m,a){function b(r){return 0===l.version.indexOf("4.")?h.fromExtent(r):new h({spatialReference:r.spatialReference,rings:[[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]]]})}let n=null;x.registerFunctions=function(r,G){function v(A){f.pcCheck(A,2,2);if(!(A[0]instanceof y&&A[1]instanceof y||A[0]instanceof y&&null===A[1]||A[1]instanceof y&&null===A[0]||null===A[0]&&null===A[1]))throw Error("Illegal Argument");}r.disjoint=function(A,z){return G(A,
z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);v(d);return null===d[0]||null===d[1]?!0:n.disjoint(d[0],d[1])})};r.intersects=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);v(d);return null===d[0]||null===d[1]?!1:n.intersects(d[0],d[1])})};r.touches=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);v(d);return null===d[0]||null===d[1]?!1:n.touches(d[0],d[1])})};r.crosses=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);
v(d);return null===d[0]||null===d[1]?!1:n.crosses(d[0],d[1])})};r.within=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);v(d);return null===d[0]||null===d[1]?!1:n.within(d[0],d[1])})};r.contains=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);v(d);return null===d[0]||null===d[1]?!1:n.contains(d[0],d[1])})};r.overlaps=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);v(d);return null===d[0]||null===d[1]?!1:n.overlaps(d[0],
d[1])})};r.equals=function(A,z){return G(A,z,function(c,g,d){f.pcCheck(d,2,2);return d[0]===d[1]?!0:d[0]instanceof y&&d[1]instanceof y?n.equals(d[0],d[1]):f.isDate(d[0])&&f.isDate(d[1])?d[0].getTime()===d[1].getTime():!1})};r.relate=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,3,3);if(d[0]instanceof y&&d[1]instanceof y)return n.relate(d[0],d[1],f.toString(d[2]));if(d[0]instanceof y&&null===d[1]||d[1]instanceof y&&null===d[0]||null===d[0]&&null===d[1])return!1;
throw Error("Illegal Argument");})};r.intersection=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);v(d);return null===d[0]||null===d[1]?null:n.intersect(d[0],d[1])})};r.union=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);c=[];if(0===d.length)throw Error("Function called with wrong number of Parameters");if(1===d.length)if(f.isArray(d[0]))for(d=f.autoCastFeatureToGeometry(d[0]),g=0;g<d.length;g++){if(null!==d[g]){if(!(d[g]instanceof y))throw Error("Illegal Argument");
c.push(d[g])}}else if(f.isImmutableArray(d[0]))for(d=f.autoCastFeatureToGeometry(d[0].toArray()),g=0;g<d.length;g++){if(null!==d[g]){if(!(d[g]instanceof y))throw Error("Illegal Argument");c.push(d[g])}}else{if(d[0]instanceof y)return f.fixSpatialReference(a.cloneGeometry(d[0]),A.spatialReference);if(null===d[0])return null;throw Error("Illegal Argument");}else for(g=0;g<d.length;g++)if(null!==d[g]){if(!(d[g]instanceof y))throw Error("Illegal Argument");c.push(d[g])}return 0===c.length?null:n.union(c)})};
r.difference=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);v(d);return null!==d[0]&&null===d[1]?a.cloneGeometry(d[0]):null===d[0]?null:n.difference(d[0],d[1])})};r.symmetricdifference=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);v(d);return null===d[0]&&null===d[1]?null:null===d[0]?a.cloneGeometry(d[1]):null===d[1]?a.cloneGeometry(d[0]):n.symmetricDifference(d[0],d[1])})};r.clip=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);
f.pcCheck(d,2,2);if(!(d[1]instanceof F)&&null!==d[1])throw Error("Illegal Argument");if(null===d[0])return null;if(!(d[0]instanceof y))throw Error("Illegal Argument");return null===d[1]?null:n.clip(d[0],d[1])})};r.cut=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,2);if(!(d[1]instanceof q)&&null!==d[1])throw Error("Illegal Argument");if(null===d[0])return[];if(!(d[0]instanceof y))throw Error("Illegal Argument");return null===d[1]?[a.cloneGeometry(d[0])]:
n.cut(d[0],d[1])})};r.area=function(A,z){return G(A,z,function(c,g,d){f.pcCheck(d,1,2);d=f.autoCastFeatureToGeometry(d);if(null===d[0])return 0;if(f.isArray(d[0])||f.isImmutableArray(d[0]))return c=f.autoCastArrayOfPointsToPolygon(d[0],A.spatialReference),null===c?0:n.planarArea(c,a.convertSquareUnitsToCode(f.defaultUndefined(d[1],-1)));if(!(d[0]instanceof y))throw Error("Illegal Argument");return n.planarArea(d[0],a.convertSquareUnitsToCode(f.defaultUndefined(d[1],-1)))})};r.areageodetic=function(A,
z){return G(A,z,function(c,g,d){f.pcCheck(d,1,2);d=f.autoCastFeatureToGeometry(d);if(null===d[0])return 0;if(f.isArray(d[0])||f.isImmutableArray(d[0]))return c=f.autoCastArrayOfPointsToPolygon(d[0],A.spatialReference),null===c?0:n.geodesicArea(c,a.convertSquareUnitsToCode(f.defaultUndefined(d[1],-1)));if(!(d[0]instanceof y))throw Error("Illegal Argument");return n.geodesicArea(d[0],a.convertSquareUnitsToCode(f.defaultUndefined(d[1],-1)))})};r.length=function(A,z){return G(A,z,function(c,g,d){f.pcCheck(d,
1,2);d=f.autoCastFeatureToGeometry(d);if(null===d[0])return 0;if(f.isArray(d[0])||f.isImmutableArray(d[0]))return c=f.autoCastArrayOfPointsToPolyline(d[0],A.spatialReference),null===c?0:n.planarLength(c,a.convertLinearUnitsToCode(f.defaultUndefined(d[1],-1)));if(!(d[0]instanceof y))throw Error("Illegal Argument");return n.planarLength(d[0],a.convertLinearUnitsToCode(f.defaultUndefined(d[1],-1)))})};r.lengthgeodetic=function(A,z){return G(A,z,function(c,g,d){f.pcCheck(d,1,2);d=f.autoCastFeatureToGeometry(d);
if(null===d[0])return 0;if(f.isArray(d[0])||f.isImmutableArray(d[0]))return c=f.autoCastArrayOfPointsToPolyline(d[0],A.spatialReference),null===c?0:n.geodesicLength(c,a.convertLinearUnitsToCode(f.defaultUndefined(d[1],-1)));if(!(d[0]instanceof y))throw Error("Illegal Argument");return n.geodesicLength(d[0],a.convertLinearUnitsToCode(f.defaultUndefined(d[1],-1)))})};r.distance=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,3);c=d[0];if(f.isArray(d[0])||f.isImmutableArray(d[0]))c=
f.autoCastArrayOfPointsToMultiPoint(d[0],A.spatialReference);g=d[1];if(f.isArray(d[1])||f.isImmutableArray(d[1]))g=f.autoCastArrayOfPointsToMultiPoint(d[1],A.spatialReference);if(!(c instanceof y))throw Error("Illegal Argument");if(!(g instanceof y))throw Error("Illegal Argument");return n.distance(c,g,a.convertLinearUnitsToCode(f.defaultUndefined(d[2],-1)))})};r.distancegeodetic=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,3);c=d[0];g=d[1];if(!(c instanceof
D))throw Error("Illegal Argument");if(!(g instanceof D))throw Error("Illegal Argument");const u=new q({paths:[],spatialReference:c.spatialReference});u.addPath([c,g]);return n.geodesicLength(u,a.convertLinearUnitsToCode(f.defaultUndefined(d[2],-1)))})};r.densify=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,3);if(null===d[0])return null;if(!(d[0]instanceof y))throw Error("Illegal Argument");c=f.toNumber(d[1]);if(isNaN(c))throw Error("Illegal Argument");
if(0>=c)throw Error("Illegal Argument");return d[0]instanceof h||d[0]instanceof q?n.densify(d[0],c,a.convertLinearUnitsToCode(f.defaultUndefined(d[2],-1))):d[0]instanceof F?n.densify(b(d[0]),c,a.convertLinearUnitsToCode(f.defaultUndefined(d[2],-1))):d[0]})};r.densifygeodetic=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,3);if(null===d[0])return null;if(!(d[0]instanceof y))throw Error("Illegal Argument");c=f.toNumber(d[1]);if(isNaN(c))throw Error("Illegal Argument");
if(0>=c)throw Error("Illegal Argument");return d[0]instanceof h||d[0]instanceof q?n.geodesicDensify(d[0],c,a.convertLinearUnitsToCode(f.defaultUndefined(d[2],-1))):d[0]instanceof F?n.geodesicDensify(b(d[0]),c,a.convertLinearUnitsToCode(f.defaultUndefined(d[2],-1))):d[0]})};r.generalize=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,4);if(null===d[0])return null;if(!(d[0]instanceof y))throw Error("Illegal Argument");c=f.toNumber(d[1]);if(isNaN(c))throw Error("Illegal Argument");
return n.generalize(d[0],c,f.toBoolean(f.defaultUndefined(d[2],!0)),a.convertLinearUnitsToCode(f.defaultUndefined(d[3],-1)))})};r.buffer=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,3);if(null===d[0])return null;if(!(d[0]instanceof y))throw Error("Illegal Argument");c=f.toNumber(d[1]);if(isNaN(c))throw Error("Illegal Argument");return 0===c?a.cloneGeometry(d[0]):n.buffer(d[0],c,a.convertLinearUnitsToCode(f.defaultUndefined(d[2],-1)))})};r.buffergeodetic=
function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,3);if(null===d[0])return null;if(!(d[0]instanceof y))throw Error("Illegal Argument");c=f.toNumber(d[1]);if(isNaN(c))throw Error("Illegal Argument");return 0===c?a.cloneGeometry(d[0]):n.geodesicBuffer(d[0],c,a.convertLinearUnitsToCode(f.defaultUndefined(d[2],-1)))})};r.offset=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,2,6);if(null===d[0])return null;if(!(d[0]instanceof
h||d[0]instanceof q))throw Error("Illegal Argument");c=f.toNumber(d[1]);if(isNaN(c))throw Error("Illegal Argument");g=f.toNumber(f.defaultUndefined(d[4],10));if(isNaN(g))throw Error("Illegal Argument");const u=f.toNumber(f.defaultUndefined(d[5],0));if(isNaN(u))throw Error("Illegal Argument");return n.offset(d[0],c,a.convertLinearUnitsToCode(f.defaultUndefined(d[2],-1)),f.toString(f.defaultUndefined(d[3],"round")).toLowerCase(),g,u)})};r.rotate=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);
f.pcCheck(d,2,3);c=d[0];if(null===c)return null;if(!(c instanceof y))throw Error("Illegal Argument");c instanceof F&&(c=h.fromExtent(c));g=f.toNumber(d[1]);if(isNaN(g))throw Error("Illegal Argument");d=f.defaultUndefined(d[2],null);if(null===d)return n.rotate(c,g);if(d instanceof D)return n.rotate(c,g,d);throw Error("Illegal Argument");})};r.centroid=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,1,1);if(null===d[0])return null;c=d[0];if(f.isArray(d[0])||f.isImmutableArray(d[0]))c=
f.autoCastArrayOfPointsToMultiPoint(d[0],A.spatialReference);if(null===c)return null;if(!(c instanceof y))throw Error("Illegal Argument");return c instanceof D?f.fixSpatialReference(a.cloneGeometry(d[0]),A.spatialReference):c instanceof h?c.centroid:c instanceof q?m.centroidPolyline(c):c instanceof k?m.centroidMultiPoint(c):c instanceof F?c.center:null})};r.multiparttosinglepart=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,1,1);g=[];if(null===d[0])return null;
if(!(d[0]instanceof y))throw Error("Illegal Argument");if(d[0]instanceof D||d[0]instanceof F)return[f.fixSpatialReference(a.cloneGeometry(d[0]),A.spatialReference)];c=n.simplify(d[0]);if(c instanceof h){d=[];g=[];for(var u=0;u<c.rings.length;u++)if(c.isClockwise(c.rings[u])){const L=e.fromJSON({rings:[c.rings[u]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});d.push(L)}else g.push({ring:c.rings[u],pt:c.getPoint(u,0)});for(c=0;c<g.length;c++)for(u=0;u<d.length;u++)if(d[u].contains(g[c].pt)){d[u].addRing(g[c].ring);
break}return d}if(c instanceof q){d=[];for(g=0;g<c.paths.length;g++)u=e.fromJSON({paths:[c.paths[g]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()}),d.push(u);return d}if(d[0]instanceof k){c=f.fixSpatialReference(a.cloneGeometry(d[0]),A.spatialReference);for(d=0;d<c.points.length;d++)g.push(c.getPoint(d));return g}return null})};r.issimple=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,1,1);if(null===d[0])return!0;if(!(d[0]instanceof
y))throw Error("Illegal Argument");return n.isSimple(d[0])})};r.simplify=function(A,z){return G(A,z,function(c,g,d){d=f.autoCastFeatureToGeometry(d);f.pcCheck(d,1,1);if(null===d[0])return null;if(!(d[0]instanceof y))throw Error("Illegal Argument");return n.simplify(d[0])})}};x.setGeometryEngine=function(r){n=r};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/kernel":function(){define(["exports","../geometry/Extent"],function(x,y){x.cloneGeometry=function(D){if(null===D)return null;
const F=D.clone();void 0!==D.cache._geVersion&&(F.cache._geVersion=D.cache._geVersion);return F};x.convertLinearUnitsToCode=function(D){if(void 0===D)return null;if("number"===typeof D||"number"===typeof D)return D;switch(D.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 9036;
case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 9002}return null};x.convertSquareUnitsToCode=function(D){if(void 0===D)return null;if("number"===typeof D)return D;switch(D.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 109404;
case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 109405}return null};
x.sameGeomType=function(D,F){return D===F||"point"===D&&"esriGeometryPoint"===F||"polyline"===D&&"esriGeometryPolyline"===F||"polygon"===D&&"esriGeometryPolygon"===F||"extent"===D&&"esriGeometryEnvelope"===F||"multipoint"===D&&"esriGeometryMultipoint"===F||"point"===F&&"esriGeometryPoint"===D||"polyline"===F&&"esriGeometryPolyline"===D||"polygon"===F&&"esriGeometryPolygon"===D||"extent"===F&&"esriGeometryEnvelope"===D||"multipoint"===F&&"esriGeometryMultipoint"===D?!0:!1};x.shapeExtent=function(D){if(null===
D)return null;switch(D.type){case "polygon":case "multipoint":case "polyline":return D.extent;case "point":return new y({xmin:D.x,ymin:D.y,xmax:D.x,ymax:D.y,spatialReference:D.spatialReference});case "extent":return D}return null};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/functions/maths":function(){define(["exports","../../core/number","../../chunks/languageUtils"],function(x,y,D){function F(k,h,q){if("undefined"===typeof q||0===+q)return Math[k](h);h=+h;q=+q;if(isNaN(h)||
"number"!==typeof q||0!==q%1)return NaN;h=h.toString().split("e");h=Math[k](+(h[0]+"e"+(h[1]?+h[1]-q:-q)));h=h.toString().split("e");return+(h[0]+"e"+(h[1]?+h[1]+q:q))}x.registerFunctions=function(k,h){function q(e,l,f){e=D.toNumber(e);return isNaN(e)?e:isNaN(l)||isNaN(f)||l>f?NaN:e<l?l:e>f?f:e}k.number=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,2);f=a[0];return D.isNumber(f)?f:null===f?0:D.isDate(f)||D.isBoolean(f)?Number(f):D.isArray(f)?NaN:""===f||void 0===f?Number(f):D.isString(f)?
void 0!==a[1]?(a=D.multiReplace(a[1],"\u2030",""),a=D.multiReplace(a,"\u00a4",""),y.parse(f,{pattern:a})):Number(f.trim()):Number(f)})};k.abs=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return Math.abs(D.toNumber(a[0]))})};k.acos=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return Math.acos(D.toNumber(a[0]))})};k.asin=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return Math.asin(D.toNumber(a[0]))})};k.atan=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,
1,1);return Math.atan(D.toNumber(a[0]))})};k.atan2=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,2,2);return Math.atan2(D.toNumber(a[0]),D.toNumber(a[1]))})};k.ceil=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,2);return 2===a.length?(f=D.toNumber(a[1]),isNaN(f)&&(f=0),F("ceil",D.toNumber(a[0]),-1*f)):Math.ceil(D.toNumber(a[0]))})};k.round=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,2);return 2===a.length?(f=D.toNumber(a[1]),isNaN(f)&&(f=0),F("round",D.toNumber(a[0]),
-1*f)):Math.round(D.toNumber(a[0]))})};k.floor=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,2);return 2===a.length?(f=D.toNumber(a[1]),isNaN(f)&&(f=0),F("floor",D.toNumber(a[0]),-1*f)):Math.floor(D.toNumber(a[0]))})};k.cos=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return Math.cos(D.toNumber(a[0]))})};k.isnan=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return"number"===typeof a[0]&&isNaN(a[0])})};k.exp=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,
1,1);return Math.exp(D.toNumber(a[0]))})};k.log=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return Math.log(D.toNumber(a[0]))})};k.pow=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,2,2);return Math.pow(D.toNumber(a[0]),D.toNumber(a[1]))})};k.random=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,0,0);return Math.random()})};k.sin=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return Math.sin(D.toNumber(a[0]))})};k.sqrt=function(e,l){return h(e,l,function(f,
m,a){D.pcCheck(a,1,1);return Math.sqrt(D.toNumber(a[0]))})};k.tan=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return Math.tan(D.toNumber(a[0]))})};k.defaultvalue=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,2,2);return null===a[0]||""===a[0]||void 0===a[0]?a[1]:a[0]})};k.isempty=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return null===a[0]||""===a[0]||void 0===a[0]?!0:!1})};k["boolean"]=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,1,1);return D.toBoolean(a[0])})};
k.constrain=function(e,l){return h(e,l,function(f,m,a){D.pcCheck(a,3,3);f=D.toNumber(a[1]);m=D.toNumber(a[2]);if(D.isArray(a[0])){var b=[];for(var n of a[0])b.push(q(n,f,m));return b}if(D.isImmutableArray(a[0])){n=[];for(b=0;b<a[0].length();b++)n.push(q(a[0].get(b),f,m));return n}return q(a[0],f,m)})}};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/functions/stats":function(){define(["exports","../../chunks/languageUtils","./fieldStats"],function(x,y,D){function F(k,h,q,e){if(1===
e.length){if(y.isArray(e[0]))return D.calculateStat(k,e[0],-1);if(y.isImmutableArray(e[0]))return D.calculateStat(k,e[0].toArray(),-1)}return D.calculateStat(k,e,-1)}x.registerFunctions=function(k,h){k.stdev=function(q,e){return h(q,e,function(l,f,m){return F("stdev",l,f,m)})};k.variance=function(q,e){return h(q,e,function(l,f,m){return F("variance",l,f,m)})};k.average=function(q,e){return h(q,e,function(l,f,m){return F("mean",l,f,m)})};k.mean=function(q,e){return h(q,e,function(l,f,m){return F("mean",
l,f,m)})};k.sum=function(q,e){return h(q,e,function(l,f,m){return F("sum",l,f,m)})};k.min=function(q,e){return h(q,e,function(l,f,m){return F("min",l,f,m)})};k.max=function(q,e){return h(q,e,function(l,f,m){return F("max",l,f,m)})};k.distinct=function(q,e){return h(q,e,function(l,f,m){return F("distinct",l,f,m)})};k.count=function(q,e){return h(q,e,function(l,f,m){y.pcCheck(m,1,1);if(y.isArray(m[0])||y.isString(m[0]))return m[0].length;if(y.isImmutableArray(m[0]))return m[0].length();throw Error("Invalid Parameters for Count");
})}};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/functions/fieldStats":function(){define(["exports","../../chunks/languageUtils"],function(x,y){function D(k){let h=0;for(let q=0;q<k.length;q++)h+=k[q];return h/k.length}function F(k){const h=D(k);let q=0;for(let e=0;e<k.length;e++)q+=Math.pow(h-k[e],2);return q/k.length}x.calculateStat=function(k,h,q=1E3){switch(k.toLowerCase()){case "distinct":a:{k=[];const e={},l=[];for(let f=0;f<h.length;f++){if(void 0!==h[f]&&null!==h[f]&&
h[f]!==y.voidOperation){const m=h[f];if(y.isNumber(m)||y.isString(m))void 0===e[m]&&(k.push(m),e[m]=1);else{let a=!1;for(let b=0;b<l.length;b++)!0===y.equalityTest(l[b],m)&&(a=!0);!1===a&&(l.push(m),k.push(m))}}if(k.length>=q&&-1!==q){h=k;break a}}h=k}return h;case "avg":case "mean":return D(y.toNumberArray(h));case "min":return Math.min.apply(Math,y.toNumberArray(h));case "sum":h=y.toNumberArray(h);q=0;for(k=0;k<h.length;k++)q+=h[k];return h=q;case "max":return Math.max.apply(Math,y.toNumberArray(h));
case "stdev":case "stddev":return Math.sqrt(F(y.toNumberArray(h)));case "var":case "variance":return F(y.toNumberArray(h));case "count":return h.length}return 0};x.decodeStatType=function(k){switch(k.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};Object.defineProperty(x,"__esModule",
{value:!0})})},"esri/arcade/functions/string":function(){define("exports ../../geometry/SpatialReference ../../geometry/Point ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Polygon ../../geometry/Polyline ../../chunks/languageUtils ../Dictionary ../ArcadePortal ../Attachment ../featureset/support/shared ../Feature ./hash".split(" "),function(x,y,D,F,k,h,q,e,l,f,m,a,b,n){function r(v,A){if(v.x===A.x&&v.y===A.y){if(v.hasZ){if(v.z!==A.z)return!1}else if(A.hasZ)return!1;if(v.hasM){if(v.m!==
A.m)return!1}else if(A.hasM)return!1;return!0}return!1}function G(v,A,z){if(null===v)A.updateUint8Array([0,139]);else if(e.isArray(v)){A.updateUint8Array([61]);if(z.map.has(v))v=z.map.get(v),A.updateIntArray([v^61237541]);else{z.map.set(v,z.currentLength++);for(var c of v)G(c,A,z);z.map.delete(v);z.currentLength--}A.updateUint8Array([199])}else if(e.isImmutableArray(v)){A.updateUint8Array([61]);if(z.map.has(v))v=z.map.get(v),A.updateIntArray([v^61237541]);else{z.map.set(v,z.currentLength++);for(var g of v.toArray())G(g,
A,z);z.map.delete(v);z.currentLength--}A.updateUint8Array([199])}else if(e.isDate(v))A.updateIntArray([v.getTime()]),A.updateUint8Array([241]);else if(e.isString(v))A.updateIntArray([v.length]),A.updateWithString(v),A.updateUint8Array([41]);else if(e.isBoolean(v))A.updateUint8Array([!0===v?1:0,113]);else if(e.isNumber(v))A.updateFloatArray([v]),A.updateUint8Array([173]);else{if(v instanceof m)throw Error("Type not supported in Hash");if(v instanceof f)throw Error("Type not supported in Hash");if(v instanceof
l){A.updateUint8Array([223]);if(z.map.has(v))v=z.map.get(v),A.updateIntArray([v^61237541]);else{z.map.set(v,z.currentLength++);for(var d of v.keys())A.updateIntArray([d.length]),A.updateWithString(d),A.updateUint8Array([251]),c=v.field(d),G(c,A,z),A.updateUint8Array([239]);z.map.delete(v);z.currentLength--}A.updateUint8Array([73])}else{if(v instanceof b)throw Error("Type not supported in Hash");if(v instanceof D)A.updateIntArray([3833836621]),A.updateIntArray([0]),A.updateFloatArray([v.x]),A.updateIntArray([1]),
A.updateFloatArray([v.y]),v.hasZ&&(A.updateIntArray([2]),A.updateFloatArray([v.z])),v.hasM&&(A.updateIntArray([3]),A.updateFloatArray([v.m])),A.updateIntArray([3765347959]),G(v.spatialReference.wkid,A,z);else if(v instanceof h){A.updateIntArray([1266616829]);for(d=0;d<v.rings.length;d++){g=v.rings[d];c=[];var u=null;let L=null;for(let T=0;T<g.length;T++){const U=v.getPoint(d,T);if(0===T)u=U;else if(r(L,U))continue;L=U;T===g.length-1&&r(u,U)||c.push(U)}A.updateIntArray([1397116793,c.length]);for(g=
0;g<c.length;g++)u=c[g],A.updateIntArray([3962308117,g]),G(u,A,z),A.updateIntArray([2716288009]);A.updateIntArray([2278822459])}A.updateIntArray([3878477243]);G(v.spatialReference.wkid,A,z)}else if(v instanceof q){A.updateIntArray([4106883559]);for(d=0;d<v.paths.length;d++){c=v.paths[d];A.updateIntArray([1397116793,c.length]);for(g=0;g<c.length;g++)A.updateIntArray([3962308117,g]),G(v.getPoint(d,g),A,z),A.updateIntArray([2716288009]);A.updateIntArray([2278822459])}A.updateIntArray([2568784753]);G(v.spatialReference.wkid,
A,z)}else if(v instanceof k){A.updateIntArray([588535921,v.points.length]);for(d=0;d<v.points.length;d++)c=v.getPoint(d),A.updateIntArray([d]),G(c,A,z);A.updateIntArray([1700171621]);G(v.spatialReference.wkid,A,z)}else if(v instanceof F)A.updateIntArray([3483648373]),A.updateIntArray([0]),A.updateFloatArray([v.xmax]),A.updateIntArray([1]),A.updateFloatArray([v.xmin]),A.updateIntArray([2]),A.updateFloatArray([v.ymax]),A.updateIntArray([3]),A.updateFloatArray([v.ymin]),v.hasZ&&(A.updateIntArray([4]),
A.updateFloatArray([v.zmax]),A.updateIntArray([5]),A.updateFloatArray([v.zmin])),v.hasM&&(A.updateIntArray([6]),A.updateFloatArray([v.mmax]),A.updateIntArray([7]),A.updateFloatArray([v.mmin])),A.updateIntArray([3622027469]),G(v.spatialReference.wkid,A,z);else if(v instanceof y)A.updateIntArray([14]),void 0!==v.wkid&&null!==v.wkid&&A.updateIntArray([v.wkid]),v.wkt&&A.updateWithString(v.wkt);else{if(e.isFunctionParameter(v))throw Error("Type not supported in Hash");if(e.isFeatureSet(v))throw Error("Type not supported in Hash");
e.isFeatureSetCollection(v);throw Error("Type not supported in Hash");}}}}x.registerFunctions=function(v,A){v.portal=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);return new f(e.toString(u[0]))})};v.trim=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);return e.toString(u[0]).trim()})};v.tohex=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);g=e.toNumber(u[0]);return isNaN(g)?g:g.toString(16)})};v.upper=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);
return e.toString(u[0]).toUpperCase()})};v.proper=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,2);g=1;2===u.length&&"firstword"===e.toString(u[1]).toLowerCase()&&(g=2);d=/\s/;u=e.toString(u[0]);let L="",T=!0;for(let U=0;U<u.length;U++){let Q=u[U];d.test(Q)?1===g&&(T=!0):Q.toUpperCase()!==Q.toLowerCase()&&(T?(Q=Q.toUpperCase(),T=!1):Q=Q.toLowerCase());L+=Q}return L})};v.lower=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);return e.toString(u[0]).toLowerCase()})};v.guid=function(z,
c){return A(z,c,function(g,d,u){e.pcCheck(u,0,1);if(0<u.length)switch(e.toString(u[0]).toLowerCase()){case "digits":return e.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return e.generateUUID();case "digits-hyphen-parentheses":return"("+e.generateUUID()+")"}return"{"+e.generateUUID()+"}"})};v.console=function(z,c){return A(z,c,function(g,d,u){0!==u.length&&(1===u.length?z.console(e.toString(u[0])):z.console(e.toString(u)));return e.voidOperation})};
v.mid=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,2,3);g=e.toNumber(u[1]);if(isNaN(g))return"";0>g&&(g=0);if(2===u.length)return e.toString(u[0]).substr(g);d=e.toNumber(u[2]);if(isNaN(d))return"";0>d&&(d=0);return e.toString(u[0]).substr(g,d)})};v.find=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,2,3);g=0;if(2<u.length){g=e.toNumber(e.defaultUndefined(u[2],0));if(isNaN(g))return-1;0>g&&(g=0)}return e.toString(u[1]).indexOf(e.toString(u[0]),g)})};v.left=function(z,c){return A(z,
c,function(g,d,u){e.pcCheck(u,2,2);g=e.toNumber(u[1]);if(isNaN(g))return"";0>g&&(g=0);return e.toString(u[0]).substr(0,g)})};v.right=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,2,2);g=e.toNumber(u[1]);if(isNaN(g))return"";0>g&&(g=0);return e.toString(u[0]).substr(-1*g,g)})};v.split=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,2,4);g=e.toNumber(e.defaultUndefined(u[2],-1));d=e.toBoolean(e.defaultUndefined(u[3],!1));-1===g||null===g||!0===d?u=e.toString(u[0]).split(e.toString(u[1])):
(isNaN(g)&&(g=-1),-1>g&&(g=-1),u=e.toString(u[0]).split(e.toString(u[1]),g));if(!1===d)return u;d=[];for(let L=0;L<u.length&&!(-1!==g&&d.length>=g);L++)""!==u[L]&&void 0!==u[L]&&d.push(u[L]);return d})};v.text=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,2);return e.toStringExplicit(u[0],u[1])})};v.concatenate=function(z,c){return A(z,c,function(g,d,u){g=[];if(1>u.length)return"";if(e.isArray(u[0])){d=e.defaultUndefined(u[2],"");for(var L=0;L<u[0].length;L++)g[L]=e.toStringExplicit(u[0][L],
d);return 1<u.length?g.join(u[1]):g.join("")}if(e.isImmutableArray(u[0])){d=e.defaultUndefined(u[2],"");for(L=0;L<u[0].length();L++)g[L]=e.toStringExplicit(u[0].get(L),d);return 1<u.length?g.join(u[1]):g.join("")}for(d=0;d<u.length;d++)g[d]=e.toStringExplicit(u[d]);return g.join("")})};v.reverse=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);if(e.isArray(u[0]))return g=u[0].slice(0),g.reverse(),g;if(e.isImmutableArray(u[0]))return g=u[0].toArray().slice(0),g.reverse(),g;throw Error("Invalid Parameter");
})};v.replace=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,3,4);g=e.toString(u[0]);d=e.toString(u[1]);const L=e.toString(u[2]);return(4===u.length?e.toBoolean(u[3]):1)?e.multiReplace(g,d,L):g.replace(d,L)})};v.schema=function(z,c){return A(z,c,function(g,d,u){if(u[0]instanceof b)return(g=u[0].schema())?l.convertObjectToArcadeDictionary(g):null;throw Error("Invalid Parameter");})};v.subtypes=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);if(u[0]instanceof b)return(g=u[0].subtypes())?
l.convertObjectToArcadeDictionary(g):null;throw Error("Invalid Parameter");})};v.subtypecode=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);if(u[0]instanceof b){g=u[0].subtypes();if(!g)return null;if(g.subtypeField&&u[0].hasField(g.subtypeField)){u=u[0].field(g.subtypeField);for(const L of g.subtypes)if(L.code===u)return L.code}return null}throw Error("Invalid Parameter");})};v.subtypename=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);if(u[0]instanceof b){g=u[0].subtypes();
if(!g)return"";if(g.subtypeField&&u[0].hasField(g.subtypeField)){u=u[0].field(g.subtypeField);for(const L of g.subtypes)if(L.code===u)return L.name}return""}throw Error("Invalid Parameter");})};v.gdbversion=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);if(u[0]instanceof b)return u[0].gdbVersion();throw Error("Invalid Parameter");})};v.domain=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,2,3);if(u[0]instanceof b)return(g=u[0].fullDomain(e.toString(u[1]),void 0===u[2]?void 0:
e.toNumber(u[2])))&&g.domain?"coded-value"===g.domain.type||"codedValue"===g.domain.type?l.convertObjectToArcadeDictionary({type:"codedValue",name:g.domain.name,dataType:a.layerFieldEsriConstants[g.field.type],codedValues:g.domain.codedValues.map(L=>({name:L.name,code:L.code}))}):l.convertObjectToArcadeDictionary({type:"range",name:g.domain.name,dataType:a.layerFieldEsriConstants[g.field.type],min:g.domain.min,max:g.domain.max}):null;throw Error("Invalid Parameter");})};v.domainname=function(z,c){return A(z,
c,function(g,d,u){e.pcCheck(u,2,4);if(u[0]instanceof b)return u[0].domainValueLookup(e.toString(u[1]),u[2],void 0===u[3]?void 0:e.toNumber(u[3]));throw Error("Invalid Parameter");})};v.domaincode=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,2,4);if(u[0]instanceof b)return u[0].domainCodeLookup(e.toString(u[1]),u[2],void 0===u[3]?void 0:e.toNumber(u[3]));throw Error("Invalid Parameter");})};v.urlencode=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);if(null===u[0])return"";if(u[0]instanceof
l){g="";for(const L of u[0].keys())d=u[0].field(L),""!==g&&(g+="\x26"),g=null===d?g+(encodeURIComponent(L)+"\x3d"):g+(encodeURIComponent(L)+"\x3d"+encodeURIComponent(d));return g}return encodeURIComponent(e.toString(u[0]))})};v.hash=function(z,c){return A(z,c,function(g,d,u){e.pcCheck(u,1,1);g=new n.XXH(0);G(u[0],g,{map:new Map,currentLength:0});return g.digest()})}};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/functions/hash":function(){define(["exports"],function(x){function y(F){const k=
[];for(let h=0,q=F.length;h<q;h++){let e=F.charCodeAt(h);128>e?k.push(e):2048>e?k.push(192|e>>6,128|e&63):55296>e||57344<=e?k.push(224|e>>12,128|e>>6&63,128|e&63):(h++,e=65536+((e&1023)<<10|F.charCodeAt(h)&1023),k.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|e&63))}return new Uint8Array(k)}let D=function(){function F(h){this.seed=h;this.totallen=0;this.bufs=[];this.init()}var k=F.prototype;k.init=function(){this.bufs=[];this.totallen=0;return this};k.updateFloatArray=function(h){const q=[];for(const e of h)isNaN(e)?
q.push("NaN"):Infinity===e?q.push("Infinity"):-Infinity===e?q.push("-Infinity"):0===e?q.push("0"):q.push(e.toString(16));this.update(y(q.join("")))};k.updateIntArray=function(h){h=Int32Array.from(h);this.update(new Uint8Array(h.buffer))};k.updateUint8Array=function(h){this.update(Uint8Array.from(h))};k.updateWithString=function(h){return this.update(y(h))};k.update=function(h){this.bufs.push(h);this.totallen+=h.length;return this};k.digest=function(){const h=new Uint8Array(this.totallen);let q=0;
for(const e of this.bufs)h.set(e,q),q+=e.length;this.init();return this.xxHash32(h,this.seed)};k.xxHash32=function(h,q=0){var e=q+374761393&4294967295;let l=0;if(16<=h.length){e=[q+2654435761+2246822519&4294967295,q+2246822519&4294967295,q+0&4294967295,q-2654435761&4294967295];q=h.length-16;var f=0;for(l=0;(l&4294967280)<=q;l+=4){var m=l;m=e[f]+(2246822519*(h[m+0]+(h[m+1]<<8))+(2246822519*(h[m+2]+(h[m+3]<<8))<<16))&4294967295;m=m<<13|m>>>19;e[f]=2654435761*(m&65535)+(2654435761*(m>>>16)<<16)&4294967295;
f=f+1&3}e=(e[0]<<1|e[0]>>>31)+(e[1]<<7|e[1]>>>25)+(e[2]<<12|e[2]>>>20)+(e[3]<<18|e[3]>>>14)&4294967295}e=e+h.length&4294967295;for(q=h.length-4;l<=q;l+=4)f=l,e=e+(3266489917*(h[f+0]+(h[f+1]<<8))+(3266489917*(h[f+2]+(h[f+3]<<8))<<16))&4294967295,e=e<<17|e>>>15,e=668265263*(e&65535)+(668265263*(e>>>16)<<16)&4294967295;for(;l<h.length;++l)e+=374761393*h[l],e=e<<11|e>>>21,e=2654435761*(e&65535)+(2654435761*(e>>>16)<<16)&4294967295;e^=e>>>15;e=(2246822519*(e&65535)&4294967295)+(2246822519*(e>>>16)<<16);
e^=e>>>13;e=(3266489917*(e&65535)&4294967295)+(3266489917*(e>>>16)<<16);e^=e>>>16;return 0>e?e+4294967296:e};return F}();x.XXH=D;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/views/2d/layers/features/support/FeatureSetReader":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../geometry/support/jsonUtils ../../../../../geometry ../../../../../layers/graphics/OptimizedGeometry ../../../../../layers/graphics/featureConversionUtils ../../../../../layers/graphics/centroid".split(" "),
function(x,y,D,F,k,h,q){let e=0;F=function(){function l(m){this.type="FeatureSetReader";this.seen=!1;this._ty=this._tx=this.instance=0;this._xmin=-1;this._ymax=this._ymin=this._xmax=0;this._joined=[];this.instance=m}l.createInstance=function(){e++;return e=65535<e?0:e};var f=l.prototype;f.getQuantizationTransform=function(){throw Error("Unable to find transform for featureSet");};f.getStorage=function(){return this._storage};f.getComputedNumeric=function(m){return this.getComputedNumericAtIndex(0)};
f.setComputedNumeric=function(m,a){return this.setComputedNumericAtIndex(a,0)};f.getComputedString=function(m){return this.getComputedStringAtIndex(0)};f.setComputedString=function(m,a){return this.setComputedStringAtIndex(0,a)};f.getComputedNumericAtIndex=function(m){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),m)};f.setComputedNumericAtIndex=function(m,a){this._storage.setComputedNumericAtIndex(this.getDisplayId(),m,a)};f.getComputedStringAtIndex=function(m){return this._storage.getComputedStringAtIndex(this.getDisplayId(),
m)};f.setComputedStringAtIndex=function(m,a){return this._storage.setComputedStringAtIndex(this.getDisplayId(),m,a)};f.transform=function(m,a){const b=this.copy();b._tx=m;b._ty=a;return b};f.extent=function(m,a,b,n){const r=this.copy();r._xmin=m;r._xmax=b;r._ymin=a;r._ymax=n;return r};f.hasFilter=function(){return this._hasFilter};f.readAttribute=function(m,a=!1){var b=this._readAttribute(m,a);if(void 0!==b)return b;for(const n of this._joined)if(n.setIndex(this.getIndex()),b=n._readAttribute(m,a),
void 0!==b)return b};f.readAttributes=function(){return this._readAttributes()};f.joinAttributes=function(m){this._joined.push(m)};f.readArcadeFeature=function(){return this};f.geometry=function(){var m=this.readHydratedGeometry();m=h.convertToGeometry(m,this.geometryType,this.hasZ,this.hasM);m=D.fromJSON(m);m.spatialReference=this._arcadeSpatialReference;return m};f.field=function(m){return this.readAttribute(m,!0)};f.hasField=function(m){return!0};f.setField=function(m,a){};f.keys=function(){return[]};
f.castToText=function(){return""};f._computeCentroid=function(){if("esriGeometryPolygon"!==this.geometryType)return null;const m=this.readUnquantizedGeometry();if(!m||m.hasIndeterminateRingOrder)return null;const a=this.getQuantizationTransform();return q.getCentroidOptimizedGeometry(new k,m,this.hasM,this.hasZ,a)};f.copyInto=function(m){m.seen=this.seen;m._storage=this._storage;m._arcadeSpatialReference=this._arcadeSpatialReference;m._joined=this._joined;m._tx=this._tx;m._ty=this._ty;m._xmin=this._xmin;
m._xmax=this._xmax;m._ymin=this._ymin;m._ymax=this._ymax};y._createClass(l,[{key:"_hasFilter",get:function(){return-1!==this._xmin}}]);return l}();x.FeatureSetReader=F;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/layers/graphics/centroid":function(){define(["exports"],function(x){function y(F,k,h,q,e,l,f=1){l=e?l?4:3:l?3:2;let m=h,a=h+l,b=0,n=0,r=h=0,G=0;for(let v=0,A=q-1;v<A;v++,m+=l,a+=l){q=k[m];const z=k[m+1],c=k[m+2],g=k[a],d=k[a+1],u=k[a+2];let L=q*d-g*z;r+=L;b+=(q+g)*L;n+=(z+d)*
L;e&&(L=q*u-g*c,h+=(c+u)*L,G+=L);q<F[0]&&(F[0]=q);q>F[1]&&(F[1]=q);z<F[2]&&(F[2]=z);z>F[3]&&(F[3]=z);e&&(c<F[4]&&(F[4]=c),c>F[5]&&(F[5]=c))}0<r*f&&(r*=-1);0<G*f&&(G*=-1);if(!r)return null;F=[b,n,.5*r];e&&(F[3]=h,F[4]=.5*G);return F}function D(F,k,h,q,e){e=q?e?4:3:e?3:2;let l=k,f=k+e,m=0,a=0,b=0,n=0;for(let A=0,z=h-1;A<z;A++,l+=e,f+=e){var r=F[l];const c=F[l+1],g=F[l+2],d=F[f],u=F[f+1],L=F[f+2];if(q){{var G=d-r;var v=u-c;const T=L-g;G=Math.sqrt(G*G+v*v+T*T)}}else G=d-r,v=u-c,G=Math.sqrt(G*G+v*v);G&&
(m+=G,q?(r=[r+.5*(d-r),c+.5*(u-c),g+.5*(L-g)],a+=G*r[0],b+=G*r[1],n+=G*r[2]):(r=[r+.5*(d-r),c+.5*(u-c)],a+=G*r[0],b+=G*r[1]))}return 0<m?q?[a/m,b/m,n/m]:[a/m,b/m]:0<h?q?[F[k],F[k+1],F[k+2]]:[F[k],F[k+1]]:null}x.getCentroidOptimizedGeometry=function(F,k,h,q,e){if(!k||!k.lengths.length)return null;const l="upperLeft"===(null==e?void 0:e.originPosition)?-1:1;F.lengths.length&&(F.lengths.length=0);F.coords.length&&(F.coords.length=0);e=F.coords;const f=[],m=h?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,
Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:a,coords:b}=k,n=h?q?4:3:q?3:2;let r=0;for(var G of a){const v=y(m,b,r,G,h,q,l);v&&f.push(v);r+=G*n}f.sort((v,A)=>{let z=l*v[2]-l*A[2];0===z&&h&&(z=v[4]-A[4]);return z});f.length&&(G=6*f[0][2],e[0]=f[0][0]/G,e[1]=f[0][1]/G,h&&(G=6*f[0][4],e[2]=0!==G?f[0][3]/G:0),e[0]<m[0]||e[0]>m[1]||e[1]<
m[2]||e[1]>m[3]||h&&(e[2]<m[4]||e[2]>m[5]))&&(e.length=0);if(!e.length)if(k=k.lengths[0]?D(b,0,a[0],h,q):null)e[0]=k[0],e[1]=k[1],h&&2<k.length&&(e[2]=k[2]);else return null;return F};x.lineCentroid=D;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/arcadeRuntime":function(){define("exports ../geometry/SpatialReference ../geometry/Geometry ../geometry/Point ../geometry/Extent ../geometry/Multipoint ../geometry/Polygon ../geometry/Polyline ./FunctionWrapper ./ImmutablePointArray ./ImmutablePathArray ../chunks/languageUtils ./Dictionary ./ArcadePortal ./Attachment ./Feature ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string".split(" "),
function(x,y,D,F,k,h,q,e,l,f,m,a,b,n,r,G,v,A,z,c,g,d,u,L){function T(B,C){const I=[];for(let K=0;K<C.arguments.length;K++)I.push(Q(B,C.arguments[K]));return I}function U(B,C,I){try{return I(B,C,T(B,C))}catch(K){throw K;}}function Q(B,C){try{switch(C.type){case "EmptyStatement":return a.voidOperation;case "VariableDeclarator":{let P=null===C.init?null:Q(B,C.init);P===a.voidOperation&&(P=null);if("Identifier"!==C.id.type)throw Error("Can only assign a regular variable");const Z=C.id.name.toLowerCase();
null!==B.localScope?B.localScope[Z]={value:P,valueset:!0,node:C.init}:B.globalScope[Z]={value:P,valueset:!0,node:C.init};var I=a.voidOperation}return I;case "VariableDeclaration":for(var K=0;K<C.declarations.length;K++)Q(B,C.declarations[K]);return a.voidOperation;case "BlockStatement":a:{let P=a.voidOperation;for(K=0;K<C.body.length;K++)if(P=Q(B,C.body[K]),P instanceof a.ReturnResult||P===a.breakResult||P===a.continueResult){var O=P;break a}O=P}return O;case "FunctionDeclaration":{const P=C.id.name.toLowerCase();
B.globalScope[P]={valueset:!0,node:null,value:new l(C,B)};var X=a.voidOperation}return X;case "ReturnStatement":if(null===C.argument)var ja=new a.ReturnResult(a.voidOperation);else{var ea=Q(B,C.argument);ja=new a.ReturnResult(ea)}return ja;case "IfStatement":{if("AssignmentExpression"===C.test.type||"UpdateExpression"===C.test.type)throw Error(v.nodeErrorMessage(C.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const P=Q(B,C.test);if(!0===P)var p=Q(B,C.consequent);else if(!1===P)p=null!==C.alternate?
Q(B,C.alternate):a.voidOperation;else throw Error(v.nodeErrorMessage(C,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}return p;case "ExpressionStatement":if("AssignmentExpression"===C.expression.type||"UpdateExpression"===C.expression.type)var t=Q(B,C.expression);else if("CallExpression"===C.expression.type){const P=Q(B,C.expression);t=P===a.voidOperation?a.voidOperation:new a.ImplicitResult(P)}else{{const P=Q(B,C.expression);t=P===a.voidOperation?a.voidOperation:new a.ImplicitResult(P)}}return t;
case "AssignmentExpression":{const P=Q(B,C.right);K=null;var H="";if("MemberExpression"===C.left.type){K=Q(B,C.left.object);!0===C.left.computed?H=Q(B,C.left.property):"Identifier"===C.left.property.type&&(H=C.left.property.name);if(a.isArray(K))if(a.isNumber(H)){0>H&&(H=K.length+H);if(0>H||H>K.length)throw Error("Assignment outside of array bounds");if(H===K.length&&"\x3d"!==C.operator)throw Error("Invalid Parameter");K[H]=W(P,C.operator,K[H],C)}else throw Error("Invalid Parameter");else if(K instanceof
b){if(!1===a.isString(H))throw Error("Dictionary accessor must be a string");if(!0===K.hasField(H))K.setField(H,W(P,C.operator,K.field(H),C));else{if("\x3d"!==C.operator)throw Error("Invalid Parameter");K.setField(H,W(P,C.operator,null,C))}}else if(K instanceof G){if(!1===a.isString(H))throw Error("Feature accessor must be a string");if(!0===K.hasField(H))K.setField(H,W(P,C.operator,K.field(H),C));else{if("\x3d"!==C.operator)throw Error("Invalid Parameter");K.setField(H,W(P,C.operator,null,C))}}else{if(a.isImmutableArray(K))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}var J=a.voidOperation}else if(K=C.left.name.toLowerCase(),null!==B.localScope&&void 0!==B.localScope[K])B.localScope[K]={value:W(P,C.operator,B.localScope[K].value,C),valueset:!0,node:C.right},J=a.voidOperation;else if(void 0!==B.globalScope[K])B.globalScope[K]={value:W(P,C.operator,B.globalScope[K].value,C),valueset:!0,node:C.right},J=a.voidOperation;else throw Error("Variable not recognised");}return J;case "UpdateExpression":{let P;K=null;H="";if("MemberExpression"===
C.argument.type){K=Q(B,C.argument.object);!0===C.argument.computed?H=Q(B,C.argument.property):"Identifier"===C.argument.property.type&&(H=C.argument.property.name);if(a.isArray(K))if(a.isNumber(H)){0>H&&(H=K.length+H);if(0>H||H>=K.length)throw Error("Assignment outside of array bounds");P=a.toNumber(K[H]);K[H]="++"===C.operator?P+1:P-1}else throw Error("Invalid Parameter");else if(K instanceof b){if(!1===a.isString(H))throw Error("Dictionary accessor must be a string");if(!0===K.hasField(H))P=a.toNumber(K.field(H)),
K.setField(H,"++"===C.operator?P+1:P-1);else throw Error("Invalid Parameter");}else if(K instanceof G){if(!1===a.isString(H))throw Error("Feature accessor must be a string");if(!0===K.hasField(H))P=a.toNumber(K.field(H)),K.setField(H,"++"===C.operator?P+1:P-1);else throw Error("Invalid Parameter");}else{if(a.isImmutableArray(K))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var N=!1===C.prefix?P:"++"===C.operator?P+1:P-1}else{K="Identifier"===C.argument.type?C.argument.name.toLowerCase():
"";if(!K)throw Error("Invalid identifier");if(null!==B.localScope&&void 0!==B.localScope[K])P=a.toNumber(B.localScope[K].value),B.localScope[K]={value:"++"===C.operator?P+1:P-1,valueset:!0,node:C},N=!1===C.prefix?P:"++"===C.operator?P+1:P-1;else if(void 0!==B.globalScope[K])P=a.toNumber(B.globalScope[K].value),B.globalScope[K]={value:"++"===C.operator?P+1:P-1,valueset:!0,node:C},N=!1===C.prefix?P:"++"===C.operator?P+1:P-1;else throw Error("Variable not recognised");}}return N;case "BreakStatement":return a.breakResult;
case "ContinueStatement":return a.continueResult;case "TemplateElement":return C.value?C.value.cooked:"";case "TemplateLiteral":var aa;K="";H=0;for(const P of C.quasis)if(K+=P.value?P.value.cooked:"",!1===P.tail){const Z=C.expressions[H]?a.toString(Q(B,C.expressions[H])):"";K+=Z;H++}return aa=K;case "ForStatement":null!==C.init&&Q(B,C.init);H={testResult:!0,lastAction:a.voidOperation};do b:{J=B;N=C;aa=H;if(null!==N.test){aa.testResult=Q(J,N.test);if(!1===aa.testResult)break b;if(!0!==aa.testResult)throw Error(v.nodeErrorMessage(N,
"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}aa.lastAction=Q(J,N.body);aa.lastAction===a.breakResult?aa.testResult=!1:aa.lastAction instanceof a.ReturnResult?aa.testResult=!1:null!==N.update&&Q(J,N.update)}while(!0===H.testResult);K=H.lastAction instanceof a.ReturnResult?H.lastAction:a.voidOperation;return K;case "ForInStatement":return la(B,C);case "Identifier":return ya(B,C);case "MemberExpression":return Aa(B,C);case "Literal":return C.value;case "CallExpression":return Ca(B,C);case "UnaryExpression":return ua(B,
C);case "BinaryExpression":return wa(B,C);case "LogicalExpression":return ca(B,C);case "ConditionalExpression":throw Error(v.nodeErrorMessage(C,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{K=[];for(H=0;H<C.elements.length;H++){const P=Q(B,C.elements[H]);if(a.isFunctionParameter(P))throw Error(v.nodeErrorMessage(C,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));P===a.voidOperation?K.push(null):K.push(P)}var ba=K}catch(P){throw P;}return ba;case "ObjectExpression":{K={};for(H=0;H<C.properties.length;H++){const Z=
Q(B,C.properties[H]);if(a.isFunctionParameter(Z.value))throw Error("Illegal Argument");if(!1===a.isString(Z.key))throw Error("Illegal Argument");K[Z.key.toString()]=Z.value===a.voidOperation?null:Z.value}const P=new b(K);P.immutable=!1;var ha=P}return ha;case "Property":return{key:"Identifier"===C.key.type?C.key.name:Q(B,C.key),value:Q(B,C.value)};default:throw Error(v.nodeErrorMessage(C,"RUNTIME","UNREOGNISED"));}}catch(P){throw P;}}function la(B,C){var I=Q(B,C.right);"VariableDeclaration"===C.left.type&&
Q(B,C.left);let K=null;var O="";if("VariableDeclaration"===C.left.type){var X=C.left.declarations[0].id;"Identifier"===X.type&&(O=X.name)}else"Identifier"===C.left.type&&(O=C.left.name);if(!O)throw Error(v.nodeErrorMessage(C,"RUNTIME","INVALIDVARIABLE"));O=O.toLowerCase();null!==B.localScope&&void 0!==B.localScope[O]&&(K=B.localScope[O]);null===K&&void 0!==B.globalScope[O]&&(K=B.globalScope[O]);if(null===K)throw Error(v.nodeErrorMessage(C,"RUNTIME","VARIABLENOTDECLARED"));if(a.isArray(I)||a.isString(I)){I=
I.length;for(O=0;O<I;O++){K.value=O;X=Q(B,C.body);if(X===a.breakResult)break;if(X instanceof a.ReturnResult)return X}return a.voidOperation}if(a.isImmutableArray(I)){for(O=0;O<I.length();O++){K.value=O;X=Q(B,C.body);if(X===a.breakResult)break;if(X instanceof a.ReturnResult)return X}return a.voidOperation}if(I instanceof b||I instanceof G)for(I=I.keys(),O=0;O<I.length;O++){K.value=I[O];X=Q(B,C.body);if(X===a.breakResult)break;if(X instanceof a.ReturnResult)return X}else return a.voidOperation}function W(B,
C,I,K){switch(C){case "\x3d":return B===a.voidOperation?null:B;case "/\x3d":return a.toNumber(I)/a.toNumber(B);case "*\x3d":return a.toNumber(I)*a.toNumber(B);case "-\x3d":return a.toNumber(I)-a.toNumber(B);case "+\x3d":return a.isString(I)||a.isString(B)?a.toString(I)+a.toString(B):a.toNumber(I)+a.toNumber(B);case "%\x3d":return a.toNumber(I)%a.toNumber(B);default:throw Error(v.nodeErrorMessage(K,"RUNTIME","OPERATORNOTRECOGNISED"));}}function za(B,C,I){C=C.toLowerCase();switch(C){case "hasz":return B=
B.hasZ,void 0===B?!1:B;case "hasm":return B=B.hasM,void 0===B?!1:B;case "spatialreference":return C=B.spatialReference._arcadeCacheId,void 0===C&&(I=!0,Object.freeze&&Object.isFrozen(B.spatialReference)&&(I=!1),I&&(pa++,C=B.spatialReference._arcadeCacheId=pa)),B=new b({wkt:B.spatialReference.wkt,wkid:B.spatialReference.wkid}),void 0!==C&&(B._arcadeCacheId="SPREF"+C.toString()),B}switch(B.type){case "extent":switch(C){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return B=
B[C],void 0!==B?B:null;case "type":return"Extent"}break;case "polygon":switch(C){case "rings":return C=B.cache._arcadeCacheId,void 0===C&&(pa++,C=pa,B.cache._arcadeCacheId=C),new m(B.rings,B.spatialReference,!0===B.hasZ,!0===B.hasM,C);case "type":return"Polygon"}break;case "point":switch(C){case "x":case "y":case "z":case "m":return void 0!==B[C]?B[C]:null;case "type":return"Point"}break;case "polyline":switch(C){case "paths":return C=B.cache._arcadeCacheId,void 0===C&&(pa++,C=pa,B.cache._arcadeCacheId=
C),new m(B.paths,B.spatialReference,!0===B.hasZ,!0===B.hasM,C);case "type":return"Polyline"}break;case "multipoint":switch(C){case "points":return C=B.cache._arcadeCacheId,void 0===C&&(pa++,C=pa,B.cache._arcadeCacheId=C),new f(B.points,B.spatialReference,!0===B.hasZ,!0===B.hasM,C,1);case "type":return"Multipoint"}}throw Error(v.nodeErrorMessage(I,"RUNTIME","PROPERTYNOTFOUND"));}function Aa(B,C){try{const I=Q(B,C.object);if(null===I)throw Error(v.nodeErrorMessage(C,"RUNTIME","NOTFOUND"));if(!1===C.computed){if("Identifier"===
C.property.type){if(I instanceof b||I instanceof G)return I.field(C.property.name);if(I instanceof D)return za(I,C.property.name,C)}throw Error(v.nodeErrorMessage(C,"RUNTIME","INVALIDTYPE"));}{let K=Q(B,C.property);if(I instanceof b||I instanceof G){if(a.isString(K))return I.field(K);throw Error(v.nodeErrorMessage(C,"RUNTIME","INVALIDTYPE"));}if(I instanceof D){if(a.isString(K))return za(I,K,C);throw Error(v.nodeErrorMessage(C,"RUNTIME","INVALIDTYPE"));}if(a.isArray(I)){if(a.isNumber(K)&&isFinite(K)&&
Math.floor(K)===K){0>K&&(K=I.length+K);if(K>=I.length||0>K)throw Error(v.nodeErrorMessage(C,"RUNTIME","OUTOFBOUNDS"));return I[K]}throw Error(v.nodeErrorMessage(C,"RUNTIME","INVALIDTYPE"));}if(a.isString(I)){if(a.isNumber(K)&&isFinite(K)&&Math.floor(K)===K){0>K&&(K=I.length+K);if(K>=I.length||0>K)throw Error(v.nodeErrorMessage(C,"RUNTIME","OUTOFBOUNDS"));return I[K]}throw Error(v.nodeErrorMessage(C,"RUNTIME","INVALIDTYPE"));}if(a.isImmutableArray(I)&&a.isNumber(K)&&isFinite(K)&&Math.floor(K)===K){0>
K&&(K=I.length()+K);if(K>=I.length()||0>K)throw Error(v.nodeErrorMessage(C,"RUNTIME","OUTOFBOUNDS"));return I.get(K)}throw Error(v.nodeErrorMessage(C,"RUNTIME","INVALIDTYPE"));}}catch(I){throw I;}}function ua(B,C){try{const I=Q(B,C.argument);if(a.isBoolean(I)){if("!"===C.operator)return!I;if("-"===C.operator)return-1*a.toNumber(I);if("+"===C.operator)return 1*a.toNumber(I);if("~"===C.operator)return~a.toNumber(I);throw Error(v.nodeErrorMessage(C,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===C.operator)return~a.toNumber(I);
if("-"===C.operator)return-1*a.toNumber(I);if("+"===C.operator)return 1*a.toNumber(I);throw Error(v.nodeErrorMessage(C,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(I){throw I;}}function wa(B,C){try{const I=[Q(B,C.left),Q(B,C.right)],K=I[0],O=I[1];switch(C.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return a.binaryOperator(a.toNumber(K),a.toNumber(O),C.operator);case "\x3d\x3d":return a.equalityTest(K,O);case "!\x3d":return!a.equalityTest(K,O);case "\x3c":return a.greaterThanLessThan(K,
O,C.operator);case "\x3e":return a.greaterThanLessThan(K,O,C.operator);case "\x3c\x3d":return a.greaterThanLessThan(K,O,C.operator);case "\x3e\x3d":return a.greaterThanLessThan(K,O,C.operator);case "+":return a.isString(K)||a.isString(O)?a.toString(K)+a.toString(O):a.toNumber(K)+a.toNumber(O);case "-":return a.toNumber(K)-a.toNumber(O);case "*":return a.toNumber(K)*a.toNumber(O);case "/":return a.toNumber(K)/a.toNumber(O);case "%":return a.toNumber(K)%a.toNumber(O);default:throw Error(v.nodeErrorMessage(C,
"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(I){throw I;}}function ca(B,C){try{if("AssignmentExpression"===C.left.type||"UpdateExpression"===C.left.type)throw Error(v.nodeErrorMessage(C.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===C.right.type||"UpdateExpression"===C.right.type)throw Error(v.nodeErrorMessage(C.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const I=Q(B,C.left);if(a.isBoolean(I))switch(C.operator){case "||":if(!0===I)return I;{const K=Q(B,
C.right);if(a.isBoolean(K))return K;throw Error(v.nodeErrorMessage(C,"RUNTIME","ONLYORORAND"));}case "\x26\x26":if(!1===I)return I;{const K=Q(B,C.right);if(a.isBoolean(K))return K;throw Error(v.nodeErrorMessage(C,"RUNTIME","ONLYORORAND"));}default:throw Error(v.nodeErrorMessage(C,"RUNTIME","ONLYORORAND"));}throw Error(v.nodeErrorMessage(C,"RUNTIME","ONLYBOOLEAN"));}catch(I){throw I;}}function ya(B,C){let I;try{const K=C.name.toLowerCase();if(null!==B.localScope&&void 0!==B.localScope[K]){I=B.localScope[K];
if(!0===I.valueset)return I.value;I.value=Q(B,I.node);I.valueset=!0;return I.value}if(void 0!==B.globalScope[K]){I=B.globalScope[K];if(!0===I.valueset)return I.value;I.value=Q(B,I.node);I.valueset=!0;return I.value}throw Error(v.nodeErrorMessage(C,"RUNTIME","VARIABLENOTFOUND"));}catch(K){throw K;}}function Ca(B,C){try{if("Identifier"!==C.callee.type)throw Error(v.nodeErrorMessage(C,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==B.localScope&&void 0!==B.localScope[C.callee.name.toLowerCase()]){const I=
B.localScope[C.callee.name.toLowerCase()];if(I.value instanceof a.NativeFunction)return I.value.fn(B,C);if(I.value instanceof l)return ra(B,C,I.value.definition);throw Error(v.nodeErrorMessage(C,"RUNTIME","NOTAFUNCTION"));}if(void 0!==B.globalScope[C.callee.name.toLowerCase()]){const I=B.globalScope[C.callee.name.toLowerCase()];if(I.value instanceof a.NativeFunction)return I.value.fn(B,C);if(I.value instanceof l)return ra(B,C,I.value.definition);throw Error(v.nodeErrorMessage(C,"RUNTIME","NOTAFUNCTION"));
}throw Error(v.nodeErrorMessage(C,"RUNTIME","NOTFOUND"));}catch(I){throw I;}}function oa(B){return null==B?"":a.isArray(B)||a.isImmutableArray(B)?"Array":a.isDate(B)?"Date":a.isString(B)?"String":a.isBoolean(B)?"Boolean":a.isNumber(B)?"Number":B instanceof r?"Attachment":B instanceof n?"Portal":B instanceof b?"Dictionary":B instanceof G?"Feature":B instanceof F?"Point":B instanceof q?"Polygon":B instanceof e?"Polyline":B instanceof h?"Multipoint":B instanceof k?"Extent":a.isFunctionParameter(B)?"Function":
a.isFeatureSet(B)?"FeatureSet":a.isFeatureSetCollection(B)?"FeatureSetCollection":B===a.voidOperation?"":"number"===typeof B&&isNaN(B)?"Number":"Unrecognised Type"}function xa(B,C,I,K){try{const O=Q(B,C.arguments[I]);if(a.equalityTest(O,K))return Q(B,C.arguments[I+1]);{const X=C.arguments.length-I;return 1===X?Q(B,C.arguments[I]):2===X?null:3===X?Q(B,C.arguments[I+2]):xa(B,C,I+2,K)}}catch(O){throw O;}}function na(B,C,I,K){try{if(!0===K)return Q(B,C.arguments[I+1]);if(3===C.arguments.length-I)return Q(B,
C.arguments[I+2]);{const O=Q(B,C.arguments[I+2]);if(!1===a.isBoolean(O))throw Error("WHEN needs boolean test conditions");return na(B,C,I+2,O)}}catch(O){throw O;}}function ma(B,C){var I=B.length,K=Math.floor(I/2);if(0===I)return[];if(1===I)return[B[0]];var O=ma(B.slice(0,K),C);B=ma(B.slice(K,I),C);for(I=[];0<O.length||0<B.length;)0<O.length&&0<B.length?(K=C(O[0],B[0]),isNaN(K)&&(K=0),0>=K?(I.push(O[0]),O=O.slice(1)):(I.push(B[0]),B=B.slice(1))):0<O.length?(I.push(O[0]),O=O.slice(1)):0<B.length&&(I.push(B[0]),
B=B.slice(1));return C=I}function da(B,C,I){try{const K=B.body;if(I.length!==B.params.length)throw Error("Invalid Parameter calls to function.");for(let X=0;X<I.length;X++)C.localScope[B.params[X].name.toLowerCase()]={value:I[X],valueset:!0,node:null};const O=Q(C,K);if(O instanceof a.ReturnResult)return O.value;if(O===a.breakResult)throw Error("Cannot Break from a Function");if(O===a.continueResult)throw Error("Cannot Continue from a Function");return O instanceof a.ImplicitResult?O.value:O}catch(K){throw K;
}}function ra(B,C,I){return U(B,C,function(K,O,X){K={spatialReference:B.spatialReference,globalScope:B.globalScope,depthCounter:B.depthCounter+1,console:B.console,lrucache:B.lrucache,localScope:{}};if(64<K.depthCounter)throw Error("Exceeded maximum function depth");return da(I,K,X)})}function sa(B){return function(){const C={spatialReference:B.context.spatialReference,console:B.context.console,lrucache:B.context.lrucache,localScope:{},depthCounter:B.context.depthCounter+1,globalScope:B.context.globalScope};
if(64<C.depthCounter)throw Error("Exceeded maximum function depth");return da(B.definition,C,arguments)}}function ta(B){console.log(B)}let pa=0;const ia={};A.registerFunctions(ia,U);z.registerFunctions(ia,U);L.registerFunctions(ia,U);d.registerFunctions(ia,U);c.registerFunctions(ia,U);u.registerFunctions(ia,U);g.registerFunctions(ia,U);ia["typeof"]=function(B,C){return U(B,C,function(I,K,O){a.pcCheck(O,1,1);I=oa(O[0]);if("Unrecognised Type"===I)throw Error("Unrecognised Type");return I})};ia.iif=
function(B,C){try{a.pcCheck(null===C.arguments?[]:C.arguments,3,3);const I=Q(B,C.arguments[0]);if(!1===a.isBoolean(I))throw Error("IF Function must have a boolean test condition");const K=Q(B,C.arguments[1]),O=Q(B,C.arguments[2]);return!0===I?K:O}catch(I){throw I;}};ia.decode=function(B,C){try{if(2>C.arguments.length)throw Error("Missing Parameters");if(2===C.arguments.length)return Q(B,C.arguments[1]);{if(0===(C.arguments.length-1)%2)throw Error("Must have a default value result.");const I=Q(B,C.arguments[0]);
return xa(B,C,1,I)}}catch(I){throw I;}};ia.when=function(B,C){try{if(3>C.arguments.length)throw Error("Missing Parameters");if(0===C.arguments.length%2)throw Error("Must have a default value result.");const I=Q(B,C.arguments[0]);if(!1===a.isBoolean(I))throw Error("WHEN needs boolean test conditions");return na(B,C,0,I)}catch(I){throw I;}};ia.top=function(B,C){return U(B,C,function(I,K,O){a.pcCheck(O,2,2);if(a.isArray(O[0]))return a.toNumber(O[1])>=O[0].length?O[0].slice(0):O[0].slice(0,a.toNumber(O[1]));
if(a.isImmutableArray(O[0]))return a.toNumber(O[1])>=O[0].length()?O[0].slice(0):O[0].slice(0,a.toNumber(O[1]));throw Error("Top cannot accept this parameter type");})};ia.first=function(B,C){return U(B,C,function(I,K,O){a.pcCheck(O,1,1);return a.isArray(O[0])?0===O[0].length?null:O[0][0]:a.isImmutableArray(O[0])?0===O[0].length()?null:O[0].get(0):null})};ia.sort=function(B,C){return U(B,C,function(I,K,O){a.pcCheck(O,1,2);I=O[0];a.isImmutableArray(I)&&(I=I.toArray());if(!1===a.isArray(I))throw Error("Illegal Argument");
if(1<O.length){if(!1===a.isFunctionParameter(O[1]))throw Error("Illegal Argument");var X=I;const ea=sa(O[1]);return X=ma(X,function(p,t){return ea(p,t)})}O=I;if(0===O.length)return[];I={};for(K=0;K<O.length;K++){var ja=oa(O[K]);""!==ja&&(I[ja]=!0)}if(!0===I.Array||!0===I.Dictionary||!0===I.Feature||!0===I.Point||!0===I.Polygon||!0===I.Polyline||!0===I.Multipoint||!0===I.Extent||!0===I.Function)return O.slice(0);K=0;ja="";for(X in I)K++,ja=X;return O=1<K||"String"===ja?ma(O,function(ea,p){if(null===
ea||void 0===ea||ea===a.voidOperation)return null===p||void 0===p||p===a.voidOperation?0:1;if(null===p||void 0===p||p===a.voidOperation)return-1;ea=a.toString(ea);p=a.toString(p);return ea<p?-1:ea===p?0:1}):"Number"===ja?ma(O,function(ea,p){return ea-p}):"Boolean"===ja?ma(O,function(ea,p){return ea===p?0:p?-1:1}):"Date"===ja?ma(O,function(ea,p){return p-ea}):O.slice(0)})};for(const B in ia)ia[B]={value:new a.NativeFunction(ia[B]),valueset:!0,node:null};const S=function(){};S.prototype=ia;S.prototype.infinity=
{value:Number.POSITIVE_INFINITY,valueset:!0,node:null};S.prototype.pi={value:Math.PI,valueset:!0,node:null};A={fixSpatialReference:a.fixSpatialReference,parseArguments:T,standardFunction:U};x.executeScript=function(B,C){let I=C.spatialReference;if(null===I||void 0===I)I=new y({wkid:102100});{var K=C.vars;var O=C.customfunctions;const X=new S;K||(K={});O||(O={});const ja=new b({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});ja.immutable=!1;X.textformatting=
{value:ja,valueset:!0,node:null};for(const ea in O)X[ea]={value:new a.NativeFunction(O[ea]),native:!0,valueset:!0,node:null};for(const ea in K)X[ea]=K[ea]&&"esri.Graphic"===K[ea].declaredClass?{value:G.createFromGraphic(K[ea]),valueset:!0,node:null}:{value:K[ea],valueset:!0,node:null};K=X}B=Q({spatialReference:I,globalScope:K,localScope:null,console:C.console?C.console:ta,lrucache:C.lrucache,depthCounter:1},B.body[0].body);B instanceof a.ReturnResult&&(B=B.value);B instanceof a.ImplicitResult&&(B=
B.value);B===a.voidOperation&&(B=null);if(B===a.breakResult)throw Error("Cannot return BREAK");if(B===a.continueResult)throw Error("Cannot return CONTINUE");if(B instanceof l)throw Error("Cannot return FUNCTION");if(B instanceof a.NativeFunction)throw Error("Cannot return FUNCTION");return B};x.extend=function(B){const C={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:U,evaluateIdentifier:ya,arcadeCustomFunctionHandler:sa};for(let I=0;I<B.length;I++)B[I].registerFunctions(C);
for(const I in C.functions)ia[I]={value:new a.NativeFunction(C.functions[I]),valueset:!0,node:null},S.prototype[I]=ia[I];for(B=0;B<C.signatures.length;B++)v.addFunctionDeclaration(C.signatures[B],"async")};x.extractFieldLiterals=function(B,C){return v.findFieldLiterals(B)};x.findFunctionCalls=function(B){return v.findFunctionCalls(B)};x.functionHelper=A;x.referencesFunction=function(B,C){return v.referencesFunction(B,C)};x.referencesMember=function(B,C){return v.referencesMember(B,C)};x.validateScript=
function(B,C){return v.validateScript(B,C,"simple")};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/parser":function(){define(["exports","./treeAnalysis","./lib/esprima"],function(x,y,D){x.extractFieldLiterals=function(F,k){return y.findFieldLiterals(F)};x.parseScript=function(F,k=[]){F=D.parse("function _() { "+F+"\n}");if(null===F.body||void 0===F.body)throw Error("No formula provided.");if(0===F.body.length)throw Error("No formula provided.");if(0===F.body.length)throw Error("No formula provided.");
if("BlockStatement"!==F.body[0].body.type)throw Error("Invalid formula content.");const h=y.validateLanguage(F);if(""!==h)throw Error(h);y.findScriptDependencies(F,k);return F};x.referencesFunction=function(F,k){return y.referencesFunction(F,k)};x.referencesMember=function(F,k){return y.referencesMember(F,k)};x.scriptCheck=function(F,k,h,q,e){const l=[];F="function _() { \n"+F+"\n}";try{const f=D.parse(F,{tolerant:!0,loc:!0,range:!0}),m=f.errors;if(0<m.length)for(let b=0;b<m.length;b++)l.push({line:m[b].lineNumber-
2,character:m[b].column,reason:m[b].description});const a=y.checkScript(f,k,h,q,e);for(k=0;k<a.length;k++)a[k].line-=2,a[k].range&&(a[k].range=[a[k][0]-15,a[k][1]-15]),a[k].loc&&(a[k].loc.start.line-=2,a[k].loc.end.line-=2),l.push(a[k])}catch(f){try{if("Unexpected token }"===f.description){const m=F.split("\n").length;f.lineNumber===m?(f.index=F.length-1,l.push({line:f.lineNumber-4,character:f.column,reason:"Unexpected end of script"})):(f.index=F.length-1,l.push({line:f.lineNumber-2,character:f.column,
reason:"Unexpected end of script"}))}else l.push({line:f.lineNumber-2,character:f.column,reason:f.description})}catch(m){}}return l};x.validateScript=function(F,k,h){return y.validateScript(F,k,h)};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/esprima":function(){define(["exports","./syntax","./comment-handler","./parser","./tokenizer"],function(x,y,D,F,k){function h(q,e,l){let f=null;const m=(n,r)=>{l&&l(n,r);f&&f.visit(n,r)};let a="function"===typeof l?m:null,b=!1;if(e){b=
"boolean"===typeof e.comment&&e.comment;const n="boolean"===typeof e.attachComment&&e.attachComment;if(b||n)f=new D.CommentHandler,f.attach=n,e.comment=!0,a=m}q=new F.Parser(q,e,a);e=q.parseScript();b&&f&&(e.comments=f.comments);q.config.tokens&&(e.tokens=q.tokens);q.config.tolerant&&(e.errors=q.errorHandler.errors);return e}x.Syntax=y.Syntax;x.parse=h;x.parseScript=function(q,e,l){e=e||{};e.sourceType="script";return h(q,e,l)};x.tokenize=function(q,e,l){q=new k.Tokenizer(q,e);e=[];try{for(;;){let f=
q.getNextToken();if(!f)break;l&&(f=l(f));e.push(f)}}catch(f){q.errorHandler.tolerate(f)}q.errorHandler.tolerant&&(e.errors=q.errors());return e};x.version="4.0.0-dev";Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/syntax":function(){define(["exports"],function(x){x.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",
BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",
MethodDefinition:"MethodDefinition",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement"};Object.defineProperty(x,"__esModule",
{value:!0})})},"esri/arcade/lib/comment-handler":function(){define(["exports","./syntax"],function(x,y){let D=function(){function F(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}var k=F.prototype;k.insertInnerComments=function(h,q){if(h.type===y.Syntax.BlockStatement&&0===h.body.length){const e=[];for(let l=this.leading.length-1;0<=l;--l){const f=this.leading[l];q.end.offset>=f.start&&(e.unshift(f.comment),this.leading.splice(l,1),this.trailing.splice(l,1))}e.length&&
(h.innerComments=e)}};k.findTrailingComments=function(h){let q=[];if(0<this.trailing.length){for(var e=this.trailing.length-1;0<=e;--e){var l=this.trailing[e];l.start>=h.end.offset&&q.unshift(l.comment)}this.trailing.length=0;return q}(e=this.stack[this.stack.length-1])&&e.node.trailingComments&&(l=e.node.trailingComments[0])&&l.range[0]>=h.end.offset&&(q=e.node.trailingComments,delete e.node.trailingComments);return q};k.findLeadingComments=function(h){const q=[];for(var e;0<this.stack.length;){var l=
this.stack[this.stack.length-1];if(l&&l.start>=h.start.offset)e=l.node,this.stack.pop();else break}if(e){l=e.leadingComments?e.leadingComments.length:0;for(--l;0<=l;--l){const f=e.leadingComments[l];f.range[1]<=h.start.offset&&(q.unshift(f),e.leadingComments.splice(l,1))}e.leadingComments&&0===e.leadingComments.length&&delete e.leadingComments;return q}for(e=this.leading.length-1;0<=e;--e)l=this.leading[e],l.start<=h.start.offset&&(q.unshift(l.comment),this.leading.splice(e,1));return q};k.visitNode=
function(h,q){if(!(h.type===y.Syntax.Program&&0<h.body.length)){this.insertInnerComments(h,q);var e=this.findTrailingComments(q),l=this.findLeadingComments(q);0<l.length&&(h.leadingComments=l);0<e.length&&(h.trailingComments=e);this.stack.push({node:h,start:q.start.offset})}};k.visitComment=function(h,q){const e="L"===h.type[0]?"Line":"Block",l={type:e,value:h.value};h.range&&(l.range=h.range);h.loc&&(l.loc=h.loc);this.comments.push(l);this.attach&&(q={comment:{type:e,value:h.value,range:[q.start.offset,
q.end.offset]},start:q.start.offset},h.loc&&(q.comment.loc=h.loc),h.type=e,this.leading.push(q),this.trailing.push(q))};k.visit=function(h,q){"LineComment"===h.type?this.visitComment(h,q):"BlockComment"===h.type?this.visitComment(h,q):this.attach&&this.visitNode(h,q)};return F}();x.CommentHandler=D;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/parser":function(){define("exports ./syntax ./assert ./error-handler ./messages ./nodes ./scanner ./token".split(" "),function(x,y,D,
F,k,h,q,e){let l=function(){function f(a,b={},n){this.config={range:"boolean"===typeof b.range&&b.range,loc:"boolean"===typeof b.loc&&b.loc,source:null,tokens:"boolean"===typeof b.tokens&&b.tokens,comment:"boolean"===typeof b.comment&&b.comment,tolerant:"boolean"===typeof b.tolerant&&b.tolerant};this.config.loc&&b.source&&null!==b.source&&(this.config.source=String(b.source));this.delegate=n;this.errorHandler=new F.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=new q.Scanner(a,
this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=!1;this.context={isModule:!1,allowIn:!0,allowStrictDirective:!0,
firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}var m=f.prototype;m.throwError=function(a,...b){const n=b.slice();a=a.replace(/%(\d)/g,
(r,G)=>{D.assert(G<n.length,"Message reference must be in range");return n[G]});throw this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,a);};m.tolerateError=function(a,...b){const n=b.slice();a=a.replace(/%(\d)/g,(r,G)=>{D.assert(G<n.length,"Message reference must be in range");return n[G]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,a)};m.unexpectedTokenError=function(a,b){let n=b||k.Messages.UnexpectedToken;
a?(b||(n=2===a.type?k.Messages.UnexpectedEOS:3===a.type?k.Messages.UnexpectedIdentifier:6===a.type?k.Messages.UnexpectedNumber:8===a.type?k.Messages.UnexpectedString:10===a.type?k.Messages.UnexpectedTemplate:k.Messages.UnexpectedToken,4===a.type&&(this.scanner.isFutureReservedWord(a.value)?n=k.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(a.value)&&(n=k.Messages.StrictReservedWord))),b=a.value):b="ILLEGAL";n=n.replace("%0",b);return a&&"number"===typeof a.lineNumber?
this.errorHandler.createError(a.start,a.lineNumber,a.start-(this.lastMarker.index-this.lastMarker.column)+1,n):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,n)};m.throwUnexpectedToken=function(a,b){throw this.unexpectedTokenError(a,b);};m.tolerateUnexpectedToken=function(a,b){this.errorHandler.tolerate(this.unexpectedTokenError(a,b))};m.collectComments=function(){if(this.config.comment){const a=this.scanner.scanComments();if(0<a.length&&this.delegate)for(let b=
0;b<a.length;++b){const n=a[b],r={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])};this.config.range&&(r.range=n.range);this.config.loc&&(r.loc=n.loc);this.delegate(r,{start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}})}}else this.scanner.scanComments()};m.getTokenRaw=function(a){return this.scanner.source.slice(a.start,a.end)};m.convertToken=function(a){const b=
{type:e.TokenName[a.type],value:this.getTokenRaw(a)};this.config.range&&(b.range=[a.start,a.end]);this.config.loc&&(b.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});9===a.type&&(b.regex={pattern:a.pattern,flags:a.flags});return b};m.nextToken=function(){const a=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-
this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);const b=this.scanner.lex();this.hasLineTerminator=a.lineNumber!==b.lineNumber;b&&this.context.strict&&3===b.type&&this.scanner.isStrictModeReservedWord(b.value)&&(b.type=4);this.lookahead=b;this.config.tokens&&2!==b.type&&this.tokens.push(this.convertToken(b));
return a};m.nextRegexToken=function(){this.collectComments();const a=this.scanner.scanRegExp();this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(a)));this.lookahead=a;this.nextToken();return a};m.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};m.startNode=function(a,b=0){let n=a.start-a.lineStart,r=a.lineNumber;0>n&&(n+=b,r--);return{index:a.start,line:r,column:n}};m.finalize=function(a,b){this.config.range&&
(b.range=[a.index,this.lastMarker.index]);this.config.loc&&(b.loc={start:{line:a.line,column:a.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(b.loc.source=this.config.source));this.delegate&&this.delegate(b,{start:{line:a.line,column:a.column,offset:a.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return b};m.expect=function(a){const b=this.nextToken();7===b.type&&b.value===a||this.throwUnexpectedToken(b)};
m.expectCommaSeparator=function(){if(this.config.tolerant){const a=this.lookahead;7===a.type&&","===a.value?this.nextToken():7===a.type&&";"===a.value?(this.nextToken(),this.tolerateUnexpectedToken(a)):this.tolerateUnexpectedToken(a,k.Messages.UnexpectedToken)}else this.expect(",")};m.expectKeyword=function(a){const b=this.nextToken();4===b.type&&b.value.toLowerCase()===a.toLowerCase()||this.throwUnexpectedToken(b)};m.match=function(a){return 7===this.lookahead.type&&this.lookahead.value===a};m.matchKeyword=
function(a){return 4===this.lookahead.type&&this.lookahead.value.toLowerCase()===a.toLowerCase()};m.matchContextualKeyword=function(a){return 3===this.lookahead.type&&this.lookahead.value===a};m.matchAssign=function(){if(7!==this.lookahead.type)return!1;const a=this.lookahead.value;return"\x3d"===a||"*\x3d"===a||"**\x3d"===a||"/\x3d"===a||"%\x3d"===a||"+\x3d"===a||"-\x3d"===a||"\x3c\x3c\x3d"===a||"\x3e\x3e\x3d"===a||"\x3e\x3e\x3e\x3d"===a||"\x26\x3d"===a||"^\x3d"===a||"|\x3d"===a};m.isolateCoverGrammar=
function(a){const b=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=b;this.context.isAssignmentTarget=n;this.context.firstCoverInitializedNameError=r;return a};
m.inheritCoverGrammar=function(a){const b=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);this.context.isBindingElement=this.context.isBindingElement&&b;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n;this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError;
return a};m.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};m.parsePrimaryExpression=function(){var a=this.createNode();let b,n;switch(this.lookahead.type){case 3:a=this.finalize(a,new h.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&
this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,k.Messages.StrictOctalLiteral);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.nextToken();n=this.getTokenRaw(b);a=this.finalize(a,new h.Literal(b.value,n));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.nextToken();n=this.getTokenRaw(b);a=this.finalize(a,new h.Literal("true"===b.value.toLowerCase(),n));break;case 5:this.context.isAssignmentTarget=!1;this.context.isBindingElement=
!1;b=this.nextToken();n=this.getTokenRaw(b);a=this.finalize(a,new h.Literal(null,n));break;case 10:a=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;a=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":a=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":a=this.inheritCoverGrammar(this.parseObjectInitializer);break;default:a=this.throwUnexpectedToken(this.nextToken())}break;case 4:this.context.isAssignmentTarget=
!1;this.context.isBindingElement=!1;a=this.matchKeyword("function")?this.parseFunctionExpression():this.throwUnexpectedToken(this.nextToken());break;default:a=this.throwUnexpectedToken(this.nextToken())}return a};m.parseArrayInitializer=function(){const a=this.createNode(),b=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),b.push(null)):(b.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(a,
new h.ArrayExpression(b))};m.parsePropertyMethod=function(a){this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;const b=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;const r=this.isolateCoverGrammar(this.parseFunctionSourceElements);this.context.strict&&a.firstRestricted&&this.tolerateUnexpectedToken(a.firstRestricted,a.message);this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message);this.context.strict=
b;this.context.allowStrictDirective=n;return r};m.parsePropertyMethodFunction=function(){const a=this.createNode(),b=this.parseFormalParameters(),n=this.parsePropertyMethod(b);return this.finalize(a,new h.FunctionExpression(null,b.params,n,!1))};m.parseObjectPropertyKey=function(){var a=this.createNode();const b=this.nextToken();switch(b.type){case 8:case 6:{this.context.strict&&b.octal&&this.tolerateUnexpectedToken(b,k.Messages.StrictOctalLiteral);const n=this.getTokenRaw(b);a=this.finalize(a,new h.Literal(b.value,
n));break}case 3:case 1:case 5:case 4:a=this.finalize(a,new h.Identifier(b.value));break;case 7:"["===b.value?(a=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):a=this.throwUnexpectedToken(b);break;default:a=this.throwUnexpectedToken(b)}return a};m.isPropertyKey=function(a,b){return a.type===y.Syntax.Identifier&&a.name===b||a.type===y.Syntax.Literal&&a.value===b};m.parseObjectProperty=function(a){const b=this.createNode();var n=this.lookahead,r=null;let G=null,v=!1,A=!1,
z=!1,c=!1;3===n.type?(r=n.value,this.nextToken(),v=this.match("["),r=(c=!this.hasLineTerminator&&"async"===r&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","))?this.parseObjectPropertyKey():this.finalize(b,new h.Identifier(r))):this.match("*")?this.nextToken():(v=this.match("["),r=this.parseObjectPropertyKey());r||this.throwUnexpectedToken(this.lookahead);this.match(":")&&!c?(!v&&this.isPropertyKey(r,"__proto__")&&(a.value&&this.tolerateError(k.Messages.DuplicateProtoProperty),
a.value=!0),this.nextToken(),G=this.inheritCoverGrammar(this.parseAssignmentExpression)):this.match("(")?(G=this.parsePropertyMethodFunction(),A=!0):3===n.type?(a=this.finalize(b,new h.Identifier(n.value)),this.match("\x3d")?(this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),z=!0,n=this.isolateCoverGrammar(this.parseAssignmentExpression),G=this.finalize(b,new h.AssignmentPattern(a,n))):(z=!0,G=a)):this.throwUnexpectedToken(this.nextToken());return this.finalize(b,new h.Property("init",
r,v,G,A,z))};m.parseObjectInitializer=function(){const a=this.createNode();this.expect("{");const b=[],n={value:!1};for(;!this.match("}");)b.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new h.ObjectExpression(b))};m.parseTemplateHead=function(){D.assert(this.lookahead.head,"Template literal must start with a template head");const a=this.createNode(),b=this.nextToken();return this.finalize(a,new h.TemplateElement({raw:b.value,
cooked:b.cooked},b.tail))};m.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();const a=this.createNode(),b=this.nextToken();return this.finalize(a,new h.TemplateElement({raw:b.value,cooked:b.cooked},b.tail))};m.parseTemplateLiteral=function(){const a=this.createNode(),b=[],n=[];let r=this.parseTemplateHead();for(n.push(r);!r.tail;)b.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(a,new h.TemplateLiteral(n,b))};m.reinterpretExpressionAsPattern=
function(a){switch(a.type){case y.Syntax.ArrayExpression:a.type=y.Syntax.ArrayPattern;for(var b=0;b<a.elements.length;b++)null!==a.elements[b]&&this.reinterpretExpressionAsPattern(a.elements[b]);break;case y.Syntax.ObjectExpression:a.type=y.Syntax.ObjectPattern;for(b=0;b<a.properties.length;b++)this.reinterpretExpressionAsPattern(a.properties[b].value);break;case y.Syntax.AssignmentExpression:a.type=y.Syntax.AssignmentPattern,delete a.operator,this.reinterpretExpressionAsPattern(a.left)}};m.parseGroupExpression=
function(){this.expect("(");if(this.match(")")){this.nextToken();this.match("\x3d\x3e")||this.expect("\x3d\x3e");var a={type:"ArrowParameterPlaceHolder",params:[],async:!1}}else{var b=this.lookahead;let n=!1;this.context.isBindingElement=!0;a=this.inheritCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){const r=[];this.context.isAssignmentTarget=!1;for(r.push(a);2!==this.lookahead.type&&this.match(",");){this.nextToken();if(this.match(")")){this.nextToken();for(a=0;a<r.length;a++)this.reinterpretExpressionAsPattern(r[a]);
n=!0;a={type:"ArrowParameterPlaceHolder",params:r,async:!1}}else r.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(n)break}n||(a=this.finalize(this.startNode(b),new h.SequenceExpression(r)))}if(!n){this.expect(")");if(this.match("\x3d\x3e")&&(a.type===y.Syntax.Identifier&&"yield"===a.name&&(n=!0,a={type:"ArrowParameterPlaceHolder",params:[a],async:!1}),!n)){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead);if(a.type===y.Syntax.SequenceExpression)for(b=0;b<
a.expressions.length;b++)this.reinterpretExpressionAsPattern(a.expressions[b]);else this.reinterpretExpressionAsPattern(a);a={type:"ArrowParameterPlaceHolder",params:a.type===y.Syntax.SequenceExpression?a.expressions:[a],async:!1}}this.context.isBindingElement=!1}}return a};m.parseArguments=function(){this.expect("(");const a=[];if(!this.match(")"))for(;;){const b=this.isolateCoverGrammar(this.parseAssignmentExpression);a.push(b);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");
return a};m.isIdentifierName=function(a){return 3===a.type||4===a.type||1===a.type||5===a.type};m.parseIdentifierName=function(){const a=this.createNode(),b=this.nextToken();this.isIdentifierName(b)||this.throwUnexpectedToken(b);return this.finalize(a,new h.Identifier(b.value))};m.parseLeftHandSideExpressionAllowCall=function(){const a=this.lookahead,b=this.context.allowIn;this.context.allowIn=!0;let n;for(n=this.inheritCoverGrammar(this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=
!1;this.context.isAssignmentTarget=!0;this.expect(".");var r=this.parseIdentifierName();n=this.finalize(this.startNode(a),new h.StaticMemberExpression(n,r))}else if(this.match("("))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1,r=this.parseArguments(),n=this.finalize(this.startNode(a),new h.CallExpression(n,r));else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),r=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),
n=this.finalize(this.startNode(a),new h.ComputedMemberExpression(n,r));else break;this.context.allowIn=b;return n};m.parseLeftHandSideExpression=function(){D.assert(this.context.allowIn,"callee of new expression always allow in keyword.");const a=this.startNode(this.lookahead);let b=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);
this.expect("]");b=this.finalize(a,new h.ComputedMemberExpression(b,n))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),n=this.parseIdentifierName(),b=this.finalize(a,new h.StaticMemberExpression(b,n));else break;return b};m.parseUpdateExpression=function(){let a;var b=this.lookahead;if(this.match("++")||this.match("--")){b=this.startNode(b);var n=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.strict&&
a.type===y.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(k.Messages.StrictLHSPrefix);this.context.isAssignmentTarget||this.tolerateError(k.Messages.InvalidLHSInAssignment);a=this.finalize(b,new h.UpdateExpression(n.value,a,!0));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else a=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||!this.match("++")&&!this.match("--")||(this.context.strict&&
a.type===y.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(k.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(k.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,n=this.nextToken().value,a=this.finalize(this.startNode(b),new h.UpdateExpression(n,a,!1)));return a};m.parseUnaryExpression=function(){let a;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||
this.matchKeyword("void")||this.matchKeyword("typeof")){const b=this.startNode(this.lookahead),n=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression);a=this.finalize(b,new h.UnaryExpression(n.value,a));this.context.strict&&"delete"===a.operator&&a.argument.type===y.Syntax.Identifier&&this.tolerateError(k.Messages.StrictDelete);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else a=this.parseUpdateExpression();return a};m.parseExponentiationExpression=function(){const a=
this.lookahead;var b=this.inheritCoverGrammar(this.parseUnaryExpression);if(b.type!==y.Syntax.UnaryExpression&&this.match("**")){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;const n=this.isolateCoverGrammar(this.parseExponentiationExpression);b=this.finalize(this.startNode(a),new h.BinaryExpression("**",b,n))}return b};m.binaryPrecedence=function(a){const b=a.value;return 7===a.type?this.operatorPrecedence[b]||0:4===a.type?"instanceof"===b||this.context.allowIn&&
"in"===b?7:0:0};m.parseBinaryExpression=function(){var a=this.lookahead,b=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(0<r){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;a=[a,this.lookahead];var G=this.isolateCoverGrammar(this.parseExponentiationExpression);n=[b,n.value,G];for(var v=[r];;){r=this.binaryPrecedence(this.lookahead);if(0>=r)break;for(;2<n.length&&r<=v[v.length-1];){G=n.pop();const z=
n.pop();v.pop();b=n.pop();a.pop();var A=a[a.length-1];A=this.startNode(A,A.lineStart);n.push(this.finalize(A,new h.BinaryExpression(z,b,G)))}n.push(this.nextToken().value);v.push(r);a.push(this.lookahead);n.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}r=n.length-1;b=n[r];for(v=a.pop();1<r;)G=a.pop(),v=this.startNode(G,v&&v.lineStart),b=this.finalize(v,new h.BinaryExpression(n[r-1],n[r-2],b)),r-=2,v=G}return b};m.parseConditionalExpression=function(){const a=this.lookahead;let b=
this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;const r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n;this.expect(":");n=this.isolateCoverGrammar(this.parseAssignmentExpression);b=this.finalize(this.startNode(a),new h.ConditionalExpression(b,r,n));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}return b};m.checkPatternParam=function(a,b){switch(b.type){case y.Syntax.Identifier:this.validateParam(a,
b,b.name);break;case y.Syntax.AssignmentPattern:this.checkPatternParam(a,b.left);break;case y.Syntax.ArrayPattern:for(var n=0;n<b.elements.length;n++)null!==b.elements[n]&&this.checkPatternParam(a,b.elements[n]);break;case y.Syntax.ObjectPattern:for(n=0;n<b.properties.length;n++)this.checkPatternParam(a,b.properties[n].value)}a.simple=a.simple&&b instanceof h.Identifier};m.reinterpretAsCoverFormalsList=function(a){const b=[a],n={simple:!0,paramSet:{}};switch(a.type){case y.Syntax.Identifier:break;
default:return null}for(a=0;a<b.length;++a){const r=b[a];this.checkPatternParam(n,r);b[a]=r}n.message===k.Messages.StrictParamDupe&&this.throwUnexpectedToken(this.context.strict?n.stricted:n.firstRestricted,n.message);return{simple:n.simple,params:b,stricted:n.stricted,firstRestricted:n.firstRestricted,message:n.message}};m.parseAssignmentExpression=function(){let a;const b=this.lookahead;var n=b;a=this.parseConditionalExpression();if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError(k.Messages.InvalidLHSInAssignment);
if(this.context.strict&&a.type===y.Syntax.Identifier){var r=a;this.scanner.isRestrictedWord(r.name)&&this.tolerateUnexpectedToken(n,k.Messages.StrictLHSAssignment);this.scanner.isStrictModeReservedWord(r.name)&&this.tolerateUnexpectedToken(n,k.Messages.StrictReservedWord)}this.match("\x3d")?this.reinterpretExpressionAsPattern(a):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);n=this.nextToken();n=n.value;r=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(this.startNode(b),
new h.AssignmentExpression(n,a,r));this.context.firstCoverInitializedNameError=null}return a};m.parseExpression=function(){const a=this.lookahead;let b=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){const n=[];for(n.push(b);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));b=this.finalize(this.startNode(a),new h.SequenceExpression(n))}return b};m.parseStatementListItem=function(){let a;this.context.isAssignmentTarget=
!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "function":a=this.parseFunctionDeclaration();break;default:a=this.parseStatement()}else a=this.parseStatement();return a};m.parseBlock=function(){const a=this.createNode();this.expect("{");const b=[];for(;!this.match("}");)b.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new h.BlockStatement(b))};m.parseBlockOrObjectInitialiser=function(){const a=this.createNode();this.expect("{");
if(3===this.lookahead.type||8===this.lookahead.type){var b=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(b);if(7===n.type&&":"===n.value){b=[];for(n={value:!1};!this.match("}");)b.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new h.ObjectExpression(b))}}for(b=[];!this.match("}");)b.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new h.BlockStatement(b))};
m.parseLexicalBinding=function(a,b){const n=this.createNode();a=this.parsePattern([],a);this.context.strict&&a.type===y.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(k.Messages.StrictVarName);let r=null;if(!b.inFor&&a.type!==y.Syntax.Identifier||this.match("\x3d"))this.expect("\x3d"),r=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize(n,new h.VariableDeclarator(a,r))};m.parseBindingList=function(a,b){const n=[this.parseLexicalBinding(a,b)];
for(;this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(a,b));return n};m.parseArrayPattern=function(a,b){const n=this.createNode();this.expect("[");const r=[];for(;!this.match("]");)this.match(",")?(this.nextToken(),r.push(null)):(r.push(this.parsePatternWithDefault(a,b)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(n,new h.ArrayPattern(r))};m.parsePropertyPattern=function(a,b){const n=this.createNode();let r=!1,G=!1,v;if(3===this.lookahead.type){var A=
this.lookahead;v=this.parseVariableIdentifier();const z=this.finalize(n,new h.Identifier(A.value));this.match("\x3d")?(a.push(A),G=!0,this.nextToken(),a=this.parseAssignmentExpression(),A=this.finalize(this.startNode(A),new h.AssignmentPattern(z,a))):this.match(":")?(this.expect(":"),A=this.parsePatternWithDefault(a,b)):(a.push(A),G=!0,A=z)}else r=this.match("["),v=this.parseObjectPropertyKey(),this.expect(":"),A=this.parsePatternWithDefault(a,b);return this.finalize(n,new h.Property("init",v,r,A,
!1,G))};m.parseObjectPattern=function(a,b){const n=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.parsePropertyPattern(a,b)),this.match("}")||this.expect(",");this.expect("}");return this.finalize(n,new h.ObjectPattern(r))};m.parsePattern=function(a,b){this.match("[")?a=this.parseArrayPattern(a,b):this.match("{")?a=this.parseObjectPattern(a,b):(!this.matchKeyword("let")||"const"!==b&&"let"!==b||this.tolerateUnexpectedToken(this.lookahead,k.Messages.LetInLexicalBinding),
a.push(this.lookahead),a=this.parseVariableIdentifier(b));return a};m.parsePatternWithDefault=function(a,b){const n=this.lookahead;a=this.parsePattern(a,b);this.match("\x3d")&&(this.nextToken(),b=this.isolateCoverGrammar(this.parseAssignmentExpression),a=this.finalize(this.startNode(n),new h.AssignmentPattern(a,b)));return a};m.parseVariableIdentifier=function(a){const b=this.createNode(),n=this.nextToken();3!==n.type&&(this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?
this.tolerateUnexpectedToken(n,k.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==a)&&this.throwUnexpectedToken(n));return this.finalize(b,new h.Identifier(n.value))};m.parseVariableDeclaration=function(a){const b=this.createNode(),n=this.parsePattern([],"var");this.context.strict&&n.type===y.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(k.Messages.StrictVarName);let r=null;this.match("\x3d")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):
n.type===y.Syntax.Identifier||a.inFor||this.expect("\x3d");return this.finalize(b,new h.VariableDeclarator(n,r))};m.parseVariableDeclarationList=function(a){a={inFor:a.inFor};const b=[];for(b.push(this.parseVariableDeclaration(a));this.match(",");)this.nextToken(),b.push(this.parseVariableDeclaration(a));return b};m.parseVariableStatement=function(){const a=this.createNode();this.expectKeyword("var");const b=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(a,
new h.VariableDeclaration(b,"var"))};m.parseEmptyStatement=function(){const a=this.createNode();this.expect(";");return this.finalize(a,new h.EmptyStatement)};m.parseExpressionStatement=function(){const a=this.createNode(),b=this.parseExpression();this.consumeSemicolon();return this.finalize(a,new h.ExpressionStatement(b))};m.parseIfClause=function(){this.context.strict&&this.matchKeyword("function")&&this.tolerateError(k.Messages.StrictFunction);return this.parseStatement(!0)};m.parseIfStatement=
function(){const a=this.createNode();let b,n=null;this.expectKeyword("if");this.expect("(");const r=this.parseExpression();!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),b=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),b=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause()));return this.finalize(a,new h.IfStatement(r,b,n))};m.parseForStatement=function(){var a=null;let b=null,n=null;let r;const G=
this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){a=this.createNode();this.nextToken();var v=this.context.allowIn;this.context.allowIn=!1;var A=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=v;if(1===A.length&&this.matchKeyword("in")){var z=A[0];z.init&&(z.id.type===y.Syntax.ArrayPattern||z.id.type===y.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(k.Messages.ForInOfLoopInitializer,
"for-in");a=this.finalize(a,new h.VariableDeclaration(A,"var"));this.nextToken();z=a;r=this.parseExpression();a=null}else 1===A.length&&null===A[0].init&&this.matchContextualKeyword("of")?(a=this.finalize(a,new h.VariableDeclaration(A,"var")),this.nextToken(),z=a,r=this.parseAssignmentExpression(),a=null):(a=this.finalize(a,new h.VariableDeclaration(A,"var")),this.expect(";"))}else{A=this.lookahead;v=this.context.isBindingElement;const c=this.context.isAssignmentTarget,g=this.context.firstCoverInitializedNameError,
d=this.context.allowIn;this.context.allowIn=!1;a=this.inheritCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=d;if(this.matchKeyword("in"))this.context.isAssignmentTarget&&a.type!==y.Syntax.AssignmentExpression||this.tolerateError(k.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(a),z=a,r=this.parseExpression(),a=null;else{this.context.isBindingElement=v;this.context.isAssignmentTarget=c;this.context.firstCoverInitializedNameError=g;if(this.match(",")){for(a=
[a];this.match(",");)this.nextToken(),a.push(this.isolateCoverGrammar(this.parseAssignmentExpression));a=this.finalize(this.startNode(A),new h.SequenceExpression(a))}this.expect(";")}}"undefined"===typeof z&&(this.match(";")||(b=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(n=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),A=this.finalize(this.createNode(),new h.EmptyStatement)):
(this.expect(")"),v=this.context.inIteration,this.context.inIteration=!0,A=this.isolateCoverGrammar(this.parseStatementBlockAllowed),this.context.inIteration=v);return"undefined"===typeof z?this.finalize(G,new h.ForStatement(a,b,n,A)):this.finalize(G,new h.ForInStatement(z,r,A))};m.parseContinueStatement=function(){const a=this.createNode();this.expectKeyword("continue");let b=null;if(3===this.lookahead.type&&!this.hasLineTerminator){const n=this.parseVariableIdentifier();b=n;Object.prototype.hasOwnProperty.call(this.context.labelSet,
"$"+n.name)||this.throwError(k.Messages.UnknownLabel,n.name)}this.consumeSemicolon();null!==b||this.context.inIteration||this.throwError(k.Messages.IllegalContinue);return this.finalize(a,new h.ContinueStatement(b))};m.parseBreakStatement=function(){const a=this.createNode();this.expectKeyword("break");var b=null;3!==this.lookahead.type||this.hasLineTerminator||(b=this.parseVariableIdentifier(),Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+b.name)||this.throwError(k.Messages.UnknownLabel,
b.name));this.consumeSemicolon();null!==b||this.context.inIteration||this.context.inSwitch||this.throwError(k.Messages.IllegalBreak);return this.finalize(a,new h.BreakStatement(b))};m.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(k.Messages.IllegalReturn);const a=this.createNode();this.expectKeyword("return");const b=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();
this.consumeSemicolon();return this.finalize(a,new h.ReturnStatement(b))};m.parseLabelledStatement=function(){const a=this.createNode();var b=this.parseExpression();this.consumeSemicolon();b=new h.ExpressionStatement(b);return this.finalize(a,b)};m.parseStatementBlockAllowed=function(){return this.parseStatement(!0)};m.parseStatement=function(a=!1){switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:a=this.parseExpressionStatement();break;case 7:{const b=this.lookahead.value;a=
"{"===b?a?this.parseBlockOrObjectInitialiser():this.parseObjectInitializer():"("===b?this.parseExpressionStatement():";"===b?this.parseEmptyStatement():this.parseExpressionStatement();break}case 3:a=this.parseLabelledStatement();break;case 4:switch(this.lookahead.value.toLowerCase()){case "break":a=this.parseBreakStatement();break;case "continue":a=this.parseContinueStatement();break;case "for":a=this.parseForStatement();break;case "function":a=this.parseFunctionDeclaration();break;case "if":a=this.parseIfStatement();
break;case "return":a=this.parseReturnStatement();break;case "var":a=this.parseVariableStatement();break;default:a=this.parseExpressionStatement()}break;default:a=this.throwUnexpectedToken(this.lookahead)}return a};m.parseFunctionSourceElements=function(){const a=this.createNode();this.expect("{");const b=[],n=this.context.labelSet,r=this.context.inIteration,G=this.context.inSwitch,v=this.context.inFunctionBody;this.context.labelSet={};this.context.inIteration=!1;this.context.inSwitch=!1;for(this.context.inFunctionBody=
!0;2!==this.lookahead.type&&!this.match("}");)b.push(this.parseStatementListItem());this.expect("}");this.context.labelSet=n;this.context.inIteration=r;this.context.inSwitch=G;this.context.inFunctionBody=v;return this.finalize(a,new h.BlockStatement(b))};m.validateParam=function(a,b,n){const r="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(a.stricted=b,a.message=k.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(a.paramSet,r)&&(a.stricted=b,a.message=k.Messages.StrictParamDupe)):
a.firstRestricted||(this.scanner.isRestrictedWord(n)?(a.firstRestricted=b,a.message=k.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(a.firstRestricted=b,a.message=k.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(a.paramSet,r)&&(a.stricted=b,a.message=k.Messages.StrictParamDupe));"function"===typeof Object.defineProperty?Object.defineProperty(a.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):a.paramSet[r]=!0};m.parseFormalParameter=function(a){const b=
[],n=this.parsePatternWithDefault(b);for(let r=0;r<b.length;r++)this.validateParam(a,b[r],b[r].value);a.simple=a.simple&&n instanceof h.Identifier;a.params.push(n)};m.parseFormalParameters=function(a){a={simple:!0,params:[],firstRestricted:a};this.expect("(");if(!this.match(")"))for(a.paramSet={};2!==this.lookahead.type;){this.parseFormalParameter(a);if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return{simple:a.simple,params:a.params,stricted:a.stricted,firstRestricted:a.firstRestricted,
message:a.message}};m.parseFunctionDeclaration=function(a){const b=this.createNode();this.expectKeyword("function");let n,r=null,G=null;a&&this.match("(")||(a=this.lookahead,r=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,k.Messages.StrictFunctionName):this.scanner.isRestrictedWord(a.value)?(G=a,n=k.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(a.value)&&(G=a,n=k.Messages.StrictReservedWord));var v=this.parseFormalParameters(G);
a=v.params;const A=v.stricted;G=v.firstRestricted;v.message&&(n=v.message);const z=this.context.strict,c=this.context.allowStrictDirective;this.context.allowStrictDirective=v.simple;v=this.parseFunctionSourceElements();this.context.strict&&G&&this.throwUnexpectedToken(G,n);this.context.strict&&A&&this.tolerateUnexpectedToken(A,n);this.context.strict=z;this.context.allowStrictDirective=c;return this.finalize(b,new h.FunctionDeclaration(r,a,v,!1))};m.parseFunctionExpression=function(){const a=this.createNode();
this.expectKeyword("function");let b,n=null,r;if(!this.match("(")){var G=this.lookahead;n=this.parseVariableIdentifier();this.context.strict?this.scanner.isRestrictedWord(G.value)&&this.tolerateUnexpectedToken(G,k.Messages.StrictFunctionName):this.scanner.isRestrictedWord(G.value)?(r=G,b=k.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(G.value)&&(r=G,b=k.Messages.StrictReservedWord)}var v=this.parseFormalParameters(r);G=v.params;const A=v.stricted;r=v.firstRestricted;v.message&&
(b=v.message);const z=this.context.strict,c=this.context.allowStrictDirective;this.context.allowStrictDirective=v.simple;v=this.parseFunctionSourceElements();this.context.strict&&r&&this.throwUnexpectedToken(r,b);this.context.strict&&A&&this.tolerateUnexpectedToken(A,b);this.context.strict=z;this.context.allowStrictDirective=c;return this.finalize(a,new h.FunctionExpression(n,G,v,!1))};m.qualifiedPropertyName=function(a){switch(a.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===
a.value}return!1};m.isStartOfExpression=function(){let a=!0;const b=this.lookahead.value;switch(this.lookahead.type){case 7:a="["===b||"("===b||"{"===b||"+"===b||"-"===b||"!"===b||"~"===b||"++"===b||"--"===b||"/"===b||"/\x3d"===b;break;case 4:a="class"===b||"delete"===b||"function"===b||"let"===b||"new"===b||"super"===b||"this"===b||"typeof"===b||"void"===b||"yield"===b}return a};m.parseScript=function(){const a=this.createNode(),b=[];for(;2!==this.lookahead.type;)b.push(this.parseStatementListItem());
return this.finalize(a,new h.Script(b))};return f}();x.Parser=l;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/assert":function(){define(["exports"],function(x){x.assert=function(y,D){if(!y)throw Error("ASSERT: "+D);};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/error-handler":function(){define(["exports"],function(x){let y=function(){function D(){this.errors=[];this.tolerant=!1}var F=D.prototype;F.recordError=function(k){this.errors.push(k)};F.tolerate=
function(k){if(this.tolerant)this.recordError(k);else throw k;};F.constructError=function(k,h){k=Error(k);try{throw k;}catch(q){Object.create&&Object.defineProperty&&(k=Object.create(q),Object.defineProperty(k,"column",{value:h}))}return k};F.createError=function(k,h,q,e){q=this.constructError("Line "+h+": "+e,q);q.index=k;q.lineNumber=h;q.description=e;return q};F.throwError=function(k,h,q,e){throw this.createError(k,h,q,e);};F.tolerateError=function(k,h,q,e){k=this.createError(k,h,q,e);if(this.tolerant)this.recordError(k);
else throw k;};return D}();x.ErrorHandler=y;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/messages":function(){define(["exports"],function(x){x.Messages={BadImportCallArity:"Unexpected token",BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",
DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token \x3d",DefaultRestProperty:"Unexpected token \x3d",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",
IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",
InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",
ParameterAfterRestParameter:"Rest parameter must be last formal parameter",PropertyAfterRestProperty:"Unexpected token",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",
StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",
StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",
UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/nodes":function(){define(["exports","./syntax"],function(x,y){x.ArrayExpression=function(D){this.type=y.Syntax.ArrayExpression;this.elements=D};x.ArrayPattern=function(D){this.type=y.Syntax.ArrayPattern;this.elements=D};x.AssignmentExpression=function(D,F,k){this.type=y.Syntax.AssignmentExpression;this.operator=D;this.left=F;this.right=
k};x.AssignmentPattern=function(D,F){this.type=y.Syntax.AssignmentPattern;this.left=D;this.right=F};x.BinaryExpression=function(D,F,k){this.type="||"===D||"\x26\x26"===D?y.Syntax.LogicalExpression:y.Syntax.BinaryExpression;this.operator=D;this.left=F;this.right=k};x.BlockStatement=function(D){this.type=y.Syntax.BlockStatement;this.body=D};x.BreakStatement=function(D){this.type=y.Syntax.BreakStatement;this.label=D};x.CallExpression=function(D,F){this.type=y.Syntax.CallExpression;this.callee=D;this.arguments=
F};x.ComputedMemberExpression=function(D,F){this.type=y.Syntax.MemberExpression;this.computed=!0;this.object=D;this.property=F};x.ConditionalExpression=function(D,F,k){this.type=y.Syntax.ConditionalExpression;this.test=D;this.consequent=F;this.alternate=k};x.ContinueStatement=function(D){this.type=y.Syntax.ContinueStatement;this.label=D};x.EmptyStatement=function(){this.type=y.Syntax.EmptyStatement};x.ExpressionStatement=function(D){this.type=y.Syntax.ExpressionStatement;this.expression=D};x.ForInStatement=
function(D,F,k){this.type=y.Syntax.ForInStatement;this.left=D;this.right=F;this.body=k;this.each=!1};x.ForStatement=function(D,F,k,h){this.type=y.Syntax.ForStatement;this.init=D;this.test=F;this.update=k;this.body=h};x.FunctionDeclaration=function(D,F,k,h){this.type=y.Syntax.FunctionDeclaration;this.id=D;this.params=F;this.body=k;this.generator=h;this.async=this.expression=!1};x.FunctionExpression=function(D,F,k,h){this.type=y.Syntax.FunctionExpression;this.id=D;this.params=F;this.body=k;this.generator=
h;this.async=this.expression=!1};x.Identifier=function(D){this.type=y.Syntax.Identifier;this.name=D};x.IfStatement=function(D,F,k){this.type=y.Syntax.IfStatement;this.test=D;this.consequent=F;this.alternate=k};x.Literal=function(D,F){this.type=y.Syntax.Literal;this.value=D;this.raw=F};x.MethodDefinition=function(D,F,k,h,q){this.type=y.Syntax.MethodDefinition;this.key=D;this.computed=F;this.value=k;this.kind=h;this.static=q};x.Module=function(D){this.type=y.Syntax.Program;this.body=D;this.sourceType=
"module"};x.ObjectExpression=function(D){this.type=y.Syntax.ObjectExpression;this.properties=D};x.ObjectPattern=function(D){this.type=y.Syntax.ObjectPattern;this.properties=D};x.Property=function(D,F,k,h,q,e){this.type=y.Syntax.Property;this.key=F;this.computed=k;this.value=h;this.kind=D;this.method=q;this.shorthand=e};x.ReturnStatement=function(D){this.type=y.Syntax.ReturnStatement;this.argument=D};x.Script=function(D){this.type=y.Syntax.Program;this.body=D;this.sourceType="script"};x.SequenceExpression=
function(D){this.type=y.Syntax.SequenceExpression;this.expressions=D};x.StaticMemberExpression=function(D,F){this.type=y.Syntax.MemberExpression;this.computed=!1;this.object=D;this.property=F};x.TemplateElement=function(D,F){this.type=y.Syntax.TemplateElement;this.value=D;this.tail=F};x.TemplateLiteral=function(D,F){this.type=y.Syntax.TemplateLiteral;this.quasis=D;this.expressions=F};x.UnaryExpression=function(D,F){this.type=y.Syntax.UnaryExpression;this.operator=D;this.argument=F;this.prefix=!0};
x.UpdateExpression=function(D,F,k){this.type=y.Syntax.UpdateExpression;this.operator=D;this.argument=F;this.prefix=k};x.VariableDeclaration=function(D,F){this.type=y.Syntax.VariableDeclaration;this.declarations=D;this.kind=F};x.VariableDeclarator=function(D,F){this.type=y.Syntax.VariableDeclarator;this.id=D;this.init=F};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/scanner":function(){define(["exports","./assert","./messages","./character"],function(x,y,D,F){let k=function(){function h(e,
l){this.source=e;this.errorHandler=l;this.isModule=this.trackComment=!1;this.length=e.length;this.index=0;this.lineNumber=0<e.length?1:0;this.lineStart=0;this.curlyStack=[]}var q=h.prototype;q.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};q.restoreState=function(e){this.index=e.index;this.lineNumber=e.lineNumber;this.lineStart=e.lineStart;this.curlyStack=e.curlyStack};q.eof=function(){return this.index>=this.length};
q.throwUnexpectedToken=function(e=D.Messages.UnexpectedTokenIllegal){return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)};q.tolerateUnexpectedToken=function(e=D.Messages.UnexpectedTokenIllegal){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)};q.skipSingleLineComment=function(e){let l=[],f,m;this.trackComment&&(l=[],f=this.index-e,m={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});for(;!this.eof();){const a=
this.source.charCodeAt(this.index);++this.index;if(F.Character.isLineTerminator(a))return this.trackComment&&(m.end={line:this.lineNumber,column:this.index-this.lineStart-1},l.push({multiLine:!1,slice:[f+e,this.index-1],range:[f,this.index-1],loc:m})),13===a&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,l}this.trackComment&&(m.end={line:this.lineNumber,column:this.index-this.lineStart},l.push({multiLine:!1,slice:[f+e,this.index],range:[f,this.index],
loc:m}));return l};q.skipMultiLineComment=function(){let e=[],l,f;this.trackComment&&(e=[],l=this.index-2,f={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});for(;!this.eof();){const m=this.source.charCodeAt(this.index);if(F.Character.isLineTerminator(m))13===m&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===m&&47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(f.end=
{line:this.lineNumber,column:this.index-this.lineStart},e.push({multiLine:!0,slice:[l+2,this.index-2],range:[l,this.index],loc:f})),e;++this.index}}this.trackComment&&(f.end={line:this.lineNumber,column:this.index-this.lineStart},e.push({multiLine:!0,slice:[l+2,this.index],range:[l,this.index],loc:f}));this.tolerateUnexpectedToken();return e};q.scanComments=function(){let e;this.trackComment&&(e=[]);for(var l=0===this.index;!this.eof();){var f=this.source.charCodeAt(this.index);if(F.Character.isWhiteSpace(f))++this.index;
else if(F.Character.isLineTerminator(f))++this.index,13===f&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,l=!0;else if(47===f)if(f=this.source.charCodeAt(this.index+1),47===f)this.index+=2,l=this.skipSingleLineComment(2),this.trackComment&&(e=e.concat(l)),l=!0;else if(42===f)this.index+=2,f=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(f));else break;else if(l&&45===f)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+
2))this.index+=3,f=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(f));else break;else if(60!==f||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=4,f=this.skipSingleLineComment(4),this.trackComment&&(e=e.concat(f));else break}return e};q.isFutureReservedWord=function(e){return!1};q.isStrictModeReservedWord=function(e){return!1};q.isRestrictedWord=function(e){return!1};q.isKeyword=function(e){e=e.toLowerCase();switch(e.length){case 2:return"if"===
e||"in"===e;case 3:return"var"===e||"for"===e;case 4:return"else"===e;case 5:return"break"===e;case 6:return"return"===e;case 8:return"function"===e||"continue"===e;default:return!1}};q.codePointAt=function(e){let l=this.source.charCodeAt(e);55296<=l&&56319>=l&&(e=this.source.charCodeAt(e+1),56320<=e&&57343>=e&&(l=1024*(l-55296)+e-56320+65536));return l};q.scanHexEscape=function(e){e="u"===e?4:2;let l=0;for(let f=0;f<e;++f)if(!this.eof()&&F.Character.isHexDigit(this.source.charCodeAt(this.index)))l=
16*l+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(l)};q.scanUnicodeCodePointEscape=function(){let e=this.source[this.index],l=0;for("}"===e&&this.throwUnexpectedToken();!this.eof();){e=this.source[this.index++];if(!F.Character.isHexDigit(e.charCodeAt(0)))break;l=16*l+"0123456789abcdef".indexOf(e.toLowerCase())}(1114111<l||"}"!==e)&&this.throwUnexpectedToken();return F.Character.fromCodePoint(l)};q.getIdentifier=function(){const e=
this.index++;for(;!this.eof();){const l=this.source.charCodeAt(this.index);if(92===l||55296<=l&&57343>l)return this.index=e,this.getComplexIdentifier();if(F.Character.isIdentifierPart(l))++this.index;else break}return this.source.slice(e,this.index)};q.getComplexIdentifier=function(){let e=this.codePointAt(this.index),l=F.Character.fromCodePoint(e);this.index+=l.length;let f;92===e&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,
f=this.scanUnicodeCodePointEscape()):(f=this.scanHexEscape("u"),null!==f&&"\\"!==f&&F.Character.isIdentifierStart(f.charCodeAt(0))||this.throwUnexpectedToken()),l=f);for(;!this.eof();){e=this.codePointAt(this.index);if(!F.Character.isIdentifierPart(e))break;f=F.Character.fromCodePoint(e);l+=f;this.index+=f.length;92===e&&(l=l.substr(0,l.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,f=this.scanUnicodeCodePointEscape()):
(f=this.scanHexEscape("u"),null!==f&&"\\"!==f&&F.Character.isIdentifierPart(f.charCodeAt(0))||this.throwUnexpectedToken()),l+=f)}return l};q.octalToDecimal=function(e){let l="0"!==e,f="01234567".indexOf(e);!this.eof()&&F.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(l=!0,f=8*f+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(e)&&!this.eof()&&F.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(f=8*f+"01234567".indexOf(this.source[this.index++])));return{code:f,
octal:l}};q.scanIdentifier=function(){let e;const l=this.index,f=92===this.source.charCodeAt(l)?this.getComplexIdentifier():this.getIdentifier();e=1===f.length?3:this.isKeyword(f)?4:"null"===f.toLowerCase()?5:"true"===f.toLowerCase()||"false"===f.toLowerCase()?1:3;if(3!==e&&l+f.length!==this.index){const m=this.index;this.index=l;this.tolerateUnexpectedToken(D.Messages.InvalidEscapedReservedWord);this.index=m}return{type:e,value:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:l,end:this.index}};
q.scanPunctuator=function(){const e=this.index;let l=this.source[this.index];switch(l){case "(":case "{":"{"===l&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,l="...");break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:l=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===l?this.index+=4:(l=l.substr(0,
3),"\x3d\x3d\x3d"===l||"!\x3d\x3d"===l||"\x3e\x3e\x3e"===l||"\x3c\x3c\x3d"===l||"\x3e\x3e\x3d"===l||"**\x3d"===l?this.index+=3:(l=l.substr(0,2),"\x26\x26"===l||"||"===l||"\x3d\x3d"===l||"!\x3d"===l||"+\x3d"===l||"-\x3d"===l||"*\x3d"===l||"/\x3d"===l||"++"===l||"--"===l||"\x3c\x3c"===l||"\x3e\x3e"===l||"\x26\x3d"===l||"|\x3d"===l||"^\x3d"===l||"%\x3d"===l||"\x3c\x3d"===l||"\x3e\x3d"===l||"\x3d\x3e"===l||"**"===l?this.index+=2:(l=this.source[this.index],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(l)&&++this.index)))}this.index===
e&&this.throwUnexpectedToken();return{type:7,value:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}};q.scanHexLiteral=function(e){let l="";for(;!this.eof()&&F.Character.isHexDigit(this.source.charCodeAt(this.index));)l+=this.source[this.index++];0===l.length&&this.throwUnexpectedToken();F.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+l,16),lineNumber:this.lineNumber,lineStart:this.lineStart,
start:e,end:this.index}};q.scanBinaryLiteral=function(e){let l="",f;for(;!this.eof();){f=this.source[this.index];if("0"!==f&&"1"!==f)break;l+=this.source[this.index++]}0===l.length&&this.throwUnexpectedToken();this.eof()||(f=this.source.charCodeAt(this.index),(F.Character.isIdentifierStart(f)||F.Character.isDecimalDigit(f))&&this.throwUnexpectedToken());return{type:6,value:parseInt(l,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}};q.scanOctalLiteral=function(e,l){let f=
"",m=!1;F.Character.isOctalDigit(e.charCodeAt(0))?(m=!0,f="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&F.Character.isOctalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];m||0!==f.length||this.throwUnexpectedToken();(F.Character.isIdentifierStart(this.source.charCodeAt(this.index))||F.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:6,value:parseInt(f,8),octal:m,lineNumber:this.lineNumber,lineStart:this.lineStart,
start:l,end:this.index}};q.scanNumericLiteral=function(){const e=this.index;let l=this.source[e];y.assert(F.Character.isDecimalDigit(l.charCodeAt(0))||"."===l,"Numeric literal must start with a decimal digit or a decimal point");let f="";if("."!==l){f=this.source[this.index++];l=this.source[this.index];if("0"===f){if("x"===l||"X"===l)return++this.index,this.scanHexLiteral(e);if("b"===l||"B"===l)return++this.index,this.scanBinaryLiteral(e);if("o"===l||"O"===l)return this.scanOctalLiteral(l,e)}for(;F.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=
this.source[this.index++];l=this.source[this.index]}if("."===l){for(f+=this.source[this.index++];F.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];l=this.source[this.index]}if("e"===l||"E"===l){f+=this.source[this.index++];l=this.source[this.index];if("+"===l||"-"===l)f+=this.source[this.index++];if(F.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;F.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];
else this.throwUnexpectedToken()}F.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseFloat(f),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}};q.scanStringLiteral=function(){const e=this.index;let l=this.source[e];y.assert("'"===l||'"'===l,"String literal must starts with a quote");++this.index;let f=!1,m="";for(;!this.eof();){var a=this.source[this.index++];if(a===l){l="";break}if("\\"===a)if((a=this.source[this.index++])&&
F.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case "u":"{"===this.source[this.index]?(++this.index,m+=this.scanUnicodeCodePointEscape()):(a=this.scanHexEscape(a),null===a&&this.throwUnexpectedToken(),m+=a);break;case "x":a=this.scanHexEscape(a);null===a&&this.throwUnexpectedToken(D.Messages.InvalidHexEscapeSequence);m+=a;break;case "n":m+="\n";break;case "r":m+="\r";break;case "t":m+=
"\t";break;case "b":m+="\b";break;case "f":m+="\f";break;case "v":m+="\x0B";break;case "8":case "9":m+=a;this.tolerateUnexpectedToken();break;default:a&&F.Character.isOctalDigit(a.charCodeAt(0))?(a=this.octalToDecimal(a),f=a.octal||f,m+=String.fromCharCode(a.code)):m+=a}else if(F.Character.isLineTerminator(a.charCodeAt(0)))break;else m+=a}""!==l&&(this.index=e,this.throwUnexpectedToken());return{type:8,value:m,octal:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}};q.scanTemplate=
function(){let e="",l=!1;const f=this.index,m="`"===this.source[f];let a=!1,b=2;for(++this.index;!this.eof();){var n=this.source[this.index++];if("`"===n){b=1;l=a=!0;break}if("$"===n){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;l=!0;break}e+=n}else if("\\"===n)if(n=this.source[this.index++],F.Character.isLineTerminator(n.charCodeAt(0)))++this.lineNumber,"\r"===n&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(n){case "n":e+="\n";break;
case "r":e+="\r";break;case "t":e+="\t";break;case "u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{const r=this.index,G=this.scanHexEscape(n);null!==G?e+=G:(this.index=r,e+=n)}break;case "x":n=this.scanHexEscape(n);null===n&&this.throwUnexpectedToken(D.Messages.InvalidHexEscapeSequence);e+=n;break;case "b":e+="\b";break;case "f":e+="\f";break;case "v":e+="\v";break;default:"0"===n?(F.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(D.Messages.TemplateOctalLiteral),
e+="\x00"):F.Character.isOctalDigit(n.charCodeAt(0))?this.throwUnexpectedToken(D.Messages.TemplateOctalLiteral):e+=n}else F.Character.isLineTerminator(n.charCodeAt(0))?(++this.lineNumber,"\r"===n&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=n}l||this.throwUnexpectedToken();m||this.curlyStack.pop();return{type:10,value:this.source.slice(f+1,this.index-b),cooked:e,head:m,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}};q.testRegExp=
function(e,l){let f=e;0<=l.indexOf("u")&&(f=f.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(m,a,b)=>{m=parseInt(a||b,16);1114111<m&&this.throwUnexpectedToken(D.Messages.InvalidRegExp);return 65535>=m?String.fromCharCode(m):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(f)}catch(m){this.throwUnexpectedToken(D.Messages.InvalidRegExp)}try{return new RegExp(e,l)}catch(m){return null}};q.scanRegExpBody=function(){let e=this.source[this.index];y.assert("/"===e,"Regular expression literal must start with a slash");
let l=this.source[this.index++],f=!1,m=!1;for(;!this.eof();)if(e=this.source[this.index++],l+=e,"\\"===e)e=this.source[this.index++],F.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(D.Messages.UnterminatedRegExp),l+=e;else if(F.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(D.Messages.UnterminatedRegExp);else if(f)"]"===e&&(f=!1);else{if("/"===e){m=!0;break}"["===e&&(f=!0)}m||this.throwUnexpectedToken(D.Messages.UnterminatedRegExp);return l.substr(1,
l.length-2)};q.scanRegExpFlags=function(){let e="";for(;!this.eof();){var l=this.source[this.index];if(!F.Character.isIdentifierPart(l.charCodeAt(0)))break;++this.index;if("\\"!==l||this.eof())e+=l;else{l=this.source[this.index];if("u"===l){++this.index;l=this.index;const f=this.scanHexEscape("u");if(null!==f)for(e+=f;l<this.index;++l);else this.index=l,e+="u"}this.tolerateUnexpectedToken()}}return e};q.scanRegExp=function(){const e=this.index,l=this.scanRegExpBody(),f=this.scanRegExpFlags(),m=this.testRegExp(l,
f);return{type:9,value:"",pattern:l,flags:f,regex:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}};q.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const e=this.source.charCodeAt(this.index);return F.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?F.Character.isDecimalDigit(this.source.charCodeAt(this.index+
1))?this.scanNumericLiteral():this.scanPunctuator():F.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=e&&57343>e&&F.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return h}();x.Scanner=k;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/character":function(){define(["exports"],function(x){var y=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
D=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
const F={fromCodePoint(k){return 65536>k?String.fromCharCode(k):String.fromCharCode(55296+(k-65536>>10))+String.fromCharCode(56320+(k-65536&1023))},isWhiteSpace(k){return 32===k||9===k||11===k||12===k||160===k||5760<=k&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(k)},isLineTerminator(k){return 10===k||13===k||8232===k||8233===k},isIdentifierStart(k){return 36===k||95===k||65<=k&&90>=k||97<=k&&122>=k||92===k||128<=k&&y.test(F.fromCodePoint(k))},isIdentifierPart(k){return 36===
k||95===k||65<=k&&90>=k||97<=k&&122>=k||48<=k&&57>=k||92===k||128<=k&&D.test(F.fromCodePoint(k))},isDecimalDigit(k){return 48<=k&&57>=k},isHexDigit(k){return 48<=k&&57>=k||65<=k&&70>=k||97<=k&&102>=k},isOctalDigit(k){return 48<=k&&55>=k}};x.Character=F;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/token":function(){define(["exports"],function(x){x.TokenName={1:"Boolean",2:"\x3cend\x3e",3:"Identifier",4:"Keyword",5:"Null",6:"Numeric",7:"Punctuator",8:"String",9:"RegularExpression",
10:"Template"};Object.defineProperty(x,"__esModule",{value:!0})})},"esri/arcade/lib/tokenizer":function(){define(["exports","./error-handler","./scanner","./token"],function(x,y,D,F){let k=function(){function q(){this.values=[];this.curly=this.paren=-1}var e=q.prototype;e.beforeFunctionExpression=function(l){return 0<="( { [ in typeof instanceof new return case delete throw void \x3d +\x3d -\x3d *\x3d **\x3d /\x3d %\x3d \x3c\x3c\x3d \x3e\x3e\x3d \x3e\x3e\x3e\x3d \x26\x3d |\x3d ^\x3d , + - * ** / % ++ -- \x3c\x3c \x3e\x3e \x3e\x3e\x3e \x26 | ^ ! ~ \x26\x26 || ? : \x3d\x3d\x3d \x3d\x3d \x3e\x3d \x3c\x3d \x3c \x3e !\x3d !\x3d\x3d".split(" ").indexOf(l)};
e.isRegexStart=function(){var l=this.values[this.values.length-1];let f=null!==l;switch(l){case "this":case "]":f=!1;break;case ")":l=this.values[this.paren-1];f="if"===l||"while"===l||"for"===l||"with"===l;break;case "}":f=!0,"function"===this.values[this.curly-3]?f=(l=this.values[this.curly-4])?!this.beforeFunctionExpression(l):!1:"function"===this.values[this.curly-4]&&(f=(l=this.values[this.curly-5])?!this.beforeFunctionExpression(l):!0)}return f};e.push=function(l){7===l.type||4===l.type?("{"===
l.value?this.curly=this.values.length:"("===l.value&&(this.paren=this.values.length),this.values.push(l.value)):this.values.push(null)};return q}(),h=function(){function q(l,f){this.errorHandler=new y.ErrorHandler;this.errorHandler.tolerant=f?"boolean"===typeof f.tolerant&&f.tolerant:!1;this.scanner=new D.Scanner(l,this.errorHandler);this.scanner.trackComment=f?"boolean"===typeof f.comment&&f.comment:!1;this.trackRange=f?"boolean"===typeof f.range&&f.range:!1;this.trackLoc=f?"boolean"===typeof f.loc&&
f.loc:!1;this.buffer=[];this.reader=new k}var e=q.prototype;e.errors=function(){return this.errorHandler.errors};e.getNextToken=function(){if(0===this.buffer.length){var l=this.scanner.scanComments();if(this.scanner.trackComment)for(let m=0;m<l.length;++m){const a=l[m];var f=this.scanner.source.slice(a.slice[0],a.slice[1]);f={type:a.multiLine?"BlockComment":"LineComment",value:f};this.trackRange&&(f.range=a.range);this.trackLoc&&(f.loc=a.loc);this.buffer.push(f)}if(!this.scanner.eof()){let m;this.trackLoc&&
(m={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});let a;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){l=this.scanner.saveState();try{a=this.scanner.scanRegExp()}catch(b){this.scanner.restoreState(l),a=this.scanner.lex()}}else a=this.scanner.lex();this.reader.push(a);l={type:F.TokenName[a.type],value:this.scanner.source.slice(a.start,a.end)};this.trackRange&&(l.range=[a.start,a.end]);this.trackLoc&&(m.end={line:this.scanner.lineNumber,
column:this.scanner.index-this.scanner.lineStart},l.loc=m);9===a.type&&(l.regex={pattern:a.pattern,flags:a.flags});this.buffer.push(l)}}return this.buffer.shift()};return q}();x.Tokenizer=h;Object.defineProperty(x,"__esModule",{value:!0})})},"esri/intl/moment":function(){define(["require","exports","./locale"],function(x,y,D){const F=new Map([["ar",()=>(new Promise(function(k,h){x(["../chunks/ar"],k,h)})).then(function(k){return k.ar})],["ar-dz",()=>(new Promise(function(k,h){x(["../chunks/ar-dz"],
k,h)})).then(function(k){return k.arDz})],["ar-kw",()=>(new Promise(function(k,h){x(["../chunks/ar-kw"],k,h)})).then(function(k){return k.arKw})],["ar-ly",()=>(new Promise(function(k,h){x(["../chunks/ar-ly"],k,h)})).then(function(k){return k.arLy})],["ar-ma",()=>(new Promise(function(k,h){x(["../chunks/ar-ma"],k,h)})).then(function(k){return k.arMa})],["ar-sa",()=>(new Promise(function(k,h){x(["../chunks/ar-sa"],k,h)})).then(function(k){return k.arSa})],["ar-tn",()=>(new Promise(function(k,h){x(["../chunks/ar-tn"],
k,h)})).then(function(k){return k.arTn})],["bs",()=>(new Promise(function(k,h){x(["../chunks/bs"],k,h)})).then(function(k){return k.bs})],["ca",()=>(new Promise(function(k,h){x(["../chunks/ca"],k,h)})).then(function(k){return k.ca})],["cs",()=>(new Promise(function(k,h){x(["../chunks/cs"],k,h)})).then(function(k){return k.cs})],["da",()=>(new Promise(function(k,h){x(["../chunks/da"],k,h)})).then(function(k){return k.da})],["de",()=>(new Promise(function(k,h){x(["../chunks/de"],k,h)})).then(function(k){return k.de})],
["de-at",()=>(new Promise(function(k,h){x(["../chunks/de-at"],k,h)})).then(function(k){return k.deAt})],["de-ch",()=>(new Promise(function(k,h){x(["../chunks/de-ch"],k,h)})).then(function(k){return k.deCh})],["el",()=>(new Promise(function(k,h){x(["../chunks/el"],k,h)})).then(function(k){return k.el})],["en-au",()=>(new Promise(function(k,h){x(["../chunks/en-au"],k,h)})).then(function(k){return k.enAu})],["en-ca",()=>(new Promise(function(k,h){x(["../chunks/en-ca"],k,h)})).then(function(k){return k.enCa})],
["en-gb",()=>(new Promise(function(k,h){x(["../chunks/en-gb"],k,h)})).then(function(k){return k.enGb})],["en-ie",()=>(new Promise(function(k,h){x(["../chunks/en-ie"],k,h)})).then(function(k){return k.enIe})],["en-il",()=>(new Promise(function(k,h){x(["../chunks/en-il"],k,h)})).then(function(k){return k.enIl})],["en-in",()=>(new Promise(function(k,h){x(["../chunks/en-in"],k,h)})).then(function(k){return k.enIn})],["en-nz",()=>(new Promise(function(k,h){x(["../chunks/en-nz"],k,h)})).then(function(k){return k.enNz})],
["en-sg",()=>(new Promise(function(k,h){x(["../chunks/en-sg"],k,h)})).then(function(k){return k.enSg})],["es",()=>(new Promise(function(k,h){x(["../chunks/es"],k,h)})).then(function(k){return k.es})],["es-do",()=>(new Promise(function(k,h){x(["../chunks/es-do"],k,h)})).then(function(k){return k.esDo})],["es-mx",()=>(new Promise(function(k,h){x(["../chunks/es-mx"],k,h)})).then(function(k){return k.esMx})],["es-us",()=>(new Promise(function(k,h){x(["../chunks/es-us"],k,h)})).then(function(k){return k.esUs})],
["et",()=>(new Promise(function(k,h){x(["../chunks/et"],k,h)})).then(function(k){return k.et})],["fi",()=>(new Promise(function(k,h){x(["../chunks/fi"],k,h)})).then(function(k){return k.fi})],["fr",()=>(new Promise(function(k,h){x(["../chunks/fr"],k,h)})).then(function(k){return k.fr})],["fr-ca",()=>(new Promise(function(k,h){x(["../chunks/fr-ca"],k,h)})).then(function(k){return k.frCa})],["fr-ch",()=>(new Promise(function(k,h){x(["../chunks/fr-ch"],k,h)})).then(function(k){return k.frCh})],["he",
()=>(new Promise(function(k,h){x(["../chunks/he"],k,h)})).then(function(k){return k.he})],["hr",()=>(new Promise(function(k,h){x(["../chunks/hr"],k,h)})).then(function(k){return k.hr})],["hu",()=>(new Promise(function(k,h){x(["../chunks/hu"],k,h)})).then(function(k){return k.hu})],["id",()=>(new Promise(function(k,h){x(["../chunks/id"],k,h)})).then(function(k){return k.id})],["it",()=>(new Promise(function(k,h){x(["../chunks/it"],k,h)})).then(function(k){return k.it})],["it-ch",()=>(new Promise(function(k,
h){x(["../chunks/it-ch"],k,h)})).then(function(k){return k.itCh})],["ja",()=>(new Promise(function(k,h){x(["../chunks/ja"],k,h)})).then(function(k){return k.ja})],["ko",()=>(new Promise(function(k,h){x(["../chunks/ko"],k,h)})).then(function(k){return k.ko})],["lt",()=>(new Promise(function(k,h){x(["../chunks/lt"],k,h)})).then(function(k){return k.lt})],["lv",()=>(new Promise(function(k,h){x(["../chunks/lv"],k,h)})).then(function(k){return k.lv})],["nb",()=>(new Promise(function(k,h){x(["../chunks/nb"],
k,h)})).then(function(k){return k.nb})],["nl",()=>(new Promise(function(k,h){x(["../chunks/nl"],k,h)})).then(function(k){return k.nl})],["nl-be",()=>(new Promise(function(k,h){x(["../chunks/nl-be"],k,h)})).then(function(k){return k.nlBe})],["pl",()=>(new Promise(function(k,h){x(["../chunks/pl"],k,h)})).then(function(k){return k.pl})],["pt",()=>(new Promise(function(k,h){x(["../chunks/pt"],k,h)})).then(function(k){return k.pt})],["pt-br",()=>(new Promise(function(k,h){x(["../chunks/pt-br"],k,h)})).then(function(k){return k.ptBr})],
["ro",()=>(new Promise(function(k,h){x(["../chunks/ro"],k,h)})).then(function(k){return k.ro})],["ru",()=>(new Promise(function(k,h){x(["../chunks/ru"],k,h)})).then(function(k){return k.ru})],["sk",()=>(new Promise(function(k,h){x(["../chunks/sk"],k,h)})).then(function(k){return k.sk})],["sl",()=>(new Promise(function(k,h){x(["../chunks/sl"],k,h)})).then(function(k){return k.sl})],["sr",()=>(new Promise(function(k,h){x(["../chunks/sr"],k,h)})).then(function(k){return k.sr})],["sr-cyrl",()=>(new Promise(function(k,
h){x(["../chunks/sr-cyrl"],k,h)})).then(function(k){return k.srCyrl})],["sv",()=>(new Promise(function(k,h){x(["../chunks/sv"],k,h)})).then(function(k){return k.sv})],["th",()=>(new Promise(function(k,h){x(["../chunks/th"],k,h)})).then(function(k){return k.th})],["tr",()=>(new Promise(function(k,h){x(["../chunks/tr"],k,h)})).then(function(k){return k.tr})],["uk",()=>(new Promise(function(k,h){x(["../chunks/uk"],k,h)})).then(function(k){return k.uk})],["vi",()=>(new Promise(function(k,h){x(["../chunks/vi"],
k,h)})).then(function(k){return k.vi})],["zh-cn",()=>(new Promise(function(k,h){x(["../chunks/zh-cn"],k,h)})).then(function(k){return k.zhCn})],["zh-hk",()=>(new Promise(function(k,h){x(["../chunks/zh-hk"],k,h)})).then(function(k){return k.zhHk})],["zh-mo",()=>(new Promise(function(k,h){x(["../chunks/zh-mo"],k,h)})).then(function(k){return k.zhMo})],["zh-tw",()=>(new Promise(function(k,h){x(["../chunks/zh-tw"],k,h)})).then(function(k){return k.zhTw})]]);y.loadMoment=async function(k=D.getLocale()){const h=
(await (new Promise(function(e,l){x(["../chunks/moment"],e,l)})).then(function(e){return e.moment})).default;let q=F.has(k);if(!q){const e=k.split("-");1<e.length&&F.has(e[0])&&(k=e[0],q=!0)}q?await F.get(k)():k="en";k!==h.locale()&&h.locale(k);return h};Object.defineProperty(y,"__esModule",{value:!0})})},"*noref":1}});
define("exports ../core/lang ../core/promiseUtils ../renderers/visualVariables/support/sizeVariableUtils ../arcade/Dictionary ../arcade/Feature ../chunks/arcade".split(" "),function(x,y,D,F,k,h,q){function e(a){if(!a)return null;try{return q.parseScript(a)}catch(b){}return null}function l(a){a=e(a);return!!a&&q.scriptUsesGeometryEngine(a)}const f=/^\$feature\./i,m={vars:{$feature:"any",$view:"any"},spatialReference:null};x.Dictionary=k;x.arcadeFeature=h;x.arcade=q.arcade;x.convertFeatureLayerToFeatureSet=
function(a,b){if(null===a)return null;const n=q.featureSetUtils();return n?n.constructFeatureSet(a,b):null};x.convertMapToFeatureSetCollection=function(a){if(null===a||null===a.map)return null;const b=q.featureSetUtils();return b?b.createFeatureSetCollectionFromMap(a.map,a.spatialReference):null};x.convertServiceUrlToWorkspace=function(a,b){const n=q.featureSetUtils();return n?n.createFeatureSetCollectionFromService(a,b):null};x.createExecContext=function(a,b){return{vars:{$feature:null==a?new h:
h.createFromGraphic(a),$view:b&&b.view},spatialReference:b&&b.sr}};x.createFeature=function(a,b,n){return h.createFromGraphicLikeObject(b,a,n)};x.createFunction=function(a,b){a="string"===typeof a?e(a):a;if(!a)return null;try{return b=b||y.clone(m),q.compileScript(a,b)}catch(n){}return null};x.createSyntaxTree=e;x.dependsOnView=function(a){return q.referencesMember(a,"$view")};x.enableFeatureSetOperations=function(){return q.enableFeatureSetSupport()};x.enableGeometryOperations=function(){return q.enableGeometrySupport()};
x.evalSyntaxTree=function(a,b){let n;try{n=q.executeScript(a,b)}catch(r){n=null}return n};x.executeAsyncFunction=function(a,b){try{return a?a(b):D.resolve(null)}catch(n){return D.resolve(null)}};x.executeFunction=function(a,b){let n;try{n=a?a(b):null}catch(r){n=null}return n};x.extractFieldNames=function(a){if(!a)return[];a="string"===typeof a?e(a):a;if(!a)return[];const b=[];q.extractFieldLiterals(a).forEach(n=>{f.test(n)&&(n=n.replace(f,""),b.push(n))});b.sort();return b.filter((n,r)=>0===r||b[r-
1]!==n)};x.getViewInfo=function(a){if(a&&(null!=a.spatialReference||null!=a.scale&&null!=a.viewingMode))return{view:a.viewingMode&&null!=a.scale?new k({viewingMode:a.viewingMode,scale:a.scale}):null,sr:a.spatialReference}};x.hasGeometryOperations=function(a){if(!a)return!1;if("string"===typeof a)return l(a);if("simple"===a.type||"class-breaks"===a.type||"unique-value"===a.type||"dot-density"===a.type||"dictionary"===a.type){if("dot-density"===a.type){var b=a.attributes.some(n=>l(n.valueExpression));
if(b)return b}b=a.visualVariables;b=!!b&&b.some(n=>{let r=l(n.valueExpression);"size"===n.type&&(F.isSizeVariable(n.minSize)&&(r=r||l(n.minSize.valueExpression)),F.isSizeVariable(n.maxSize)&&(r=r||l(n.maxSize.valueExpression)));return r});return"valueExpression"in a&&l(a.valueExpression)?!0:b}return"esri.layers.support.LabelClass"===a.declaredClass?(a=a.labelExpressionInfo&&a.labelExpressionInfo.expression,!(!a||!l(a))||!1):"esri.PopupTemplate"===a.declaredClass?!!a.expressionInfos&&a.expressionInfos.some(n=>
l(n.expression)):!1};x.hasVariable=function(a,b){return a?q.referencesMember(a,b):!1};x.loadScriptDependencies=function(a,b,n=[]){return q.loadScriptDependencies(a,b,n)};x.updateExecContext=function(a,b){a.vars.$feature=b};Object.defineProperty(x,"__esModule",{value:!0})});