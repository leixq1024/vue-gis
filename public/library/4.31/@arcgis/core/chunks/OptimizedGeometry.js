/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t=[],s=[]){this.lengths=t??[],this.coords=s??[]}static fromJSON(s){return new t(s.lengths,s.coords)}static fromRect(s){const[e,r,h,o]=s,n=h-e,l=o-r;return new t([5],[e,r,n,0,0,l,-n,0,0,-l])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((t,s)=>t+s))}forEachVertex(t){let s=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let e=0;e<this.lengths.length;e++){const r=this.lengths[e];for(let e=0;e<r;e++)t(this.coords[2*(e+s)],this.coords[2*(e+s)+1]);s+=r}}deltaDecode(){const t=this.clone(),{coords:s,lengths:e}=t;let r=0;for(const t of e){for(let e=1;e<t;e++)s[2*(r+e)]+=s[2*(r+e)-2],s[2*(r+e)+1]+=s[2*(r+e)-1];r+=t}return t}clone(s){if(0===this.lengths.length)return new t([],[this.coords[0],this.coords[1]]);const e=2*(0===this.lengths.length?1:this.lengths.reduce(((t,s)=>t+s))),r=this.coords.slice(0,e);return s?(s.set(r),new t(this.lengths,s)):new t(Array.from(this.lengths),Array.from(r))}}export{t as O};
