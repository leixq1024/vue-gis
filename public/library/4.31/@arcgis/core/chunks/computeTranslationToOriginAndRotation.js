/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{d as t}from"./mathUtils.js";import{t as s,b as n,l as r}from"./mat4.js";import{c as o}from"./vec3f64.js";import{c as a,s as u,d as i,P as c,b as f}from"./projectBuffer.js";import{f as l}from"./unitUtils.js";function C(t,s,n){const r=Math.sin(t),o=Math.cos(t),a=Math.sin(s),u=Math.cos(s),i=n;return i[0]=-r,i[4]=-a*o,i[8]=u*o,i[12]=0,i[1]=o,i[5]=-a*r,i[9]=u*r,i[13]=0,i[2]=0,i[6]=u,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1,i}function E(t,o,E,e){if(null==t||null==e)return!1;const R=a(t,u),O=a(e,i);if(R===O&&!_(O)&&(R!==c.UNKNOWN||l(t,e)))return n(E,o),!0;if(_(O)){const t=f[R][c.LON_LAT],s=f[c.LON_LAT][O];return null!=t&&null!=s&&(t(o,0,A,0),s(A,0,L,0),C(m*A[0],m*A[1],E),E[12]=L[0],E[13]=L[1],E[14]=L[2],!0)}const P=_(R);if((O===c.WEB_MERCATOR||O===c.PLATE_CARREE||O===c.WGS84||O===c.CGCS2000)&&(R===c.WGS84||P||R===c.WEB_MERCATOR||R===c.CGCS2000)){const t=f[R][c.LON_LAT],n=f[c.LON_LAT][O];return null!=t&&null!=n&&(t(o,0,A,0),n(A,0,L,0),P?function(t,n,r){C(t,n,r),s(r,r)}(m*A[0],m*A[1],E):r(E),E[12]=L[0],E[13]=L[1],E[14]=L[2],!0)}return!1}function _(t){return t===c.SPHERICAL_ECEF||t===c.SPHERICAL_MARS_PCPF||t===c.SPHERICAL_MOON_PCPF||t===c.WGS84_ECEF}const m=t(1),A=o(),L=o();export{C as a,E as c};
