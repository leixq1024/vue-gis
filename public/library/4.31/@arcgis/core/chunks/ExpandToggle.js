/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{h as t,f as e}from"./componentsUtils.js";import{b as o}from"./dom.js";import{S as n}from"./action-group.js";import{S as l}from"./action-menu.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.0
 */const i=t=>t.reduce(((t,e)=>t+e),0)/t.length,a=t=>{const e=t.filter((t=>t.slot!==n.menuActions)),o=e?.length;return{actionWidth:o?i(e.map((t=>t.clientWidth||0))):0,actionHeight:o?i(e.map((t=>t.clientHeight||0))):0}},c=({layout:t,actionCount:e,actionWidth:o,width:n,actionHeight:l,height:i,groupCount:a})=>Math.max(e-(({width:t,actionWidth:e,layout:o,height:n,actionHeight:l,groupCount:i})=>{const a="horizontal"===o?t:n,c="horizontal"===o?e:l;return Math.floor((a-2*i)/c)})({width:n,actionWidth:o,layout:t,height:i,actionHeight:l,groupCount:a}),0),r=t=>Array.from(t.querySelectorAll("calcite-action")).filter((t=>!t.closest("calcite-action-menu")||t.slot===l.trigger)),s=({actionGroups:t,expanded:o,overflowCount:l})=>{let i=l;t.reverse().forEach((t=>{let l=0;const a=r(t).reverse();a.forEach((t=>{t.slot===n.menuActions&&(t.removeAttribute("slot"),t.textEnabled=o)})),i>0&&a.some((t=>(a.filter((t=>!t.slot)).length>1&&a.length>2&&!t.closest("calcite-action-menu")&&(t.textEnabled=!0,t.setAttribute("slot",n.menuActions),l++,l>1&&i--),i<1))),e(t)}))};function h({el:t,expanded:e}){r(t).filter((t=>t.slot!==n.menuActions)).forEach((t=>t.textEnabled=e)),t.querySelectorAll("calcite-action-group, calcite-action-menu").forEach((t=>t.expanded=e))}const u=({expanded:e,expandText:n,collapseText:l,expandLabel:i,collapseLabel:a,toggle:c,el:r,position:s,tooltip:h,ref:u,scale:d})=>{const p="rtl"===o(r),m=e?l:n,f=e?a:i,g=["chevrons-left","chevrons-right"];p&&g.reverse();const x="end"===function(t,e){return t||e.closest("calcite-shell-panel")?.position||"start"}(s,r),E=x?g[1]:g[0],b=x?g[0]:g[1],A=t("calcite-action",{icon:e?E:b,id:"expand-toggle",label:f,onClick:c,ref:t=>(({tooltip:t,referenceElement:e,expanded:o,ref:n})=>(t&&(t.referenceElement=!o&&e?e:null),n&&n(e),e))({tooltip:h,referenceElement:t,expanded:e,ref:u}),scale:d,text:m,textEnabled:e,title:e||h?null:m});return A};export{u as E,c as a,a as g,s as o,r as q,h as t};
