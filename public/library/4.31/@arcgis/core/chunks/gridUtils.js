/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import"../geometry.js";import{m as e,g as t}from"./unitUtils.js";import{isSupported as r,geodesicLengths as o}from"../geometry/support/geodesicUtils.js";import{straightLineDensify as s}from"../geometry/support/normalizeUtils.js";import{webMercatorToGeographic as n}from"../geometry/support/webMercatorUtils.js";import i from"../geometry/SpatialReference.js";import a from"../geometry/Point.js";import m from"../geometry/Polyline.js";const p=5;function c(e,t,r){const o=1===e?10:e;var s,n;return o**(r?Math.round((s=50/t,n=o,Math.log(s)/Math.log(n))):0)}function l(e){const{isGeographic:t,isWebMercator:r}=e;return!t&&!r}function f(p,c,f){const u="number"==typeof p?null:p,y=f??u?.spatialReference;if(null==y||!e(y)||l(y))return t(y);let g=u?.x??p,h=u?.y??c;const j=1/Math.sqrt(2);let M=g+j,x=h+j;const{isWebMercator:R,isGeographic:b}=y;let w=b&&!r(y)?i.WGS84:y;if(R){let e=new a({x:g,y:h,spatialReference:y});n(e,!0,e),g=e.x,h=e.y,e=new a({x:M,y:x,spatialReference:y}),n(e,!0,e),M=e.x,x=e.y,w=i.WGS84}const G=new m({paths:[[[g,h],[M,x]]],spatialReference:w}),U=s(G,10);let W;try{[W]=o([U],"meters")}catch{return t(y)}return W}export{p as a,c as g,f as m,l as s};
