/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{d as t,D as e,E as n,F as r,j as f}from"../core/lang.js";import{a as o,n as u}from"./Indices.js";import{k as s}from"./enums.js";function c(t,e){i(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function i(f,o,u=2,s=u){const c=o.length/2;let i=0,a=0;if(t(o)||e(o)){for(let t=0;t<c;++t)f[i]=o[a],f[i+1]=o[a+1],i+=u,a+=s;return}const d=n(o);if(r(o))for(let t=0;t<c;++t)f[i]=Math.max(o[a]/d,-1),f[i+1]=Math.max(o[a+1]/d,-1),i+=u,a+=s;else for(let t=0;t<c;++t)f[i]=o[a]/d,f[i+1]=o[a+1]/d,i+=u,a+=s}function a(t,e,n,r){const f=t.typedBuffer,o=t.typedBufferStride,u=r?.count??t.count;let s=(r?.dstIndex??0)*o;for(let t=0;t<u;++t)f[s]=e,f[s+1]=n,s+=o}function d(t,e){l(t.typedBuffer,e,t.typedBufferStride)}function l(t,e,n=4){const r=e.typedBuffer,f=e.typedBufferStride,o=e.count;let u=0,s=0;for(let e=0;e<o;++e)t[u]=r[s],t[u+1]=r[s+1],t[u+2]=r[s+2],t[u+3]=r[s+3],u+=n,s+=f}function p(t,e,n,r,f,o){const u=t.typedBuffer,s=t.typedBufferStride,c=o?.count??t.count;let i=(o?.dstIndex??0)*s;for(let t=0;t<c;++t)u[i]=e,u[i+1]=n,u[i+2]=r,u[i+3]=f,i+=s}function y(t,e){switch(e){case s.TRIANGLES:return function(t){return"number"==typeof t?o(t):f(t)?new Uint16Array(t):t}(t);case s.TRIANGLE_STRIP:return function(t){const e="number"==typeof t?t:t.length;if(e<3)return[];const n=e-2,r=u(3*n);if("number"==typeof t){let t=0;for(let e=0;e<n;e+=1)e%2==0?(r[t++]=e,r[t++]=e+1,r[t++]=e+2):(r[t++]=e+1,r[t++]=e,r[t++]=e+2)}else{let e=0;for(let f=0;f<n;f+=1)f%2==0?(r[e++]=t[f],r[e++]=t[f+1],r[e++]=t[f+2]):(r[e++]=t[f+1],r[e++]=t[f],r[e++]=t[f+2])}return r}(t);case s.TRIANGLE_FAN:return function(t){const e="number"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const n=e-2,r=n<=65536?new Uint16Array(3*n):new Uint32Array(3*n);if("number"==typeof t){let t=0;for(let e=0;e<n;++e)r[t++]=0,r[t++]=e+1,r[t++]=e+2;return r}const f=t[0];let o=t[1],u=0;for(let e=0;e<n;++e){const n=t[e+2];r[u++]=f,r[u++]=o,r[u++]=n,o=n}return r}(t)}}const m=2.1;export{a,d as b,y as c,m as d,i as e,p as f,l as g,c as n};
