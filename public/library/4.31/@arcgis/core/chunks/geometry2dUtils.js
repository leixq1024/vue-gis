/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import"./mathUtils.js";import{s as t,a as s,l as n,b as r,d as a,c as e,e as o}from"./vec2.js";import{c}from"./vec2f64.js";function i(t,s){return t[0]*s[1]-t[1]*s[0]}function u(n,r,c,i,u=c){return t(N,i,c),t(m,r,u),function(t,s,n){const r=a(n,m)/e(n);o(t,n,r)}(y,0,N),s(n,u,y)}function f(s,a,e,o){t(N,a,e);const c=o/n(N);return r(s,e,N,c)}function p(s,n){const a=s.start,e=s.end,o=n.start,c=n.end,u=t(N,e,a),f=t(h,c,o),p=i(u,f);if(Math.abs(p)<=I)return[];const L=t(m,a,o),d=i(f,L)/p,l=i(u,L)/p;if(d>=0){if(l>=0||n.type===E.LINE)return[r(y,a,u,d)]}else if(s.type===E.LINE&&(l>=0||n.type===E.LINE))return[r(y,a,u,d)];return[]}function L(s,n,o){const c=[],i=t(N,s.end,s.start),u=t(h,s.start,n),f=e(i),p=2*a(i,u),L=p*p-4*f*(e(u)-o*o);if(0===L){const t=-p/(2*f);(s.type===E.LINE||t>=0)&&c.push(r(y,s.start,i,t))}else if(L>0){const t=Math.sqrt(L),n=(-p+t)/(2*f);(s.type===E.LINE||n>=0)&&c.push(r(y,s.start,i,n));const a=(-p-t)/(2*f);(s.type===E.LINE||a>=0)&&c.push(r(m,s.start,i,a))}return c}var E;!function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"}(E||(E={}));const I=1e-6,N=c(),h=c(),m=c(),y=c();export{E as L,f as a,p as b,L as i,u as p};
