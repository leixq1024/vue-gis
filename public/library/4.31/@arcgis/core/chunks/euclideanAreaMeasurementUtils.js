/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{b as t}from"./quantityUtils.js";import{V as o}from"./unitUtils.js";import{e as r}from"./earcut.js";import{f as n,k as s,q as e}from"./vec3.js";import{c as i}from"./vec3f64.js";import{p as a}from"./projectVectorToVector.js";import{l,w as f,g as c,m as u}from"./plane.js";import{a as m}from"./triangle.js";import{c as p}from"./euclideanLengthMeasurementUtils.js";function g(r,g={positionsWorldCoords:[]}){return function(r,g,d=r.hasZ){const C=p(r.spatialReference),U=o(C);if(null==U)return null;let V=0;for(const t of r.rings){const o=t.length;if(o<3)continue;const{positionsWorldCoords:p}=g;for(;p.length<o;)p.push(i());const U=j,w=n(h,0,0,0),y=1/o;for(let e=0;e<o;e++){if(W=U,(q=t[e]).length<2||(n(W,q[0],q[1],d&&q[2]||0),0))return null;if(!a(U,r.spatialReference,p[e],C))return null;s(w,w,p[e],y)}const R=l(p[0],p[1],w,f());if(0===e(c(R)))continue;for(let t=0;t<o;t++)u(R,w,p[t],p[t]);const b=v(p);for(let t=0;t<b.length;t+=3)V+=m(p[b[t]],p[b[t+1]],p[b[t+2]])}var W,q;return t(V,U)}(r,g,!1)}const j=i(),h=i();function d(){return{positionsWorldCoords:[]}}function v(t){return r(function(t){const o=new Float64Array(2*t.length);for(let r=0;r<t.length;++r){const n=t[r],s=2*r;o[s]=n[0],o[s+1]=n[1]}return o}(t),[],2)}export{d as c,g as e,v as t};
