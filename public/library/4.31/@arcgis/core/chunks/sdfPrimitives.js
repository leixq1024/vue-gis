/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{c as t}from"./vec3f64.js";import{e as n}from"./doublePrecisionUtils.js";import"../core/lang.js";import{p as r}from"./floatRGBA.js";import{T as e}from"./StencilUtils.js";import{T as s}from"./enums.js";function a(t,n){return null==t&&(t=[]),t.push(n),t}function o(t,n){if(null==t)return null;const r=t.filter((t=>t!==n));return 0===r.length?null:r}function u(t,r,e,s,a){c[0]=t.get(r,0),c[1]=t.get(r,1),c[2]=t.get(r,2),n(c,i,3),e.set(a,0,i[0]),s.set(a,0,i[1]),e.set(a,1,i[2]),s.set(a,1,i[3]),e.set(a,2,i[4]),s.set(a,2,i[5])}const c=t(),i=new Float32Array(6),f=128,l=.5;function h(t){return"cross"===t||"x"===t}function M(t,n=128,r=.5*n,a=0){const o=m(t,n,r,a);return new e(o,{mipmap:!1,wrap:{s:s.CLAMP_TO_EDGE,t:s.CLAMP_TO_EDGE},width:n,height:n,components:4,noUnpackFlip:!0,reloadable:!0})}function m(t,n=128,r=.5*n,e=0){switch(t){case"circle":default:return function(t,n){const r=t/2-.5;return w(t,b(r,r,n/2))}(n,r);case"square":return function(t,n){return p(t,n,!1)}(n,r);case"cross":return function(t,n,r=0){return T(t,n,!1,r)}(n,r,e);case"x":return function(t,n,r=0){return T(t,n,!0,r)}(n,r,e);case"kite":return function(t,n){return p(t,n,!0)}(n,r);case"triangle":return function(t,n){return w(t,g(t/2,n,n/2))}(n,r);case"arrow":return function(t,n){const r=n,e=n/2,s=t/2,a=.8*r,o=b(s,(t-n)/2-a,Math.sqrt(a*a+e*e)),u=g(s,r,e);return w(t,((t,n)=>Math.max(u(t,n),-o(t,n))))}(n,r)}}function p(t,n,r){return r&&(n/=Math.SQRT2),w(t,((e,s)=>{let a=e-.5*t+.25,o=.5*t-s-.75;if(r){const t=(a+o)/Math.SQRT2;o=(o-a)/Math.SQRT2,a=t}return Math.max(Math.abs(a),Math.abs(o))-.5*n}))}function T(t,n,r,e=0){n-=e,r&&(n*=Math.SQRT2);const s=.5*n;return w(t,((n,a)=>{let o,u=n-.5*t,c=.5*t-a-1;if(r){const t=(u+c)/Math.SQRT2;c=(c-u)/Math.SQRT2,u=t}return u=Math.abs(u),c=Math.abs(c),o=u>c?u>s?Math.sqrt((u-s)*(u-s)+c*c):c:c>s?Math.sqrt(u*u+(c-s)*(c-s)):u,o-=e/2,o}))}function b(t,n,r){return(e,s)=>{const a=e-t,o=s-n;return Math.sqrt(a*a+o*o)-r}}function g(t,n,r){const e=Math.sqrt(n*n+r*r);return(s,a)=>{const o=Math.abs(s-t)-r,u=a-t+n/2+.75,c=(n*o+r*u)/e,i=-u;return Math.max(c,i)}}function w(t,n){const e=new Uint8Array(4*t*t);for(let s=0;s<t;s++)for(let a=0;a<t;a++){const o=a+t*s;let u=n(a,s);u=u/t+.5,r(u,e,4*o)}return e}export{a,o as b,M as c,l as d,u as e,m as f,f as g,h as r};
