/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{D as e}from"./enums.js";import{V as t}from"./VertexElementDescriptor.js";import{s,m as r}from"./mat3.js";import{D as i}from"./DisplayObject.js";import{T as n}from"./TileKey2.js";function o(e){const t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(e,t,s,r){const i=new Float32Array(4);return i[0]=e,i[1]=t,i[2]=s,i[3]=r,i}const h=new Float32Array(4);a(1,1,1,1),a(1,0,0,0),a(0,1,0,0),a(0,0,1,0),a(0,0,0,1);const l=new Map([["geometry",[new t("a_pos",2,e.BYTE,0,2)]]]),d=new Map([["geometry",[new t("a_pos",2,e.BYTE,0,4),new t("a_tex",2,e.BYTE,2,4)]]]),u=new Map([["geometry",[new t("a_pos",2,e.UNSIGNED_SHORT,0,4)]]]);class m extends i{constructor(e,t,s,r,i,o,a=i,h=o){super(),this.tileDebugInfoTexture=null,this.debugInfo={display:{length:0,minOrderedLength:0,minUnorderedLength:0,triangleCount:0},memory:{bytesUsed:0,bytesReserved:0}},this._destroyed=!1,this.key=new n(e),this.resolution=t,this.x=s,this.y=r,this.width=i,this.height=o,this.rangeX=a,this.rangeY=h}destroy(){this.tileDebugInfoTexture&&(this.tileDebugInfoTexture.dispose(),this.tileDebugInfoTexture=null),this._destroyed=!0}get debugSlot(){let e=this;for(;e.parent!==this._stage;){if(!e.parent)return 0;e=e.parent}return this._stage.children.indexOf(e)}setTransform(e){const t=this.resolution/(e.resolution*e.pixelRatio),i=this.transforms.tileMat3,[n,o]=e.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*t,h=this.height/this.rangeY*t;s(i,a,0,0,0,h,0,n,o,1),r(this.transforms.displayViewScreenMat3,e.displayViewMat3,i)}get destroyed(){return this._destroyed}}export{u as P,m as T,h as Z,l as a,d as b,o as c,a as f};
