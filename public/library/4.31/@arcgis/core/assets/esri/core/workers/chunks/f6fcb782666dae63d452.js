"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6641],{172:(e,t,r)=>{r.r(t),r.d(t,{B:()=>k,default:()=>D,e:()=>I});var s=r(32816),i=r(64604),a=r(17745),n=r(19297),o=r(99924),l=r(32773),c=r(73509),u=r(65283),p=r(20266),d=r(57732),y=r(80959),h=r(99063),m=r(29298),g=r(69421),f=r(56273),v=r(7969),b=r(82408),M=r(43059),S=r(18683),w=r(346),_=r(81623),T=r(13478);r(90740),r(29512),r(6407),r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(81272),r(36544),r(44945),r(28276),r(73067),r(69763),r(93804),r(49877),r(44600),r(2160),r(64752),r(48844),r(29208),r(59192),r(69277),r(70580),r(75191),r(24319),r(62092),r(89935),r(49813),r(1178),r(23916);const I={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,S.g)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,S.g)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};var L;let O=0,A=L=class extends((0,o.Te)(c.A)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+O++,this.baseLayers=new a.A,this.referenceLayers=new a.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&p.L.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>r(e.item))),this.referenceLayers.on("after-remove",(e=>r(e.item)))])}initialize(){this.when().catch((e=>{p.L.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const t of e)t.destroy();const t=this.referenceLayers.toArray();for(const e of t)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,d.d)(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,n.r)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const s=[];e?(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=(0,T.g)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=t&&s.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,T.g)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=t&&("scene"!==e.type&&(t.isReference=!0),s.push(t))})),t.baseMapLayers=s):t.baseMapLayers=s}set referenceLayers(e){this._set("referenceLayers",(0,n.r)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,u.l)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>(0,l.Nb)(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>(0,l.Nb)(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new L({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,l.o8)(e);return t.url&&(0,h.BQ)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&(0,h.BQ)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:s}=this;(0,y.Te)(e);const i=[];if(t){const r=t.context?t.context.url:null;if(i.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const e=t.data.id;i.push(async function(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await(0,w.f)("esri/t9n/basemaps");return r[e]||r[t]}(e).then((e=>{e&&this.read({title:e},t.context)})))}}else r?i.push(this._loadFromItem(r,e)):s&&i.push(this._loadFromStylesService(s,e));await Promise.all(i)}async _loadLayersFromJSON(e,t,s){const i=this.resourceInfo?.context,a=this.portalItem?.portal||i?.portal||null,n=U[i?.origin||""]??"web-map",{populateOperationalLayers:o}=await Promise.all([r.e(8281),r.e(570),r.e(1862)]).then(r.bind(r,60570)),l=[];if((0,y.Te)(s),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const r={context:{...i,origin:n,url:t,portal:a,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},s=e=>"web-scene"===n&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,c=o(this.baseLayers,e.baseMapLayers.filter((e=>!s(e))),r);l.push(c);const u=o(this.referenceLayers,e.baseMapLayers.filter(s),r);l.push(u)}await Promise.allSettled(l)}async _loadFromItem(e,t){const r=await e.load(t),s=await r.fetchData("json",t),i=(0,h.An)(e.itemUrl??"");return this._set("resourceInfo",{data:s.baseMap??{},context:{origin:x[e.type||""]??"web-map",portal:e.portal||b.A.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||b.A.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}async _loadFromStylesService(e,t){const r=`${e.serviceUrl}/${e.id}`,s=(await(0,i.A)(r,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview,token:e.apiKey},signal:t?.signal})).data,a=(0,h.An)(r);if(this._set("resourceInfo",{data:s.baseMap??{},context:{origin:"web-map",url:a}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,a,t),e.apiKey)for(const t of[...this.baseLayers,...this.referenceLayers])"apiKey"in t&&(t.apiKey=e.apiKey)}static fromId(e){const t=I[e];return t?t.itemId?new L({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):L.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};(0,s._)([(0,m.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,s){this._writeBaseLayers(e,t,s)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:a.A}},writer(e,t,r,s){this._writeBaseLayers(e,t,s)}}}}}})],A.prototype,"baseLayers",null),(0,s._)([(0,m.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],A.prototype,"id",void 0),(0,s._)([(0,m.MZ)({type:M.default})],A.prototype,"portalItem",void 0),(0,s._)([(0,m.MZ)()],A.prototype,"referenceLayers",null),(0,s._)([(0,m.MZ)({readOnly:!0})],A.prototype,"resourceInfo",void 0),(0,s._)([(0,m.MZ)({type:v.A})],A.prototype,"spatialReference",void 0),(0,s._)([(0,m.MZ)({type:_.A})],A.prototype,"style",void 0),(0,s._)([(0,m.MZ)()],A.prototype,"thumbnailUrl",void 0),(0,s._)([(0,m.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],A.prototype,"title",void 0),(0,s._)([(0,f.w)("title")],A.prototype,"writeTitle",null),A=L=(0,s._)([(0,g.$)("esri.Basemap")],A);const x={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},U={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},D=A,k=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}))},71044:(e,t,r)=>{r(172),r(90740),r(17745),r(20266),r(99063),r(36544),r(47215)},19297:(e,t,r)=>{r.d(t,{c:()=>a,r:()=>i});var s=r(17745);function i(e,t,r=s.A){return t||(t=new r),t===e||(t.removeAll(),(i=e)&&(Array.isArray(i)||"items"in i&&Array.isArray(i.items))?t.addMany(e):e&&t.add(e)),t;var i}function a(e){return e}},88817:(e,t,r)=>{r.d(t,{C:()=>y,c:()=>m});var s=r(32816),i=r(93804),a=r(99924),n=r(29298),o=(r(32773),r(20266)),l=r(88663),c=r(69421);const u=new i.J({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),p=new i.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let d=class extends a.oY{constructor(e){super(e),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}set definedInterval(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}};(0,s._)([(0,l.e)({classBreaksDef:"class-breaks-definition"})],d.prototype,"type",void 0),(0,s._)([(0,n.MZ)({json:{write:!0}})],d.prototype,"breakCount",void 0),(0,s._)([(0,n.MZ)({json:{write:!0}})],d.prototype,"classificationField",void 0),(0,s._)([(0,n.MZ)({type:String,json:{read:u.read,write:u.write}})],d.prototype,"classificationMethod",void 0),(0,s._)([(0,n.MZ)({json:{write:!0}})],d.prototype,"normalizationField",void 0),(0,s._)([(0,n.MZ)({json:{read:p.read,write:p.write}})],d.prototype,"normalizationType",void 0),(0,s._)([(0,n.MZ)({value:null,json:{write:!0}})],d.prototype,"standardDeviationInterval",null),(0,s._)([(0,n.MZ)({value:null,json:{write:!0}})],d.prototype,"definedInterval",null),d=(0,s._)([(0,c.$)("esri.rest.support.ClassBreaksDefinition")],d);const y=d;function h(e,t){return Number(e.toFixed(t))}function m(e){const{normalizationTotal:t}=e,r=function(e){const t=e.definition,{classificationMethod:r,normalizationType:s,definedInterval:i}=t,a=t.breakCount??1,n=[];let o=e.values;if(0===o.length)return[];o=o.sort(((e,t)=>e-t));const l=o[0],c=o[o.length-1];if("equal-interval"===r)if(o.length>=a){const e=(c-l)/a;let t=l;for(let r=1;r<a;r++){const i=h(l+r*e,6);n.push({minValue:t,maxValue:i,label:g(t,i,s)}),t=i}n.push({minValue:t,maxValue:c,label:g(t,c,s)})}else o.forEach((e=>{n.push({minValue:e,maxValue:e,label:g(e,e,s)})}));else if("natural-breaks"===r){const t=function(e){const t=[],r=[];let s=Number.MIN_VALUE,i=1,a=-1;for(let n=0;n<e.length;n++){const o=e[n];o===s?(i++,r[a]=i):null!==o&&(t.push(o),s=o,i=1,r.push(i),a++)}return{uniqueValues:t,valueFrequency:r}}(o),r=e.valueFrequency||t.valueFrequency,i=function(e,t,r){const s=e.length,i=[];r>s&&(r=s);for(let e=0;e<r;e++)i.push(Math.round(e*s/r-1));i.push(s-1);let a=f(i,e,t,r);return function(e,t,r,s,i,a){let n=0,o=0,l=0,c=0,u=!0;for(let p=0;p<2&&u;p++){0===p&&(u=!1);for(let p=0;p<a-1;p++)for(;r[p+1]+1!==r[p+2];){r[p+1]=r[p+1]+1;const a=v(p,r,s,i);l=a.sbMean,n=a.sbSdcm;const d=v(p+1,r,s,i);if(c=d.sbMean,o=d.sbSdcm,!(n+o<t[p]+t[p+1])){r[p+1]=r[p+1]-1;break}t[p]=n,t[p+1]=o,e[p]=l,e[p+1]=c,u=!0}for(let p=a-1;p>0;p--)for(;r[p]!==r[p-1]+1;){r[p]=r[p]-1;const a=v(p-1,r,s,i);l=a.sbMean,n=a.sbSdcm;const d=v(p,r,s,i);if(c=d.sbMean,o=d.sbSdcm,!(n+o<t[p-1]+t[p])){r[p]=r[p]+1;break}t[p-1]=n,t[p]=o,e[p-1]=l,e[p]=c,u=!0}}return u}(a.mean,a.sdcm,i,e,t,r)&&(a=f(i,e,t,r)),i}(t.uniqueValues,r,a);let u=l;for(let e=1;e<a;e++)if(t.uniqueValues.length>e){const r=h(t.uniqueValues[i[e]],6);n.push({minValue:u,maxValue:r,label:g(u,r,s)}),u=r}n.push({minValue:u,maxValue:c,label:g(u,c,s)})}else if("quantile"===r)if(o.length>=a&&l!==c){let e=l,t=Math.ceil(o.length/a),r=0;for(let i=1;i<a;i++){let l=t+r-1;l>o.length&&(l=o.length-1),l<0&&(l=0),n.push({minValue:e,maxValue:o[l],label:g(e,o[l],s)}),e=o[l],r+=t,t=Math.ceil((o.length-r)/(a-i))}n.push({minValue:e,maxValue:c,label:g(e,c,s)})}else{let e=-1;for(let t=0;t<o.length;t++){const r=o[t];r!==e&&(e=r,n.push({minValue:e,maxValue:r,label:g(e,r,s)}),e=r)}}else if("standard-deviation"===r){const e=function(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r];return t/=e.length,t}(o),t=function(e,t){let r=0;for(let s=0;s<e.length;s++){const i=e[s];r+=(i-t)*(i-t)}return r/=e.length,Math.sqrt(r)}(o,e);if(0===t)n.push({minValue:o[0],maxValue:o[0],label:g(o[0],o[0],s)});else{const r=function(e,t,r,s,i){let a=Math.max(s-e,t-s)/i/r;return a=a>=1?1:a>=.5?.5:.25,a}(l,c,a,e,t),i=r*t;let o=0,u=l;for(let t=a;t>=1;t--){const r=h(e-(t-.5)*i,6);n.push({minValue:u,maxValue:r,label:g(u,r,s)}),u=r,o++}let p=h(e+.5*i,6);n.push({minValue:u,maxValue:p,label:g(u,p,s)}),u=p,o++;for(let t=1;t<=a;t++)p=o===2*a?c:h(e+(t+.5)*i,6),n.push({minValue:u,maxValue:p,label:g(u,p,s)}),u=p,o++}}else if("defined-interval"===r){if(!i)return n;const e=o[0],t=o[o.length-1],r=Math.ceil((t-e)/i);let a=e;for(let t=1;t<r;t++){const r=h(e+t*i,6);n.push({minValue:a,maxValue:r,label:g(a,r,s)}),a=r}n.push({minValue:a,maxValue:t,label:g(a,t,s)})}return n}(e);return{classBreaks:r,normalizationTotal:t}}function g(e,t,r){let s=null;return s=e===t?r&&"percent-of-total"===r?e+"%":e.toString():r&&"percent-of-total"===r?e+"% - "+t+"%":e+" - "+t,s}function f(e,t,r,s){let i=[],a=[],n=[],o=0;const l=[],c=[];for(let i=0;i<s;i++){const s=v(i,e,t,r);l.push(s.sbMean),c.push(s.sbSdcm),o+=c[i]}let u,p=o,d=!0;for(;d||o<p;){d=!1,i=[];for(let t=0;t<s;t++)i.push(e[t]);for(let r=0;r<s;r++)for(let i=e[r]+1;i<=e[r+1];i++)if(u=t[i],r>0&&i!==e[r+1]&&Math.abs(u-l[r])>Math.abs(u-l[r-1]))e[r]=i;else if(r<s-1&&e[r]!==i-1&&Math.abs(u-l[r])>Math.abs(u-l[r+1])){e[r+1]=i-1;break}p=o,o=0,a=[],n=[];for(let i=0;i<s;i++){a.push(l[i]),n.push(c[i]);const s=v(i,e,t,r);l[i]=s.sbMean,c[i]=s.sbSdcm,o+=c[i]}}if(o>p){for(let t=0;t<s;t++)e[t]=i[t],l[t]=a[t],c[t]=n[t];o=p}return{mean:l,sdcm:c}}function v(e,t,r,s){let i=0,a=0;for(let n=t[e]+1;n<=t[e+1];n++){const e=s[n];i+=r[n]*e,a+=e}a<=0&&o.L.getLogger("esri.rest.support.generateRendererUtils").warn("Exception in Natural Breaks calculation");const n=i/a;let l=0;for(let i=t[e]+1;i<=t[e+1];i++)l+=s[i]*(r[i]-n)**2;return{sbMean:n,sbSdcm:l}}},9943:(e,t,r)=>{r.d(t,{c:()=>l,e:()=>o,g:()=>a,k:()=>n,m:()=>i}),r(16699);var s=r(87985);r(91276),r(62482);const i=2.4;function a(e){return(0,s.p)(2.4*e)}function n(e){return(0,s.a)(e)/2.4}function o(e,t,r){const s=Math.sqrt(e**2+t**2)/r;return s>1?0:3/(Math.PI*r**2)*(1-s**2)**2}function l(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}},23916:(e,t,r)=>{r.d(t,{f:()=>c,g:()=>u,h:()=>p,i:()=>o,k:()=>l,n:()=>n,s:()=>a});var s=r(29512),i=r(64604);const a={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function n(e){const t=e?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function o(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type}function l(e){const t=e?.type;return("feature"===t||"subtype-group"===t||"oriented-imagery"===t)&&"feature-layer"===e.source?.type}async function c(e,t){const r=s.id?.findServerInfo(e);if(null!=r?.currentVersion)return r.owningSystemUrl||null;const a=e.toLowerCase().indexOf("/rest/services");if(-1===a)return null;const n=`${e.slice(0,a)}/rest/info`,o=null!=t?t.signal:null,{data:l}=await(0,i.A)(n,{query:{f:"json"},responseType:"json",signal:o});return l?.owningSystemUrl||null}function u(e){return function(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function p(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}},65283:(e,t,r)=>{r.d(t,{a:()=>o,l:()=>n});var s=r(73067),i=r(17745),a=r(73509);async function n(e,t){return await e.load(),o(e,t)}async function o(e,t){const r=[],n=(...e)=>{for(const t of e)null!=t&&(Array.isArray(t)?n(...t):i.A.isCollection(t)?t.forEach((e=>n(e))):a.A.isLoadable(t)&&r.push(t))};t(n);let o=null;if(await(0,s.m)(r,(async e=>{const t=await(0,s.r)((r=e,"loadAll"in r&&"function"==typeof r.loadAll?e.loadAll():e.load()));var r;!1!==t.ok||o||(o=t)})),o)throw o.error;return e}},1178:(e,t,r)=>{r.d(t,{M:()=>f,a:()=>n,b:()=>b,e:()=>y,f:()=>a,i:()=>p,p:()=>d,r:()=>o,t:()=>m,w:()=>l});var s=r(29512),i=r(99063);function a(e,t){const r=t?.url?.path;if(e&&r&&(e=(0,i.s2)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=(0,i.V1)(e,t.portalItem.itemUrl);null!=r&&u.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return(e=h(e,t?.portal))&&c.test(e)?m(e):e}function n(e,t,r=f.YES){if(null==(e=e&&c.test(e)?g(e):e))return e;!(0,i.oP)(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let s=(0,i.s2)(e);if(t){const r=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(r){const a=h(r,t.portal),n=h(s,t.portal);s=(0,i.V1)(n,a,a),null!=s&&s!==n&&s!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(s)}}return s=y(s,t?.portal),(0,i.oP)(s)&&(s=(0,i.S8)(s)),t?.resources&&t?.portalItem&&!(0,i.oP)(s)&&!(0,i.DB)(s)&&r===f.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(s),compress:!1}),s}function o(e,t,r){return a(e,r)}function l(e,t,r,s){const i=n(e,s);void 0!==i&&(t[r]=i)}const c=/\/items\/([^/]+)\/resources\/(.*)/,u=/^\.\/resources\//;function p(e){const t=e?.match(c)??null;return t?.[1]??null}function d(e){const t=e?.match(c)??null;if(null==t)return null;const r=t[2],s=r.lastIndexOf("/");if(-1===s){const{path:e,extension:t}=(0,i.xw)(r);return{prefix:null,filename:e,extension:t}}const{path:a,extension:n}=(0,i.xw)(r.slice(s+1));return{prefix:r.slice(0,s),filename:a,extension:n}}function y(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,i.T1)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function h(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,s=(0,i.Xq)();return(0,i.FX)(s,`${s.scheme}://${r}`)?(0,i.T1)(e,t.portalHostname,r):(0,i.T1)(e,r,t.portalHostname)}function m(e){if(!e)return e||null;let t=e;return t&&s.id&&!s.id.findCredential(t)&&(t=(0,i.n)(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function g(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&s.id&&!s.id.findCredential(t)&&(t=(0,i.n)(t)),t}var f,v;(v=f||(f={}))[v.YES=0]="YES",v[v.NO=1]="NO";const b=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return f},ensureMainOnlineDomain:y,fromCDNUrl:g,fromJSON:a,itemIdFromResourceUrl:p,prefixAndFilenameFromResourceUrl:d,read:o,toCDNUrl:m,toJSON:n,write:l},Symbol.toStringTag,{value:"Module"}))},69310:(e,t,r)=>{function s(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function i(e){if(function(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}(e))return e;const{originPosition:t,scale:r,translate:s}=e,i=r[0]??1,a=r[1]??1;return{originPosition:"lowerLeft",scale:[i,"lowerLeft"===t?a:-a,r[2]??1,r[3]??1],translate:[s[0]??0,s[1]??0,s[2]??0,s[3]??0]}}function a({scale:e,translate:t},r){return r*e[0]+t[0]}function n({scale:e,translate:t},r){return r*e[1]+t[1]}function o({scale:e,translate:t},r){return(r??0)*e[2]+t[2]}function l({scale:e,translate:t},r){return r?r*e[3]+t[3]:0}function c(e,t){return e&&t?y:e&&!t?p:!e&&t?d:u}r.d(t,{a:()=>v,b:()=>g,c:()=>f,n:()=>i,q:()=>m,t:()=>s,u:()=>b}),r(44600),r(2160),r(36533),r(64752),r(84200),r(67504);const u=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const s=t[0];let i=a(e,s[0]),o=n(e,s[1]);r[0]=[i,o];const{scale:l,originPosition:c}=e,u=l[0],p="lowerLeft"===c?l[1]:-l[1];for(let e=1;e<t.length;e++){const[s,a]=t[e];i+=u*s,o+=p*a,r[e]=[i,o]}return r},p=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const s=t[0];let i=a(e,s[0]),l=n(e,s[1]);r[0]=[i,l,o(e,s[2])];const{scale:c,originPosition:u}=e,p=c[0],d="lowerLeft"===u?c[1]:-c[1];for(let s=1;s<t.length;s++){const[a,n,c]=t[s];i+=p*a,l+=d*n,r[s]=[i,l,o(e,c)]}return r},d=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const s=t[0];let i=a(e,s[0]),o=n(e,s[1]);r[0]=[i,o,l(e,s[2])];const{scale:c,originPosition:u}=e,p=c[0],d="lowerLeft"===u?c[1]:-c[1];for(let s=1;s<t.length;s++){const[a,n,c]=t[s];i+=p*a,o+=d*n,r[s]=[i,o,l(e,c)]}return r},y=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const s=t[0];let i=a(e,s[0]),c=n(e,s[1]);r[0]=[i,c,o(e,s[2]),l(e,s[3])];const{scale:u,originPosition:p}=e,d=u[0],y="lowerLeft"===p?u[1]:-u[1];for(let s=1;s<t.length;s++){const[a,n,u,p]=t[s];i+=d*a,c+=y*n,r[s]=[i,c,o(e,u),l(e,p)]}return r};function h(e,t,r){const s=new Array(r.length);for(let i=0;i<r.length;i++)s[i]=t(e,r[i]);return s}function m(e,t,r){const s=i(e);return t.x=function({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}(s,r.x),t.y=function({scale:e,translate:t},r){return Math.round((r-t[1])/e[1])}(s,r.y),null!=r.z&&(t.z=function({scale:e,translate:t},r){return Math.round(((r??0)-t[2])/e[2])}(s,r.z)),null!=r.m&&(t.m=function({scale:e,translate:t},r){return r?Math.round((r-t[3])/e[3]):0}(s,r.m)),t}function g(e,t,r,s=r?.hasZ??!1,a=r?.hasM??!1){if(null!=r){const n=i(e);t.points=c(s,a)(n,r.points),t.hasZ=s,t.hasM=a}return t}function f(e,t,r,s=null!=r?.z,c=null!=r?.m){if(null==r)return t;const u=i(e);return t.x=a(u,r.x),t.y=n(u,r.y),s&&(t.z=o(u,r.z)),c&&(t.m=l(u,r.m)),t}function v(e,t,r,s=r?.hasZ??!1,a=r?.hasM??!1){if(null!=r){const n=i(e);t.rings=h(n,c(s,a),r.rings),t.hasZ=s,t.hasM=a}return t}function b(e,t,r,s=r?.hasZ??!1,a=r?.hasM??!1){if(null!=r){const n=i(e);t.paths=h(n,c(s,a),r.paths),t.hasZ=s,t.hasM=a}return t}},87985:(e,t,r)=>{r.d(t,{a:()=>i,c:()=>o,d:()=>l,g:()=>c,p:()=>a,t:()=>n});const s=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function i(e){return e?e/72*96:0}function a(e){return e?72*e/96:0}function n(e){if("string"==typeof e){const t=e.match(s);if(t){const r=Number(t[1]),s=t[3]&&t[3].toLowerCase(),i="-"===e.charAt(0),n="px"===s?a(r):r;return i?-n:n}return console.warn("screenUtils.toPt: input not recognized!"),null}return e}function o(e=0,t=0){return{x:e,y:t}}function l(e=0,t=0){return[e,t]}function c(e=0,t=0,r=0){return[e,t,r]}},55807:(e,t,r)=>{r.d(t,{a:()=>U,c:()=>u,d:()=>p,e:()=>L,f:()=>O,g:()=>y,h:()=>x,i:()=>c,j:()=>D,k:()=>Z,l:()=>d,p:()=>l,r:()=>k});var s=r(88817);const i=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,a=new Set(["esriFieldTypeDate","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeOID","esriFieldTypeBigInteger"]),n=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),o=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function l(e){return null==e||"string"==typeof e&&!e?"<Null>":e}function c(e){const t=null!=e.normalizationField||null!=e.normalizationType,r=null!=e.minValue||null!=e.maxValue,s=!!e.sqlExpression&&e.supportsSQLExpression;return!t&&!r&&!s}function u(e){const{outStatisticTypes:t}=e,r=e.returnDistinct?[...new Set(e.values)]:e.values,s=r.filter((e=>null!=e)).sort(),i=s.length,a={count:i,min:s[0],max:s[i-1]};return e.supportsNullCount&&(a.nullcount=r.length-i),!e.percentileParams||t?.include?.length&&!t.include.includes("median")||t?.exclude?.length&&t.exclude.includes("median")||(a.median=d(r,e.percentileParams)),a}function p(e){const{values:t,useSampleStdDev:r,supportsNullCount:s,outStatisticTypes:i}=e;let a=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,o=null,l=null,c=null,u=null,p=0;const y=null==e.minValue?-1/0:e.minValue,h=null==e.maxValue?1/0:e.maxValue;for(const e of t)Number.isFinite(e)?e>=y&&e<=h&&(o=null===o?e:o+e,a=Math.min(a,e),n=Math.max(n,e),p++):"string"==typeof e&&p++;if(p&&null!=o){l=o/p;let e=0;for(const r of t)Number.isFinite(r)&&r>=y&&r<=h&&(e+=(r-l)**2);u=r?p>1?e/(p-1):0:p>0?e/p:0,c=Math.sqrt(u)}else a=null,n=null;const m={avg:l,count:p,max:n,min:a,stddev:c,sum:o,variance:u};return s&&(m.nullcount=t.length-p),!e.percentileParams||i?.include?.length&&!i.include.includes("median")||i?.exclude?.length&&i.exclude.includes("median")||(m.median=d(t,e.percentileParams)),m}function d(e,t){const{fieldType:r,value:s,orderBy:i,isDiscrete:a}=t,n=y(r,"desc"===i);if(0===(e=[...e].filter((e=>null!=e)).sort(((e,t)=>n(e,t)))).length)return null;if(s<=0)return e[0];if(s>=1)return e[e.length-1];const o=(e.length-1)*s,l=Math.floor(o),c=l+1,u=o%1,p=e[l],d=e[c];return c>=e.length||a||"string"==typeof p||"string"==typeof d?p:p*(1-u)+d*u}function y(e,t){if(e){if(a.has(e))return T(t);if(n.has(e))return S(t,!1);if("esriFieldTypeTimestampOffset"===e)return function(e){return e?v:f}(t);const r=S(t,!0);if("esriFieldTypeString"===e)return r;if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e)return(e,t)=>r(I(e),I(t))}const r=t?1:-1,s=T(t),i=S(t,!0),o=g(t);return(e,t)=>"number"==typeof e&&"number"==typeof t?s(e,t):"string"==typeof e&&"string"==typeof t?i(e,t):o(e,t)??r}const h=(e,t)=>null==e?null==t?0:1:null==t?-1:null,m=(e,t)=>null==e?null==t?0:-1:null==t?1:null;function g(e){return e?h:m}const f=(e,t)=>m(e,t)??(e===t?0:new Date(e).getTime()-new Date(t).getTime()),v=(e,t)=>h(e,t)??(e===t?0:new Date(t).getTime()-new Date(e).getTime()),b=(e,t)=>m(e,t)??(e===t?0:e<t?-1:1),M=(e,t)=>h(e,t)??(e===t?0:e<t?1:-1);function S(e,t){if(!t)return e?M:b;const r=g(e);return e?(e,t)=>{const s=r(e,t);return null!=s?s:(e=e.toUpperCase())>(t=t.toUpperCase())?-1:e<t?1:0}:(e,t)=>{const s=r(e,t);return null!=s?s:(e=e.toUpperCase())<(t=t.toUpperCase())?-1:e>t?1:0}}const w=(e,t)=>h(e,t)??t-e,_=(e,t)=>m(e,t)??e-t;function T(e){return e?w:_}function I(e){return e.slice(24,36)+e.slice(19,23)+e.slice(16,18)+e.slice(14,16)+e.slice(11,13)+e.slice(9,11)+e.slice(6,8)+e.slice(4,6)+e.slice(2,4)+e.slice(0,2)}function L(e,t,r){let s;for(s in e)t?.include?.length&&!t.include.includes(s)||t?.exclude?.length&&t.exclude.includes(s)?delete e[s]:o.includes(s)&&(Number.isFinite(e[s])||(e[s]=null));return r?(["avg","stddev","variance"].forEach((t=>{null!=e[t]&&(e[t]=Math.ceil(e[t]??0))})),e):e}function O(e){const t={};for(let r of e)(null==r||"string"==typeof r&&""===r.trim())&&(r=null),null==t[r]?t[r]={count:1,data:r}:t[r].count++;return{count:t}}function A(e){return"coded-value"!==e?.type?[]:e.codedValues.map((e=>e.code))}function x(e,t,r,s){const i=e.count,a=[];if(r&&t){const e=[],r=A(t[0]);for(const i of r)if(t[1]){const r=A(t[1]);for(const a of r)if(t[2]){const r=A(t[2]);for(const t of r)e.push(`${l(i)}${s}${l(a)}${s}${l(t)}`)}else e.push(`${l(i)}${s}${l(a)}`)}else e.push(i);for(const t of e)i.hasOwnProperty(t)||(i[t]={data:t,count:0})}for(const e in i){const t=i[e];a.push({value:t.data,count:t.count,label:t.label})}return{uniqueValueInfos:a}}function U(e,t,r,s){let i=null;switch(t){case"log":0!==e&&(i=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(s)&&0!==s&&(i=e/s*100);break;case"field":Number.isFinite(r)&&0!==r&&(i=e/r);break;case"natural-log":e>0&&(i=Math.log(e));break;case"square-root":e>0&&(i=e**.5)}return i}function D(e,t){const r=function(e){const{breakCount:t,field:r,normalizationField:i,normalizationType:a}=e,n=e.classificationMethod||"equal-interval",o="standard-deviation"===n?e.standardDeviationInterval||1:void 0,l="defined-interval"===n?e.definedInterval:void 0;return new s.C({breakCount:t,classificationField:r,classificationMethod:n,normalizationField:"field"===a?i:void 0,normalizationType:a,standardDeviationInterval:o,definedInterval:l})}({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||5});return e=function(e,t,r){const s=t??-1/0,i=r??1/0;return e.filter((e=>Number.isFinite(e)&&e>=s&&e<=i))}(e,t.minValue,t.maxValue),(0,s.c)({definition:r,values:e,normalizationTotal:t.normalizationTotal})}function k(e,t){let r=e.classBreaks;const s=r.length,a=r[0]?.minValue,n=r[s-1]?.maxValue,o="standard-deviation"===t,l=i;return r=r.map((e=>{const t=e.label,r={minValue:e.minValue,maxValue:e.maxValue,label:t};if(o&&t){const e=t.match(l),s=e?.map((e=>+e.trim()))??[];2===s.length?(r.minStdDev=s[0],r.maxStdDev=s[1],s[0]<0&&s[1]>0&&(r.hasAvg=!0)):1===s.length&&(t.includes("<")?(r.minStdDev=null,r.maxStdDev=s[0]):t.includes(">")&&(r.minStdDev=s[0],r.maxStdDev=null))}return r})),{minValue:a,maxValue:n,classBreakInfos:r,normalizationTotal:e.normalizationTotal}}function Z(e,t){const r=function(e,t){const{field:r,classificationMethod:s,standardDeviationInterval:i,normalizationType:a,normalizationField:n,normalizationTotal:o,minValue:l,maxValue:u}=t,d=t.numBins||10;let y=null,h=null,m=null;if(s&&"equal-interval"!==s||a){const{classBreaks:t}=D(e,{field:r,normalizationType:a,normalizationField:n,normalizationTotal:o,classificationMethod:s,standardDeviationInterval:i,minValue:l,maxValue:u,numClasses:d});y=t[0].minValue,h=t[t.length-1].maxValue,m=t.map((e=>[e.minValue,e.maxValue]))}else{if(null!=l&&null!=u)y=l,h=u;else{const t=p({values:e,minValue:l,maxValue:u,useSampleStdDev:!a,supportsNullCount:c({normalizationType:a,normalizationField:n,minValue:l,maxValue:u})});y=t.min??null,h=t.max??null}m=function(e,t,r){const s=(t-e)/r,i=[];let a,n=e;for(let e=1;e<=r;e++)a=n+s,a=Number(a.toFixed(16)),i.push([n,e===r?t:a]),n=a;return i}(y??0,h??0,d)}return{min:y,max:h,intervals:m}}(e,t);if(null==r.min&&null==r.max)return{bins:[],minValue:r.min,maxValue:r.max,normalizationTotal:t.normalizationTotal};const s=r.intervals,i=r.min??0,a=r.max??0,n=s.map(((e,t)=>({minValue:s[t][0],maxValue:s[t][1],count:0})));for(const t of e)if(null!=t&&t>=i&&t<=a){const e=G(s,t);e>-1&&n[e].count++}return{bins:n,minValue:i,maxValue:a,normalizationTotal:t.normalizationTotal}}function G(e,t){let r=-1;for(let s=e.length-1;s>=0;s--)if(t>=e[s][0]){r=s;break}return r}},16641:(e,t,r)=>{r.d(t,{b:()=>v,c:()=>g,q:()=>m,t:()=>f}),r(94345),r(6407);var s=r(87985),i=r(4734),a=r(7969),n=r(69310),o=r(69763),l=r(30011),c=r(9943),u=r(12856),p=r(55807),d=r(64752);let y=null;const h=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function m(e,t,r,s){const i=(0,o.d)(r)?(0,o.l)(r):null,a=i?Math.round((i.valid[1]-i.valid[0])/t.scale[0]):null;return e.map((e=>{const r=new d.A(e.geometry);return(0,n.q)(t,r,r),e.geometry=i?function(e,t,r){return e.x<0?e.x+=t:e.x>r&&(e.x-=t),e}(r,a??0,s[0]):r,e}))}function g(e,t=18,r,i,a){const n=new Float64Array(i*a);t=Math.round((0,s.a)(t));let o=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;const u=(0,c.c)(r);for(const{geometry:r,attributes:s}of e){const{x:e,y:p}=r,d=Math.max(0,e-t),y=Math.max(0,p-t),h=Math.min(a,p+t),m=Math.min(i,e+t),g=+u(s);for(let r=y;r<h;r++)for(let s=d;s<m;s++){const a=r*i+s,u=(0,c.e)(s-e,r-p,t)*g,d=n[a]+=u;o=Math.min(o,d),l=Math.max(l,d)}}return{min:o,max:l}}function f(e){const t=h.exec(e);if(!t)return null;const{hh:r,mm:s,ss:a,ms:n}=t.groups;return Number(r)*i.m.hours+Number(s)*i.m.minutes+Number(a)*i.m.seconds+Number(n||0)}async function v(e,t,r=!0){if(!t)return[];const{field:s,field2:i,field3:n,fieldDelimiter:o,fieldInfos:c,timeZone:d}=e,h=s&&c?.find((e=>e.name.toLowerCase()===s.toLowerCase())),m=!!h&&(0,l.OH)(h),g=!!h&&(0,u.i)(h),v=e.valueExpression,b=e.normalizationType,M=e.normalizationField,S=e.normalizationTotal,w=[],_=e.viewInfoParams;let T=null,I=null;if(v){if(!y){const{arcadeUtils:e}=await(0,l.l)();y=e}y.hasGeometryOperations(v)&&await y.enableGeometryOperations(),T=y.createFunction(v),I=_?y.getViewInfo({viewingMode:_.viewingMode,scale:_.scale,spatialReference:new a.A(_.spatialReference)}):null}const L=e.fieldInfos,O=t[0]&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass||!L?null:{fields:L};return t.forEach((e=>{const t=e.attributes;let a;if(v){const t=O?{...e,layer:O}:e,r=y.createExecContext(t,I,d);a=y.executeFunction(T,r)}else t&&(a=t[s],i?(a=`${(0,p.p)(a)}${o}${(0,p.p)(t[i])}`,n&&(a=`${a}${o}${(0,p.p)(t[n])}`)):"string"==typeof a&&r&&(g?a=a?new Date(a).getTime():null:m&&(a=a?f(a):null)));if(b&&"number"==typeof a&&isFinite(a)){const e=t&&parseFloat(t[M]);a=(0,p.a)(a,b,e,S)}w.push(a)})),w}},47215:(e,t,r)=>{r.d(t,{B:()=>l,C:()=>c,D:()=>u,H:()=>p,O:()=>d,a:()=>o,c:()=>g,i:()=>v,n:()=>f});var s=r(13226),i=r(87985),a=r(47812);function n(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}n();class o{constructor(e,t,r){this.strength=e,this.radius=t,this.threshold=r,this.type="bloom"}interpolate(e,t,r){this.strength=y(e.strength,t.strength,r),this.radius=y(e.radius,t.radius,r),this.threshold=y(e.threshold,t.threshold,r)}clone(){return new o(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:h(this.radius),strength:this.strength,threshold:this.threshold}}}class l{constructor(e){this.radius=e,this.type="blur"}interpolate(e,t,r){this.radius=Math.round(y(e.radius,t.radius,r))}clone(){return new l(this.radius)}toJSON(){return{type:"blur",radius:h(this.radius)}}}class c{constructor(e,t){this.type=e,this.amount=t,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,r){this.amount=y(e.amount,t.amount,r),this._updateMatrix()}clone(){return new c(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||n();switch(this.type){case"brightness":this._colorMatrix=((e,t)=>{const r=(0,a.n)(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return(0,a.t)(r,r)})(e,this.amount);break;case"contrast":this._colorMatrix=((e,t)=>{const r=(0,a.n)(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return(0,a.t)(r,r)})(e,this.amount);break;case"grayscale":this._colorMatrix=(e=>{const t=1-this.amount,r=(0,a.n)(e,.2126+.7874*t,.7152-.7152*t,.0722-.0722*t,0,.2126-.2126*t,.7152+.2848*t,.0722-.0722*t,0,.2126-.2126*t,.7152-.7152*t,.0722+.9278*t,0,0,0,0,1);return(0,a.t)(r,r)})(e);break;case"invert":this._colorMatrix=((e,t)=>{const r=1-2*t,s=(0,a.n)(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return(0,a.t)(s,s)})(e,this.amount);break;case"saturate":this._colorMatrix=((e,t)=>{const r=(0,a.n)(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return(0,a.t)(r,r)})(e,this.amount);break;case"sepia":this._colorMatrix=(e=>{const t=1-this.amount,r=(0,a.n)(e,.393+.607*t,.769-.769*t,.189-.189*t,0,.349-.349*t,.686+.314*t,.168-.168*t,0,.272-.272*t,.534-.534*t,.131+.869*t,0,0,0,0,1);return(0,a.t)(r,r)})(e)}}}class u{constructor(e,t,r,s){this.offsetX=e,this.offsetY=t,this.blurRadius=r,this.color=s,this.type="drop-shadow"}interpolate(e,t,r){this.offsetX=y(e.offsetX,t.offsetX,r),this.offsetY=y(e.offsetY,t.offsetY,r),this.blurRadius=y(e.blurRadius,t.blurRadius,r),this.color[0]=Math.round(y(e.color[0],t.color[0],r)),this.color[1]=Math.round(y(e.color[1],t.color[1],r)),this.color[2]=Math.round(y(e.color[2],t.color[2],r)),this.color[3]=y(e.color[3],t.color[3],r)}clone(){return new u(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:h(this.offsetX),yoffset:h(this.offsetY),blurRadius:h(this.blurRadius),color:e}}}class p{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,r){this.angle=y(e.angle,t.angle,r),this._updateMatrix()}clone(){return new p(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||n();this._colorMatrix=((e,t)=>{const r=Math.sin(t*Math.PI/180),s=Math.cos(t*Math.PI/180),i=(0,a.n)(e,.213+.787*s-.213*r,.715-.715*s-.715*r,.072-.072*s+.928*r,0,.213-.213*s+.143*r,.715+.285*s+.14*r,.072-.072*s-.283*r,0,.213-.213*s-.787*r,.715-.715*s+.715*r,.072+.928*s+.072*r,0,0,0,0,1);return(0,a.t)(i,i)})(e,this.angle)}}class d{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,t,r){this.amount=y(e.amount,t.amount,r)}clone(){return new d(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function y(e,t,r){return e+(t-e)*r}function h(e){return Math.round(1e3*(0,i.p)(e))/1e3}function m(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new c(e.type,0);case"saturate":case"brightness":case"contrast":return new c(e.type,1);case"opacity":return new d(1);case"hue-rotate":return new p(0);case"blur":return new l(0);case"drop-shadow":return new u(0,0,0,[...(0,s.g)("transparent")]);case"bloom":return new o(0,0,1)}}function g(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every(((e,t)=>e.type===r[t].type))}function f(e,t){const r=e.length>t.length?e:t,s=e.length>t.length?t:e;for(let e=s.length;e<r.length;e++)s.push(m(r[e]))}function v(e){const t=e[0];return!!t&&"type"in t}},12856:(e,t,r)=>{r.d(t,{i:()=>i}),r(50214);var s=r(30011);function i(e){return(0,s.vE)(e)||(0,s.zD)(e)||(0,s.Ah)(e)}r(71044),new Set(["integer","small-integer"])},13478:(e,t,r)=>{r.d(t,{g:()=>p});var s=r(6407),i=r(32773),a=r(90740),n=r(69421),o=r(23916);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),c=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function u(e,t){"maxScale"in e&&(t.maxScale=(0,n.n)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,n.n)(e.minScale)??void 0)}function p(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r?.messages&&r.messages.push(new s.A("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if((0,o.i)(e)&&!e.isTable)t=e.resourceInfo;else if(function(e,t){if(t.restrictedWebMapWriting){const r=function(e){return"basemap"===e.layerContainerType?l:"operational-layers"===e.layerContainerType?c:null}(t);return null==r||r.has(e.type)&&!(0,o.i)(e)}return!0}(e,r)){const t={};return e.write(t,r)?t:null}return null!=t&&function(e,t){if(function(e,t){if(t)if((0,o.i)(e)){const r=(0,a.g)("featureCollection.layers",t),s=r?.[0]?.layerDefinition;s&&u(e,s)}else"group"!==e.type&&u(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,n.n)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,o.i)(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=(0,i.o8)(t)),t}},73509:(e,t,r)=>{r.d(t,{A:()=>h});var s=r(32816),i=r(6407),a=r(57732),n=r(28276),o=r(80959),l=r(69421),c=r(29298);r(32773),r(20266),r(90740),r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(36544);const u="loaded",p=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=r=>{const s=new Promise(((e,t)=>{const s=(0,o.NY)(r,t);this.destroyed&&t(new i.A("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(e,t).finally((()=>{s&&s.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=new AbortController;t({signal:e.signal})}return e(),s}}))),this.when((()=>{this._set("loadStatus",u),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}destroy(){this._loadController&&(this._loadController=(0,a.a)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===u}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new i.A("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return(0,s._)([(0,c.MZ)({readOnly:!0})],t.prototype,"loaded",null),(0,s._)([(0,c.MZ)({readOnly:!0})],t.prototype,"loadError",void 0),(0,s._)([(0,c.MZ)({clonable:!1})],t.prototype,"loadStatus",void 0),(0,s._)([(0,c.MZ)({type:[l.W],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,s._)([(0,l.$)("esri.core.Loadable")],t),t};let d=class extends(p(n.Z)){};var y;d=(0,s._)([(0,l.$)("esri.core.Loadable")],d),(y=d||(d={})).LoadableMixin=p,y.isLoadable=function(e){return!(!e||!e.load)};const h=d},30011:(e,t,r)=>{r.d(t,{Ah:()=>fe,Bz:()=>X,CJ:()=>Ie,DB:()=>V,Dx:()=>E,JL:()=>Ze,OG:()=>Se,OH:()=>ve,R$:()=>Y,R3:()=>de,WA:()=>ye,WX:()=>Te,Xz:()=>Me,_b:()=>te,_w:()=>R,eX:()=>H,g:()=>_,hL:()=>q,l:()=>L,lD:()=>ee,mB:()=>$,nw:()=>Ge,r:()=>A,rS:()=>k,rq:()=>B,s:()=>O,sv:()=>C,te:()=>be,uo:()=>ke,vE:()=>me,yM:()=>he,yp:()=>F,zD:()=>ge});var s,i,a=r(6407),n=r(90740),o=r(41390),l=(r(55270),r(32773),r(16699),r(57732)),c=(r(50214),r(54483)),u=(r(59192),r(94345),r(20266)),p=r(7969);function d(e){return"string"==typeof e||e instanceof String}r(69421),r(40499),r(93181),r(13671),r(91047),r(36544),r(29298),r(58498),r(45371),r(80959),r(95779),r(13262),r(346),r(64604),r(29512),r(99063),r(99924),r(32816),r(18683),r(93804),r(44600),r(2160),r(49877),r(69763),r(56273),r(64752),r(48844),r(29208),r(36533),r(84200),r(97827),r(91695),r(18169),r(20762),r(48402),r(67504),r(92517),r(77037),new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]),(i=s||(s={})).HM="HH:mm",i.HMS="HH:mm:ss",i.HMS_MS="HH:mm:ss.SSS";const y=[s.HMS_MS,s.HMS,s.HM,"TT"],h="yyyy-MM-dd";function m(e){if(!e||!d(e))return null;const t=c.D.fromFormat(e,h);return t.isValid?t:null}function g(e){return e&&d(e)?(0,l.m)(y,(t=>{const r=c.D.fromFormat(e,t);return r.isValid?r:null}))??null:null}function f(e){if(!e||!d(e))return null;const t=c.D.fromISO(e);return t.isValid?t:null}var v;s.HMS,new Set(["date-only","time-only","timestamp-offset"]),new Set(["small-integer","big-integer","integer","single","double"]),new Set(["date-picker","time-picker","datetimeoffset-picker","datetime-picker"]),function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"}(v||(v={}));const b=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function M(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function S(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function w(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}function _(e,t){const r=t??e?.domain;if(!r||"range"!==r.type)return;const s="range"in r?r.range[0]:r.minValue,i="range"in r?r.range[1]:r.maxValue,a=function(e){return null!=e&&b.has(e.type)}(e);return M(e)||w(e)||S(e)?{...T(e,i,s),isInteger:a}:{min:null!=s&&"number"==typeof s?s:null,max:null!=i&&"number"==typeof i?i:null,rawMin:s,rawMax:i,isInteger:a}}function T(e,t,r){return M(e)?{min:m(r)?.toMillis(),max:m(t)?.toMillis(),rawMin:r,rawMax:t}:w(e)?{min:g(r)?.toMillis(),max:g(t)?.toMillis(),rawMin:r,rawMax:t}:S(e)?{min:f(r)?.toMillis(),max:f(t)?.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}let I;function L(){return I||(I=(async()=>{const e=await Promise.all([r.e(3600),r.e(2976)]).then(r.bind(r,22976)).then((e=>e.u));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),I}const O=(e,t,r)=>x.create(e,t,r,null,["$feature","$view"],[]),A=(e,t,r,s)=>x.create(e,t,r,s,["$feature","$view"],[]);class x{constructor(e,t,r,s,i,a,n){this.services=null,this.script=e,this.evaluate=s;const o=Array.isArray(a)?a:a?.fields;this.fields=o??[],this._syntaxTree=r,this._arcade=t,this._arcadeFeature=i,this._spatialReference=n,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,r,s,i,n){const{arcade:o,Feature:l,Dictionary:c}=await L(),d=t instanceof p.A?t:p.A.fromJSON(t);let y;try{y=o.parseScript(e,n)}catch(t){return u.L.getLogger("esri.support.arcadeOnDemand").error(new a.A("arcade-bad-expression","Failed to parse arcade script",{script:e,error:t})),null}const h=i.reduce(((e,t)=>({...e,[t]:null})),{});let m=null;null!=s&&(m=new c(s),m.immutable=!0,h.$config=null);const g=o.scriptUsesGeometryEngine(y),f=g&&o.enableGeometrySupport(),v=o.scriptUsesFeatureSet(y)&&o.enableFeatureSetSupport(),b=o.scriptIsAsync(y),M=b&&o.enableAsyncSupport(),S={vars:h,spatialReference:d,useAsync:!!M};await Promise.all([f,v,M]);const w=new Set;await o.loadDependentModules(w,y,null,b,g);const _=new c;_.immutable=!1,_.setField("scale",0);const T=o.compileScript(y,S);return new x(e,o,y,((e,t)=>{const r=e.$view?.timeZone;return"$view"in e&&e.$view&&(_.setField("scale","object"==typeof e.$view&&"scale"in e.$view?e.$view.scale:void 0),e.$view=_),m&&(e.$config=m),T({vars:e,spatialReference:d,services:t,timeZone:r})}),new l,r,d)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}const U=/^([0-9_])/,D=/[^a-z0-9_\u0080-\uffff]+/gi;function k(e){return null==e?null:e.trim().replaceAll(D,"_").replace(U,"F$1")||null}const Z=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],G=["field","normalizationField"];function F(e,t){if(null!=e&&null!=t)for(const r of Array.isArray(e)?e:[e])if(P(Z,r,t),"visualVariables"in r&&r.visualVariables)for(const e of r.visualVariables)P(G,e,t)}function P(e,t,r){if(e)for(const s of e){const e=(0,n.g)(s,t),i=e&&"function"!=typeof e&&r.get(e);i&&(0,n.s)(s,i.name,t)}}function C(e,t){if(null!=e&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),s=t.get(e.endField);e.startField=r?.name??null,e.endField=s?.name??null}else{const r=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=s?.name??null}}const N=new Set;function V(e,t){return e&&t?(N.clear(),R(N,e,t),Array.from(N).sort()):[]}function R(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const s of r)B(e,t,s);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const t of r)null!=t&&e.add(t)}}function B(e,t,r){if("string"==typeof r)if(t){const s=t.get(r);s&&e.add(s.name)}else e.add(r)}function q(e,t){return null==t||null==e?[]:t.includes("*")?(e.fields??[]).map((e=>e.name)):t}async function E(e,t,r){if(!r)return;const{arcadeUtils:s}=await L(),i=s.extractFieldNames(r,t?.fields?.map((e=>e.name)));for(const r of i)B(e,t,r)}function $({displayField:e,fields:t}){return e||(t?.length?j(t,"name-or-title")||j(t,"unique-identifier")||j(t,"type-or-category")||function(e){for(const t of e){if(!t?.name)continue;const e=t.name.toLowerCase();if(e.includes("name")||e.includes("title"))return t.name}return null}(t):null)}function j(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}function H(e){return e?V(e.fieldsIndex,Q(e)):[]}const z=new Set(["oid","global-id","guid"]),W=new Set(["oid","global-id"]),J=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Q(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:s,editDateField:i,editorField:a}=t;return[r,s,i,a].filter(Boolean)}function K(e){return Q(e).map((e=>e.toLowerCase()))}function Y(e,t){return e.editable&&!z.has(e.type)&&!K(t).includes(e.name?.toLowerCase()??"")}function X(e,t){const r=e.name?.toLowerCase()??"";return!(null!=t?.objectIdField&&r===t.objectIdField.toLowerCase()||null!=t?.globalIdField&&r===t.globalIdField.toLowerCase()||function(e){const t=new Set;K(e).forEach((e=>t.add(e))),function(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?V(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}(e).forEach((e=>t.add(e.toLowerCase())));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach((e=>t.add(e.toLowerCase()))),Object.values(r.transformFieldRoles).forEach((e=>t.add(e.toLowerCase())))),Array.from(t)}(t).includes(r)||W.has(e.type)||J.some((e=>e.test(r))))}function ee(e){const t=e.defaultValue;return void 0!==t&&le(e,t)?t:e.nullable?null:void 0}function te(e){const t="string"==typeof e?{type:e}:e;return he(t)?255:"esriFieldTypeDate"===t.type||"date"===t.type?8:void 0}function re(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function se(e){return null===e||re(e)}function ie(e){return null===e||Number.isInteger(e)}function ae(e){return null!=e&&"string"==typeof e}function ne(e){return null===e||ae(e)}function oe(){return!0}function le(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?ie:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?se:re;break;case"string":case"esriFieldTypeString":r=e.nullable?ne:ae;break;default:r=oe}return 1===arguments.length?r:r(t)}const ce=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]),ue=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]),pe=(0,o.u)(ce,ue);function de(e){return null!=e&&ce.has(e.type)}function ye(e){return null!=e&&pe.has(e.type)}function he(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function me(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ge(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function fe(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function ve(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}function be(e){return null!=e&&("oid"===e.type||"esriFieldTypeOID"===e.type)}function Me(e){return null!=e&&("global-id"===e.type||"esriFieldTypeGlobalID"===e.type)}function Se(e,t){return null===Ie(e,t)}var we,_e;function Te(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function Ie(e,t){return null==e||e.nullable&&null===t?null:ye(e)&&!function(e,t){const r="string"==typeof e?Le(e):e;if(!r)return!1;const s=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=s&&t<=i:t>=s&&t<=i}(e.type,Number(t))?we.OUT_OF_RANGE:le(e,t)?e.domain?function(e,t,r){const s=e?.domain;if(!s)return null;switch(s.type){case"range":{const{min:s,max:i}=_(e,r);if(null!=s&&+t<s||null!=i&&+t>i)return v.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==s.codedValues||s.codedValues.every((e=>null==e||e.code!==t)))return v.INVALID_CODED_VALUE}return null}(e,t):null:_e.INVALID_TYPE}function Le(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Oe;case"esriFieldTypeInteger":case"integer":return Ae;case"esriFieldTypeBigInteger":case"big-integer":return xe;case"esriFieldTypeSingle":case"single":return Ue;case"esriFieldTypeDouble":case"double":return De}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(we||(we={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(_e||(_e={}));const Oe={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Ae={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},xe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Ue={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},De={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function ke(e,t,r){switch(e){case v.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case v.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case _e.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case we.OUT_OF_RANGE:{const{min:e,max:s}=Le(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${s}`}}}function Ze(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some((t=>e.toLowerCase().startsWith(t)))}function Ge(e){const t=e?.match(/{[^}]+}/g);return t?t.map((e=>e.slice(1,-1).split(":")[0].trim())):[]}},82408:(e,t,r)=>{r.d(t,{A:()=>O});var s=r(32816),i=r(90740),a=r(29512),n=r(64604),o=r(6407),l=r(99924),c=r(73509),u=r(57732),p=r(80959),d=r(29298),y=r(36544),h=(r(32773),r(49877)),m=r(69421),g=r(44600),f=r(59192),v=r(69277),b=r(70580),M=r(75191),S=r(24319);let w;var _;let T;r(99063),r(20266),r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(28276),r(2160),r(7969),r(69763),r(93804),r(18683),r(56273),r(64752),r(48844),r(29208),r(62092);const I={PortalGroup:()=>Promise.resolve({default:v.A}),PortalItem:()=>Promise.resolve().then(r.bind(r,43059)),PortalUser:()=>Promise.resolve({default:S.A})};let L=_=class extends((0,l.Te)(c.A)){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=i.A.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){A.unregister(this),this.defaultBasemap=(0,u.d)(this.defaultBasemap),this.defaultDevBasemap=(0,u.d)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,u.d)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,u.r)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)i.A.request.trustedServers.includes(t)||i.A.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return(0,n.i)(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=S.A.fromJSON(e),t.portal=this),t}load(e){const t=Promise.resolve().then(r.bind(r,172)).then((e=>e.B)).then((({default:t})=>{(0,p.Te)(e),T=t})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e))).then((e=>{if(!this.hasAPIKey&&a.id){const e=a.id;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==_.AUTH_MODE_AUTO&&this.authMode!==_.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=e.on("credential-create",function(e){const t=a.id;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch((()=>{}))}}(new WeakRef(this))),A.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([r.e(8730),r.e(8281),r.e(1354),r.e(5026),r.e(1862)]).then(r.bind(r,95026))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if(!0===t?.include3d&&!1!==this.use3dBasemaps){const s=await this._fetchBasemaps3D(e,t);r.unshift(...s)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||"none"===this.default3DBasemapQuery)return null;const t=new b.A;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const r=(await this.queryItems(t,e)).results.find((e=>"Web Scene"===e.type));return r?new T({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):(0,p.G4)(e)?Promise.reject((0,p.NK)()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new b.A({num:100,sortField:"title"});if(t?.length){const s=[];for(const e of t)s.push(`(title:"${e.title}" AND owner:${e.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then((e=>e.results))}return(0,p.G4)(e)?Promise.reject((0,p.NK)()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||(0,f.g)();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||(0,f.g)();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return e=()=>new _,w&&!w.destroyed||(w=e()),w;var e}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const s=this.restUrl+"/portals/self",i={authMode:e,query:{culture:(0,f.g)().toLowerCase()},withCredentials:!0,...r};return"auto"===i.authMode&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this.request(s,i)}queryPortal(e,t,r,s){const i=(0,y.e)(b.A,t),a=t=>this.request(this.restUrl+e,{...i.toRequestOptions(this),...s}).then((e=>{const r=i.clone();return r.start=e.nextStart,new M.A({nextQueryParams:r,queryParams:i,total:e.total,results:_._resultsToTypedArray(t,{portal:this},e,s)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>((0,p.QP)(t),e)))));return r&&I[r]?I[r]().then((({default:e})=>((0,p.Te)(s),a(e)))):a()}signIn(){if(this.hasAPIKey)return this.load().then((()=>{if(!this.user)throw new o.A("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")}));if(this.authMode===_.AUTH_MODE_ANONYMOUS||this.authMode===_.AUTH_MODE_NO_PROMPT&&!a.id)return Promise.reject(new o.A("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return a.id?a.id.getCredential(this.restUrl,{prompt:this.authMode!==_.AUTH_MODE_NO_PROMPT}).then((t=>e(t))):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then((e=>{const t=_._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}request(e,t={}){const r={f:"json",...t.query},{authMode:s=(this.authMode===_.AUTH_MODE_ANONYMOUS||this.authMode===_.AUTH_MODE_NO_PROMPT?this.authMode:"auto"),body:i=null,cacheBust:a=!1,method:o="auto",responseType:l="json",signal:c}=t,u={authMode:s,body:i,cacheBust:a,method:o,query:r,responseType:l,timeout:0,signal:c};return t.withCredentials&&(u.withCredentials=!0),(0,n.A)(this._normalizeSSL(e),u).then((e=>e.data))}toJSON(){throw new o.A("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new _({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new o.A("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new b.A;r.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const s=await this.queryGroups(r,t);if(!s.total)return[];const i=s.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc";const a=await i.queryItems(r,t);return a.total?a.results.filter((e=>"Web Map"===e.type)).map((e=>new T({portalItem:e}))):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const s=new b.A({query:r,disableExtraQuery:!0}),i=await this.queryGroups(s,t);if(!i.total)return[];const a=i.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=a.sortField||"name",s.sortOrder=a.sortOrder||"desc";const n=await a.queryItems(s,t);return n.total?n.results.filter((e=>"Web Scene"===e.type)).map((e=>new T({portalItem:e}))):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=T.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,s){let i;if(r){const a=null!=s?s.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map((r=>{const s=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof s.load&&s.load(a),s})))}else i=[];return i}};L.AUTH_MODE_ANONYMOUS="anonymous",L.AUTH_MODE_AUTO="auto",L.AUTH_MODE_IMMEDIATE="immediate",L.AUTH_MODE_NO_PROMPT="no-prompt",(0,s._)([(0,d.MZ)()],L.prototype,"access",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"allSSL",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"authMode",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"authorizedCrossOriginDomains",void 0),(0,s._)([(0,h.r)("authorizedCrossOriginDomains")],L.prototype,"readAuthorizedCrossOriginDomains",null),(0,s._)([(0,d.MZ)()],L.prototype,"basemapGalleryGroupQuery",void 0),(0,s._)([(0,d.MZ)({json:{name:"3DBasemapGalleryGroupQuery"}})],L.prototype,"basemapGalleryGroupQuery3D",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"bingKey",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"canListApps",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"canListData",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"canListPreProvisionedItems",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"canProvisionDirectPurchase",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"canSearchPublic",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"canShareBingPublic",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"canSharePublic",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"canSignInArcGIS",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"canSignInIDP",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"colorSetsGroupQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"commentsEnabled",void 0),(0,s._)([(0,d.MZ)({type:Date})],L.prototype,"created",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"credential",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"culture",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"currentVersion",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"customBaseUrl",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"default3DBasemapQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"defaultBasemap",void 0),(0,s._)([(0,h.r)("defaultBasemap")],L.prototype,"readDefaultBasemap",null),(0,s._)([(0,d.MZ)()],L.prototype,"defaultDevBasemap",void 0),(0,s._)([(0,h.r)("defaultDevBasemap")],L.prototype,"readDefaultDevBasemap",null),(0,s._)([(0,d.MZ)({type:g.A})],L.prototype,"defaultExtent",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"defaultVectorBasemap",void 0),(0,s._)([(0,h.r)("defaultVectorBasemap")],L.prototype,"readDefaultVectorBasemap",null),(0,s._)([(0,d.MZ)()],L.prototype,"description",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"devBasemapGalleryGroupQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"eueiEnabled",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],L.prototype,"extraQuery",null),(0,s._)([(0,d.MZ)()],L.prototype,"featuredGroups",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"featuredItemsGroupQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"galleryTemplatesGroupQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"layoutGroupQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"livingAtlasGroupQuery",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],L.prototype,"hasAPIKey",null),(0,s._)([(0,d.MZ)()],L.prototype,"hasCategorySchema",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"hasClassificationSchema",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"helpBase",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"helperServices",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"helpMap",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"homePageFeaturedContent",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"homePageFeaturedContentCount",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"httpPort",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"httpsPort",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"id",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"ipCntryCode",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],L.prototype,"isOrganization",null),(0,s._)([(0,d.MZ)()],L.prototype,"isPortal",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"isReadOnly",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],L.prototype,"itemPageUrl",null),(0,s._)([(0,d.MZ)()],L.prototype,"layerTemplatesGroupQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"maxTokenExpirationMinutes",void 0),(0,s._)([(0,d.MZ)({type:Date})],L.prototype,"modified",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"name",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"portalHostname",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"portalMode",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"portalProperties",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"region",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"recycleBinEnabled",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],L.prototype,"restUrl",null),(0,s._)([(0,d.MZ)()],L.prototype,"rotatorPanels",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"showHomePageDescription",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"sourceJSON",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"staticImagesUrl",void 0),(0,s._)([(0,d.MZ)({json:{name:"2DStylesGroupQuery"}})],L.prototype,"stylesGroupQuery2d",void 0),(0,s._)([(0,d.MZ)({json:{name:"stylesGroupQuery"}})],L.prototype,"stylesGroupQuery3d",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"supportsHostedServices",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"symbolSetsGroupQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"templatesGroupQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"thumbnail",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],L.prototype,"thumbnailUrl",null),(0,s._)([(0,d.MZ)()],L.prototype,"units",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"url",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"urlKey",void 0),(0,s._)([(0,h.r)("urlKey")],L.prototype,"readUrlKey",null),(0,s._)([(0,d.MZ)()],L.prototype,"user",void 0),(0,s._)([(0,h.r)("user")],L.prototype,"readUser",null),(0,s._)([(0,d.MZ)()],L.prototype,"use3dBasemaps",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"useDefault3dBasemap",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"useStandardizedQuery",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"useVectorBasemaps",void 0),(0,s._)([(0,d.MZ)()],L.prototype,"vectorBasemapGalleryGroupQuery",void 0),L=_=(0,s._)([(0,m.$)("esri.portal.Portal")],L);const O=L,A=new FinalizationRegistry((e=>{e.remove()}))},62092:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(32816),i=r(6407),a=r(99924),n=r(29298),o=(r(32773),r(20266),r(69421));r(90740),r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(36544);let l=class extends a.oY{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new i.A("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,s._)([(0,n.MZ)({type:Date})],l.prototype,"created",void 0),(0,s._)([(0,n.MZ)()],l.prototype,"id",void 0),(0,s._)([(0,n.MZ)()],l.prototype,"portal",void 0),(0,s._)([(0,n.MZ)()],l.prototype,"title",void 0),(0,s._)([(0,n.MZ)({readOnly:!0})],l.prototype,"url",null),(0,s._)([(0,n.MZ)()],l.prototype,"username",void 0),l=(0,s._)([(0,o.$)("esri.portal.PortalFolder")],l);const c=l},69277:(e,t,r)=>{r.d(t,{A:()=>d});var s,i=r(32816),a=r(6407),n=r(99924),o=r(29298),l=r(36544),c=(r(32773),r(69421)),u=r(70580);r(20266),r(90740),r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(93804),r(44600),r(2160),r(49877),r(7969),r(69763),r(18683),r(64604),r(29512),r(99063),r(56273),r(64752),r(48844),r(29208);let p=s=class extends n.oY{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new a.A("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new s({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=(0,l.e)(u.A,e);const s=this.portal;return parseFloat(s.currentVersion)>5?(r=r||new u.A,s.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new u.A,r.query="group:"+this.id+(r.query?" "+r.query:""),s.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then((e=>{const s=e.contentCategorySetsGroupQuery;if(s){const e=new u.A({disableExtraQuery:!0,num:1,query:s});return r.queryGroups(e,t)}throw new a.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const s=r.results[0],i=new u.A({num:1,query:`typekeywords:"${e}"`});return s.queryItems(i,t)}throw new a.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e?.categorySchema;return t?.length?t:[]})):[]))}};(0,i._)([(0,o.MZ)()],p.prototype,"access",void 0),(0,i._)([(0,o.MZ)({type:Date})],p.prototype,"created",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"description",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"id",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"isInvitationOnly",void 0),(0,i._)([(0,o.MZ)({type:Date})],p.prototype,"modified",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"owner",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"portal",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"snippet",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"sortField",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"sortOrder",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"sourceJSON",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"tags",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"thumbnail",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],p.prototype,"thumbnailUrl",null),(0,i._)([(0,o.MZ)()],p.prototype,"title",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],p.prototype,"url",null),p=s=(0,i._)([(0,c.$)("esri.portal.PortalGroup")],p);const d=p},43059:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var s,i=r(32816),a=r(18683),n=r(6407),o=r(99924),l=r(32773),c=r(73509),u=r(99063),p=r(29298),d=r(36544),y=r(49877),h=r(69421),m=r(44600),g=r(82408),f=r(89935),v=r(49813),b=r(1178);r(90740),r(64604),r(29512),r(80959),r(13671),r(20266),r(41390),r(40499),r(93181),r(58498),r(91047),r(45371),r(28276),r(2160),r(7969),r(69763),r(93804),r(56273),r(64752),r(48844),r(29208),r(59192),r(69277),r(70580),r(75191),r(24319),r(62092);const M=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),S=new Set(["KML","GeoJson","CSV"]);let w=s=class extends((0,o.Te)(c.A)){static from(e){return(0,d.a)(s,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Video Service"===e?r="Video Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Geocoding Service"===e?r="Locator":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e?r="Tile Package (tpkx)":"Raster function template"===e?r="Raster Function Template":"OGCFeatureServer"===e?r="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?r="Instant App":"Insights Page"===e?r="Insights Report":"Excalibur Imagery Project"===e?r="Excalibur Project":"3DTiles Service"===e?r="3D tiles layer":"3DTiles Package"===e&&(r="3D tiles package"),r}readExtent(e){return e&&e.length?new m.A(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[];let r,s=!1,i=!1,n=!1,o=!1,l=!1,c=!1,u=!1,p=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(s=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(i=t.includes("Table"),n=t.includes("Route Layer"),o=t.includes("Markup"),l=t.includes("Spatiotemporal"),c=t.includes("UtilityNetwork"),r=l&&i?"spatiotemporaltable":i?"table":n?"routelayer":o?"markup":l?"spatiotemporal":c?"utilitynetwork":s?"featureshosted":"features"):"map service"===e||"wms"===e||"wmts"===e?(l=t.includes("Spatiotemporal"),u=t.includes("Relational"),r=l||u?"mapimages":s||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages"):r="scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"video service"===e?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===e?t.includes("Web Tool")?"tool":"layers":"geodata service"===e?"geodataservice":"3dtiles service"===e?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===e||"cityengine web scene"===e?r="maps":"web scene"===e?r=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?r="instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?r="apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?r="mapsgray":"service definition"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"netcdf"===e||"administrative report"===e?r="datafiles":"360 vr experience"===e?r="360vr":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?r="appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?r="addindesktop":"pdf"===e?r="pdf":"microsoft word"===e?r="word":"microsoft excel"===e?r="excel":"microsoft powerpoint"===e?r="ppt":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?r="datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?r="toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?r="layersgray":"analysis model"===e?r="analysismodel":"scene package"===e?r="scenepackage":"3dtiles package"===e?r="3dtileslayerpackage":"3dtiles service"===e?r="3dtileslayer":"mobile scene package"===e?r="mobilescenepackage":"tile package"===e||"compact tile package"===e?r="tilepackage":"task file"===e?r="taskfile":"report template"===e?r="report-template":"statistical data collection"===e?r="statisticaldatacollection":"insights workbook"===e?r="workbook":"insights model"===e?r="insightsmodel":"insights page"===e?r="insightspage":"insights theme"===e?r="insightstheme":"hub initiative"===e?r="hubinitiative":"hub page"===e?r="hubpage":"hub site application"===e?r="hubsite":"hub event"===e?r="hubevent":"hub project"===e?r="hubproject":"relational database connection"===e?r="relationaldatabaseconnection":"big data file share"===e?r="datastorecollection":"image collection"===e?r="imagecollection":"desktop style"===e?r="desktopstyle":"style"===e?r=t.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===e?r="dashboard":"raster function template"===e?r="rasterprocessingtemplate":"vector tile package"===e?r="vectortilepackage":"ortho mapping project"===e?r="orthomappingproject":"ortho mapping template"===e?r="orthomappingtemplate":"solution"===e?r="solutions":"geopackage"===e?r="geopackage":"deep learning package"===e?r="deeplearningpackage":"real time analytic"===e?r="realtimeanalytics":"reality mapping project"===e?r="realitymappingproject":"big data analytic"===e?r="bigdataanalytics":"feed"===e?r="feed":"excalibur imagery project"===e?r="excaliburimageryproject":"notebook"===e?r="notebook":"storymap"===e?r="storymap":"survey123 add in"===e?r="survey123addin":"mission"===e?r="mission":"mission report"===e?r="missionreport":"mission template"===e?r="missiontemplate":"quickcapture project"===e?r="quickcaptureproject":"pro report"===e?r="proreport":"pro report template"===e?r="proreporttemplate":"urban model"===e?r="urbanmodel":"urban project"===e?r="urbanproject":"web experience"===e?r="experiencebuilder":"web experience template"===e?r="webexperiencetemplate":"experience builder widget"===e?r="experiencebuilderwidget":"experience builder widget package"===e?r="experiencebuilderwidgetpackage":"workflow"===e?r="workflow":"kernel gateway connection"===e?r="kernelgatewayconnection":"insights script"===e?r="insightsscript":"hub initiative template"===e?r="hubinitiativetemplate":"storymap theme"===e?r="storymaptheme":"knowledge graph"===e?r="knowledgegraph":"knowledge graph layer"===e?r="knowledgegraphlayer":"knowledge studio project"===e?r="knowledgestudio":"native application"===e?r="nativeapp":"native application installer"===e?r="nativeappinstaller":"web link chart"===e?r="linkchart":"knowledge graph web investigation"===e?r="investigation":"ogcfeatureserver"===e?r="features":"pro presentation"===e?r="propresentation":"pro project"===e?r="proproject":"insights workbook package"===e?r="insightsworkbookpackage":"apache parquet"===e?r="apacheparquet":"notebook code snippet library"===e?r="notebookcodesnippets":"suitability model"===e?r="suitabilitymodel":"esri classifier definition"===e?r="classifierdefinition":"esri classification schema"===e?r="classificationschema":"insights data engineering workbook"===e?r="dataengineeringworkbook":"insights data engineering model"===e?r="dataengineeringmodel":"deep learning studio project"===e?r="deeplearningproject":"discussion"===e?r="discussion":"allsource project"===e?r="allsourceproject":"api key"===e?r="apikey":"data pipeline"===e?r="datapipelines":"group layer"===e?(p=t.includes("Map"),r=p?"layergroup2d":"layergroup"):r="media layer"===e?"onlinemedialayer":"form"===e?t.includes("Survey123")?"survey":"datafilesgray":"csv"===e?"csv":"image"===e?"image":"maps",r?(0,a.g)("esri/images/portal/"+r+"16.png"):null}get isLayer(){return null!=this.type&&M.has(this.type)}get itemCdnUrl(){return(0,b.t)(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.username;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=g.A.getDefault()),r=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof v.A&&(e=e.rating),null==e||isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new v.A({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,l.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,l.o8)(this.categories),classification:(0,l.o8)(this.classification),created:(0,l.o8)(this.created),culture:this.culture,description:this.description,extent:(0,l.o8)(this.extent),groupCategories:(0,l.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,l.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,l.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,l.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,l.o8)(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new s({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const r=e[t];r&&(e[t]=JSON.stringify(r))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return null!=t.rating?(t.created=new Date(t.created),new v.A(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},s)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e?.data,r={method:"post"};r.query=this.createPostQuery();for(const e in r.query)null===r.query[e]&&(r.query[e]="");return r.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?r.query.text=t:"object"==typeof t&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then((()=>this.reload()))})):Promise.reject(new n.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new n.A("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:i,folder:a,tags:o,title:l}=e||{},c={method:"post",query:{copyPrivateResources:"all"===i,folder:"string"==typeof a?a:a?.id,includeResources:!!i,tags:o?.join(","),title:l}},{itemId:u}=await t.request(`${r}/copy`,c);return new s({id:u,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,r=e.filename,s={method:"post"};if("string"==typeof t)(0,u.DB)(t)?s.query={data:t}:s.query={url:(0,u.s2)(t)},null!=r&&(s.query.filename=r);else{const e=new FormData;null!=r?e.append("file",t,r):e.append("file",t),s.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,s).then((()=>this.reload()))})):Promise.reject(new n.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:s}=await r.e(5485).then(r.bind(r,75485));return s(this,e,t)}async addResource(e,t,s){const{addOrUpdateResources:i}=await r.e(5485).then(r.bind(r,75485));return e.portalItem=this,await i(this,[{resource:e,content:t,compress:s?.compress,access:s?.access}],"add",s),e}async removeResource(e,t){const{removeResource:s}=await r.e(5485).then(r.bind(r,75485));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new n.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return s(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await r.e(5485).then(r.bind(r,75485));return t(this,e)}resourceFromPath(e){return new f.A({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:(0,l.o8)(this.categories),classification:(0,l.o8)(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,l.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,l.o8)(this.typeKeywords),url:this.url};return(0,l.oy)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new s({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,i._)([(0,p.MZ)({type:["private","shared","org","public"]})],w.prototype,"access",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"accessInformation",void 0),(0,i._)([(0,p.MZ)({type:String})],w.prototype,"apiKey",void 0),(0,i._)([(0,p.MZ)({json:{read:{source:"appProxies"}}})],w.prototype,"applicationProxies",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"avgRating",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"categories",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"classification",void 0),(0,i._)([(0,p.MZ)({type:Date})],w.prototype,"created",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"culture",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"description",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],w.prototype,"displayName",null),(0,i._)([(0,p.MZ)({type:m.A})],w.prototype,"extent",void 0),(0,i._)([(0,y.r)("extent")],w.prototype,"readExtent",null),(0,i._)([(0,p.MZ)()],w.prototype,"groupCategories",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],w.prototype,"iconUrl",null),(0,i._)([(0,p.MZ)()],w.prototype,"id",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],w.prototype,"isLayer",null),(0,i._)([(0,p.MZ)({type:Boolean,readOnly:!0})],w.prototype,"isOrgItem",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"itemControl",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],w.prototype,"itemPageUrl",null),(0,i._)([(0,p.MZ)({readOnly:!0})],w.prototype,"itemUrl",null),(0,i._)([(0,p.MZ)()],w.prototype,"licenseInfo",void 0),(0,i._)([(0,p.MZ)({type:Date})],w.prototype,"modified",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"name",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"numComments",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"numRatings",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"numViews",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"owner",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"ownerFolder",void 0),(0,i._)([(0,p.MZ)({type:g.A})],w.prototype,"portal",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"screenshots",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"size",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"snippet",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"sourceJSON",void 0),(0,i._)([(0,p.MZ)({type:String})],w.prototype,"sourceUrl",void 0),(0,i._)([(0,p.MZ)({type:String})],w.prototype,"spatialReference",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"tags",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"thumbnail",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],w.prototype,"thumbnailUrl",null),(0,i._)([(0,p.MZ)()],w.prototype,"title",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"type",void 0),(0,i._)([(0,p.MZ)()],w.prototype,"typeKeywords",void 0),(0,i._)([(0,p.MZ)({type:String,json:{read(e,t){if(S.has(t.type)){const t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],w.prototype,"url",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],w.prototype,"userItemUrl",null),w=s=(0,i._)([(0,h.$)("esri.portal.PortalItem")],w);const _=w},89935:(e,t,r)=>{r.d(t,{A:()=>y});var s=r(32816),i=r(41390),a=r(6407),n=r(20266),o=r(99063),l=r(29298),c=r(48844),u=(r(32773),r(69421));r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(90740),r(99924),r(36544);let p=class extends i.T{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:d(e.path,e.portalItem)}:e}set path(e){null!=e&&(0,o.oP)(e)?n.L.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return d(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.cdnUrl;if(null==r)throw new a.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:e,query:{token:this.portalItem.apiKey,_ts:t?.cacheBust?Date.now():null},signal:t?.signal})}async update(e,t){const{addOrUpdateResources:s}=await r.e(5485).then(r.bind(r,75485));return await s(this.portalItem,[{resource:this,content:e,compress:t?.compress,access:t?.access}],"update",t),this}hasPath(){return null!=this.path}};function d(e,t){return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&(0,o.oP)(e)&&(e=(0,o.V1)(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,s._)([(0,l.MZ)()],p.prototype,"portalItem",void 0),(0,s._)([(0,l.MZ)({type:String,value:null})],p.prototype,"path",null),(0,s._)([(0,c.w)("path")],p.prototype,"_castPath",null),(0,s._)([(0,l.MZ)({type:String,readOnly:!0})],p.prototype,"url",null),(0,s._)([(0,l.MZ)({type:String,readOnly:!0})],p.prototype,"cdnUrl",null),(0,s._)([(0,l.MZ)({type:String,readOnly:!0})],p.prototype,"itemRelativeUrl",null),p=(0,s._)([(0,u.$)("esri.portal.PortalItemResource")],p);const y=p},70580:(e,t,r)=>{r.d(t,{A:()=>m});var s,i=r(32816),a=r(41390),n=r(93804),o=r(32773),l=r(29298),c=(r(20266),r(69421)),u=r(44600),p=r(7969),d=r(29208);r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(90740),r(36544),r(2160),r(99924),r(49877),r(64752),r(48844),r(56273),r(69763),r(18683),r(64604),r(29512),r(99063);const y=new n.J({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let h=s=class extends a.T{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new s({categories:this.categories?(0,o.o8)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e)));let s="";if(this.extent){const e=(0,d.Cv)(this.extent,p.A.WGS84);null!=e&&(s=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const a={categories:r,bbox:s,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(a.sortField=this.sortField.split(",").map((e=>y.toJSON(e.trim()))).join(","),a.sortOrder=this.sortOrder),{query:{...t,...a}}}};(0,i._)([(0,l.MZ)()],h.prototype,"categories",void 0),(0,i._)([(0,l.MZ)()],h.prototype,"disableExtraQuery",void 0),(0,i._)([(0,l.MZ)({type:u.A})],h.prototype,"extent",void 0),(0,i._)([(0,l.MZ)()],h.prototype,"filter",void 0),(0,i._)([(0,l.MZ)()],h.prototype,"num",void 0),(0,i._)([(0,l.MZ)()],h.prototype,"query",void 0),(0,i._)([(0,l.MZ)()],h.prototype,"sortField",void 0),(0,i._)([(0,l.MZ)()],h.prototype,"sortOrder",null),(0,i._)([(0,l.MZ)()],h.prototype,"start",void 0),h=s=(0,i._)([(0,c.$)("esri.portal.PortalQueryParams")],h);const m=h},75191:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(32816),i=r(41390),a=r(29298),n=(r(32773),r(20266),r(69421));r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(90740),r(36544);let o=class extends i.T{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,s._)([(0,a.MZ)()],o.prototype,"nextQueryParams",void 0),(0,s._)([(0,a.MZ)()],o.prototype,"queryParams",void 0),(0,s._)([(0,a.MZ)()],o.prototype,"results",void 0),(0,s._)([(0,a.MZ)()],o.prototype,"total",void 0),o=(0,s._)([(0,n.$)("esri.portal.PortalQueryResult")],o);const l=o},49813:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(32816),i=r(41390),a=r(29298),n=(r(32773),r(20266),r(69421));r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(90740),r(36544);let o=class extends i.T{constructor(e){super(e),this.created=null,this.rating=null}};(0,s._)([(0,a.MZ)()],o.prototype,"created",void 0),(0,s._)([(0,a.MZ)()],o.prototype,"rating",void 0),o=(0,s._)([(0,n.$)("esri.portal.PortalRating")],o);const l=o},24319:(e,t,r)=>{r.d(t,{A:()=>d});var s,i=r(32816),a=r(6407),n=r(99924),o=r(29298),l=(r(32773),r(20266),r(69421)),c=r(62092),u=r(69277);r(90740),r(41390),r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(36544),r(70580),r(93804),r(44600),r(2160),r(49877),r(7969),r(69763),r(18683),r(64604),r(29512),r(99063),r(56273),r(64752),r(48844),r(29208);let p=s=class extends n.oY{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e?.data,s=e?.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),null!=r&&("string"==typeof r?i.query.text=r:"object"==typeof r&&(i.query.text=JSON.stringify(r))));let a=this.userContentUrl;return s&&(a+="/"+("string"==typeof s?s:s.id)),this.portal.request(a+"/addItem",i).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const s=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:s}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const r=this.userContentUrl+"/deleteItems",s=[],i=e.map((e=>e.id));if(i.length){const n={method:"post",query:{items:i.join(","),permanentDelete:t}},o=await this.portal.request(r,n);for(const t of o.results){const r=e.find((e=>t.itemId===e.id)),i=t.success;let n=null;i?(r.id=null,r.portal=null):t.error&&(n=new a.A("portal:delete-item-failed",t.error.message,t.error)),s.push({item:r,success:i,error:n})}}return s}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=c.A.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal.request(this.url??"").then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=u.A.fromJSON(e);return t.portal=this.portal,t})):[],t}))}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:s}=await Promise.resolve().then(r.bind(r,43059)),i={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},a=await this.portal.request(t,{query:i});let n;return a?.items?(n=a.items.map((e=>{const t=s.fromJSON(e);return t.portal=this.portal,t})),await Promise.all(n.map((e=>e.load()))),{items:n,nextStart:a.nextStart,total:a.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new u.A({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new a.A("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,s=t?{folderID:"string"==typeof t?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:s})}toJSON(){throw new a.A("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new s({sourceJSON:e});return t.read(e),t}};(0,i._)([(0,o.MZ)()],p.prototype,"access",void 0),(0,i._)([(0,o.MZ)({type:Date})],p.prototype,"created",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"culture",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"description",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"email",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"favGroupId",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"fullName",void 0),(0,i._)([(0,o.MZ)({type:Date})],p.prototype,"modified",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"orgId",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"portal",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"preferredView",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"privileges",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"region",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"role",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"roleId",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"sourceJSON",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"thumbnail",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],p.prototype,"thumbnailUrl",null),(0,i._)([(0,o.MZ)()],p.prototype,"units",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],p.prototype,"userContentUrl",null),(0,i._)([(0,o.MZ)({readOnly:!0})],p.prototype,"url",null),(0,i._)([(0,o.MZ)()],p.prototype,"username",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"userLicenseTypeId",void 0),(0,i._)([(0,o.MZ)()],p.prototype,"userType",void 0),p=s=(0,i._)([(0,l.$)("esri.portal.PortalUser")],p);const d=p},81623:(e,t,r)=>{r.d(t,{A:()=>u});var s=r(32816),i=r(41390),a=r(29298),n=(r(32773),r(20266),r(69421)),o=r(59192);r(40499),r(93181),r(13671),r(58498),r(91047),r(45371),r(80959),r(6407),r(90740),r(36544);const l=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let c=class extends i.T{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const e=(0,o.g)().toLowerCase();switch(e){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const t=(0,o.a)(e);return"pt"===t?"pt-BR":t&&l.has(t)?t:"global"}};(0,s._)([(0,a.MZ)()],c.prototype,"apiKey",void 0),(0,s._)([(0,a.MZ)()],c.prototype,"id",void 0),(0,s._)([(0,a.MZ)()],c.prototype,"language",void 0),(0,s._)([(0,a.MZ)()],c.prototype,"places",void 0),(0,s._)([(0,a.MZ)()],c.prototype,"serviceUrl",void 0),(0,s._)([(0,a.MZ)()],c.prototype,"worldview",void 0),c=(0,s._)([(0,n.$)("esri.support.BasemapStyle")],c);const u=c}}]);