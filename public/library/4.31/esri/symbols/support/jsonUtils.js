// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ../../symbols ../../core/Error ../../layers/support/layerUtils ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),function(f,n,g,k,h,p,l){function m(a,d,c){if(null==a)return null;const {context:b,isLabelSymbol:q}=c;var e=b?.origin;c=b?.messages;if("web-scene"===e&&!(a instanceof h||a instanceof l)){e=p.to3D(a,{retainCIM:!0,hasLabelingContext:q});if(null!=e.symbol)return e.symbol.write(d,b);c?.push(new g("symbol:unsupported",`Symbols of type '${a.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,
{symbol:a,context:b,error:e.error}));return null}return k.isSceneServiceLayer(b?.layer)&&a instanceof h&&("polygon-3d"===a.type||"line-3d"===a.type)?(c?.push(new g("symbol:unsupported",`Symbols of type '${a.declaredClass}' are not supported on layers of type '${b?.layer?.declaredClass}'.`,{symbol:a,context:b})),null):("web-map"===e||"portal-item"===e&&!k.isSceneServiceLayer(b?.layer))&&(a instanceof h||a instanceof l)?(c?.push(new g("symbol:unsupported",`Symbols of type '${a.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,
{symbol:a,context:b})),null):a.write(d,b)}f.fromJSON=function(a,d){return n.readSymbol(a,null,d)};f.write=function(a,d,c,b){a=m(a,{},{context:b,isLabelSymbol:!1});null!=a&&(d[c]=a)};f.writeLabelSymbol=function(a,d,c,b){a=m(a,{},{context:b,isLabelSymbol:!0});null!=a&&(d[c]=a)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});