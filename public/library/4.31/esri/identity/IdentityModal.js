// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("require ../chunks/tslib.es6 ../intl ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../widgets/Widget ../chunks/componentsUtils ../widgets/support/widgetUtils ../widgets/support/decorators/messageBundle ../widgets/support/jsxFactory ../support/themeUtils ../intl/substitute".split(" "),function(g,e,b,f,J,K,L,q,r,t,u,l,d,v,w){b=class extends r{constructor(a,c){super(a,c);this.container=document.createElement("div");
this.error=null;this.signingIn=this.open=this.oAuthPrompt=!1;this._passwordInputNode=this._usernameInputNode=this.resource=this.server=null;document.body.appendChild(this.container)}loadDependencies(){return t.loadCalciteComponents({button:()=>new Promise((a,c)=>g(["../chunks/calcite-button"],a,c)),dialog:()=>new Promise((a,c)=>g(["../chunks/calcite-dialog"],a,c)),input:()=>new Promise((a,c)=>g(["../chunks/calcite-input"],a,c)),label:()=>new Promise((a,c)=>g(["../chunks/calcite-label"],a,c)),notice:()=>
new Promise((a,c)=>g(["../chunks/calcite-notice"],a,c))})}get title(){return this.commonMessages?.auth.signIn}render(){const {open:a,title:c,messages:x,signingIn:m,oAuthPrompt:n,server:h,resource:y,error:p}=this,{info:z,oAuthInfo:A,lblItem:B,invalidUser:C,noAuthService:D,lblUser:E,lblPwd:F,lblCancel:G,lblSigning:H,lblOk:I}=x;return d.tsx("div",{class:this.classes("esri-identity-modal",v.getCalciteThemeClass())},d.tsx("form",{bind:this,onsubmit:this._submit},d.tsx("calcite-dialog",{bind:this,heading:c,
modal:!0,open:a,outsideCloseDisabled:!0,scale:"s",widthScale:"s",onCalciteDialogClose:this._cancel,onCalciteDialogOpen:this._focusUsernameInput},d.tsx("div",{class:"esri-identity-modal__info"},w.substitute(n?A:z,{server:h&&/\.arcgis\.com/i.test(h)?"ArcGIS Online":h,resource:`(${y||B})`})),p?d.tsx("calcite-notice",{class:"esri-identity-modal__notice",icon:"exclamation-mark-triangle",kind:"danger",open:!0},d.tsx("div",{slot:"message"},p.details?.httpStatus?C:D)):null,n?null:[d.tsx("calcite-label",null,
E,d.tsx("calcite-input",{afterCreate:k=>this._usernameInputNode=k,autocomplete:"off",bind:this,name:"username",required:!0,spellcheck:!1,type:"text",value:""})),d.tsx("calcite-label",null,F,d.tsx("calcite-input",{afterCreate:k=>this._passwordInputNode=k,bind:this,name:"password",required:!0,type:"password",value:""}))],d.tsx("calcite-button",{appearance:"outline",bind:this,onclick:this._cancel,slot:"footer-end",type:"button"},G),d.tsx("calcite-button",{loading:!!m,slot:"footer-end",type:"submit"},
m?H:I))))}_focusUsernameInput(){return u.setFocus(()=>this._usernameInputNode)}_cancel(){this._set("signingIn",!1);this.open=!1;this._usernameInputNode&&(this._usernameInputNode.value="");this._passwordInputNode&&(this._passwordInputNode.value="");this.emit("cancel")}_submit(a){a.preventDefault();this._set("signingIn",!0);this.emit("submit",this.oAuthPrompt?{}:{username:this._usernameInputNode?.value,password:this._passwordInputNode?.value})}};e.__decorate([f.property({readOnly:!0})],b.prototype,
"container",void 0);e.__decorate([f.property(),l.messageBundle("esri/t9n/common")],b.prototype,"commonMessages",void 0);e.__decorate([f.property()],b.prototype,"error",void 0);e.__decorate([f.property(),l.messageBundle("esri/identity/t9n/identity")],b.prototype,"messages",void 0);e.__decorate([f.property()],b.prototype,"oAuthPrompt",void 0);e.__decorate([f.property()],b.prototype,"open",void 0);e.__decorate([f.property()],b.prototype,"signingIn",void 0);e.__decorate([f.property()],b.prototype,"server",
void 0);e.__decorate([f.property({readOnly:!0})],b.prototype,"title",null);e.__decorate([f.property()],b.prototype,"resource",void 0);return b=e.__decorate([q.subclass("esri.identity.IdentityModal")],b)});