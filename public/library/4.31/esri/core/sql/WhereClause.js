// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
require({cache:{"esri/arcade/ArcadeDate":function(){define(["exports","../core/string","../core/sql/UnknownTimeZone","../chunks/datetime"],function(B,p,l,F){function v(u,q,N){return u<q?u-q:u>N?u-N:0}function L(u,q=!0){if(u instanceof F.Zone)return u;if("system"===u.toLowerCase())return"system";if("utc"===u.toLowerCase())return"UTC";if("unknown"===u.toLowerCase())return l.UnknownTimeZone.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(u)){const N=F.FixedOffsetZone.parseSpecifier("UTC"+(u.startsWith("+")||
u.startsWith("-")?"":"+")+u);if(N)return N}u=F.IANAZone.create(u);if(!u.isValid){if(q)throw new t(B.ArcadeDateErrorCodes.TimeZoneNotRecognized);return null}return u}B.ArcadeDateErrorCodes=void 0;(B.ArcadeDateErrorCodes||(B.ArcadeDateErrorCodes={})).TimeZoneNotRecognized="TimeZoneNotRecognized";const f={[B.ArcadeDateErrorCodes.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class t extends Error{constructor(u,q){super(p.replace(f[u],q));this.declaredRootClass="esri.arcade.arcadedate.dateerror";
Error.captureStackTrace&&Error.captureStackTrace(this,t)}}class m{constructor(u){this._date=u;this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(u=0,q=1,N=1,O=0,J=0,D=0,C=0,h){if(isNaN(u)||isNaN(q)||isNaN(N)||isNaN(O)||isNaN(J)||isNaN(D)||isNaN(C))return null;const n=F.DateTime.local(u,q).daysInMonth;u=F.DateTime.fromObject({day:1>N?1:N>n?n:N,year:u,month:1>q?1:12<q?12:q,hour:0>O?0:23<O?23:O,minute:0>J?0:59<J?59:J,second:0>D?0:59<D?59:D,millisecond:0>C?0:999<C?999:C},{zone:L(h)});u=
u.plus({months:v(q,1,12),days:v(N,1,n),hours:v(O,0,23),minutes:v(J,0,59),seconds:v(D,0,59),milliseconds:v(C,0,999)});return new m(u)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(u,q){q=L(q);return u.isUnknownTimeZone||q===l.UnknownTimeZone.instance?m.fromParts(u.year,u.monthJS+1,u.day,u.hour,u.minute,u.second,u.millisecond,q):new m(u._date.setZone(q))}static dateJSToArcadeDate(u){return new m(F.DateTime.fromJSDate(u,
{zone:"system"}))}static dateJSAndZoneToArcadeDate(u,q="system"){q=L(q);return new m(F.DateTime.fromJSDate(u,{zone:q}))}static unknownEpochToArcadeDate(u){return new m(F.DateTime.fromMillis(u,{zone:l.UnknownTimeZone.instance}))}static unknownDateJSToArcadeDate(u){return new m(F.DateTime.fromMillis(u.getTime(),{zone:l.UnknownTimeZone.instance}))}static epochToArcadeDate(u,q="system"){q=L(q);return new m(F.DateTime.fromMillis(u,{zone:q}))}static dateTimeToArcadeDate(u){return new m(u)}clone(){return new m(this._date)}changeTimeZone(u){u=
L(u);return m.dateTimeToArcadeDate(this._date.setZone(u))}static dateTimeAndZoneToArcadeDate(u,q){q=L(q);return u.zone===l.UnknownTimeZone.instance||q===l.UnknownTimeZone.instance?m.fromParts(u.year,u.month,u.day,u.hour,u.minute,u.second,u.millisecond,q):new m(u.setZone(q))}static nowToArcadeDate(u){u=L(u);return new m(F.DateTime.fromJSDate(new Date,{zone:u}))}static nowUTCToArcadeDate(){return new m(F.DateTime.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===m.systemTimeZoneCanonicalName}equals(u){return this.isSystem&&
u.isSystem?this.toNumber()===u.toNumber():this.isUnknownTimeZone!==u.isUnknownTimeZone?!1:this._date.equals(u._date)}get isUnknownTimeZone(){return this._date.zone===l.UnknownTimeZone.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let u=this._date.weekday;6<u&&(u=0);return u}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-
1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const u=this.zone;return"fixed"===u.type?0===u.fixed?"UTC":u.formatOffset(0,"short"):u.name}stringify(){return JSON.stringify(this.toJSDate())}plus(u){return new m(this._date.plus(u))}diff(u,q="milliseconds"){return this._date.diff(u._date,
q)[q]}toISODate(){return this._date.toISODate()}toISOString(u){return u?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(u,q){return this._date.toISOTime({suppressMilliseconds:u,includeOffset:q&&!this.isUnknownTimeZone})}toFormat(u,q){this.isUnknownTimeZone&&(u=u.replaceAll("Z",""));return this._date.toFormat(u,q)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new m(this._date.toUTC())}toLocal(){return new m(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(u){if(!u)return null;
u=F.DateTime.fromISO(u,{setZone:!0});return new m(u)}}B.ArcadeDate=m;B.ArcadeDateError=t;B.arcadeDateErrorMessages=f;B.createDateTimeZone=L;Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/AggregateFunctions":function(){define("exports ./DateOnly ./errorSupport ./SqlTimestampOffset ./TimeOnly ../../chunks/datetime".split(" "),function(B,p,l,F,v,L){function f(q){if(null===q)return null;let N=0,O=0;for(let J=0;J<q.length;J++){const D=q[J];if(null!==D){if("number"!==typeof D)throw new l.SqlError(l.SqlErrorCodes.InvalidValueForAggregateFunction);
O++;N+=D}}return 0===O?null:N/q.length}function t(q,N){if(null===q)return null;let O=null,J=null;for(const D of q)q=D,q=D instanceof p.DateOnly?D.toNumber():D instanceof v.TimeOnly?D.toNumber():D instanceof L.DateTime?D.toMillis():D instanceof F.SqlTimeStampOffset?D.toMilliseconds():D,null===O?(O=D,J=q):"max"===N&&null!==J&&null!==q&&J<=q?(O=D,J=q):"min"===N&&null!==J&&null!==q&&J>=q&&(O=D,J=q);return O}function m(q){if(null===q)return null;q=q.filter(J=>null!==J);if(0===q.length)return null;const N=
f(q);if(null===N)return null;let O=0;for(const J of q){if("number"!==typeof J)throw new l.SqlError(l.SqlErrorCodes.InvalidValueForAggregateFunction);O+=(N-J)**2}return O/(q.length-1)}const u={min:{minParams:1,maxParams:1,evaluate:q=>t(q[0],"min")},max:{minParams:1,maxParams:1,evaluate:q=>t(q[0],"max")},avg:{minParams:1,maxParams:1,evaluate:q=>f(q[0])},sum:{minParams:1,maxParams:1,evaluate:q=>{q=q[0];if(null===q)q=null;else{var N=0;for(let O=0;O<q.length;O++){const J=q[O];if(null!==J){if("number"!==
typeof J)throw new l.SqlError(l.SqlErrorCodes.InvalidValueForAggregateFunction);N+=J}}q=N}return q}},stddev:{minParams:1,maxParams:1,evaluate:q=>{q=q[0];null===q?q=null:(q=m(q),q=null===q?null:Math.sqrt(q));return q}},count:{minParams:1,maxParams:1,evaluate:q=>null==q[0]?null:q[0].length},var:{minParams:1,maxParams:1,evaluate:q=>m(q[0])}};B.aggregateFunction=function(q,N){const O=u[q.toLowerCase()];if(null==O)throw new l.SqlError(l.SqlErrorCodes.FunctionNotRecognized);if(N.length<O.minParams||N.length>
O.maxParams)throw new l.SqlError(l.SqlErrorCodes.InvalidParameterCount,{name:q.toUpperCase()});return O.evaluate(N)};B.isAggregate=function(q,N){q=u[q.toLowerCase()];return null!=q&&N>=q.minParams&&N<=q.maxParams};Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/DateOnly":function(){define(["exports","../../arcade/ArcadeDate","../../intl/locale","../../chunks/datetime"],function(B,p,l,F){function v(f){f=f.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$\x26]");let t="";const m=
/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const u of f.match(m)||[])switch(u){case "D":t+="d";break;case "DD":t+="dd";break;case "DDD":t+="o";break;case "d":t+="c";break;case "ddd":t+="ccc";break;case "dddd":t+="cccc";break;case "M":t+="L";break;case "MM":t+="LL";break;case "MMM":t+="LLL";break;case "MMMM":t+="LLLL";break;case "YY":t+="yy";
break;case "Y":case "YYYY":t+="yyyy";break;case "Q":t+="q";break;case "X":case "x":t+=u;break;default:t=2<=u.length&&"["===u.slice(0,1)&&"]"===u.slice(-1)?t+`'${u.slice(1,-1)}'`:t+`'${u}'`}return t}class L{constructor(f,t,m){this._year=f;this._month=t;this._day=m;this.declaredRootClass="esri.core.sql.dateonly"}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(f){return f instanceof
L&&f.day===this.day&&f.month===this.month&&f.year===this.year}clone(){return new L(this._year,this._month,this._day)}toDateTime(f){return F.DateTime.fromObject({day:this.day,month:this.month,year:this.year},{zone:p.createDateTimeZone(f)})}toDateTimeLuxon(f){return F.DateTime.fromObject({day:this.day,month:this.month,year:this.year},{zone:p.createDateTimeZone(f)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(f=
null,t=!0){if(null===f||""===f)return this.toString();t&&(f=v(f));if(!f)return"";t=this.toDateTime("unknown");return p.ArcadeDate.dateTimeToArcadeDate(t).toFormat(f,{locale:l.getLocale(),numberingSystem:"latn"})}toArcadeDate(){const f=this.toDateTime("unknown");return p.ArcadeDate.dateTimeToArcadeDate(f)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",
!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(f,t){return L.fromDateTime(this.toUTCDateTime().plus({[f]:t}))}toUTCDateTime(){return F.DateTime.utc(this.year,this.month,this.day,0,0,0,0)}difference(f,t){switch(t.toLowerCase()){case "days":case "day":case "d":return this.toUTCDateTime().diff(f.toUTCDateTime(),"days").days;case "months":case "month":return this.toUTCDateTime().diff(f.toUTCDateTime(),"months").months;case "minutes":case "minute":case "m":return"M"===t?
this.toUTCDateTime().diff(f.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(f.toUTCDateTime(),"minutes").minutes;case "seconds":case "second":case "s":return this.toUTCDateTime().diff(f.toUTCDateTime(),"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return this.toUTCDateTime().diff(f.toUTCDateTime(),"milliseconds").milliseconds;case "hours":case "hour":case "h":return this.toUTCDateTime().diff(f.toUTCDateTime(),"hours").hours;case "years":case "year":case "y":return this.toUTCDateTime().diff(f.toUTCDateTime(),
"years").years;default:return this.toUTCDateTime().diff(f.toUTCDateTime(),"milliseconds").milliseconds}}static fromMilliseconds(f){f=F.DateTime.fromMillis(f,{zone:F.FixedOffsetZone.utcInstance});return f.isValid?L.fromParts(f.year,f.month,f.day):null}static fromSeconds(f){f=F.DateTime.fromSeconds(f,{zone:F.FixedOffsetZone.utcInstance});return f.isValid?L.fromParts(f.year,f.month,f.day):null}static fromReader(f){if(!f)return null;f=f.split("-");return 3!==f.length?null:new L(parseInt(f[0],10),parseInt(f[1],
10),parseInt(f[2],10))}static fromParts(f,t,m){f=new L(f,t,m);return!1===f.isValid?null:f}static fromDateJS(f){return L.fromParts(f.getFullYear(),f.getMonth()+1,f.getDay())}static fromDateTime(f){return L.fromParts(f.year,f.month,f.day)}static fromSqlTimeStampOffset(f){return this.fromDateTime(f.toDateTime())}static fromString(f,t=null){if(""===f||null===f)return null;var m=[];if(t)(t=v(t))&&m.push(t);else if(null===t||""===t)return f=F.DateTime.fromISO(f,{setZone:!0}),f.isValid?L.fromParts(f.year,
f.month,f.day):null;for(const u of m)if(m=F.DateTime.fromFormat(f,t??u),m.isValid)return new L(m.year,m.month,m.day);return null}static fromNow(f="system"){f=F.DateTime.fromJSDate(new Date).setZone(p.createDateTimeZone(f));return new L(f.year,f.month,f.day)}}B.DateOnly=L;B.standardizeDateOnlyFormat=v;Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/errorSupport":function(){define(["exports","../string"],function(B,p){B.SqlErrorCodes=void 0;(function(v){v.InvalidFunctionParameters=
"InvalidFunctionParameters";v.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction";v.UnsupportedSqlFunction="UnsupportedSqlFunction";v.UnsupportedOperator="UnsupportedOperator";v.UnsupportedSyntax="UnsupportedSyntax";v.UnsupportedIsRhs="UnsupportedIsRhs";v.UnsupportedIsLhs="UnsupportedIsLhs";v.InvalidDataType="InvalidDataType";v.CannotCastValue="CannotCastValue";v.FunctionNotRecognized="FunctionNotRecognized";v.InvalidTime="InvalidTime";v.InvalidParameterCount="InvalidParameterCount";
v.InvalidTimeStamp="InvalidTimeStamp";v.InvalidDate="InvalidDate";v.InvalidOperator="InvalidOperator";v.IllegalInterval="IllegalInterval";v.YearMonthIntervals="YearMonthIntervals";v.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers";v.MissingStatisticParameters="MissingStatisticParameters"})(B.SqlErrorCodes||(B.SqlErrorCodes={}));const l={[B.SqlErrorCodes.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[B.SqlErrorCodes.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",
[B.SqlErrorCodes.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[B.SqlErrorCodes.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[B.SqlErrorCodes.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[B.SqlErrorCodes.UnsupportedOperator]:"Unsupported operator - {operator}",[B.SqlErrorCodes.UnsupportedSyntax]:"Unsupported syntax - {node}",[B.SqlErrorCodes.UnsupportedSqlFunction]:"Sql function not found \x3d {function}",[B.SqlErrorCodes.InvalidDataType]:"Invalid sql data type",
[B.SqlErrorCodes.InvalidDate]:"Invalid date encountered",[B.SqlErrorCodes.InvalidOperator]:"Invalid operator encountered",[B.SqlErrorCodes.InvalidTime]:"Invalid time encountered",[B.SqlErrorCodes.IllegalInterval]:"Illegal interval",[B.SqlErrorCodes.FunctionNotRecognized]:"Function not recognized",[B.SqlErrorCodes.InvalidTimeStamp]:"Invalid timestamp encountered",[B.SqlErrorCodes.InvalidParameterCount]:"Invalid parameter count for call to {name}",[B.SqlErrorCodes.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",
[B.SqlErrorCodes.YearMonthIntervals]:"Year-Month Intervals not supported",[B.SqlErrorCodes.CannotCastValue]:"Cannot cast value to the required data type"};class F extends Error{constructor(v,L){super(p.replace(l[v],L));this.declaredRootClass="esri.arcade.featureset.support.sqlerror";Error.captureStackTrace&&Error.captureStackTrace(this,F)}}B.SqlError=F;B.sqlErrorMessages=l;Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/SqlTimestampOffset":function(){define(["exports",
"../../chunks/datetime"],function(B,p){function l(v){return Number.isNaN(v)||0===v?v:Math.trunc(v)}class F{constructor(v){this._timeStampOffset=v;this._date=null}toDateTime(){this._date??(this._date=p.DateTime.fromISO(this._timeStampOffset,{setZone:!0}));return this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return l(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return l(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return F.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(v){return new F(p.DateTime.fromJSDate(v).toISO({includeOffset:!0}))}static fromDateTime(v){return new F(v.toISO({includeOffset:!0}))}static fromParts(v,
L,f=0,t=0,m=0,u=0,q=0,N=!1,O=0,J=0){v=`${v.toString().padStart(4,"0")}-${L.toString().padStart(2,"0")}-${f.toString().padStart(2,"0")}`;L="";10>u&&(L="0");t=`${t.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}:${L+u.toString()}`;0!==q&&(t+="."+q.toString().padStart(3,"0"));q=`${N?"-":"+"}${O.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`;return new F(v+"T"+t+q)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let v=this.toDateTime().toSQL({includeOffset:!0,
includeOffsetSpace:!0});v&&=v.replace(".000","");return v}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(v){v=this.toDateTime().plus(v);return F.fromDateTime(v)}}B.SqlTimeStampOffset=F;Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/TimeOnly":function(){define(["exports","../../arcade/kernel","../../intl/locale","../../chunks/datetime"],function(B,p,l,F){function v(f){if(!f)return"";const t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let m="";for(const u of f.match(t)||
[])switch(u){case "SSS":m+=u;break;case "A":case "a":m+="a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":m+=u;break;default:m+=`'${u}'`}return m}class L{constructor(f,t,m,u){this._hour=f;this._minute=t;this._second=m;this._millisecond=u;this.declaredRootClass="esri.core.sql.timeonly"}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(f){return f instanceof L&&f.hour===
this.hour&&f.minute===this.minute&&f.second===this.second&&f.millisecond===this.millisecond}clone(){return new L(this.hour,this.minute,this.second,this.millisecond)}isValid(){return p.isInteger(this.hour)&&p.isInteger(this.minute)&&p.isInteger(this.second)&&p.isInteger(this.millisecond)&&0<=this.hour&&24>this.hour&&0<=this.minute&&60>this.minute&&0<=this.second&&60>this.second&&0<=this.millisecond&&1E3>this.millisecond}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,
"0")}:${this.second.toString().padStart(2,"0")}`+(0<this.millisecond?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${0<this.millisecond?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,
"0")}`}toFormat(f=null){return null===f||""===f?this.toString():(f=v(f))?F.DateTime.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(f,{locale:l.getLocale(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1E3*this.second+6E4*this.minute+36E5*this.hour}static fromParts(f,t,m,u){f=new L(f,t,m,u);return f.isValid()?f:null}static fromReader(f){if(!f)return null;f=f.split(":");return 3!==f.length?null:new L(parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],
10),0)}static fromMilliseconds(f){return 864E5<f||0>f?null:new L(Math.floor(f/36E5%24),Math.floor(f/6E4%60),Math.floor(f/1E3%60),Math.floor(f%1E3))}static fromDateJS(f){return new L(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}static fromDateTime(f){return new L(f.hour,f.minute,f.second,f.millisecond)}static fromSqlTimeStampOffset(f){return this.fromDateTime(f.toDateTime())}static fromString(f,t=null){if(""===f||null===f)return null;const m=[];if(t)(t=v(t))&&m.push(t);else if(null===
t||""===t)m.push("HH:mm:ss"),m.push("HH:mm:ss.SSS"),m.push("hh:mm:ss a"),m.push("hh:mm:ss.SSS a"),m.push("HH:mm"),m.push("hh:mm a"),m.push("H:mm"),m.push("h:mm a"),m.push("H:mm:ss"),m.push("h:mm:ss a"),m.push("H:mm:ss.SSS"),m.push("h:mm:ss.SSS a");for(const u of m)if(t=F.DateTime.fromFormat(f,u),t.isValid)return new L(t.hour,t.minute,t.second,t.millisecond);return null}plus(f,t){switch(f){case "days":case "years":case "months":return this.clone();case "hours":case "minutes":case "seconds":case "milliseconds":return L.fromDateTime(this.toUTCDateTime().plus({[f]:t}))}return null}toUTCDateTime(){return F.DateTime.utc(1970,
1,1,this.hour,this.minute,this.second,this.millisecond)}difference(f,t){switch(t.toLowerCase()){case "days":case "day":case "d":return this.toUTCDateTime().diff(f.toUTCDateTime(),"days").days;case "months":case "month":return this.toUTCDateTime().diff(f.toUTCDateTime(),"months").months;case "minutes":case "minute":case "m":return"M"===t?this.toUTCDateTime().diff(f.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(f.toUTCDateTime(),"minutes").minutes;case "seconds":case "second":case "s":return this.toUTCDateTime().diff(f.toUTCDateTime(),
"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return this.toUTCDateTime().diff(f.toUTCDateTime(),"milliseconds").milliseconds;case "hours":case "hour":case "h":return this.toUTCDateTime().diff(f.toUTCDateTime(),"hours").hours;case "years":case "year":case "y":return this.toUTCDateTime().diff(f.toUTCDateTime(),"years").years;default:return this.toUTCDateTime().diff(f.toUTCDateTime(),"milliseconds").milliseconds}}}B.TimeOnly=L;B.standardizeTimeFormat=v;Object.defineProperty(B,
Symbol.toStringTag,{value:"Module"})})},"esri/arcade/kernel":function(){define(["exports","../geometry/Extent"],function(B,p){B.cloneGeometry=function(l){if(null==l)return null;const F=l.clone();void 0!==l.cache._geVersion&&(F.cache._geVersion=l.cache._geVersion);return F};B.convertLinearUnitsToCode=function(l){if(null==l)return null;if("number"===typeof l)return l;l=l.toLowerCase();l=l.replaceAll(/\s/g,"");l=l.replaceAll("-","");switch(l){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 9001;
case "miles":case "mile":case "squaremile":case "squaremiles":return 9093;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 9002;case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 9030}return null};B.convertSquareUnitsToCode=
function(l){if(null==l)return null;if("number"===typeof l)return l;l=l.toLowerCase();l=l.replaceAll(/\s/g,"");l=l.replaceAll("-","");switch(l){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":return 109439;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;
case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 109405;case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 109409}return null};B.isInteger=function(l){return"number"===typeof l&&isFinite(l)&&Math.floor(l)===l};B.sameGeomType=function(l,F){return l===F||"point"===l&&"esriGeometryPoint"===F||"polyline"===l&&"esriGeometryPolyline"===
F||"polygon"===l&&"esriGeometryPolygon"===F||"extent"===l&&"esriGeometryEnvelope"===F||"multipoint"===l&&"esriGeometryMultipoint"===F||"point"===F&&"esriGeometryPoint"===l||"polyline"===F&&"esriGeometryPolyline"===l||"polygon"===F&&"esriGeometryPolygon"===l||"extent"===F&&"esriGeometryEnvelope"===l||"multipoint"===F&&"esriGeometryMultipoint"===l?!0:!1};B.shapeExtent=function(l){if(null==l)return null;switch(l.type){case "polygon":case "multipoint":case "polyline":return l.extent;case "point":return new p({xmin:l.x,
ymin:l.y,xmax:l.x,ymax:l.y,spatialReference:l.spatialReference});case "extent":return l}return null};Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/sqlArithmeticUtils":function(){define(["exports","./errorSupport","./sqlDateParsingUtils","./SqlInterval","./StandardizedFunctions"],function(B,p,l,F,v){function L(E,A,x){switch(x){case "+":return E+A;case "-":return E-A;case "*":return E*A;case "/":return E/A}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function f(E,
A,x){switch(x){case "+":return A.plus({milliseconds:E.valueInMilliseconds()});case "-":return E.valueInMilliseconds()-A.toMillis()}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function t(E,A,x){switch(x){case "+":return A.plus("milliseconds",E.valueInMilliseconds())}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function m(E,A,x){switch(x){case "+":return A.plus("milliseconds",E.valueInMilliseconds())}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function u(E,A,x){switch(x){case "+":return E.plus("milliseconds",
A.valueInMilliseconds());case "-":return E.plus("milliseconds",-1*A.valueInMilliseconds())}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function q(E,A,x){switch(x){case "+":return A.addMilliseconds(E.valueInMilliseconds())}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function N(E,A,x){switch(x){case "+":return F.SqlInterval.createFromMilliseconds(E.valueInMilliseconds()+A.valueInMilliseconds());case "-":return F.SqlInterval.createFromMilliseconds(E.valueInMilliseconds()-A.valueInMilliseconds());
case "*":return F.SqlInterval.createFromMilliseconds(E.valueInMilliseconds()*A.valueInMilliseconds());case "/":return F.SqlInterval.createFromMilliseconds(E.valueInMilliseconds()/A.valueInMilliseconds())}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function O(E,A,x){switch(x){case "+":return F.SqlInterval.createFromMilliseconds(E.valueInMilliseconds()+A);case "-":return F.SqlInterval.createFromMilliseconds(E.valueInMilliseconds()-A);case "*":return F.SqlInterval.createFromMilliseconds(E.valueInMilliseconds()*
A);case "/":return F.SqlInterval.createFromMilliseconds(E.valueInMilliseconds()/A)}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function J(E,A,x){switch(x){case "+":return F.SqlInterval.createFromMilliseconds(E+A.valueInMilliseconds());case "-":return F.SqlInterval.createFromMilliseconds(E-A.valueInMilliseconds());case "*":return F.SqlInterval.createFromMilliseconds(E*A.valueInMilliseconds());case "/":return F.SqlInterval.createFromMilliseconds(E/A.valueInMilliseconds())}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);
}function D(E,A,x){switch(x){case "+":return E.plus("milliseconds",A.valueInMilliseconds());case "-":return E.plus("milliseconds",-1*A.valueInMilliseconds())}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function C(E,A,x){switch(x){case "+":return E.plus({milliseconds:A.valueInMilliseconds()});case "-":return E.minus({milliseconds:A.valueInMilliseconds()})}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function h(E,A,x){switch(x){case "+":return E.addMilliseconds(A.valueInMilliseconds());
case "-":return E.addMilliseconds(-1*A.valueInMilliseconds())}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function n(E,A,x){A*=864E5;switch(x){case "+":return E.plus({milliseconds:A});case "-":return E.minus({milliseconds:A})}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function M(E,A,x){A*=864E5;switch(x){case "+":return E.plus("milliseconds",A);case "-":return E.plus("milliseconds",-1*A)}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function Q(E,A,x){A*=864E5;switch(x){case "+":return E.plus("milliseconds",
A);case "-":return E.plus("milliseconds",-1*A)}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function Z(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function ba(E,A,x){A*=864E5;switch(x){case "+":return E.addMilliseconds(A);case "-":return E.addMilliseconds(-1*A)}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function ha(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function aa(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function qa(E,
A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function ma(E,A,x){A=parseFloat(A);if(isNaN(A))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);return L(E,A,x)}function ka(E,A,x){E=parseFloat(E);if(isNaN(E))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);return L(E,A,x)}function g(E,A,x){switch(x){case "+":return E+A}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function w(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function H(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);
}function G(E,A,x){switch(x){case "-":return E.toDateTimeLuxon(A.zone).diff(A).as("days")}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function P(E,A,x){switch(x){case "-":return E.toDateTimeLuxon(A.toDateTime().zone).diff(A.toDateTime()).as("days")}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function R(E,A,x){switch(x){case "-":return E.toDateTimeLuxon("UTC").diff(A.toDateTimeLuxon("UTC")).as("days")}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function S(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);
}function la(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function wa(E,A,x){switch(x){case "-":return E.toDateTime().diff(A.toDateTimeLuxon(E.toDateTime().zone)).as("days")}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function Ea(E,A,x){switch(x){case "-":return E.toDateTime().diff(A).as("days")}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function Ha(E,A,x){switch(x){case "-":return E.toDateTime().diff(A.toDateTime()).as("days")}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);
}function lb(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function Fa(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function Ia(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function Ja(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function za(E,A,x){switch(x){case "-":return E.diff(A).as("days")}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function fb(E,A,x){switch(x){case "-":return E.diff(A.toDateTimeLuxon(E.zone)).as("days")}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);
}function Ka(E,A,x){switch(x){case "-":return E.diff(A.toDateTime()).as("days")}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function La(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function mb(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function Ma(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function nb(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function ob(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);
}function Aa(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function pb(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function gb(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}function qb(E,A,x){throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}B.calculateDateOnlyAndDateOnly=R;B.calculateDateOnlyAndDateTime=G;B.calculateDateOnlyAndNumber=M;B.calculateDateOnlyAndSqlInterval=D;B.calculateDateOnlyAndString=mb;B.calculateDateOnlyAndTimeOnly=S;B.calculateDateOnlyAndTimestamp=
P;B.calculateDateTimeAndDateOnly=fb;B.calculateDateTimeAndDateTime=za;B.calculateDateTimeAndNumber=n;B.calculateDateTimeAndSqlInterval=C;B.calculateDateTimeAndString=nb;B.calculateDateTimeAndTimeOnly=La;B.calculateDateTimeAndTimestamp=Ka;B.calculateNumberAndDateOnly=qa;B.calculateNumberAndDateTime=Z;B.calculateNumberAndNumber=L;B.calculateNumberAndSqlInterval=J;B.calculateNumberAndString=ma;B.calculateNumberAndTimeOnly=aa;B.calculateNumberAndTimestamp=ha;B.calculateSqlIntervalAndDateOnly=m;B.calculateSqlIntervalAndDateTime=
f;B.calculateSqlIntervalAndNumber=O;B.calculateSqlIntervalAndSqlInterval=N;B.calculateSqlIntervalAndString=w;B.calculateSqlIntervalAndTimeOnly=t;B.calculateSqlIntervalAndTimestamp=q;B.calculateStringAndDateOnly=pb;B.calculateStringAndDateTime=gb;B.calculateStringAndNumber=ka;B.calculateStringAndSqlInterval=H;B.calculateStringAndString=g;B.calculateStringAndTimeOnly=Aa;B.calculateStringAndTimestamp=qb;B.calculateTimeOnlyAndDateOnly=Fa;B.calculateTimeOnlyAndDateTime=lb;B.calculateTimeOnlyAndNumber=
Q;B.calculateTimeOnlyAndSqlInterval=u;B.calculateTimeOnlyAndString=Ma;B.calculateTimeOnlyAndTimeOnly=Ja;B.calculateTimeOnlyAndTimestamp=Ia;B.calculateTimestampAndDateOnly=wa;B.calculateTimestampAndDateTime=Ea;B.calculateTimestampAndNumber=ba;B.calculateTimestampAndSqlInterval=h;B.calculateTimestampAndString=ob;B.calculateTimestampAndTimeOnly=la;B.calculateTimestampAndTimestamp=Ha;B.sqlCalculateFunction=function(E,A,x,Rb){if("||"===E)return v.evaluateFunction("concat",[A,x],Rb);if(null===A||null===
x)return null;if(l.isNumber(A)){if(l.isNumber(x))return L(A,x,E);if(l.isSqlInterval(x))return J(A,x,E);if(l.isTimeOnly(x))return aa();if(l.isDateOnly(x))return qa();if(l.isTimestampOffset(x))return ha();if(l.isDateTime(x))return Z();if(l.isString(x))return ma(A,x,E)}else if(l.isDateOnly(A)){if(l.isNumber(x))return M(A,x,E);if(l.isSqlInterval(x))return D(A,x,E);if(l.isTimeOnly(x))return S();if(l.isDateOnly(x))return R(A,x,E);if(l.isTimestampOffset(x))return P(A,x,E);if(l.isDateTime(x))return G(A,x,
E);if(l.isString(x))return mb()}else if(l.isTimeOnly(A)){if(l.isNumber(x))return Q(A,x,E);if(l.isSqlInterval(x))return u(A,x,E);if(l.isTimeOnly(x))return Ja();if(l.isDateOnly(x))return Fa();if(l.isTimestampOffset(x))return Ia();if(l.isDateTime(x))return lb();if(l.isString(x))return Ma()}else if(l.isSqlInterval(A)){if(l.isNumber(x))return O(A,x,E);if(l.isSqlInterval(x))return N(A,x,E);if(l.isTimeOnly(x))return t(A,x,E);if(l.isDateOnly(x))return m(A,x,E);if(l.isTimestampOffset(x))return q(A,x,E);if(l.isDateTime(x))return f(A,
x,E);if(l.isString(x))return w()}else if(l.isDateTime(A)){if(l.isNumber(x))return n(A,x,E);if(l.isSqlInterval(x))return C(A,x,E);if(l.isTimeOnly(x))return La();if(l.isDateOnly(x))return fb(A,x,E);if(l.isTimestampOffset(x))return Ka(A,x,E);if(l.isDateTime(x))return za(A,x,E);if(l.isString(x))return nb()}else if(l.isTimestampOffset(A)){if(l.isNumber(x))return ba(A,x,E);if(l.isSqlInterval(x))return h(A,x,E);if(l.isTimeOnly(x))return la();if(l.isDateOnly(x))return wa(A,x,E);if(l.isTimestampOffset(x))return Ha(A,
x,E);if(l.isDateTime(x))return Ea(A,x,E);if(l.isString(x))return ob()}else if(l.isString(A)){if(l.isNumber(x))return ka(A,x,E);if(l.isSqlInterval(x))return H();if(l.isTimeOnly(x))return Aa();if(l.isDateOnly(x))return pb();if(l.isTimestampOffset(x))return qb();if(l.isDateTime(x))return gb();if(l.isString(x))return g(A,x,E)}throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);};Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/sqlDateParsingUtils":function(){define("exports ./DateOnly ./errorSupport ./SqlInterval ./SqlTimestampOffset ./TimeOnly ./UnknownTimeZone ../../chunks/datetime".split(" "),
function(B,p,l,F,v,L,f,t){function m(n,M,Q){Q=J.exec(n);if(null!==Q){const [,Z,ba,ha,aa,qa,ma,ka]=Q;n=t.DateTime.fromObject({year:parseInt(Z,10),month:parseInt(ba,10),day:parseInt(ha,10),hour:parseInt(aa,10),minute:parseInt(qa,10),second:parseInt(ma,10),millisecond:ka?parseInt(ka.replace(".",""),10):0},{zone:f.substituteUnknownTimezone(M)});if(!1===n.isValid)throw new l.SqlError(l.SqlErrorCodes.InvalidTimeStamp);return n}Q=D.exec(n);if(null!==Q){const [,Z,ba,ha,aa,qa,ma,ka,g,w,H]=Q;n=v.SqlTimeStampOffset.fromParts(parseInt(Z,
10),parseInt(ba,10),parseInt(ha,10),parseInt(aa,10),parseInt(qa,10),parseInt(ma,10),ka?parseInt(ka.replace(".",""),10):0,"-"===g,parseInt(w,10),parseInt(H,10));if(!1===n.isValid)throw new l.SqlError(l.SqlErrorCodes.InvalidTimeStamp);return n}Q=C.exec(n);if(null!==Q){const [,Z,ba,ha,aa,qa,ma,ka,g]=Q;n=v.SqlTimeStampOffset.fromParts(parseInt(Z,10),parseInt(ba,10),parseInt(ha,10),parseInt(aa,10),parseInt(qa,10),0,0,"-"===ma,parseInt(ka,10),parseInt(g,10));if(!1===n.isValid)throw new l.SqlError(l.SqlErrorCodes.InvalidTimeStamp);
return n}Q=h.exec(n);if(null!==Q){const [,Z,ba,ha,aa,qa]=Q;n=t.DateTime.fromObject({year:parseInt(Z,10),month:parseInt(ba,10),day:parseInt(ha,10),hour:parseInt(aa,10),minute:parseInt(qa,10),second:0},{zone:f.substituteUnknownTimezone(M)});if(!1===n.isValid)throw new l.SqlError(l.SqlErrorCodes.InvalidTimeStamp);return n}Q=O.exec(n);if(null!==Q){const [,Z,ba,ha]=Q;n=t.DateTime.fromObject({year:parseInt(Z,10),month:parseInt(ba,10),day:parseInt(ha,10),hour:0,minute:0,second:0},{zone:f.substituteUnknownTimezone(M)});
if(!1===n.isValid)throw new l.SqlError(l.SqlErrorCodes.InvalidTimeStamp);return n}throw new l.SqlError(l.SqlErrorCodes.InvalidTimeStamp);}const u=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,q=/^(\d{1,2}):(\d{1,2})$/,N=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,O=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,J=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,D=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,C=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,
h=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;B.convertToExecutingTimeZone=function(n,M){if(M instanceof t.Zone)return M===f.UnknownTimeZone.instance?t.DateTime.fromMillis(n.getTime(),{zone:f.UnknownTimeZone.instance}):t.DateTime.fromJSDate(n,{zone:M});switch(M){case "system":case "local":case null:return t.DateTime.fromJSDate(n);default:return"unknown"===M?.toLowerCase()?t.DateTime.fromMillis(n.getTime(),{zone:f.UnknownTimeZone.instance}):t.DateTime.fromJSDate(n,{zone:M})}};B.isDate=function(n){return n instanceof
Date};B.isDateOnly=function(n){return n instanceof p.DateOnly};B.isDateTime=function(n){return n instanceof t.DateTime};B.isNumber=function(n){return"number"===typeof n};B.isSqlInterval=function(n){return n instanceof F.SqlInterval};B.isString=function(n){return"string"===typeof n||n instanceof String};B.isTimeOnly=function(n){return n instanceof L.TimeOnly};B.isTimestampOffset=function(n){return n instanceof v.SqlTimeStampOffset};B.parseDate=function(n,M){const Q=O.exec(n);if(null===Q)try{return m(n,
M)}catch{throw new l.SqlError(l.SqlErrorCodes.InvalidDate);}const [,Z,ba,ha]=Q;n=p.DateOnly.fromParts(parseInt(Z,10),parseInt(ba,10),parseInt(ha,10));if(null===n)throw new l.SqlError(l.SqlErrorCodes.InvalidDate);return n};B.parseTime=function(n){let M=u.exec(n);if(null!==M){const [,Q,Z,ba]=M;n=L.TimeOnly.fromParts(parseInt(Q,10),parseInt(Z,10),parseInt(ba,10),0);if(null!==n)return n;throw new l.SqlError(l.SqlErrorCodes.InvalidTime);}M=q.exec(n);if(null!==M){const [,Q,Z]=M;n=L.TimeOnly.fromParts(parseInt(Q,
10),parseInt(Z,10),0,0);if(null!==n)return n;throw new l.SqlError(l.SqlErrorCodes.InvalidTime);}M=N.exec(n);if(null!==M){const [,Q,Z,ba,ha]=M;n=L.TimeOnly.fromParts(parseInt(Q,10),parseInt(Z,10),parseInt(ba,10),parseInt(ha,10));if(null!==n)return n}throw new l.SqlError(l.SqlErrorCodes.InvalidTime);};B.parseTimestamp=m;Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/SqlInterval":function(){define(["exports","./errorSupport"],function(B,p){class l{constructor(){this.op=
"+";this.millis=this.minute=this.year=this.month=this.hour=this.second=this.day=0}static _fixDefaults(F){if(null!==F.precision||null!==F.secondary)throw new p.SqlError(p.SqlErrorCodes.PrimarySecondaryQualifiers);}static _parseSecondsComponent(F,v){v.includes(".")?(v=v.split("."),F.second=parseFloat(v[0]),F.millis=parseInt(v[1],10)):F.second=parseFloat(v)}static createFromMilliseconds(F){const v=new l;v.second=F/1E3;return v}static createFromValueAndQualifier(F,v,L){let f=null;const t=new l;t.op="-"===
L?"-":"+";if("interval-period"===v.type){l._fixDefaults(v);L=RegExp("^[0-9]{1,}$");if("year"===v.period||"month"===v.period)throw new p.SqlError(p.SqlErrorCodes.YearMonthIntervals);if("second"===v.period)if(/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(F))l._parseSecondsComponent(t,F);else throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);else if(L.test(F))t[v.period]=parseFloat(F);else throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);}else{l._fixDefaults(v.start);l._fixDefaults(v.end);if("year"===
v.start.period||"month"===v.start.period||"year"===v.end.period||"month"===v.end.period)throw new p.SqlError(p.SqlErrorCodes.YearMonthIntervals);switch(v.start.period){case "day":switch(v.end.period){case "hour":f=RegExp("^[0-9]{1,} [0-9]{1,}$");if(f.test(F))t[v.start.period]=parseFloat(F.split(" ")[0]),t[v.end.period]=parseFloat(F.split(" ")[1]);else throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);break;case "minute":f=RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$");if(f.test(F))t[v.start.period]=
parseFloat(F.split(" ")[0]),F=F.split(" ")[1].split(":"),t.hour=parseFloat(F[0]),t.minute=parseFloat(F[1]);else throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);break;case "second":f=RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(f.test(F))t[v.start.period]=parseFloat(F.split(" ")[0]),F=F.split(" ")[1].split(":"),t.hour=parseFloat(F[0]),t.minute=parseFloat(F[1]),l._parseSecondsComponent(t,F[2]);else throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);break;default:throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);
}break;case "hour":switch(v.end.period){case "minute":f=RegExp("^[0-9]{1,}:[0-9]{1,}$");if(f.test(F))t.hour=parseFloat(F.split(":")[0]),t.minute=parseFloat(F.split(":")[1]);else throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);break;case "second":f=RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(f.test(F))F=F.split(":"),t.hour=parseFloat(F[0]),t.minute=parseFloat(F[1]),l._parseSecondsComponent(t,F[2]);else throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);break;default:throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);
}break;case "minute":switch(v.end.period){case "second":f=RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(f.test(F))F=F.split(":"),t.minute=parseFloat(F[0]),l._parseSecondsComponent(t,F[1]);else throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);break;default:throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);}break;default:throw new p.SqlError(p.SqlErrorCodes.IllegalInterval);}}return t}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1E3*this.second+6E4*this.minute+36E5*
this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)}}B.SqlInterval=l;Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/StandardizedFunctions":function(){define("exports ../mathUtils ../string ./DateOnly ./errorSupport ./sqlCompareUtils ./sqlDateParsingUtils ./TimeOnly ../../chunks/datetime".split(" "),function(B,p,l,F,v,L,f,t,m){function u(h){return"string"===typeof h||h instanceof String}function q(h){return f.isDate(h)||f.isDateOnly(h)||f.isDateTime(h)||
f.isTimeOnly(h)||f.isTimestampOffset(h)?!1:!0}function N(h){return f.isDateOnly(h)||f.isTimeOnly(h)?h.toString():f.isTimestampOffset(h)?h.toSQLValue():f.isDateTime(h)?0===h.millisecond?h.toFormat("yyyy-LL-dd HH:mm:ss"):h.toSQL({includeOffset:!1}):f.isDate(h)?N(m.DateTime.fromJSDate(h)):h.toString()}function O(h){if(f.isDate(h))return F.DateOnly.fromDateJS(h);if(f.isDateTime(h))return F.DateOnly.fromParts(h.year,h.month,h.day);if(f.isDateOnly(h))return h;if(f.isTimeOnly(h))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);
if(f.isTimestampOffset(h)&&null===F.DateOnly.fromParts(h.year,h.month,h.day))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);if(u(h)&&(h=F.DateOnly.fromReader(h),null!==h&&h.isValid))return h;throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);}function J(h,n,M){if(f.isDate(h))return f.convertToExecutingTimeZone(h,n);if(f.isDateTime(h))return h;if(f.isDateOnly(h))return h.toDateTimeLuxon("unknown");if(f.isTimeOnly(h))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);if(f.isTimestampOffset(h))return h;
if(u(h))return f.parseTimestamp(h,"unknown",M);throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);}function D(h){if(f.isDate(h))return t.TimeOnly.fromDateJS(h);if(f.isDateTime(h))return t.TimeOnly.fromDateTime(h);if(f.isDateOnly(h))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);if(f.isTimeOnly(h))return h;if(f.isTimestampOffset(h))return t.TimeOnly.fromSqlTimeStampOffset(h);if(u(h))return f.parseTime(h);throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);}const C={extract:{minParams:2,
maxParams:2,evaluate:([h,n])=>{if(null==n)return null;if(f.isDate(n))switch(h.toUpperCase()){case "SECOND":return n.getSeconds();case "MINUTE":return n.getMinutes();case "HOUR":return n.getHours();case "DAY":return n.getDate();case "MONTH":return n.getMonth()+1;case "YEAR":return n.getFullYear();case "TIMEZONE_HOUR":return 0;case "TIMEZONE_MINUTE":return 0}else if(f.isDateTime(n))switch(h.toUpperCase()){case "SECOND":return n.second;case "MINUTE":return n.minute;case "HOUR":return n.hour;case "DAY":return n.day;
case "MONTH":return n.month;case "YEAR":return n.year}else if(f.isDateOnly(n))switch(h.toUpperCase()){case "DAY":return n.day;case "MONTH":return n.month;case "YEAR":return n.year}else if(f.isTimeOnly(n))switch(h.toUpperCase()){case "SECOND":return n.second;case "MINUTE":return n.minute;case "HOUR":return n.hour}else if(f.isTimestampOffset(n))switch(h.toUpperCase()){case "SECOND":return n.second;case "MINUTE":return n.minute;case "HOUR":return n.hour;case "DAY":return n.day;case "MONTH":return n.month;
case "YEAR":return n.year;case "TIMEZONE_HOUR":return n.timezoneOffsetHour;case "TIMEZONE_MINUTE":return n.timezoneOffsetMinutes}throw new v.SqlError(v.SqlErrorCodes.InvalidFunctionParameters,{function:"EXTRACT"});}},substring:{minParams:2,maxParams:3,evaluate:h=>{if(2===h.length){const [n,M]=h;return null==n||null==M?null:n.toString().substring(M-1)}if(3===h.length){const [n,M,Q]=h;return null==n||null==M||null==Q?null:0>=Q?"":n.toString().substring(M-1,M+Q-1)}}},position:{minParams:2,maxParams:2,
evaluate:([h,n])=>null==h||null==n?null:n.indexOf(h)+1},trim:{minParams:2,maxParams:3,evaluate:h=>{var n=3===h.length,M=n?h[1]:" ";n=n?h[2]:h[1];if(null==M||null==n)return null;M=`(${l.escapeRegExpString(M)})`;switch(h[0]){case "BOTH":return n.replaceAll(new RegExp(`^${M}*|${M}*$`,"g"),"");case "LEADING":return n.replaceAll(new RegExp(`^${M}*`,"g"),"");case "TRAILING":return n.replaceAll(new RegExp(`${M}*$`,"g"),"")}throw new v.SqlError(v.SqlErrorCodes.InvalidFunctionParameters,{function:"TRIM"});
}},abs:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.abs(h[0])},ceiling:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.ceil(h[0])},floor:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.floor(h[0])},log:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.log(h[0])},log10:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.log(h[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.sin(h[0])},cos:{minParams:1,maxParams:1,evaluate:h=>
null==h[0]?null:Math.cos(h[0])},tan:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.tan(h[0])},asin:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.asin(h[0])},acos:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.acos(h[0])},atan:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.atan(h[0])},sign:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:0<h[0]?1:0>h[0]?-1:0},power:{minParams:2,maxParams:2,evaluate:h=>null==h[0]||null==h[1]?null:h[0]**h[1]},mod:{minParams:2,
maxParams:2,evaluate:h=>null==h[0]||null==h[1]?null:h[0]%h[1]},round:{minParams:1,maxParams:2,evaluate:h=>{const n=h[0];h=2===h.length?10**h[1]:1;return null==n?null:Math.round(n*h)/h}},truncate:{minParams:1,maxParams:2,evaluate:h=>null==h[0]?null:1===h.length||0===h[1]?Math.trunc(h[0]):p.decimalAdjust("trunc",h[0],-Number(h[1]))},char_length:{minParams:1,maxParams:1,evaluate:h=>u(h[0])?h[0].length:0},concat:{minParams:1,maxParams:Infinity,evaluate:h=>{let n="";for(let M=0;M<h.length;M++){if(null==
h[M])return null;n+=h[M].toString()}return n}},lower:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:h[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:h[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:Infinity,evaluate:h=>{for(const n of h)if(null!==n)return n;return null}},cosh:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.cosh(h[0])},sinh:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.sinh(h[0])},tanh:{minParams:1,
maxParams:1,evaluate:h=>null==h[0]?null:Math.tanh(h[0])},nullif:{minParams:2,maxParams:2,evaluate:(h,n)=>L.sqlCompare(h[0],h[1],"\x3d")?null:h[0]},cast:{minParams:2,maxParams:2,evaluate:(h,n)=>{const M=h[0];h=h[1];if(null===M)return null;switch(h.type){case "integer":if(!q(M))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);n=parseInt(M,10);if(isNaN(n))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);return n;case "smallint":if(!q(M))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);
n=parseInt(M,10);if(isNaN(n))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);if(32767<n||-32767>n)throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);return n;case "float":case "real":if(!q(M))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);n=parseFloat(M);if(isNaN(n))throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);return n;case "time":return D(M);case "date":return O(M);case "timestamp":return J(M,n,!0===h.withtimezone);case "varchar":n=N(M);if(n.length>h.size)throw new v.SqlError(v.SqlErrorCodes.CannotCastValue);
return n;default:throw new v.SqlError(v.SqlErrorCodes.InvalidDataType);}}}};B.evaluateFunction=function(h,n,M){const Q=C[h.toLowerCase()];if(null==Q)throw new v.SqlError(v.SqlErrorCodes.FunctionNotRecognized);if(n.length<Q.minParams||n.length>Q.maxParams)throw new v.SqlError(v.SqlErrorCodes.InvalidParameterCount,{name:h.toUpperCase()});return Q.evaluate(n,M)};B.isStandardized=function(h,n){h=C[h.toLowerCase()];return null!=h&&n>=h.minParams&&n<=h.maxParams};Object.defineProperty(B,Symbol.toStringTag,
{value:"Module"})})},"esri/core/sql/sqlCompareUtils":function(){define("exports ./errorSupport ./sqlDateParsingUtils ./SqlTimestampOffset ./UnknownTimeZone ../../chunks/datetime".split(" "),function(B,p,l,F,v,L){function f(C){return l.isDateTime(C)||l.isTimestampOffset(C)?!0:!1}function t(C){return l.isDateTime(C)||l.isDateOnly(C)||l.isTimestampOffset(C)||l.isTimeOnly(C)?!0:!1}function m(C){if(l.isDateTime(C))return C.toMillis();if(l.isDateOnly(C))return C.toNumber();if(l.isTimestampOffset(C))return C.toMilliseconds();
throw new p.SqlError(p.SqlErrorCodes.InvalidDataType);}function u(C,h,n){switch(n){case "\x3c\x3e":return C!==h;case "\x3d":return C===h;case "\x3e":return C>h;case "\x3c":return C<h;case "\x3e\x3d":return C>=h;case "\x3c\x3d":return C<=h}}function q(C,h,n){const M=parseFloat(h);if(!isNaN(M))return u(C,M,n);C=C.toString();switch(n){case "\x3c\x3e":return C!==h;case "\x3d":return C===h;case "\x3e":return C>h;case "\x3c":return C<h;case "\x3e\x3d":return C>=h;case "\x3c\x3d":return C<=h}}function N(C,
h,n){const M=parseFloat(C);if(!isNaN(M))return u(M,h,n);h=h.toString();switch(n){case "\x3c\x3e":return C!==h;case "\x3d":return C===h;case "\x3e":return C>h;case "\x3c":return C<h;case "\x3e\x3d":return C>=h;case "\x3c\x3d":return C<=h}}function O(C,h,n){switch(n){case "\x3c\x3e":return C!==h;case "\x3d":return C===h;case "\x3e":return C>h;case "\x3c":return C<h;case "\x3e\x3d":return C>=h;case "\x3c\x3d":return C<=h}}function J(C,h,n){C instanceof F.SqlTimeStampOffset&&(C=C.toDateTime());h instanceof
F.SqlTimeStampOffset&&(h=h.toDateTime());C=D(C);h=D(h);switch(n){case "\x3c\x3e":return C!==h;case "\x3d":return C===h;case "\x3e":return C>h;case "\x3c":return C<h;case "\x3e\x3d":return C>=h;case "\x3c\x3d":return C<=h}}function D(C){return 321408E5*C.year+26784E5*C.month+864E5*C.day+36E5*C.hour+6E4*C.minute+1E3*C.second+C.millisecond}B.dateValueInMilliseconds=m;B.isDateOrTimeValue=t;B.isDateTimeComparableValue=f;B.sqlCompare=function(C,h,n,M){if(null==C||null==h)return null;if(l.isNumber(C)){if(l.isNumber(h))return u(C,
h,n);if(l.isString(h))return q(C,h,n);if(t(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isDateOnly(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}else if(l.isString(C)){if(l.isNumber(h))return N(C,h,n);if(l.isString(h))return O(C,h,n);if(l.isDateTime(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isDateOnly(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isTimeOnly(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isTimestampOffset(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);
}else if(l.isDateTime(C)){if(f(h)){if(C instanceof L.DateTime&&v.isUnknownTimeZone(C.zone)){if(h instanceof L.DateTime&&!1===v.isUnknownTimeZone(h.zone)||h instanceof F.SqlTimeStampOffset)return J(C,h,n)}else if(h instanceof L.DateTime&&v.isUnknownTimeZone(h.zone)&&(C instanceof L.DateTime&&!1===v.isUnknownTimeZone(C.zone)||C instanceof F.SqlTimeStampOffset))return J(C,h,n);return u(m(C),m(h),n)}if(l.isString(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isDateOnly(h))return h=h.toDateTimeLuxon(C.zone),
C=C.startOf("day"),u(C.toMillis(),h.toMillis(),n);if(l.isTimeOnly(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isNumber(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}else if(l.isDateOnly(C)){if(l.isTimestampOffset(h))return C=C.toDateTimeLuxon(h.toDateTime().zone),h=h.startOfDay(),u(C.toMillis(),h.toMilliseconds(),n);if(l.isDateTime(h))return C=C.toDateTimeLuxon(h.zone),h=h.startOf("day"),u(C.toMillis(),h.toMillis(),n);if(l.isString(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);
if(l.isDateOnly(h))return u(C.toNumber(),h.toNumber(),n);if(l.isTimeOnly(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isNumber(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}else if(l.isTimeOnly(C)){if(l.isTimeOnly(h))return u(C.toNumber(),h.toNumber(),n);if(l.isString(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isNumber(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isDateOnly(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(f(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);
}else if(l.isTimestampOffset(C)){if(f(h))return h instanceof L.DateTime&&v.isUnknownTimeZone(h.zone)?J(C,h,n):u(m(C),m(h),n);if(l.isString(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isDateOnly(h))return h=h.toDateTimeLuxon(C.toDateTime().zone),C=C.startOfDay(),u(C.toMilliseconds(),h.toMillis(),n);if(l.isTimeOnly(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);if(l.isNumber(h))throw new p.SqlError(p.SqlErrorCodes.InvalidOperator);}switch(n){case "\x3c\x3e":return C!==h;
case "\x3d":return C===h;case "\x3e":return C>h;case "\x3c":return C<h;case "\x3e\x3d":return C>=h;case "\x3c\x3d":return C<=h}};Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/WhereGrammar":function(){define(["exports"],function(B){function p(f,t,m,u){f=Error.call(this,f);Object.setPrototypeOf&&Object.setPrototypeOf(f,p.prototype);f.expected=t;f.found=m;f.location=u;f.name="SyntaxError";return f}function l(f,t,m){m=m||" ";if(f.length>t)return f;t-=f.length;m+=m.repeat(t);
return f+m.slice(0,t)}function F(f,t){function m(){return J(y,b)}function u(c,d){d=void 0!==d?d:J(y,b);throw new p(c,null,null,d);}function q(c,d){return{type:"literal",text:c,ignoreCase:d}}function N(c,d,e){return{type:"class",parts:c,inverted:d,ignoreCase:e}}function O(c){var d=hb[c];if(!d){if(c>=hb.length)var e=hb.length-1;else for(e=c;!hb[--e];);d=hb[e];for(d={line:d.line,column:d.column};e<c;)10===f.charCodeAt(e)?(d.line++,d.column=1):d.column++,e++;hb[c]=d}return d}function J(c,d,e){e=O(c);
var k=O(d);return{source:Hd,start:{offset:c,line:e.line,column:e.column},end:{offset:d,line:k.line,column:k.column}}}function D(c){b<xa||(b>xa&&(xa=b,Sb=[]),Sb.push(c))}function C(){var c=b;z();var d=n();d!==a?(z(),y=c,c=d):(b=c,c=a);return c}function h(){var c;var d=b;if(na()!==a){z();var e=[];for(c=n();c!==a;){e.push(c);var k=c=b;var I=z();var K=Ga();K!==a?(k=z(),k=I=[I,K,k]):(b=k,k=a);k!==a?(k=n(),k===a?(b=c,c=a):c=k):c=k}c=z();k=oa();k!==a?(y=d,d=sa(m(),...e)):(b=d,d=a)}else b=d,d=a;return d}
function n(){var c=b;var d=M();if(d!==a){var e=[];var k=b;z();var I=Rb();if(I!==a){z();var K=M();K!==a?(y=k,k={op:I,expr:K,location:m()}):(b=k,k=a)}else b=k,k=a;for(;k!==a;)e.push(k),k=b,z(),I=Rb(),I!==a?(z(),K=M(),K!==a?(y=k,k={op:I,expr:K,location:m()}):(b=k,k=a)):(b=k,k=a);y=c;c=rb(d,e)}else b=c,c=a;return c}function M(){var c=b;var d=Q();if(d!==a){var e=[];var k=b;z();var I=x();if(I!==a){z();var K=Q();K!==a?(y=k,k={op:I,expr:K,location:m()}):(b=k,k=a)}else b=k,k=a;for(;k!==a;)e.push(k),k=b,z(),
I=x(),I!==a?(z(),K=Q(),K!==a?(y=k,k={op:I,expr:K,location:m()}):(b=k,k=a)):(b=k,k=a);y=c;c=rb(d,e)}else b=c,c=a;return c}function Q(){var c=b;var d=A();if(d===a){d=b;if(33===f.charCodeAt(b)){var e=Id;b++}else e=a,0===r&&D(Jd);if(e!==a){var k=b;r++;if(61===f.charCodeAt(b)){var I=Kd;b++}else I=a,0===r&&D(Ld);r--;I===a?k=void 0:(b=k,k=a);k!==a?d=e=[e,k]:(b=d,d=a)}else b=d,d=a}d!==a?(e=z(),k=Q(),k!==a?(y=c,c={type:"unary-expression",location:m(),operator:"NOT",expr:k}):(b=c,c=a)):(b=c,c=a);if(c===a){d=
b;c=aa();if(c!==a){e=b;z();k=b;I=[];var K=b;z();var T=Z();if(T!==a){z();var ca=aa();ca!==a?(y=K,K={op:T,expr:ca,location:m()}):(b=K,K=a)}else b=K,K=a;if(K!==a)for(;K!==a;)I.push(K),K=b,z(),T=Z(),T!==a?(z(),ca=aa(),ca!==a?(y=K,K={op:T,expr:ca,location:m()}):(b=K,K=a)):(b=K,K=a);else I=a;I!==a&&(y=k,I={type:"arithmetic",tail:I});k=I;if(k===a&&(k=b,I=ha(),I!==a?(z(),K=h(),K!==a?(y=k,k={op:I,right:K}):(b=k,k=a)):(b=k,k=a),k===a&&(k=b,I=ha(),I!==a?(z(),K=la(),K!==a?(y=k,k={op:I,right:K}):(b=k,k=a)):(b=
k,k=a)),k===a)){k=b;I=A();if(I!==a)if(z(),K=Rc(),K!==a){var sb=z();T=b;ca=aa();if(ca!==a){z();var ra=x();ra!==a?(z(),I=aa(),I!==a?(y=T,T=ca,T=sa(m(),T,I)):(b=T,T=a)):(b=T,T=a)}else b=T,T=a;T!==a?(y=k,k={op:"NOT"+K,right:T}):(b=k,k=a)}else b=k,k=a;else b=k,k=a;k===a&&(k=b,I=Rc(),I!==a?(z(),K=b,sb=aa(),sb!==a?(T=z(),ca=x(),ca!==a?(z(),ra=aa(),ra!==a?(y=K,K=sb,T=ra,K=sa(m(),K,T)):(b=K,K=a)):(b=K,K=a)):(b=K,K=a),K!==a?(y=k,k={op:I,right:K}):(b=k,k=a)):(b=k,k=a));k===a&&(k=b,I=qb(),I!==a?(z(),K=A(),K!==
a?(z(),K=aa(),K!==a?(y=k,k={op:I+"NOT",right:K}):(b=k,k=a)):(b=k,k=a)):(b=k,k=a),k===a&&(k=b,I=qb(),I!==a?(z(),K=aa(),K!==a?(y=k,k={op:I,right:K}):(b=k,k=a)):(b=k,k=a)),k===a&&(k=b,I=ba(),I!==a?(z(),K=za(),K!==a?(z(),T=b,ca=f.substr(b,6),ca.toLowerCase()===Md?b+=6:(ca=a,0===r&&D(Nd)),ca!==a?(ca=b,r++,ra=G(),r--,ra===a?ca=void 0:(b=ca,ca=a),ca!==a?(y=T,T="ESCAPE"):(b=T,T=a)):(b=T,T=a),T!==a?(z(),T=fb(),T!==a?(y=k,k={op:I,right:K,escape:T.value}):(b=k,k=a)):(b=k,k=a)):(b=k,k=a)):(b=k,k=a),k===a&&(k=
b,I=ba(),I!==a?(z(),K=za(),K!==a?(y=k,k={op:I,right:K,escape:""}):(b=k,k=a)):(b=k,k=a))))}k!==a?e=k:(b=e,e=a);e===a&&(e=null);y=d;d=e;""==d||void 0==d||null==d?d=c:(e=null,d=e="arithmetic"==d.type?rb(c,d.tail):Sc(d.op,c,d.right,d.escape,m()))}else b=d,d=a;c=d}return c}function Z(){if(f.substr(b,2)===Tc){var c=Tc;b+=2}else c=a,0===r&&D(Od);c===a&&(62===f.charCodeAt(b)?(c=Pd,b++):(c=a,0===r&&D(Qd)),c===a&&(f.substr(b,2)===Uc?(c=Uc,b+=2):(c=a,0===r&&D(Rd)),c===a&&(f.substr(b,2)===Vc?(c=Vc,b+=2):(c=a,
0===r&&D(Sd)),c===a&&(c=f.charAt(b),Td.test(c)?b++:(c=a,0===r&&D(Ud)),c===a&&(f.substr(b,2)===Wc?(c=Wc,b+=2):(c=a,0===r&&D(Vd)))))));return c}function ba(){var c;var d=c=b;var e=A();if(e!==a){var k=z();var I=E();I!==a?d=e=[e,k,I]:(b=d,d=a)}else b=d,d=a;d!==a&&(y=c,d=d[0]+" "+d[2]);c=d;c===a&&(c=E());return c}function ha(){var c;var d=c=b;var e=A();if(e!==a){var k=z();var I=gb();I!==a?d=e=[e,k,I]:(b=d,d=a)}else b=d,d=a;d!==a&&(y=c,d=d[0]+" "+d[2]);c=d;c===a&&(c=gb());return c}function aa(){var c=b;
var d=ma();if(d!==a){var e=[];var k=b;z();var I=qa();if(I!==a){z();var K=ma();K!==a?(y=k,k={op:I,expr:K,location:m()}):(b=k,k=a)}else b=k,k=a;for(;k!==a;)e.push(k),k=b,z(),I=qa(),I!==a?(z(),K=ma(),K!==a?(y=k,k={op:I,expr:K,location:m()}):(b=k,k=a)):(b=k,k=a);y=c;c=rb(d,e)}else b=c,c=a;return c}function qa(){var c=f.charAt(b);Tb.test(c)?b++:(c=a,0===r&&D(Ub));c===a&&(f.substr(b,2)===Xc?(c=Xc,b+=2):(c=a,0===r&&D(Wd)));return c}function ma(){var c=b;var d=g();if(d!==a){var e=[];var k=b;z();var I=ka();
if(I!==a){z();var K=g();K!==a?(y=k,k={op:I,expr:K,location:m()}):(b=k,k=a)}else b=k,k=a;for(;k!==a;)e.push(k),k=b,z(),I=ka(),I!==a?(z(),K=g(),K!==a?(y=k,k={op:I,expr:K,location:m()}):(b=k,k=a)):(b=k,k=a);y=c;c=rb(d,e)}else b=c,c=a;return c}function ka(){var c=f.charAt(b);Xd.test(c)?b++:(c=a,0===r&&D(Yd));return c}function g(){var c=fb();if(c===a){var d=b;var e=b;var k=Ma();if(k!==a){var I=nb();if(I!==a){var K=ob();K!==a?(y=e,e=parseFloat(k+I+K)):(b=e,e=a)}else b=e,e=a}else b=e,e=a;e===a&&(e=b,k=Ma(),
k!==a?(I=nb(),I!==a?(y=e,e=parseFloat(k+I)):(b=e,e=a)):(b=e,e=a),e===a&&(e=b,k=Ma(),k!==a?(I=ob(),I!==a?(y=e,e=parseFloat(k+I)):(b=e,e=a)):(b=e,e=a),e===a&&(e=b,k=Ma(),k!==a&&(y=e,k=parseFloat(k)),e=k)));var T=e;if(T!==a){var ca=b;r++;var sb=H();r--;sb===a?ca=void 0:(b=ca,ca=a);ca!==a?(y=d,d={type:"number",location:m(),value:T}):(b=d,d=a)}else b=d,d=a;c=d;if(c===a){var ra=b;var ib=b;var tb=f.substr(b,4);tb.toLowerCase()===Zd?b+=4:(tb=a,0===r&&D($d));if(tb!==a){var ub=b;r++;var ae=G();r--;ae===a?ub=
void 0:(b=ub,ub=a);ub!==a?ib=tb=[tb,ub]:(b=ib,ib=a)}else b=ib,ib=a;var Na=ib;Na!==a&&(y=ra,Na={type:"boolean",location:m(),value:!0});ra=Na;if(ra===a){ra=b;var jb=b;var vb=f.substr(b,5);vb.toLowerCase()===be?b+=5:(vb=a,0===r&&D(ce));if(vb!==a){var wb=b;r++;var de=G();r--;de===a?wb=void 0:(b=wb,wb=a);wb!==a?jb=vb=[vb,wb]:(b=jb,jb=a)}else b=jb,jb=a;Na=jb;Na!==a&&(y=ra,Na={type:"boolean",location:m(),value:!1});ra=Na}c=ra;if(c===a){var ee=b;var kb=b;var xb=f.substr(b,4);xb.toLowerCase()===fe?b+=4:(xb=
a,0===r&&D(ge));if(xb!==a){var yb=b;r++;var he=G();r--;he===a?yb=void 0:(b=yb,yb=a);yb!==a?kb=xb=[xb,yb]:(b=kb,kb=a)}else b=kb,kb=a;var oc=kb;oc!==a&&(y=ee,oc={type:"null",location:m(),value:null});c=oc;if(c===a){var Oa=b;if(Yc()!==a){z();var Vb=za();Vb!==a?(y=Oa,"string"===Vb.type&&!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(Vb.value)&&
u("Date literal is invalid"),Oa={type:"date",location:m(),value:Vb.value}):(b=Oa,Oa=a)}else b=Oa,Oa=a;c=Oa;if(c===a){var Pa=b;if(Zc()!==a){z();var Wb=za();Wb!==a?(y=Pa,"string"===Wb.type&&!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(Wb.value)&&
u("Timestamp literal is invalid"),Pa={type:"timestamp",location:m(),value:Wb.value}):(b=Pa,Pa=a)}else b=Pa,Pa=a;c=Pa;if(c===a){var ia=b;var pc=$c();if(pc!==a){z();var Qa=f.charAt(b);Tb.test(Qa)?b++:(Qa=a,0===r&&D(Ub));if(Qa!==a){z();var zb=za();if(zb!==a){z();var ad=lb();if(ad!==a){y=ia;var ie=Qa,je=zb;ia={type:"interval",location:m(),value:je,qualifier:ad,op:ie}}else b=ia,ia=a}else b=ia,ia=a}else b=ia,ia=a}else b=ia,ia=a;if(ia===a)if(ia=b,pc=$c(),pc!==a)if(z(),Qa=za(),Qa!==a)if(z(),zb=lb(),zb!==
a){y=ia;var ke=Qa,le=zb;ia={type:"interval",location:m(),value:ke,qualifier:le,op:""}}else b=ia,ia=a;else b=ia,ia=a;else b=ia,ia=a;c=ia;if(c===a){var Ra=b;if(bd()!==a){z();var Xb=za();Xb!==a?(y=Ra,"string"===Xb.type&&!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(Xb.value)&&u("Time literal is invalid"),Ra={type:"time",location:m(),value:Xb.value}):(b=Ra,Ra=a)}else b=Ra,Ra=a;c=Ra}}}}}}}var V=c;if(V===a){var Sa=b;if(cd()!==a){z();var W=b;var qc=
na();if(qc!==a){z();var Ab=Ha();if(Ab!==a){z();var sc=rc();if(sc!==a){z();var Bb=n();if(Bb!==a){z();var tc=oa();if(tc!==a){y=W;var me=Ab,ne=Bb;W=sa(m(),me,ne)}else b=W,W=a}else b=W,W=a}else b=W,W=a}else b=W,W=a}else b=W,W=a;if(W===a)if(W=b,qc=na(),qc!==a)if(z(),Ab=Ha(),Ab!==a)if(z(),sc=Ga(),sc!==a)if(z(),Bb=n(),Bb!==a)if(z(),tc=oa(),tc!==a){y=W;var oe=Ab,pe=Bb;W=sa(m(),oe,pe)}else b=W,W=a;else b=W,W=a;else b=W,W=a;else b=W,W=a;else b=W,W=a;if(W!==a){y=Sa;var qe=W;Sa={type:"function",location:m(),
name:"extract",args:qe}}else b=Sa,Sa=a}else b=Sa,Sa=a;V=Sa;if(V===a){var Ta=b;var Ua=b;var uc=f.substr(b,9);uc.toLowerCase()===re?b+=9:(uc=a,0===r&&D(se));if(uc!==a){var Yb=b;r++;var te=G();r--;te===a?Yb=void 0:(b=Yb,Yb=a);Yb!==a?(y=Ua,Ua="SUBSTRING"):(b=Ua,Ua=a)}else b=Ua,Ua=a;if(Ua!==a){z();var U=b;var vc=na();if(vc!==a){z();var Cb=n();if(Cb!==a){z();var wc=rc();if(wc!==a){z();var Db=n();if(Db!==a){z();var Ba=b;var Va=b;var xc=f.substr(b,3);xc.toLowerCase()===ue?b+=3:(xc=a,0===r&&D(ve));if(xc!==
a){var Zb=b;r++;var we=G();r--;we===a?Zb=void 0:(b=Zb,Zb=a);Zb!==a?(y=Va,Va="FOR"):(b=Va,Va=a)}else b=Va,Va=a;var $b=Va;if($b!==a){var yc=z();var ac=n();ac!==a?(z(),Ba=ac):(b=Ba,Ba=a)}else b=Ba,Ba=a;Ba===a&&(Ba=null);$b=oa();if($b!==a){y=U;var xe=Cb,ye=Db,dd=Ba;U=sa(m(),xe,ye,...(dd?[dd]:[]))}else b=U,U=a}else b=U,U=a}else b=U,U=a}else b=U,U=a}else b=U,U=a;if(U===a)if(U=b,vc=na(),vc!==a)if(z(),Cb=n(),Cb!==a)if(z(),wc=Ga(),wc!==a)if(z(),Db=n(),Db!==a)if(z(),Ba=Ga(),Ba!==a)if($b=z(),yc=n(),yc!==a)if(ac=
oa(),ac!==a){y=U;var ze=Cb,Ae=Db,Be=yc;U=sa(m(),ze,Ae,Be)}else b=U,U=a;else b=U,U=a;else b=U,U=a;else b=U,U=a;else b=U,U=a;else b=U,U=a;else b=U,U=a;if(U!==a){y=Ta;var Ce=U;Ta={type:"function",location:m(),name:"substring",args:Ce}}else b=Ta,Ta=a}else b=Ta,Ta=a;V=Ta;if(V===a){var Wa=b;var Xa=b;var zc=f.substr(b,4);zc.toLowerCase()===De?b+=4:(zc=a,0===r&&D(Ee));if(zc!==a){var bc=b;r++;var Fe=G();r--;Fe===a?bc=void 0:(b=bc,bc=a);bc!==a?(y=Xa,Xa="TRIM"):(b=Xa,Xa=a)}else b=Xa,Xa=a;if(Xa!==a){z();var da=
b;var Ac=na();if(Ac!==a){z();var Bc=Ea();z();var Eb=n();if(Eb!==a){z();var Cc=rc();if(Cc!==a){z();var ed=n();if(ed!==a){z();var Ge=oa();if(Ge!==a){y=da;var He=Bc,Ie=Eb;da=sa(m(),He,Ie,ed)}else b=da,da=a}else b=da,da=a}else b=da,da=a}else b=da,da=a}else b=da,da=a;if(da===a)if(da=b,Ac=na(),Ac!==a)if(z(),Bc=Ea(),z(),Eb=n(),Eb!==a)if(z(),Cc=oa(),Cc!==a){y=da;var Je=Bc,Ke=Eb;da=sa(m(),Je,Ke)}else b=da,da=a;else b=da,da=a;else b=da,da=a;if(da!==a){y=Wa;var Le=da;Wa={type:"function",location:m(),name:"trim",
args:Le}}else b=Wa,Wa=a}else b=Wa,Wa=a;V=Wa;if(V===a){var Ya=b;var Za=b;var Dc=f.substr(b,8);Dc.toLowerCase()===Me?b+=8:(Dc=a,0===r&&D(Ne));if(Dc!==a){var cc=b;r++;var Oe=G();r--;Oe===a?cc=void 0:(b=cc,cc=a);cc!==a?(y=Za,Za="POSITION"):(b=Za,Za=a)}else b=Za,Za=a;if(Za!==a){z();var X=b;var Ec=na();if(Ec!==a){z();var Fb=n();if(Fb!==a){z();var Fc=gb();if(Fc!==a){z();var Gb=n();if(Gb!==a){z();var Gc=oa();if(Gc!==a){y=X;var Pe=Fb,Qe=Gb;X=sa(m(),Pe,Qe)}else b=X,X=a}else b=X,X=a}else b=X,X=a}else b=X,X=
a}else b=X,X=a;if(X===a)if(X=b,Ec=na(),Ec!==a)if(z(),Fb=n(),Fb!==a)if(z(),Fc=Ga(),Fc!==a)if(z(),Gb=n(),Gb!==a)if(z(),Gc=oa(),Gc!==a){y=X;var Re=Fb,Se=Gb;X=sa(m(),Re,Se)}else b=X,X=a;else b=X,X=a;else b=X,X=a;else b=X,X=a;else b=X,X=a;if(X!==a){y=Ya;var Te=X;Ya={type:"function",location:m(),name:"position",args:Te}}else b=Ya,Ya=a}else b=Ya,Ya=a;V=Ya;if(V===a){var $a=b;var ab=b;var Hc=f.substr(b,4);Hc.toLowerCase()===Ue?b+=4:(Hc=a,0===r&&D(Ve));if(Hc!==a){var dc=b;r++;var We=G();r--;We===a?dc=void 0:
(b=dc,dc=a);dc!==a?(y=ab,ab="CAST"):(b=ab,ab=a)}else b=ab,ab=a;if(ab!==a){z();var Y=b;var Ic=na();if(Ic!==a){z();var Hb=n();if(Hb!==a){z();var bb=b;var Jc=f.substr(b,2);Jc.toLowerCase()===Xe?b+=2:(Jc=a,0===r&&D(Ye));if(Jc!==a){var ec=b;r++;var Ze=G();r--;Ze===a?ec=void 0:(b=ec,ec=a);ec!==a?(y=bb,bb="AS"):(b=bb,bb=a)}else b=bb,bb=a;var Kc=bb;if(Kc!==a){z();var Ib=wa();if(Ib!==a){z();var Lc=oa();if(Lc!==a){y=Y;var $e=Hb,af=Ib;Y=sa(m(),$e,af)}else b=Y,Y=a}else b=Y,Y=a}else b=Y,Y=a}else b=Y,Y=a}else b=
Y,Y=a;if(Y===a)if(Y=b,Ic=na(),Ic!==a)if(z(),Hb=n(),Hb!==a)if(z(),Kc=Ga(),Kc!==a)if(z(),Ib=wa(),Ib!==a)if(z(),Lc=oa(),Lc!==a){y=Y;var bf=Hb,cf=Ib;Y=sa(m(),bf,cf)}else b=Y,Y=a;else b=Y,Y=a;else b=Y,Y=a;else b=Y,Y=a;else b=Y,Y=a;if(Y!==a){y=$a;var df=Y;$a={type:"function",location:m(),name:"cast",args:df}}else b=$a,$a=a}else b=$a,$a=a;V=$a;if(V===a){var Ca;var fc=Ca=b;r++;var gc=cd();r--;gc===a?fc=void 0:(b=fc,fc=a);if(fc!==a){var ta=b;var Jb=w();Jb!==a&&(y=ta);ta=Jb;if(ta===a)if(ta=b,96===f.charCodeAt(b)?
(Jb=fd,b++):(Jb=a,0===r&&D(gd)),Jb!==a){var hc=[];var ya=f.charAt(b);hd.test(ya)?b++:(ya=a,0===r&&D(id));if(ya!==a)for(;ya!==a;)hc.push(ya),ya=f.charAt(b),hd.test(ya)?b++:(ya=a,0===r&&D(id));else hc=a;hc!==a?(96===f.charCodeAt(b)?(ya=fd,b++):(ya=a,0===r&&D(gd)),ya!==a?(y=ta,ta=hc.join("")):(b=ta,ta=a)):(b=ta,ta=a)}else b=ta,ta=a;gc=ta;if(gc!==a){z();var jd=h();if(jd!==a){y=Ca;var ef=gc;Ca={type:"function",location:m(),name:ef,args:jd}}else b=Ca,Ca=a}else b=Ca,Ca=a}else b=Ca,Ca=a;V=Ca;if(V===a){var ja=
b;var Mc=ic();if(Mc!==a){z();var Kb=n();if(Kb!==a){z();var Lb=[];var ea=b;var ua=La();if(ua!==a){var Mb=z();ea=ua}else b=ea,ea=a;for(;ea!==a;)Lb.push(ea),ea=b,ua=La(),ua!==a?(Mb=z(),ea=ua):(b=ea,ea=a);ea=jc();if(ea!==a){y=ja;var ff=Kb,gf=Lb;ja={type:"case-expression",location:m(),format:"simple",operand:ff,clauses:gf,else:null,elseLocation:null}}else b=ja,ja=a}else b=ja,ja=a}else b=ja,ja=a;if(ja===a)if(ja=b,Mc=ic(),Mc!==a)if(z(),Kb=n(),Kb!==a){z();Lb=[];ea=b;ua=La();ua!==a?(Mb=z(),ea=ua):(b=ea,ea=
a);for(;ea!==a;)Lb.push(ea),ea=b,ua=La(),ua!==a?(Mb=z(),ea=ua):(b=ea,ea=a);ea=mb();if(ea!==a)if(ua=z(),Mb=jc(),Mb!==a){y=ja;var hf=Kb,jf=Lb,kd=ea;ja={type:"case-expression",location:m(),format:"simple",operand:hf,clauses:jf,else:kd.value,elseLocation:kd.location}}else b=ja,ja=a;else b=ja,ja=a}else b=ja,ja=a;else b=ja,ja=a;var Nc=ja;if(Nc===a){var pa=b;var Oc=ic();if(Oc!==a){z();var Nb=[];var fa=b;var va=Ka();if(va!==a){var Ob=z();fa=va}else b=fa,fa=a;for(;fa!==a;)Nb.push(fa),fa=b,va=Ka(),va!==a?(Ob=
z(),fa=va):(b=fa,fa=a);fa=jc();if(fa!==a){y=pa;var kf=Nb;pa={type:"case-expression",location:m(),format:"searched",clauses:kf,else:null,elseLocation:null}}else b=pa,pa=a}else b=pa,pa=a;if(pa===a)if(pa=b,Oc=ic(),Oc!==a){z();Nb=[];fa=b;va=Ka();va!==a?(Ob=z(),fa=va):(b=fa,fa=a);for(;fa!==a;)Nb.push(fa),fa=b,va=Ka(),va!==a?(Ob=z(),fa=va):(b=fa,fa=a);fa=mb();if(fa!==a)if(va=z(),Ob=jc(),Ob!==a){y=pa;var lf=Nb,ld=fa;pa={type:"case-expression",location:m(),format:"searched",clauses:lf,else:ld.value,elseLocation:ld.location}}else b=
pa,pa=a;else b=pa,pa=a}else b=pa,pa=a;Nc=pa}V=Nc;if(V===a){var cb=b;var mf=b;var kc;var Pb=b;var md=H();if(md!==a){var nd=[];for(kc=P();kc!==a;)nd.push(kc),kc=P();y=Pb;Pb=md+nd.join("")}else b=Pb,Pb=a;var od=Pb;od!==a&&(y=mf);var Da=od;if(Da!==a){y=cb;var Qb=Da;Da=/^CURRENT_DATE$/i.test(Qb)?{type:"current-time",location:m(),mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(Qb)?{type:"current-time",location:m(),mode:"timestamp"}:/^CURRENT_TIME$/i.test(Qb)?{type:"current-time",location:m(),mode:"time"}:/^CURRENT_USER$/i.test(Qb)?
{type:"current-user",location:m()}:{type:"column-reference",location:m(),table:"",column:Qb}}cb=Da;if(cb===a){cb=b;var db=b;if(S()!==a){var lc;var nf=b;var Pc=[];for(lc=R();lc!==a;)Pc.push(lc),lc=R();y=nf;var of=Pc=Pc.join("");var pf=S();pf!==a?(y=db,db=of):(b=db,db=a)}else b=db,db=a;Da=db;if(Da!==a){y=cb;var qf=Da;Da={type:"column-reference",location:m(),table:"",column:qf,delimited:!0}}cb=Da}V=cb;if(V===a&&(V=la(),V===a)){V=b;var rf=na();if(rf!==a){z();var Qc=n();if(Qc!==a){z();var sf=oa();sf!==
a?(y=V,Qc.paren=!0,V=Qc):(b=V,V=a)}else b=V,V=a}else b=V,V=a}}}}}}}}}return V}function w(){var c;var d=b;var e=H();if(e!==a){var k=[];for(c=G();c!==a;)k.push(c),c=G();y=d;d=e+k.join("")}else b=d,d=a;return d}function H(){var c=f.charAt(b);tf.test(c)?b++:(c=a,0===r&&D(uf));return c}function G(){var c=f.charAt(b);vf.test(c)?b++:(c=a,0===r&&D(wf));return c}function P(){var c=f.charAt(b);pd.test(c)?b++:(c=a,0===r&&D(qd));return c}function R(){var c=f.charAt(b);pd.test(c)?b++:(c=a,0===r&&D(qd));if(c===
a)if(c=b,S()!==a){var d=S();d!==a?(y=c,c='"'):(b=c,c=a)}else b=c,c=a;return c}function S(){var c=f.charAt(b);xf.test(c)?b++:(c=a,0===r&&D(yf));return c}function la(){var c;var d=c=b;if(64===f.charCodeAt(b)){var e=zf;b++}else e=a,0===r&&D(Af);if(e!==a){var k=w();k!==a?d=e=[e,k]:(b=d,d=a)}else b=d,d=a;d!==a&&(y=c,c=d,d={type:"parameter",location:m(),value:c[1]});return d}function wa(){var c=b;var d=b;var e=f.substr(b,7);e.toLowerCase()===Bf?b+=7:(e=a,0===r&&D(Cf));if(e!==a){e=b;r++;var k=G();r--;k===
a?e=void 0:(b=e,e=a);e!==a?(y=d,d="INTEGER"):(b=d,d=a)}else b=d,d=a;d===a&&(d=b,e=f.substr(b,3),e.toLowerCase()===Df?b+=3:(e=a,0===r&&D(Ef)),e!==a?(e=b,r++,k=G(),r--,k===a?e=void 0:(b=e,e=a),e!==a?(y=d,d="INT"):(b=d,d=a)):(b=d,d=a));d!==a&&(y=c,d={type:"data-type",location:m(),value:{type:"integer"}});c=d;c===a&&(d=c=b,e=f.substr(b,8),e.toLowerCase()===Ff?b+=8:(e=a,0===r&&D(Gf)),e!==a?(e=b,r++,k=G(),r--,k===a?e=void 0:(b=e,e=a),e!==a?(y=d,d="SMALLINT"):(b=d,d=a)):(b=d,d=a),d!==a&&(y=c,d={type:"data-type",
location:m(),value:{type:"smallint"}}),c=d,c===a&&(d=c=b,e=f.substr(b,5),e.toLowerCase()===Hf?b+=5:(e=a,0===r&&D(If)),e!==a?(e=b,r++,k=G(),r--,k===a?e=void 0:(b=e,e=a),e!==a?(y=d,d="FLOAT"):(b=d,d=a)):(b=d,d=a),d!==a&&(y=c,d={type:"data-type",location:m(),value:{type:"float"}}),c=d,c===a&&(d=c=b,e=f.substr(b,4),e.toLowerCase()===Jf?b+=4:(e=a,0===r&&D(Kf)),e!==a?(e=b,r++,k=G(),r--,k===a?e=void 0:(b=e,e=a),e!==a?(y=d,d="REAL"):(b=d,d=a)):(b=d,d=a),d!==a&&(y=c,d={type:"data-type",location:m(),value:{type:"real"}}),
c=d,c===a&&(c=b,d=Yc(),d!==a&&(y=c,d={type:"data-type",location:m(),value:{type:"date"}}),c=d,c===a&&(c=b,d=Zc(),d!==a&&(y=c,d={type:"data-type",location:m(),value:{type:"timestamp"}}),c=d,c===a&&(c=b,d=bd(),d!==a&&(y=c,d={type:"data-type",location:m(),value:{type:"time"}}),c=d,c===a&&(d=c=b,e=f.substr(b,7),e.toLowerCase()===Lf?b+=7:(e=a,0===r&&D(Mf)),e!==a?(e=b,r++,k=G(),r--,k===a?e=void 0:(b=e,e=a),e!==a?(y=d,d="VARCHAR"):(b=d,d=a)):(b=d,d=a),d!==a?(z(),d=na(),d!==a?(z(),d=Aa(),d!==a?(z(),e=oa(),
e!==a?(y=c,c={type:"data-type",location:m(),value:{type:"varchar",size:parseInt(d)}}):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a))))))));return c}function Ea(){var c=b;var d=b;var e=f.substr(b,7);e.toLowerCase()===Nf?b+=7:(e=a,0===r&&D(Of));if(e!==a){e=b;r++;var k=G();r--;k===a?e=void 0:(b=e,e=a);e!==a?(y=d,d="LEADING"):(b=d,d=a)}else b=d,d=a;d===a&&(d=b,e=f.substr(b,8),e.toLowerCase()===Pf?b+=8:(e=a,0===r&&D(Qf)),e!==a?(e=b,r++,k=G(),r--,k===a?e=void 0:(b=e,e=a),e!==a?(y=d,d="TRAILING"):(b=d,d=a)):
(b=d,d=a),d===a&&(d=b,e=f.substr(b,4),e.toLowerCase()===Rf?b+=4:(e=a,0===r&&D(Sf)),e!==a?(e=b,r++,k=G(),r--,k===a?e=void 0:(b=e,e=a),e!==a?(y=d,d="BOTH"):(b=d,d=a)):(b=d,d=a)));d===a&&(d=null);y=c;c=d;return d={type:"string",location:m(),value:null==c?"BOTH":c}}function Ha(){var c=b;var d=rd();if(d===a&&(d=sd(),d===a&&(d=td(),d===a&&(d=ud(),d===a&&(d=vd(),d===a&&(d=eb(),d===a)))))){d=b;var e=f.substr(b,13);e.toLowerCase()===Tf?b+=13:(e=a,0===r&&D(Uf));if(e!==a){e=b;r++;var k=G();r--;k===a?e=void 0:
(b=e,e=a);e!==a?(y=d,d="TIMEZONE_HOUR"):(b=d,d=a)}else b=d,d=a;d===a&&(d=b,e=f.substr(b,15),e.toLowerCase()===Vf?b+=15:(e=a,0===r&&D(Wf)),e!==a?(e=b,r++,k=G(),r--,k===a?e=void 0:(b=e,e=a),e!==a?(y=d,d="TIMEZONE_MINUTE"):(b=d,d=a)):(b=d,d=a))}d!==a&&(y=c,c=d,d={type:"string",location:m(),value:c});return d}function lb(){var c=b;var d=b;var e=Fa();if(e!==a){z();var k=na();if(k!==a)if(z(),k=Ja(),k!==a){z();var I=oa();I!==a?(y=d,d=e,d={type:"interval-period",location:m(),period:d.value,precision:k,secondary:null}):
(b=d,d=a)}else b=d,d=a;else b=d,d=a}else b=d,d=a;d===a&&(d=b,e=Fa(),e!==a&&(y=d,d=e,e={type:"interval-period",location:m(),period:d.value,precision:null,secondary:null}),d=e);if(d!==a)if(z(),e=b,k=f.substr(b,2),k.toLowerCase()===Xf?b+=2:(k=a,0===r&&D(Yf)),k!==a?(k=b,r++,I=G(),r--,I===a?k=void 0:(b=k,k=a),k!==a?(y=e,e="TO"):(b=e,e=a)):(b=e,e=a),e!==a){z();e=b;k=Fa();k!==a&&(y=e,e=k,k={type:"interval-period",location:m(),period:e.value,precision:null,secondary:null});e=k;if(e===a){e=b;k=eb();if(k!==
a)if(z(),k=na(),k!==a)if(z(),k=Ja(),k!==a)if(z(),I=Ga(),I!==a)if(z(),I=Ia(),I!==a){z();var K=oa();K!==a?(y=e,e=k,e={type:"interval-period",location:m(),period:"second",precision:e,secondary:I}):(b=e,e=a)}else b=e,e=a;else b=e,e=a;else b=e,e=a;else b=e,e=a;else b=e,e=a;e===a&&(e=b,k=eb(),k!==a?(z(),k=na(),k!==a?(z(),k=Ja(),k!==a?(z(),I=oa(),I!==a?(y=e,e=k,e={type:"interval-period",location:m(),period:"second",precision:e,secondary:null}):(b=e,e=a)):(b=e,e=a)):(b=e,e=a)):(b=e,e=a),e===a&&(e=b,k=eb(),
k!==a&&(y=e,k={type:"interval-period",location:m(),period:"second",precision:null,secondary:null}),e=k))}e!==a?(y=c,c={type:"interval-qualifier",location:m(),start:d,end:e}):(b=c,c=a)}else b=c,c=a;else b=c,c=a;c===a&&(c=b,e=Fa(),e!==a?(z(),d=na(),d!==a?(z(),d=Ia(),d!==a?(z(),k=oa(),k!==a?(y=c,c=e,c={type:"interval-period",location:m(),period:c.value,precision:d,secondary:null}):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,e=Fa(),e!==a&&(y=c,c=e,e={type:"interval-period",location:m(),period:c.value,
precision:null,secondary:null}),c=e,c===a&&(c=b,e=eb(),e!==a?(z(),d=na(),d!==a?(z(),d=Ja(),d!==a?(z(),k=Ga(),k!==a?(z(),e=Ia(),e!==a?(z(),k=oa(),k!==a?(y=c,c=d,c={type:"interval-period",location:m(),period:"second",precision:c,secondary:e}):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,e=eb(),e!==a?(z(),d=na(),d!==a?(z(),d=Ia(),d!==a?(z(),k=oa(),k!==a?(y=c,c=d,c={type:"interval-period",location:m(),period:"second",precision:c,secondary:null}):(b=c,c=a)):(b=c,c=a)):(b=
c,c=a)):(b=c,c=a),c===a&&(c=b,e=eb(),e!==a&&(y=c,e={type:"interval-period",location:m(),period:"second",precision:null,secondary:null}),c=e)))));return c}function Fa(){var c=b;var d=td();d!==a&&(y=c,d={type:"string",location:m(),value:"day"});c=d;c===a&&(c=b,d=ud(),d!==a&&(y=c,d={type:"string",location:m(),value:"hour"}),c=d,c===a&&(c=b,d=vd(),d!==a&&(y=c,d={type:"string",location:m(),value:"minute"}),c=d,c===a&&(c=b,d=sd(),d!==a&&(y=c,d={type:"string",location:m(),value:"month"}),c=d,c===a&&(c=b,
d=rd(),d!==a&&(y=c,d={type:"string",location:m(),value:"year"}),c=d))));return c}function Ia(){var c=b;var d=Aa();d!==a&&(y=c,d=parseFloat(d));return d}function Ja(){var c=b;var d=Aa();d!==a&&(y=c,d=parseFloat(d));return d}function za(){var c=fb();c===a&&(c=la());return c}function fb(){var c=b;if(39===f.charCodeAt(b)){var d=wd;b++}else d=a,0===r&&D(xd);d===a&&(f.substr(b,2)===yd?(d=yd,b+=2):(d=a,0===r&&D(Zf)));if(d!==a){d=[];var e=b;if(f.substr(b,2)===mc){var k=mc;b+=2}else k=a,0===r&&D(zd);k!==a&&
(y=e,k="'");e=k;e===a&&(e=f.charAt(b),Ad.test(e)?b++:(e=a,0===r&&D(Bd)));for(;e!==a;)d.push(e),e=b,f.substr(b,2)===mc?(k=mc,b+=2):(k=a,0===r&&D(zd)),k!==a&&(y=e,k="'"),e=k,e===a&&(e=f.charAt(b),Ad.test(e)?b++:(e=a,0===r&&D(Bd)));39===f.charCodeAt(b)?(e=wd,b++):(e=a,0===r&&D(xd));e!==a?(y=c,c={type:"string",location:m(),value:d.join("")}):(b=c,c=a)}else b=c,c=a;return c}function Ka(){var c=b;if(Cd()!==a){z();var d=n();if(d!==a){z();var e=Dd();e!==a?(z(),e=n(),e!==a?(y=c,c={type:"when-clause",location:m(),
operand:d,value:e}):(b=c,c=a)):(b=c,c=a)}else b=c,c=a}else b=c,c=a;return c}function La(){var c=b;if(Cd()!==a){z();var d=n();if(d!==a){z();var e=Dd();e!==a?(z(),e=n(),e!==a?(y=c,c={type:"when-clause",location:m(),operand:d,value:e}):(b=c,c=a)):(b=c,c=a)}else b=c,c=a}else b=c,c=a;return c}function mb(){var c=b;var d=b;var e=f.substr(b,4);e.toLowerCase()===$f?b+=4:(e=a,0===r&&D(ag));if(e!==a){e=b;r++;var k=G();r--;k===a?e=void 0:(b=e,e=a);e!==a?(y=d,d="ELSE"):(b=d,d=a)}else b=d,d=a;d!==a?(z(),d=n(),
d!==a?(y=c,c={type:"else-clause",location:m(),value:d}):(b=c,c=a)):(b=c,c=a);return c}function Ma(){var c=Aa();if(c===a){c=b;var d=f.charAt(b);Tb.test(d)?b++:(d=a,0===r&&D(Ub));if(d!==a){var e=Aa();e!==a?(y=c,c=d[0]+e):(b=c,c=a)}else b=c,c=a}return c}function nb(){var c=b;if(46===f.charCodeAt(b)){var d=bg;b++}else d=a,0===r&&D(cg);d!==a?(d=Aa(),d===a&&(d=null),y=c,c="."+(null!=d?d:"")):(b=c,c=a);return c}function ob(){var c;var d=c=b;var e=f.charAt(b);dg.test(e)?b++:(e=a,0===r&&D(eg));e!==a?(e=f.charAt(b),
Tb.test(e)?b++:(e=a,0===r&&D(Ub)),e===a&&(e=null),y=d,d="e"+(null===e?"":e)):(b=d,d=a);d!==a?(e=Aa(),e!==a?(y=c,c=d+e):(b=c,c=a)):(b=c,c=a);return c}function Aa(){var c=b;var d=[];var e=pb();if(e!==a)for(;e!==a;)d.push(e),e=pb();else d=a;d!==a&&(y=c,d=d.join(""));return d}function pb(){var c=f.charAt(b);fg.test(c)?b++:(c=a,0===r&&D(gg));return c}function gb(){var c=b;var d=f.substr(b,2);d.toLowerCase()===hg?b+=2:(d=a,0===r&&D(ig));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=
c,c="IN"):(b=c,c=a)}else b=c,c=a;return c}function qb(){var c=b;var d=f.substr(b,2);d.toLowerCase()===jg?b+=2:(d=a,0===r&&D(kg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="IS"):(b=c,c=a)}else b=c,c=a;return c}function E(){var c=b;var d=f.substr(b,4);d.toLowerCase()===lg?b+=4:(d=a,0===r&&D(mg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="LIKE"):(b=c,c=a)}else b=c,c=a;return c}function A(){var c=b;var d=f.substr(b,3);d.toLowerCase()===ng?b+=3:(d=
a,0===r&&D(og));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="NOT"):(b=c,c=a)}else b=c,c=a;return c}function x(){var c=b;var d=f.substr(b,3);d.toLowerCase()===pg?b+=3:(d=a,0===r&&D(qg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="AND"):(b=c,c=a)}else b=c,c=a;return c}function Rb(){var c=b;var d=f.substr(b,2);d.toLowerCase()===rg?b+=2:(d=a,0===r&&D(sg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="OR"):(b=c,c=a)}else b=c,
c=a;return c}function Rc(){var c=b;var d=f.substr(b,7);d.toLowerCase()===tg?b+=7:(d=a,0===r&&D(ug));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="BETWEEN"):(b=c,c=a)}else b=c,c=a;return c}function rc(){var c=b;var d=f.substr(b,4);d.toLowerCase()===vg?b+=4:(d=a,0===r&&D(wg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="FROM"):(b=c,c=a)}else b=c,c=a;return c}function cd(){var c=b;var d=f.substr(b,7);d.toLowerCase()===xg?b+=7:(d=a,0===r&&D(yg));if(d!==
a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="EXTRACT"):(b=c,c=a)}else b=c,c=a;return c}function Zc(){var c=b;var d=f.substr(b,9);d.toLowerCase()===zg?b+=9:(d=a,0===r&&D(Ag));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="TIMESTAMP"):(b=c,c=a)}else b=c,c=a;return c}function Yc(){var c=b;var d=f.substr(b,4);d.toLowerCase()===Bg?b+=4:(d=a,0===r&&D(Cg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="DATE"):(b=c,c=a)}else b=c,c=a;return c}
function bd(){var c=b;var d=f.substr(b,4);d.toLowerCase()===Dg?b+=4:(d=a,0===r&&D(Eg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="TIME"):(b=c,c=a)}else b=c,c=a;return c}function $c(){var c=b;var d=f.substr(b,8);d.toLowerCase()===Fg?b+=8:(d=a,0===r&&D(Gg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="INTERVAL"):(b=c,c=a)}else b=c,c=a;return c}function rd(){var c=b;var d=f.substr(b,4);d.toLowerCase()===Hg?b+=4:(d=a,0===r&&D(Ig));if(d!==a){d=b;r++;
var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="YEAR"):(b=c,c=a)}else b=c,c=a;return c}function sd(){var c=b;var d=f.substr(b,5);d.toLowerCase()===Jg?b+=5:(d=a,0===r&&D(Kg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="MONTH"):(b=c,c=a)}else b=c,c=a;return c}function td(){var c=b;var d=f.substr(b,3);d.toLowerCase()===Lg?b+=3:(d=a,0===r&&D(Mg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="DAY"):(b=c,c=a)}else b=c,c=a;return c}function ud(){var c=
b;var d=f.substr(b,4);d.toLowerCase()===Ng?b+=4:(d=a,0===r&&D(Og));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="HOUR"):(b=c,c=a)}else b=c,c=a;return c}function vd(){var c=b;var d=f.substr(b,6);d.toLowerCase()===Pg?b+=6:(d=a,0===r&&D(Qg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="MINUTE"):(b=c,c=a)}else b=c,c=a;return c}function eb(){var c=b;var d=f.substr(b,6);d.toLowerCase()===Rg?b+=6:(d=a,0===r&&D(Sg));if(d!==a){d=b;r++;var e=G();r--;e===a?
d=void 0:(b=d,d=a);d!==a?(y=c,c="SECOND"):(b=c,c=a)}else b=c,c=a;return c}function ic(){var c=b;var d=f.substr(b,4);d.toLowerCase()===Tg?b+=4:(d=a,0===r&&D(Ug));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="CASE"):(b=c,c=a)}else b=c,c=a;return c}function jc(){var c=b;var d=f.substr(b,3);d.toLowerCase()===Vg?b+=3:(d=a,0===r&&D(Wg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="END"):(b=c,c=a)}else b=c,c=a;return c}function Cd(){var c=b;var d=f.substr(b,
4);d.toLowerCase()===Xg?b+=4:(d=a,0===r&&D(Yg));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="WHEN"):(b=c,c=a)}else b=c,c=a;return c}function Dd(){var c=b;var d=f.substr(b,4);d.toLowerCase()===Zg?b+=4:(d=a,0===r&&D($g));if(d!==a){d=b;r++;var e=G();r--;e===a?d=void 0:(b=d,d=a);d!==a?(y=c,c="THEN"):(b=c,c=a)}else b=c,c=a;return c}function Ga(){if(44===f.charCodeAt(b)){var c=ah;b++}else c=a,0===r&&D(bh);return c}function na(){if(40===f.charCodeAt(b)){var c=ch;b++}else c=a,0===
r&&D(dh);return c}function oa(){if(41===f.charCodeAt(b)){var c=eh;b++}else c=a,0===r&&D(fh);return c}function z(){var c;var d=[];for(c=Ed();c!==a;)d.push(c),c=Ed();return d}function Ed(){var c=f.charAt(b);gh.test(c)?b++:(c=a,0===r&&D(hh));return c}function Sc(c,d,e,k,I){c={type:"binary-expression",location:I,operator:c,left:d,right:e};void 0!==k&&(c.escape=k);return c}function sa(c,...d){return{type:"expression-list",location:c,value:d}}function rb(c,d){for(const {op:e,expr:k,location:{end:I}}of d)c=
Sc(e,c,k,void 0,{...c.location,end:I});return c}t=void 0!==t?t:{};var a={},Hd=t.grammarSource,Fd={start:C},Gd=C,Id="!",Kd="\x3d",Tc="\x3e\x3d",Pd="\x3e",Uc="\x3c\x3d",Vc="\x3c\x3e",Wc="!\x3d",Xc="||",zf="@",wd="'",yd="N'",mc="''",bg=".",fe="null",Zd="true",be="false",hg="in",jg="is",lg="like",Md="escape",ng="not",pg="and",rg="or",tg="between",vg="from",ue="for",re="substring",xg="extract",De="trim",Me="position",zg="timestamp",Bg="date",Dg="time",Nf="leading",Pf="trailing",Rf="both",Ue="cast",Xe=
"as",Bf="integer",Df="int",Ff="smallint",Hf="float",Jf="real",Lf="varchar",Xf="to",Fg="interval",Hg="year",Tf="timezone_hour",Vf="timezone_minute",Jg="month",Lg="day",Ng="hour",Pg="minute",Rg="second",Tg="case",Vg="end",Xg="when",Zg="then",$f="else",ah=",",ch="(",eh=")",fd="`",Td=/^[<-=]/,Tb=/^[+\-]/,Xd=/^[*\/]/,tf=/^[A-Za-z_\x80-\uFFFF]/,vf=/^[A-Za-z0-9_]/,pd=/^[A-Za-z0-9_.\x80-\uFFFF]/,xf=/^["]/,Ad=/^[^']/,fg=/^[0-9]/,dg=/^[eE]/,gh=/^[ \t\n\r]/,hd=/^[^`]/,Jd=q("!",!1),Ld=q("\x3d",!1),Od=q("\x3e\x3d",
!1),Qd=q("\x3e",!1),Rd=q("\x3c\x3d",!1),Sd=q("\x3c\x3e",!1),Ud=N([["\x3c","\x3d"]],!1,!1),Vd=q("!\x3d",!1),Ub=N(["+","-"],!1,!1),Wd=q("||",!1),Yd=N(["*","/"],!1,!1),uf=N([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],!1,!1),wf=N([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),qd=N([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),yf=N(['"'],!1,!1),Af=q("@",!1),xd=q("'",!1),Zf=q("N'",!1),zd=q("''",!1),Bd=N(["'"],!0,!1),cg=q(".",!1),gg=N([["0","9"]],!1,!1),eg=N(["e","E"],!1,!1),ge=q("NULL",
!0),$d=q("TRUE",!0),ce=q("FALSE",!0),ig=q("IN",!0),kg=q("IS",!0),mg=q("LIKE",!0),Nd=q("ESCAPE",!0),og=q("NOT",!0),qg=q("AND",!0),sg=q("OR",!0),ug=q("BETWEEN",!0),wg=q("FROM",!0),ve=q("FOR",!0),se=q("SUBSTRING",!0),yg=q("EXTRACT",!0),Ee=q("TRIM",!0),Ne=q("POSITION",!0),Ag=q("TIMESTAMP",!0),Cg=q("DATE",!0),Eg=q("TIME",!0),Of=q("LEADING",!0),Qf=q("TRAILING",!0),Sf=q("BOTH",!0),Ve=q("CAST",!0),Ye=q("AS",!0),Cf=q("INTEGER",!0),Ef=q("INT",!0),Gf=q("SMALLINT",!0),If=q("FLOAT",!0),Kf=q("REAL",!0),Mf=q("VARCHAR",
!0),Yf=q("TO",!0),Gg=q("INTERVAL",!0),Ig=q("YEAR",!0),Uf=q("TIMEZONE_HOUR",!0),Wf=q("TIMEZONE_MINUTE",!0),Kg=q("MONTH",!0),Mg=q("DAY",!0),Og=q("HOUR",!0),Qg=q("MINUTE",!0),Sg=q("SECOND",!0),Ug=q("CASE",!0),Wg=q("END",!0),Yg=q("WHEN",!0),$g=q("THEN",!0),ag=q("ELSE",!0),bh=q(",",!1),dh=q("(",!1),fh=q(")",!1),hh=N([" ","\t","\n","\r"],!1,!1),gd=q("`",!1),id=N(["`"],!0,!1),b=t.peg$currPos|0,y=b,hb=[{line:1,column:1}],xa=b,Sb=t.peg$maxFailExpected||[],r=t.peg$silentFails|0;if(t.startRule){if(!(t.startRule in
Fd))throw Error("Can't start parsing from rule \""+t.startRule+'".');Gd=Fd[t.startRule]}var nc=Gd();if(t.peg$library)return{peg$result:nc,peg$currPos:b,peg$FAILED:a,peg$maxFailExpected:Sb,peg$maxFailPos:xa};if(nc!==a&&b===f.length)return nc;nc!==a&&b<f.length&&D({type:"end"});throw function(c,d,e){return new p(p.buildMessage(c,d),c,d,e)}(Sb,xa<f.length?f.charAt(xa):null,xa<f.length?J(xa,xa+1):J(xa,xa));}function v(f,t){if(null!=f)switch(t(f),f.type){case "when-clause":v(f.operand,t);v(f.value,t);
break;case "case-expression":for(const m of f.clauses)v(m,t);"simple"===f.format&&v(f.operand,t);null!==f.else&&v(f.else,t);break;case "expression-list":for(const m of f.value)v(m,t);break;case "unary-expression":v(f.expr,t);break;case "binary-expression":v(f.left,t);v(f.right,t);break;case "function":v(f.args,t);break;case "interval":v(f.value,t);v(f.qualifier,t);break;case "interval-qualifier":v(f.start,t),v(f.end,t)}}(function(f,t){function m(){this.constructor=f}m.prototype=t.prototype;f.prototype=
new m})(p,Error);p.prototype.format=function(f){var t="Error: "+this.message;if(this.location){var m=null,u;for(u=0;u<f.length;u++)if(f[u].source===this.location.source){m=f[u].text.split(/\r\n|\n|\r/g);break}f=this.location.start;u=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(f):f;var q=this.location.source+":"+u.line+":"+u.column;if(m){var N=this.location.end,O=l("",u.line.toString().length," ");m=m[f.line-1];N=(f.line===N.line?N.column:m.length+
1)-f.column||1;t+="\n --\x3e "+q+"\n"+O+" |\n"+u.line+" | "+m+"\n"+O+" | "+l("",f.column-1," ")+l("",N,"^")}else t+="\n at "+q}return t};p.buildMessage=function(f,t){function m(J){return J.charCodeAt(0).toString(16).toUpperCase()}function u(J){return J.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(D){return"\\x0"+m(D)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(D){return"\\x"+m(D)})}function q(J){return J.replace(/\\/g,
"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(D){return"\\x0"+m(D)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(D){return"\\x"+m(D)})}function N(J){return O[J.type](J)}var O={literal:function(J){return'"'+u(J.text)+'"'},class:function(J){var D=J.parts.map(function(C){return Array.isArray(C)?q(C[0])+"-"+q(C[1]):q(C)});return"["+(J.inverted?"^":"")+D.join("")+"]"},
any:function(){return"any character"},end:function(){return"end of input"},other:function(J){return J.description}};return"Expected "+function(J){J=J.map(N);var D,C;J.sort();if(0<J.length){for(C=D=1;D<J.length;D++)J[D-1]!==J[D]&&(J[C]=J[D],C++);J.length=C}switch(J.length){case 1:return J[0];case 2:return J[0]+" or "+J[1];default:return J.slice(0,-1).join(", ")+", or "+J[J.length-1]}}(f)+" but "+(t?'"'+u(t)+'"':"end of input")+" found."};class L{static parse(f){return F(f)}}B.WhereGrammar=L;B.visitAll=
v;Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("exports ../../arcade/ArcadeDate ../has ./AggregateFunctions ./DateOnly ./errorSupport ./sqlArithmeticUtils ./sqlCompareUtils ./sqlDateParsingUtils ./SqlInterval ./SqlTimestampOffset ./StandardizedFunctions ./TimeOnly ./WhereGrammar ../../chunks/datetime".split(" "),function(B,p,l,F,v,L,f,t,m,u,q,N,O,J,D){function C(g){return Array.isArray(g)?g:[g]}function h(g){return null!==g?!0!==g:null}function n(g,w){return null!=g&&null!=w?!0===g&&!0===w:!1===g||!1===w?!1:null}function M(g,w){return null!=
g&&null!=w?!0===g||!0===w:!0===g||!0===w?!0:null}function Q(g,w,H){if(null==g)return null;H=!1;for(const G of w)if(null==G)H=null;else if(g===G){H=!0;break}else if(t.isDateOrTimeValue(g)&&t.isDateOrTimeValue(G)&&(H=t.sqlCompare(g,G,"\x3d")))break;return H}function Z(g,w,H){if(null==g)return null;let G="",P=ma.Normal;for(let R=0;R<w.length;R++){const S=w.charAt(R);switch(P){case ma.Normal:S===H?P=ma.Escaped:G="-[]/{}()*+?.\\^$|".includes(S)?G+("\\"+S):"%"===S?G+".*":"_"===S?G+".":G+S;break;case ma.Escaped:G=
"-[]/{}()*+?.\\^$|".includes(S)?G+("\\"+S):G+S,P=ma.Normal}}return(new RegExp("^"+G+"$","m")).test(g)}function ba(g,w,H,G){g=G.getAttribute(g,w);w=H?.get(w);return null==g||"esriFieldTypeDate"!==w?.type&&"date"!==w?.type?null==g||"esriFieldTypeDateOnly"!==w?.type&&"date-only"!==w?.type?null==g||"esriFieldTypeTimeOnly"!==w?.type&&"time-only"!==w?.type?null==g||"esriFieldTypeTimestampOffset"!==w?.type&&"timestamp-offset"!==w?.type?g:new q.SqlTimeStampOffset(g):O.TimeOnly.fromReader(g):v.DateOnly.fromReader(g):
m.convertToExecutingTimeZone(new Date(g),H?.getLuxonTimeZone(w.name)??D.FixedOffsetZone.utcInstance)}const ha=new Set(["current_timestamp","current_date","current_time"]);class aa{static makeBool(g){return!0===g}static featureValue(g,w,H,G){return ba(g,w,H,G)}static equalsNull(g){return null===g}static applyLike(g,w,H){return Z(g,w,H)}static ensureArray(g){return C(g)}static applyIn(g,w,H){return Q(g,w)}static currentTimestamp(g){return m.convertToExecutingTimeZone(new Date,g)}static currentDate(g){return v.DateOnly.fromNow(g)}static currentTime(g){g=
m.convertToExecutingTimeZone(new Date,g);return O.TimeOnly.fromDateTime(g)}static makeSqlInterval(g,w,H){return u.SqlInterval.createFromValueAndQualifier(g,w,H)}static convertInterval(g){return g instanceof u.SqlInterval?g.valueInMilliseconds():g}static compare(g,w,H,G){return t.sqlCompare(w,H,g)}static calculate(g,w,H,G){return f.sqlCalculateFunction(g,w,H,G)}static evaluateTime(g){return m.parseTime(g)}static evaluateTimestamp(g,w,H){return m.parseTimestamp(g,w,H)}static evaluateDate(g,w){return m.parseDate(g,
w)}static evaluateFunction(g,w,H){return N.evaluateFunction(g,w,H)}static lookup(g,w){g=w[g];return void 0===g?null:g}static between(g,w,H){return null==g||null==w[0]||null==w[1]?null:t.sqlCompare(g,w[0],"\x3e\x3d")&&t.sqlCompare(g,w[1],"\x3c\x3d")}static notbetween(g,w,H){return null==g||null==w[0]||null==w[1]?null:t.sqlCompare(g,w[0],"\x3c")||t.sqlCompare(g,w[1],"\x3e")}static ternaryNot(g){return h(g)}static ternaryAnd(g,w){return n(g,w)}static ternaryOr(g,w){return M(g,w)}}class qa{constructor(g,
w,H="UTC",G=null){this.fieldsIndex=w;this.timeZone=H;this.currentUser=G;this.parameters={};this._hasDateFunctions=void 0;this.parseTree=J.WhereGrammar.parse(g);const {isStandardized:P,isAggregate:R,currentUserRequired:S,referencedFieldNames:la}=this._extractExpressionInfo(w);this._referencedFieldNames=la;this.isStandardized=P;this.isAggregate=R;this.currentUserRequired=S}static convertValueToStorageFormat(g,w=null){if(null===w)return m.isDate(g)?g.getTime():m.isDateTime(g)?g.toMillis():m.isTimestampOffset(g)?
g.toStorageFormat():m.isTimeOnly(g)?g.toStorageString():m.isDateOnly(g)?g.toStorageFormat():g;switch(w){case "date":if(m.isDate(g))return g.getTime();if(m.isDateTime(g))return g.toMillis();if(m.isTimestampOffset(g))return g.toMilliseconds();if(m.isDateOnly(g))return g.toNumber();break;case "date-only":if(m.isDate(g))return v.DateOnly.fromDateJS(g).toString();if(m.isTimestampOffset(g))return v.DateOnly.fromSqlTimeStampOffset(g).toString();if(m.isDateTime(g))return v.DateOnly.fromDateTime(g).toString();
break;case "time-only":if(m.isDate(g))return O.TimeOnly.fromDateJS(g).toStorageString();if(m.isDateTime(g))return O.TimeOnly.fromDateTime(g).toStorageString();if(m.isTimestampOffset(g))return O.TimeOnly.fromSqlTimeStampOffset(g).toStorageString();if(m.isTimeOnly(g))return g.toStorageString();break;case "timestamp-offset":if(m.isDate(g))return q.SqlTimeStampOffset.fromJSDate(g).toStorageFormat();if(m.isDateTime(g))return q.SqlTimeStampOffset.fromDateTime(g).toStorageFormat();if(m.isTimestampOffset(g))return g.toStorageFormat()}return g}static create(g,
w={}){return new qa(g,w.fieldsIndex,w.timeZone??void 0,w.currentUser)}get fieldNames(){return this._referencedFieldNames}testSet(g,w=ka,H=this.currentUser){return!!this._evaluateNode(this.parseTree,null,w,g,H)}calculateValue(g,w=ka,H=this.currentUser){g=this._evaluateNode(this.parseTree,g,w,null,H);return g instanceof u.SqlInterval?g.valueInMilliseconds()/864E5:g}calculateValueCompiled(g,w=ka,H=this.currentUser){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(g,this.parameters,
w,this.fieldsIndex,this.timeZone,H??null);if(l("esri-csp-restrictions"))return this.calculateValue(g,w);this._compileMe();return this.parseTree._compiledVersion(g,this.parameters,w,this.fieldsIndex,this.timeZone,H??null)}testFeature(g,w=ka,H=this.currentUser){return!!this._evaluateNode(this.parseTree,g,w,null,H)}testFeatureCompiled(g,w=ka,H=this.currentUser){if(null!=this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(g,this.parameters,w,this.fieldsIndex,this.timeZone,H??null);
if(l("esri-csp-restrictions"))return this.testFeature(g,w);this._compileMe();return!!this.parseTree._compiledVersion(g,this.parameters,w,this.fieldsIndex,this.timeZone,H??null)}get hasDateFunctions(){if(null!=this._hasDateFunctions)return this._hasDateFunctions;this._hasDateFunctions=!1;J.visitAll(this.parseTree,g=>{"current-time"===g.type?this._hasDateFunctions=!0:"function"===g.type&&(this._hasDateFunctions=this._hasDateFunctions||ha.has(g.name.toLowerCase()))});return this._hasDateFunctions}getFunctions(){const g=
new Set;J.visitAll(this.parseTree,w=>{"function"===w.type&&g.add(w.name.toLowerCase())});return Array.from(g)}getExpressions(){const g=new Map;J.visitAll(this.parseTree,w=>{if("function"===w.type){const H=w.name.toLowerCase();w=w.args.value[0];if("column-reference"===w.type){w=w.column;const G=`${H}-${w}`;g.has(G)||g.set(G,{aggregateType:H,field:w})}}});return[...g.values()]}getVariables(){const g=new Set;J.visitAll(this.parseTree,w=>{"parameter"===w.type&&g.add(w.value.toLowerCase())});return Array.from(g)}_compileMe(){const g=
"return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=(new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone","currentUser",g)).bind(aa)}_extractExpressionInfo(g){const w=[],H=new Set;let G=!0,P=!1,R=!1;J.visitAll(this.parseTree,S=>{switch(S.type){case "column-reference":var la=g?.get(S.column);let wa;la?la=wa=la.name??"":(wa=S.column,la=wa.toLowerCase());H.has(la)||(H.add(la),w.push(wa));S.column=wa;break;case "current-user":R=
!0;break;case "function":const {name:Ea,args:Ha}=S;S=Ha.value.length;G&&=N.isStandardized(Ea,S);!1===P&&(P=F.isAggregate(Ea,S))}});return{referencedFieldNames:Array.from(w),isStandardized:G,isAggregate:P,currentUserRequired:R}}evaluateNodeToJavaScript(g){switch(g.type){case "interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(g.value)+", "+JSON.stringify(g.qualifier)+","+JSON.stringify(g.op)+")";case "case-expression":var w="";if("simple"===g.format){var H=this.evaluateNodeToJavaScript(g.operand);
w="( ";for(let G=0;G<g.clauses.length;G++)w+=" (this.compare('\x3d',"+H+","+this.evaluateNodeToJavaScript(g.clauses[G].operand)+") ? ("+this.evaluateNodeToJavaScript(g.clauses[G].value)+") : "}else for(w="( ",H=0;H<g.clauses.length;H++)w+=" this.makeBool("+this.evaluateNodeToJavaScript(g.clauses[H].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(g.clauses[H].value)+") : ";w=null!==g.else?w+this.evaluateNodeToJavaScript(g.else):w+"null";return w+" )";case "parameter":return"this.lookup("+
JSON.stringify(g.value.toLowerCase())+",lookups)";case "expression-list":w="[";for(H of g.value)"["!==w&&(w+=","),w+=this.evaluateNodeToJavaScript(H);return w+"]";case "unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(g.expr)+")";case "binary-expression":switch(g.operator){case "AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+" )";case "OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+
" )";case "IS":if("null"!==g.right.type)throw new L.SqlError(L.SqlErrorCodes.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(g.left)+")";case "ISNOT":if("null"!==g.right.type)throw new L.SqlError(L.SqlErrorCodes.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(g.left)+")))";case "IN":return"this.applyIn("+this.evaluateNodeToJavaScript(g.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(g.right)+"), timeZone)";case "NOT IN":return"this.ternaryNot(this.applyIn("+
this.evaluateNodeToJavaScript(g.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(g.right)+"), timeZone))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+", timeZone)";case "NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+", timeZone)";case "LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+
","+JSON.stringify(g.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+","+JSON.stringify(g.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+JSON.stringify(g.operator)+","+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+", timeZone)";case "*":case "-":case "+":case "/":case "||":return"this.calculate("+
JSON.stringify(g.operator)+","+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+", timeZone)";default:throw new L.SqlError(L.SqlErrorCodes.UnsupportedOperator,{operator:g.operator});}case "null":case "boolean":case "string":case "number":return JSON.stringify(g.value);case "time":return"this.evaluateTime("+JSON.stringify(g.value)+")";case "date":return"this.evaluateDate("+JSON.stringify(g.value)+", 'unknown')";case "timestamp":return"this.evaluateTimestamp("+JSON.stringify(g.value)+
", 'unknown')";case "current-time":return"date"===g.mode?"this.currentDate(timeZone)":"time"===g.mode?"this.currentTime(timeZone)":"this.currentTimestamp(timeZone)";case "current-user":return"currentUser";case "column-reference":return"this.featureValue(feature,"+JSON.stringify(g.column)+",fieldsIndex,attributeAdapter)";case "function":return"this.evaluateFunction("+JSON.stringify(g.name)+","+this.evaluateNodeToJavaScript(g.args)+", timeZone)"}throw new L.SqlError(L.SqlErrorCodes.UnsupportedSyntax,
{node:g.type});}_evaluateNode(g,w,H,G,P){switch(g.type){case "interval":return H=this._evaluateNode(g.value,w,H,G,P),u.SqlInterval.createFromValueAndQualifier(H,g.qualifier,g.op);case "case-expression":if("simple"===g.format){var R=this._evaluateNode(g.operand,w,H,G,P);for(var S=0;S<g.clauses.length;S++)if(t.sqlCompare(R,this._evaluateNode(g.clauses[S].operand,w,H,G,P),"\x3d",this.timeZone))return this._evaluateNode(g.clauses[S].value,w,H,G,P)}else for(R=0;R<g.clauses.length;R++)if(!0===this._evaluateNode(g.clauses[R].operand,
w,H,G,P))return this._evaluateNode(g.clauses[R].value,w,H,G,P);return null!==g.else?this._evaluateNode(g.else,w,H,G,P):null;case "parameter":return g=this.parameters[g.value.toLowerCase()],m.isDate(g)?D.DateTime.fromJSDate(g):g instanceof p.ArcadeDate?g.toDateTime():g;case "expression-list":R=[];for(var la of g.value)R.push(this._evaluateNode(la,w,H,G,P));return R;case "unary-expression":return h(this._evaluateNode(g.expr,w,H,G,P));case "binary-expression":switch(g.operator){case "AND":return n(this._evaluateNode(g.left,
w,H,G,P),this._evaluateNode(g.right,w,H,G,P));case "OR":return M(this._evaluateNode(g.left,w,H,G,P),this._evaluateNode(g.right,w,H,G,P));case "IS":if("null"!==g.right.type)throw new L.SqlError(L.SqlErrorCodes.UnsupportedIsRhs);return null===this._evaluateNode(g.left,w,H,G,P);case "ISNOT":if("null"!==g.right.type)throw new L.SqlError(L.SqlErrorCodes.UnsupportedIsRhs);return null!==this._evaluateNode(g.left,w,H,G,P);case "IN":return R=C(this._evaluateNode(g.right,w,H,G,P)),Q(this._evaluateNode(g.left,
w,H,G,P),R,this.timeZone);case "NOT IN":return R=C(this._evaluateNode(g.right,w,H,G,P)),h(Q(this._evaluateNode(g.left,w,H,G,P),R,this.timeZone));case "BETWEEN":return R=this._evaluateNode(g.left,w,H,G,P),g=this._evaluateNode(g.right,w,H,G,P),null==R||null==g[0]||null==g[1]?null:t.sqlCompare(R,g[0],"\x3e\x3d",this.timeZone)&&t.sqlCompare(R,g[1],"\x3c\x3d",this.timeZone);case "NOTBETWEEN":return R=this._evaluateNode(g.left,w,H,G,P),g=this._evaluateNode(g.right,w,H,G,P),null==R||null==g[0]||null==g[1]?
null:t.sqlCompare(R,g[0],"\x3c",this.timeZone)||t.sqlCompare(R,g[1],"\x3e",this.timeZone);case "LIKE":return Z(this._evaluateNode(g.left,w,H,G,P),this._evaluateNode(g.right,w,H,G,P),g.escape);case "NOT LIKE":return h(Z(this._evaluateNode(g.left,w,H,G,P),this._evaluateNode(g.right,w,H,G,P),g.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return t.sqlCompare(this._evaluateNode(g.left,w,H,G,P),this._evaluateNode(g.right,w,H,G,P),g.operator,this.timeZone);
case "-":case "+":case "*":case "/":case "||":return f.sqlCalculateFunction(g.operator,this._evaluateNode(g.left,w,H,G,P),this._evaluateNode(g.right,w,H,G,P),this.timeZone)}case "null":case "boolean":case "string":case "number":return g.value;case "date":return g.parsedValue??(g.parsedValue=m.parseDate(g.value,"unknown")),g.parsedValue;case "timestamp":return g.parsedValue??(g.parsedValue=m.parseTimestamp(g.value,"unknown")),g.parsedValue;case "time":return m.parseTime(g.value);case "current-time":return"date"===
g.mode?aa.currentDate(this.timeZone):"time"===g.mode?aa.currentTime(this.timeZone):aa.currentTimestamp(this.timeZone);case "current-user":return P??null;case "column-reference":return ba(w,g.column,this.fieldsIndex,H);case "data-type":return g.value;case "function":if(this.isAggregate&&F.isAggregate(g.name,g.args.value.length)){w=[];for(R of g.args?.value||[]){la=[];for(S of G||[])la.push(this._evaluateNode(R,S,H,null,P));w.push(la)}return F.aggregateFunction(g.name,w)}H=this._evaluateNode(g.args,
w,H,G,P);return N.evaluateFunction(g.name,H,this.timeZone)}throw new L.SqlError(L.SqlErrorCodes.UnsupportedSyntax,{node:g.type});}}var ma;(function(g){g[g.Normal=0]="Normal";g[g.Escaped=1]="Escaped"})(ma||={});const ka={getAttribute(g,w){return(g&&"object"===typeof g.attributes?g.attributes:g)[w]}};B.WhereClause=qa;B.defaultAttributeAdapter=ka;Object.defineProperty(B,Symbol.toStringTag,{value:"Module"})});