// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ../has ../Logger ./utils ./tracking/Flags ./tracking/TrackingTarget".split(" "),function(e,C,z,r,f,A){function t(a){g.onAccessed(a)}function u(a,b,d){if(l)return m(a,b,d);let c=null;g=a;h.push(a);c=b.call(d);v();return c}function m(a,b,d){const c=l;l=!0;g=a;h.push(a);a=null;try{a=b.call(d)}catch(k){n&&z.getLogger("esri.core.accessorSupport.tracking").error(k)}v();l=c;return a}function v(){var a=h.length;if(1<a){const b=h.pop();g=h[a-2];b.onTrackingEnd()}else 1===a?(a=h.pop(),g=p,a.onTrackingEnd()):
g=p}function w(a,b){if(!(b.flags&f.Flags.DepTrackingInitialized)){b.flags|=f.Flags.DepTrackingInitialized;var d=n;n=!1;b.flags&f.Flags.AutoTracked?m(b.trackingTarget,b.metadata.get,a):x(a,b);n=d}}function x(a,b){b.flags&f.Flags.ExplicitlyTracking||(b.flags|=f.Flags.ExplicitlyTracking,m(b.trackingTarget,()=>{var d=b.metadata.dependsOn||B;for(const c of d)if("string"!==typeof c||c.includes(".")){d=r.pathToArray(c);for(let k=0,q=a;k<d.length&&null!=q&&"object"===typeof q;++k)q=y(q,d[k],k!==d.length-
1)}else y(a,c,!1)}),b.flags&=~f.Flags.ExplicitlyTracking)}function y(a,b,d){b="?"===b[b.length-1]?b.slice(0,-1):b;if(null!=a.getItemAt||Array.isArray(a)){var c=parseInt(b,10);if(!isNaN(c))return Array.isArray(a)?a[c]:a.at(c)}if(c=r.getProperties(a))if(c=c.propertiesByName.get(b))t(c),w(a,c);return d?a[b]:void 0}const p=new A.TrackingTarget,h=[];let g=p,l=!1,n=!1;const B=[];e.initializeDependencyTracking=w;e.runTracked=u;e.runTrackedNoThrow=m;e.runUntracked=function(a,b){return u(p,a,b)};e.trackAccess=
t;e.trackExplicitDependencies=x;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});