// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ./componentsUtils ./core ./dom ./observers ./locale ./t9n ./button ./icon ./loader".split(" "),function(r,h,n,l,t,u,m,x,y,z){function v(){"undefined"!==typeof customElements&&["calcite-tab-nav","calcite-button","calcite-icon","calcite-loader"].forEach(a=>{switch(a){case "calcite-tab-nav":customElements.get(a)||customElements.define(a,w);break;case "calcite-button":customElements.get(a)||x.defineCustomElement();break;case "calcite-icon":customElements.get(a)||y.defineCustomElement();
break;case "calcite-loader":customElements.get(a)||z.defineCustomElement()}})}const w=h.proxyCustomElement(class extends h.H{constructor(){super();this.__registerHost();this.__attachShadow();this.calciteTabChange=h.createEvent(this,"calciteTabChange",6);this.calciteInternalTabNavSlotChange=h.createEvent(this,"calciteInternalTabNavSlotChange",7);this.calciteInternalTabChange=h.createEvent(this,"calciteInternalTabChange",6);this.effectiveDir="ltr";this.lastScrollWheelAxis="x";this.resizeObserver=t.createObserver("resize",
()=>{this.updateScrollingState()});this.onTabTitleWheel=a=>{a.preventDefault();const {deltaX:b,deltaY:d}=a;var c=Math.abs(b);const g=Math.abs(d);c===g?c="x"===this.lastScrollWheelAxis?b:d:c>g?(c=b,this.lastScrollWheelAxis="x"):(c=d,this.lastScrollWheelAxis="y");a.currentTarget.scrollBy(("rtl"===this.effectiveDir?-1:1)*c,0)};this.onSlotChange=a=>{this.intersectionObserver?.disconnect();a=l.slotChangeGetAssignedElements(a,"calcite-tab-title");a.forEach(b=>{this.intersectionObserver?.observe(b)});this.calciteInternalTabNavSlotChange.emit(a)};
this.storeTabTitleWrapperRef=a=>{this.tabTitleContainerEl=a;this.intersectionObserver=t.createObserver("intersection",()=>this.updateScrollingState(),{root:a,threshold:[0,.5,1]})};this.scrollToTabTitles=a=>{h.readTask(()=>{const b=this.tabTitleContainerEl,d=b.getBoundingClientRect();var c=Array.from(this.el.querySelectorAll("calcite-tab-title"));const {effectiveDir:g}=this;"forward"===a&&c.reverse();let f=null;c.forEach(e=>{const k=e.getBoundingClientRect(),p=d.x+d.width,q=k.x+k.width;"forward"===
a&&"ltr"===g||"backward"===a&&"rtl"===g?k.x>p?f=e:q>p&&k.x>d.x&&(f=e):q<d.x?f=e:q<p&&k.x<d.x&&(f=e)});f&&({scrollerButtonWidth:c}=this,b.scrollTo({left:f.offsetLeft+("forward"===a&&"ltr"===g||"backward"===a&&"rtl"===g?-c:f.offsetWidth-b.clientWidth+c),behavior:"smooth"}))})};this.scrollToNextTabTitles=()=>this.scrollToTabTitles("forward");this.scrollToPreviousTabTitles=()=>this.scrollToTabTitles("backward");this.handleTabFocus=(a,b,d)=>{b=l.focusElementInGroup(this.enabledTabTitles,b,d);this.scrollTabTitleIntoView(b,
"instant");a.stopPropagation()};this.onTabTitleScroll=()=>{this.updateScrollingState()};this.renderScrollButton=a=>{const {bordered:b,messages:d,hasOverflowingStartTabTitle:c,hasOverflowingEndTabTitle:g,scale:f}=this,e="end"===a;return h.h("div",{class:{["scroll-button-container"]:!0,["scroll-button-container--backward"]:!e,["scroll-button-container--forward"]:e},hidden:e&&!g||!e&&!c,key:a},h.h("calcite-button",{appearance:b?"outline-fill":"transparent","aria-label":e?d.nextTabTitles:d.previousTabTitles,
class:{["scroll-button"]:!0},iconFlipRtl:"both",iconStart:e?"chevron-right":"chevron-left",kind:"neutral",onClick:e?this.scrollToNextTabTitles:this.scrollToPreviousTabTitles,scale:f,tabIndex:-1}))};this.syncId=this.storageId=void 0;this.selectedTitle=null;this.scale="m";this.layout="inline";this.position="bottom";this.bordered=!1;this.defaultMessages=this.messageOverrides=this.messages=void 0;this.effectiveLocale="";this.hasOverflowingEndTabTitle=this.hasOverflowingStartTabTitle=!1;this.selectedTabId=
void 0}selectedTitleChanged(){this.calciteInternalTabChange.emit({tab:this.selectedTabId})}onMessagesChange(){}connectedCallback(){this.parentTabsEl=this.el.closest("calcite-tabs");this.resizeObserver?.observe(this.el);u.connectLocalized(this);m.connectMessages(this)}async componentWillLoad(){const a=`calcite-tab-nav-${this.storageId}`;localStorage&&this.storageId&&localStorage.getItem(a)&&(this.selectedTabId=JSON.parse(localStorage.getItem(a)));await m.setUpMessages(this)}componentDidLoad(){this.scrollTabTitleIntoView(this.selectedTitle,
"instant")}componentWillRender(){const {parentTabsEl:a}=this;this.layout=a?.layout;this.bordered=a?.bordered;this.effectiveDir=l.getElementDir(this.el)}componentDidRender(){this.tabTitles.length&&this.tabTitles.every(a=>!a.selected)&&!this.selectedTabId&&this.tabTitles[0].getTabIdentifier().then(a=>{this.calciteInternalTabChange.emit({tab:a})})}disconnectedCallback(){this.resizeObserver?.disconnect();u.disconnectLocalized(this);m.disconnectMessages(this)}render(){return h.h(h.Host,{key:"9d1138405f2423bddcd9d1bb49dc756e582f8375",
role:"tablist"},h.h("div",{key:"f8759781080b2a093f062d0b6172de6d3ea9355d",class:{["tab-nav"]:!0,["tab-nav--start-overflow"]:!!this.hasOverflowingStartTabTitle,["tab-nav--end-overflow"]:!!this.hasOverflowingEndTabTitle,[`scale-${this.scale}`]:!0,[`position-${this.position}`]:!0,[h.CSS_UTILITY.rtl]:"rtl"===this.effectiveDir}},this.renderScrollButton("start"),h.h("div",{key:"eda664514cb5c89136184c6e8f29e50ce7c9b56b",class:{["tab-titles-slot-wrapper"]:!0},onScroll:this.onTabTitleScroll,onWheel:this.onTabTitleWheel,
ref:this.storeTabTitleWrapperRef},h.h("slot",{key:"0c5a40eac082662a2c2b032d977900b91f122214",onSlotchange:this.onSlotChange})),this.renderScrollButton("end")))}focusPreviousTabHandler(a){this.handleTabFocus(a,a.target,"previous")}focusNextTabHandler(a){this.handleTabFocus(a,a.target,"next")}focusFirstTabHandler(a){this.handleTabFocus(a,a.target,"first")}focusLastTabHandler(a){this.handleTabFocus(a,a.target,"last")}internalActivateTabHandler(a){const b=a.target;this.selectedTabId=a.detail.tab?a.detail.tab:
this.getIndexOfTabTitle(b);a.stopPropagation();this.selectedTitle=b;this.scrollTabTitleIntoView(b)}scrollTabTitleIntoView(a,b="smooth"){a&&h.readTask(()=>{const d="ltr"===this.effectiveDir,c=this.tabTitleContainerEl,g=c.getBoundingClientRect(),f=a.getBoundingClientRect(),e=c.scrollLeft,k=d?this.hasOverflowingEndTabTitle:this.hasOverflowingStartTabTitle;f.left<g.left+((d?this.hasOverflowingStartTabTitle:this.hasOverflowingEndTabTitle)?this.scrollerButtonWidth:0)?c.scrollTo({left:e+(f.left-g.left)-
this.scrollerButtonWidth,behavior:b}):f.right>g.right-(k?this.scrollerButtonWidth:0)&&c.scrollTo({left:e+(f.right-g.right)+this.scrollerButtonWidth,behavior:b})})}activateTabHandler(a){this.calciteTabChange.emit();a.stopPropagation()}internalCloseTabHandler(a){this.handleTabTitleClose(a.target);a.stopPropagation()}async updateTabTitles(a){a.target.selected&&(this.selectedTabId=a.detail,this.selectedTitle=await this.getTabTitleById(this.selectedTabId))}globalInternalTabChangeHandler(a){this.syncId&&
a.target!==this.el&&a.target.syncId===this.syncId&&this.selectedTabId!==a.detail.tab&&(this.selectedTabId=a.detail.tab);a.stopPropagation()}effectiveLocaleChange(){m.updateMessages(this,this.effectiveLocale)}async selectedTabIdChanged(){localStorage&&this.storageId&&void 0!==this.selectedTabId&&null!==this.selectedTabId&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTabId));this.calciteInternalTabChange.emit({tab:this.selectedTabId})}get scrollerButtonWidth(){const {scale:a}=
this;return parseInt("s"===a?n.calciteSize24:"m"===a?n.calciteSize32:n.calciteSize44)}updateScrollingState(){var a=this.tabTitleContainerEl;if(a){var b=a.scrollLeft;var d=a.clientWidth,c=a.scrollWidth;"ltr"===this.effectiveDir?(a=0<b,b=b+d<c):(a=0>b,b=b!==-(c-d));this.hasOverflowingStartTabTitle=a;this.hasOverflowingEndTabTitle=b}}getIndexOfTabTitle(a,b=this.tabTitles){return b.indexOf(a)}async getTabTitleById(a){return Promise.all(this.tabTitles.map(b=>b.getTabIdentifier())).then(b=>this.tabTitles[b.indexOf(a)])}get tabTitles(){return l.filterDirectChildren(this.el,
"calcite-tab-title")}get enabledTabTitles(){return l.filterDirectChildren(this.el,"calcite-tab-title:not([disabled])").filter(a=>!a.closed)}handleTabTitleClose(a){const {tabTitles:b}=this;var d=a.selected;const c=b.reduce((f,e,k)=>e.closed?f:[...f,k],[]),g=c.length;if(1===g&&b[c[0]].closable)b[c[0]].closable=!1,this.selectedTabId=c[0],d&&b[c[0]].activateTab();else if(1<g){const f=b.findIndex(e=>e===a);d=c.find(e=>e>f);this.selectedTabId===f&&(this.selectedTabId=d?d:g-1,b[this.selectedTabId].activateTab())}requestAnimationFrame(()=>
{b[this.selectedTabId].focus()})}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{selectedTitle:["selectedTitleChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"],selectedTabId:["selectedTabIdChanged"]}}static get style(){return':host{--calcite-internal-tab-nav-gradient-start-side:left;--calcite-internal-tab-nav-gradient-end-side:right;position:relative;display:flex}.scale-s{--calcite-internal-tab-nav-scroller-button-width:24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-scroller-button-width:32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-scroller-button-width:44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side:right;--calcite-internal-tab-nav-gradient-end-side:left}.tab-nav--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side), transparent, transparent var(--calcite-internal-tab-nav-scroller-button-width), white var(--calcite-internal-tab-nav-scroller-button-width), white 51%)}.tab-nav--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side), transparent, transparent var(--calcite-internal-tab-nav-scroller-button-width), white var(--calcite-internal-tab-nav-scroller-button-width), white 51%)}.tab-nav--start-overflow.tab-nav--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side), transparent, transparent var(--calcite-internal-tab-nav-scroller-button-width), white var(--calcite-internal-tab-nav-scroller-button-width), white 51%, transparent 51%), linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side), transparent, transparent var(--calcite-internal-tab-nav-scroller-button-width), white var(--calcite-internal-tab-nav-scroller-button-width), white 51%, transparent 51%)}.tab-nav::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout\x3dcenter]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout\x3dcenter]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap:var(--calcite-size-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap:var(--calcite-size-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap:var(--calcite-size-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout\x3dcenter]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xxl)}.tab-nav,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-offset-invert-focus:1;--calcite-color-text-1:var(--calcite-color-text-3);block-size:100%}.scroll-button-container calcite-button:hover{--calcite-color-text-1:unset;--calcite-color-foreground-1:var(--calcite-color-transparent-hover);--calcite-color-foreground-3:var(--calcite-color-transparent)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward::before,:host(:not([bordered])) .scroll-button-container--forward::before{background-color:var(--calcite-color-border-3);content:"";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward::before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward::before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}'}},
[1,"calcite-tab-nav",{storageId:[513,"storage-id"],syncId:[513,"sync-id"],selectedTitle:[1040],scale:[1],layout:[1537],position:[1],bordered:[1540],messages:[1040],messageOverrides:[1040],defaultMessages:[32],effectiveLocale:[32],hasOverflowingStartTabTitle:[32],hasOverflowingEndTabTitle:[32],selectedTabId:[32]},[[0,"calciteInternalTabsFocusPrevious","focusPreviousTabHandler"],[0,"calciteInternalTabsFocusNext","focusNextTabHandler"],[0,"calciteInternalTabsFocusFirst","focusFirstTabHandler"],[0,"calciteInternalTabsFocusLast",
"focusLastTabHandler"],[0,"calciteInternalTabsActivate","internalActivateTabHandler"],[0,"calciteTabsActivate","activateTabHandler"],[0,"calciteInternalTabsClose","internalCloseTabHandler"],[0,"calciteInternalTabTitleRegister","updateTabTitles"],[16,"calciteInternalTabChange","globalInternalTabChangeHandler"]],{selectedTitle:["selectedTitleChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"],selectedTabId:["selectedTabIdChanged"]}]);v();r.TabNav=w;r.defineCustomElement=
v});