// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ../views/3d/webgl-engine/core/shaderLibrary/terrain/BackgroundGrid.glsl ../views/3d/webgl-engine/core/shaderLibrary/terrain/BlendLayersOutput ../views/3d/webgl-engine/core/shaderLibrary/terrain/TileBackground.glsl ../views/3d/webgl-engine/core/shaderLibrary/terrain/TileComposite.glsl ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform ../views/3d/webgl-engine/core/shaderModules/interfaces ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform".split(" "),
function(b,h,k,l,m,n,p,f,q,r){function g(a){const c=new q.ShaderBuilder,d=c.fragment;c.include(m.TileComposite);if(a.background===b.BackgroundMode.Only)return(a=a.output===k.BlendLayersOutput.ColorComposite)?d.uniforms.add(new n.Float3PassUniform("backgroundColor",e=>e.backgroundColor)):d.include(h.BackgroundGrid),d.main.add(f.glsl`fragColor = vec4(${a?f.glsl`backgroundColor`:f.glsl`gridColor(uv)`}, 1.0);`),c;c.include(l.TileBackground,a);d.uniforms.add(new r.Texture2DPassUniform("tex",e=>e.texture),
new p.FloatPassUniform("opacity",e=>e.opacity));d.main.add(f.glsl`fragColor = blendLayers(uv, texture(tex, uv), opacity);`);return c}b.BackgroundMode=void 0;(function(a){a[a.BelowLayer=0]="BelowLayer";a[a.Only=1]="Only";a[a.COUNT=2]="COUNT"})(b.BackgroundMode||(b.BackgroundMode={}));const t=Object.freeze(Object.defineProperty({__proto__:null,get BackgroundMode(){return b.BackgroundMode},build:g},Symbol.toStringTag,{value:"Module"}));b.BlendLayers=t;b.build=g});