// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ./componentsUtils ./dom ./conditionalSlot ./interactive ./component ./icon".split(" "),function(k,b,f,l,m,g,r){function n(){"undefined"!==typeof customElements&&["calcite-tree-item","calcite-icon"].forEach(a=>{switch(a){case "calcite-tree-item":customElements.get(a)||customElements.define(a,p);break;case "calcite-icon":customElements.get(a)||r.defineCustomElement()}})}const p=b.proxyCustomElement(class extends b.H{constructor(){super();this.__registerHost();this.__attachShadow();this.calciteInternalTreeItemSelect=
b.createEvent(this,"calciteInternalTreeItemSelect",6);this.iconClickHandler=a=>{a.stopPropagation();this.expanded=!this.expanded};this.childrenClickHandler=a=>a.stopPropagation();this.userChangedValue=!1;this.updateParentIsExpanded=(a,c)=>{f.getSlotted(a,"children",{all:!0,selector:"calcite-tree-item"}).forEach(d=>d.parentExpanded=c)};this.actionsEndSlotChangeHandler=a=>{this.hasEndActions=f.slotChangeHasAssignedElement(a)};this.disabled=!1;this.label=void 0;this.expanded=!1;this.iconStart=this.iconFlipRtl=
void 0;this.parentExpanded=this.selected=!1;this.depth=-1;this.hasChildren=null;this.scale=this.lines=void 0;this.indeterminate=!1;this.selectionMode=void 0;this.updateAfterInitialRender=this.hasEndActions=!1}expandedHandler(a){this.updateParentIsExpanded(this.el,a)}handleSelectedChange(a){"ancestors"!==this.selectionMode||this.userChangedValue||(a&&(this.indeterminate=!1),this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:!0,updateItem:!1}))}getSelectionMode(){this.isSelectionMultiLike=
"multiple"===this.selectionMode||"multichildren"===this.selectionMode}connectedCallback(){if(this.parentTreeItem=this.el.parentElement?.closest("calcite-tree-item")){const {expanded:a}=this.parentTreeItem;this.updateParentIsExpanded(this.parentTreeItem,a)}l.connectConditionalSlotComponent(this)}disconnectedCallback(){l.disconnectConditionalSlotComponent(this)}componentWillRender(){this.hasChildren=!!this.el.querySelector("calcite-tree");this.depth=0;let a=this.el.closest("calcite-tree");if(a){this.selectionMode=
a.selectionMode;this.scale=a.scale||"m";this.lines=a.lines;for(var c;a&&(c=a.parentElement?.closest("calcite-tree"),c!==a);)a=c,this.depth+=1}}componentWillLoad(){requestAnimationFrame(()=>this.updateAfterInitialRender=!0)}componentDidLoad(){this.updateAncestorTree()}componentDidRender(){m.updateHostInteraction(this)}render(){const a="rtl"===f.getElementDir(this.el);var c="single"===this.selectionMode||"children"===this.selectionMode||"single-persist"===this.selectionMode,d="multiple"===this.selectionMode||
"multichildren"===this.selectionMode,e="none"===this.selectionMode&&!this.hasChildren,h=this.hasChildren&&this.indeterminate;const t=this.hasChildren?b.h("calcite-icon",{class:{chevron:!0,[b.CSS_UTILITY.rtl]:a},"data-test-id":"icon",icon:"chevron-right",onClick:this.iconClickHandler,scale:g.getIconScale(this.scale)}):null,q=b.h("slot",{key:"default-slot"});h="ancestors"===this.selectionMode?b.h("div",{class:"checkbox-container"},b.h("calcite-icon",{class:"checkbox",icon:this.selected?"check-square-f":
h?"minus-square-f":"square",scale:g.getIconScale(this.scale)}),b.h("label",{class:"checkbox-label"},q)):null;c=(c=c?"bullet-point":d?"check":e?"blank":null)?b.h("calcite-icon",{class:{["bullet-point"]:"bullet-point"===c,checkmark:"check"===c,[b.CSS_UTILITY.rtl]:a},icon:c,scale:g.getIconScale(this.scale)}):null;d=!(this.parentExpanded||1===this.depth);e=this.updateAfterInitialRender&&this.expanded;const {hasEndActions:u}=this,v=b.h("slot",{key:"actionsEndSlot",name:"actions-end",onSlotchange:this.actionsEndSlotChangeHandler}),
w=b.h("calcite-icon",{key:"251fd8b4ef328e3575268a914b823282d5810b3b",class:"icon-start",flipRtl:"start"===this.iconFlipRtl||"both"===this.iconFlipRtl,icon:this.iconStart,scale:g.getIconScale(this.scale)});return b.h(b.Host,{key:"9ca6542ef823f536919ef45e249a51acc560e5cd","aria-checked":"multiple"===this.selectionMode||"multichildren"===this.selectionMode||"ancestors"===this.selectionMode?f.toAriaBoolean(this.selected):void 0,"aria-expanded":this.hasChildren?f.toAriaBoolean(e):void 0,"aria-hidden":f.toAriaBoolean(d),
"aria-live":"polite","aria-selected":"single"===this.selectionMode||"children"===this.selectionMode||"single-persist"===this.selectionMode?f.toAriaBoolean(this.selected):void 0,"calcite-hydrated-hidden":d,role:"treeitem",tabIndex:this.disabled?-1:0},b.h(m.InteractiveContainer,{key:"b87535cef45f25a3d962f2ee7a2fe23030c09626",disabled:this.disabled},b.h("div",{key:"2a4f1e4a647c80ef1d027b795814a03dd933db37",class:{["item--expanded"]:e}},b.h("div",{key:"716fc1eac97264fe3186a0beee9e173415f93b83",class:"node-actions-container"},
b.h("div",{key:"286db32250f9978cab481314b2ea3e790248c7f2",class:{["node-container"]:!0,[b.CSS_UTILITY.rtl]:a},"data-selection-mode":this.selectionMode},t,c,this.iconStart?w:null,h?h:q),b.h("div",{key:"2e1eeefae879f7197b5292ecda3b1f831f673efb",class:"actions-end",hidden:!u,ref:x=>this.actionSlotWrapper=x},v)),b.h("div",{key:"1cb705ab7da1422b2a956ea90e29b489909840f3",class:{["children-container"]:!0,[b.CSS_UTILITY.rtl]:a},"data-test-id":"calcite-tree-children",onClick:this.childrenClickHandler,role:this.hasChildren?
"group":void 0},b.h("slot",{key:"e3c968c15f50af07cafd3c3a67746455472e6b6f",name:"children"})))))}onClick(a){if(!this.disabled&&!this.isActionEndEvent(a)){var [c]=f.filterDirectChildren(this.el,"a");c&&"a"!==a.composedPath()[0].tagName.toLowerCase()&&window.open(c.href,""===c.target?"_self":c.target);this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:"ancestors"===this.selectionMode||this.isSelectionMultiLike,updateItem:!0});this.userChangedValue=!0}}keyDownHandler(a){if(!this.isActionEndEvent(a)&&
!a.defaultPrevented)switch(a.key){case " ":this.userChangedValue=!0;this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,updateItem:!0});a.preventDefault();break;case "Enter":const c=Array.from(this.el.children).find(d=>d.matches("a"));this.userChangedValue=!0;c?(c.click(),this.selected=!0):this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,updateItem:!0});a.preventDefault()}}isActionEndEvent(a){return a.composedPath().includes(this.actionSlotWrapper)}updateAncestorTree(){const a=
this.parentTreeItem;if("ancestors"===this.selectionMode&&a)if(this.selected){const c=Array.from(this.el.parentElement?.children),d=c.filter(e=>e.selected);c.length===d.length?(a.selected=!0,a.indeterminate=!1):0<d.length&&(a.indeterminate=!0);Array.from(this.el.querySelectorAll("calcite-tree-item:not([disabled])")).forEach(e=>{e.selected=!0;e.indeterminate=!1})}else this.indeterminate&&(this.parentTreeItem.indeterminate=!0)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],
selected:["handleSelectedChange"],selectionMode:["getSelectionMode"]}}static get style(){return':host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;max-inline-size:100%;cursor:pointer;color:var(--calcite-color-text-3)}.node-actions-container{display:flex}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale\x3ds]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale\x3ds]) .node-actions-container{min-block-size:1.5rem}:host([scale\x3ds]) .node-actions-container .node-container .checkbox,:host([scale\x3ds]) .node-actions-container .node-container .checkmark,:host([scale\x3ds]) .node-actions-container .node-container .bullet-point{margin-inline:0.25rem}:host([scale\x3ds]) .node-actions-container .node-container .icon-start{margin-inline:0.75rem}:host([scale\x3ds]) .node-actions-container .node-container .chevron{padding:0.25rem}:host([scale\x3dm]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale\x3dm]) .node-actions-container{min-block-size:2rem}:host([scale\x3dm]) .node-actions-container .node-container .checkbox,:host([scale\x3dm]) .node-actions-container .node-container .checkmark,:host([scale\x3dm]) .node-actions-container .node-container .bullet-point{margin-inline:0.5rem}:host([scale\x3dm]) .node-actions-container .node-container .icon-start{margin-inline:0.75rem}:host([scale\x3dm]) .node-actions-container .node-container .chevron{padding:0.5rem}:host([scale\x3dl]){font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale\x3dl]) .node-actions-container{min-block-size:2.75rem}:host([scale\x3dl]) .node-actions-container .node-container .checkbox,:host([scale\x3dl]) .node-actions-container .node-container .checkmark,:host([scale\x3dl]) .node-actions-container .node-container .bullet-point{margin-inline:0.75rem}:host([scale\x3dl]) .node-actions-container .node-container .icon-start{margin-inline:0.75rem}:host([scale\x3dl]) .node-actions-container .node-container .chevron{padding-inline:var(--calcite-size-md);padding-block:var(--calcite-size-sm-plus)}:host([lines]) .children-container::after{position:absolute;inset-block-start:0px;z-index:var(--calcite-z-index);inline-size:1px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;block-size:96%;content:"";background-color:var(--calcite-color-border-2)}:host(:not([lines])) .node-container::after{display:none}::slotted(*){min-inline-size:0px;max-inline-size:100%;overflow-wrap:break-word;color:inherit;text-decoration:none !important}::slotted(*):hover{text-decoration:none !important}::slotted(a){inline-size:100%;text-decoration-line:none}:host{outline:2px solid transparent;outline-offset:2px}:host .node-container{outline-color:transparent}:host:focus .node-container,:host:active .node-container{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          )}:host(:focus:not([disabled])) .node-container{outline:2px solid transparent;outline-offset:2px;outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          )}:host(:focus:not([disabled])) .checkbox{outline:2px solid transparent;outline-offset:2px}.actions-end{display:flex;flex-direction:row;align-items:center;align-self:stretch}.checkbox-container{display:flex;align-items:center}.checkbox{line-height:0;color:var(--calcite-color-border-input)}.checkbox-label{pointer-events:none;display:flex;align-items:center}.children-container{position:relative;block-size:0px;transform-origin:top;overflow:hidden;opacity:0;margin-inline-start:1.25rem;transform:scaleY(0);transition:var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out}.item--expanded\x3e.children-container{overflow:visible;opacity:1;transform:none;block-size:auto}.node-container{position:relative;display:flex;min-inline-size:0px;flex-grow:1;align-items:center}.node-container .checkmark,.node-container .bullet-point{opacity:0;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;color:var(--calcite-color-border-1)}.node-container:hover .checkmark,.node-container:hover .bullet-point,:host([selected]) .node-container:hover .checkmark,:host([selected]) .node-container:hover .bullet-point,:host(:focus:not([disabled])) .node-container .checkmark,:host(:focus:not([disabled])) .node-container .bullet-point{opacity:1}:host([selected]) .node-container,:host([selected]) .node-container:hover{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}:host([selected]) .node-container .bullet-point,:host([selected]) .node-container .checkmark,:host([selected]) .node-container:hover .bullet-point,:host([selected]) .node-container:hover .checkmark{opacity:1;color:var(--calcite-color-brand)}:host([selection-mode\x3dnone]:not([has-children])):host([scale\x3ds]) .node-container{padding-inline-start:0.5rem}:host([selection-mode\x3dnone]:not([has-children])):host([scale\x3dm]) .node-container{padding-inline-start:1rem}:host([selection-mode\x3dnone]:not([has-children])):host([scale\x3dl]) .node-container{padding-inline-start:1.5rem}:host(:not([has-children])):host([scale\x3ds]) .node-container[data-selection-mode\x3dancestors] .checkbox{padding-inline-start:1.25rem}:host(:not([has-children])):host([scale\x3dm]) .node-container[data-selection-mode\x3dancestors] .checkbox{padding-inline-start:1.5rem}:host(:not([has-children])):host([scale\x3dl]) .node-container[data-selection-mode\x3dancestors] .checkbox{padding-inline-start:1.75rem}:host([has-children]) .node-container[data-selection-mode\x3dancestors] .checkbox{margin-inline-start:0}:host([has-children]) .node-container .bullet-point,:host([has-children]) .node-container .checkmark{display:none}.chevron{position:relative;align-self:center;color:var(--calcite-color-text-3);transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;flex:0 0 auto;transform:rotate(0deg)}.calcite--rtl .chevron{transform:rotate(180deg)}.item--expanded .node-container\x3e.chevron{transform:rotate(90deg)}:host([selected]) .checkmark,:host([selected]) .bullet-point{color:var(--calcite-color-brand)}:host([selected]) .checkbox{color:var(--calcite-color-brand)}:host([has-children][indeterminate]) .checkbox{color:var(--calcite-color-brand)}:host([hidden]){display:none}[hidden]{display:none}'}},
[1,"calcite-tree-item",{disabled:[516],label:[1],expanded:[1540],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],selected:[1540],parentExpanded:[4,"parent-expanded"],depth:[1538],hasChildren:[1540,"has-children"],lines:[1540],scale:[1537],indeterminate:[1540],selectionMode:[1537,"selection-mode"],hasEndActions:[32],updateAfterInitialRender:[32]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"]],{expanded:["expandedHandler"],selected:["handleSelectedChange"],selectionMode:["getSelectionMode"]}]);
n();k.CalciteTreeItem=p;k.defineCustomElement=n;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});