// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../chunks/tslib.es6","../../GraphShaderModule","../../graph/glsl"],function(m,e,c,a){class n extends c.VertexInput{}e.__decorate([c.location(0,a.Vec2)],n.prototype,"position",void 0);class q extends c.FragmentInput{}class p extends c.UniformGroup{}e.__decorate([c.uniform(a.Mat3)],p.prototype,"dvs",void 0);class g extends c.UniformGroup{}e.__decorate([c.uniform(a.Float)],g.prototype,"halfWidth",void 0);e.__decorate([c.uniform(a.Float)],g.prototype,"aaWidth",void 0);
e.__decorate([c.uniform(a.Float)],g.prototype,"pxPerCell",void 0);e.__decorate([c.uniform(a.Vec4)],g.prototype,"minorLineColor",void 0);e.__decorate([c.uniform(a.Vec4)],g.prototype,"majorLineColor",void 0);e.__decorate([c.uniform(a.Int)],g.prototype,"majorLineInterval",void 0);class h extends c.GraphShaderModule{vertex(f){var d=f.position.multiply(2).subtract(1);f=this.transform.dvs.multiply(new a.Vec3(d,1)).xy;d=new a.Vec4(d,0,1);return{gridPos:f,glPosition:d}}fragment(f){var d=a.abs(f.gridPos),
b=a.fract(d);f=a.min(b.x,(new a.Float(1)).subtract(b.x));b=a.min(b.y,(new a.Float(1)).subtract(b.y));b=(new a.Vec2(f,b)).multiply(this.config.pxPerCell).subtract(this.config.halfWidth);f=a.min(b.x,b.y);f=(new a.Float(1)).subtract(a.smoothstep(new a.Float(0),this.config.aaWidth,f));var l=new a.Int(a.round(d.x)),k=new a.Int(a.round(d.y));d=new a.Float(a.intMod(l,this.config.majorLineInterval));k=new a.Float(a.intMod(k,this.config.majorLineInterval));l=a.ifElse(a.lessThan(b.x,b.y),d,k);b=a.greaterThan(a.multiply(a.step(b.x,
this.config.aaWidth),a.step(b.y,this.config.aaWidth)),new a.Float(.5));d=a.min(d,k);b=a.ifElse(b,d,l);b=a.mix(this.config.majorLineColor,this.config.minorLineColor,a.min(b,new a.Float(1)));d=new c.FragmentOutput;d.glFragColor=b.multiply(f);return d}}e.__decorate([c.uniform(p)],h.prototype,"transform",void 0);e.__decorate([c.uniform(g)],h.prototype,"config",void 0);e.__decorate([e.__param(0,c.input(n))],h.prototype,"vertex",null);e.__decorate([e.__param(0,c.input(q))],h.prototype,"fragment",null);
m.GridShader=h;Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});