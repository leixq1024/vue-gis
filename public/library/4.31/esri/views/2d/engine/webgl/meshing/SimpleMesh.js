// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["exports","./definitions","./Mesh","../../../../webgl/enums"],function(m,n,u,p){const v={position:{type:p.DataType.SHORT,count:2}};class k extends u.Mesh{static create(d,a,e){var c=[],{stride:b}=a;if(null==b){b=0;for(const [,{count:f,type:g,offset:h}]of Object.entries(a.layout)){if(null!=h)throw Error("Stride cannot be computed automatically when attribute offsets are supplied explicitly.");b+=f*n.dataSizeInBytes[g]}}let l=0;for(const [f,{count:g,offset:h,type:q,normalized:r}]of Object.entries(a.layout)){null!=
h&&(l=h);const t=e.get(f);if(null==t)throw Error("Locations must be specified at mesh initialization.");c.push({name:f,location:t,vertex:"vertexData",count:g,type:q,offset:l,stride:b,divisor:0,normalized:null!=r?r:!1});l+=g*n.dataSizeInBytes[q]}e={attributes:c,primitive:a.primitive};null!=a.index&&(e.index="indexData");({count:c}=a);if(null==c&&(c=a.index?a.index.length:a.vertex.byteLength/b,Math.floor(c)!==c))throw Error(`The byte length of vertex data must be an exact multiple of the stride, which is ${b}.`);
b={vertex:{vertexData:a.vertex},parts:[{start:0,count:c,group:0,primitive:a.primitive}],groups:[e]};null!=a.index&&(b.index={indexData:a.index});return new k(d,b,a.layout)}static fromVertexStream(d,a){return k.create(d,{primitive:p.PrimitiveType.TRIANGLE_STRIP,vertex:new Uint16Array(a),layout:v},new Map([["position",0]]))}constructor(d,a,e){super(d,a);this._spec=e}bind(d,a=0){super.bind(d,a)}}m.SimpleMesh=k;Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});