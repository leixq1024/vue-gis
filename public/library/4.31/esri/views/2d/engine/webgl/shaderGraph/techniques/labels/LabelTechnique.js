// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ../../../enums ../FeatureTechnique ../featureTechniqueUtils ../TechniqueType ../text/TextShader".split(" "),function(l,f,m,e,n,g){class p extends m.FeatureTechnique{constructor(){super(...arguments);this.type=n.TechniqueType.Label;this.shaders={geometry:new g.TextShader};this.drawPhase=f.WGLDrawPhase.LABEL|f.WGLDrawPhase.LABEL_ALPHA|f.WGLDrawPhase.HITTEST;this.symbologyPlane=f.FeatureSymbologyDrawOrder.TEXT}render(b,c){const {context:q,painter:a}=b,h=e.getSelectionDefines(b),k={...e.getFeaturePipelineState(b)};
var d=c.instance.getInput();d={shader:this.shaders.geometry,uniforms:{...e.resolveDynamicUniforms(b,c.target,d.uniforms),...e.getFeatureUniforms(b,c.target),mosaicInfo:a.textureManager.getMosaicInfo(q,c.textureKey)},defines:{...h,textRenderPassType:g.TextRenderPassType.Color,isBackgroundPass:!0,isLabel:!0},optionalAttributes:d.optionalAttributes,useComputeBuffer:e.isHittest(b)};a.setShader(d);a.setPipelineState(k);a.submitDraw(b,c);a.setShader({...d,defines:{...h,textRenderPassType:g.TextRenderPassType.Halo,
isBackgroundPass:!1,isLabel:!0}});a.setPipelineState(k);a.submitDraw(b,c);a.setShader({...d,defines:{...h,textRenderPassType:g.TextRenderPassType.Color,isBackgroundPass:!1,isLabel:!0}});a.setPipelineState(k);a.submitDraw(b,c)}}l.LabelTechnique=p;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});