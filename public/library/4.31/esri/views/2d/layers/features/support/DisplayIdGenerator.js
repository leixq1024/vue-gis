// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["exports","../../../engine/webgl/DisplayId"],function(c,d){class e{constructor(a){this.data=a;this._referenceCount=0}increment(){this._referenceCount+=1}decrement(){--this._referenceCount}empty(){return 0===this._referenceCount}}class f{constructor(){this._freeIdsGenerationA=[];this._freeIdsGenerationB=[];this._idCounter=1;this._freeIds=this._freeIdsGenerationA;this._objectIdToDisplayId=new Map}createIdForObjectId(a){let b=this._objectIdToDisplayId.get(a);b?b.increment():(b=new e(d.createDisplayId(this._getFreeId(),
!1)),b.increment(),this._objectIdToDisplayId.set(a,b));return b.data}releaseIdForObjectId(a){const b=this._objectIdToDisplayId.get(a);b&&(b.decrement(),b.empty()&&(this._objectIdToDisplayId.delete(a),this._freeIds.push(b.data)))}getDisplayIdForObjectId(a){a=this._objectIdToDisplayId.get(a);return null!=a?a.data:null}releaseAll(){for(const a of this._objectIdToDisplayId.values())this._freeIds.push(a.data);this._objectIdToDisplayId.clear()}incrementGeneration(){this._freeIds=this._freeIds===this._freeIdsGenerationA?
this._freeIdsGenerationB:this._freeIdsGenerationA}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}c.DisplayIdGenerator=f;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});