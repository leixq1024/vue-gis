// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ../../../geometry ../../../core/unitUtils ../../../geometry/support/geodesicUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils ./constants ../../../geometry/SpatialReference ../../../geometry/Point ../../../geometry/Polyline".split(" "),function(g,y,h,k,r,t,l,u,m,n,v){function p(a){const {isGeographic:d,isWebMercator:b}=a;return!d&&!b}g.getScaleFactor=function(a,d,b){a=1===a?10:a;return a**(b?Math.round(Math.log(u.pixelsPerCell/
d)/Math.log(a)):0)};g.measureMetersPerUnitAtReferencePoint=function(a,d,b){var e="number"==typeof a?null:a;b=b??e?.spatialReference;if(null==b||!t.isValid(b)||p(b))return h.getMetersPerUnitForSR(b);a=e?.x??a;d=e?.y??d;var f=1/Math.sqrt(2);e=a+f;f=d+f;const {isWebMercator:w,isGeographic:x}=b;var c=x&&!k.isSupported(b)?m.WGS84:b;w&&(c=new n({x:a,y:d,spatialReference:b}),l.webMercatorToGeographic(c,!0,c),a=c.x,d=c.y,c=new n({x:e,y:f,spatialReference:b}),l.webMercatorToGeographic(c,!0,c),e=c.x,f=c.y,
c=m.WGS84);a=new v({paths:[[[a,d],[e,f]]],spatialReference:c});a=r.straightLineDensify(a,10);let q;try{[q]=k.geodesicLengths([a],"meters")}catch{return h.getMetersPerUnitForSR(b)}return q};g.shouldUsePlanar=p;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});