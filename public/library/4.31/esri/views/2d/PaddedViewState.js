// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../core/Accessor ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/math/vec2 ../../core/libs/gl-matrix-2/factories/vec2f64 ./viewpointUtils ./ViewState".split(" "),function(b,d,p,e,z,A,B,q,l,t,u,r){var m,n;let c=m=class extends d{constructor(){super(...arguments);this.bottom=this.right=this.top=this.left=0}clone(){return new m({left:this.left,
top:this.top,right:this.right,bottom:this.bottom})}};b.__decorate([e.property()],c.prototype,"left",void 0);b.__decorate([e.property()],c.prototype,"top",void 0);b.__decorate([e.property()],c.prototype,"right",void 0);b.__decorate([e.property()],c.prototype,"bottom",void 0);c=m=b.__decorate([q.subclass("esri.views.2d.PaddedViewState.Padding")],c);d=n=class extends r{constructor(...a){super(...a);this.paddedViewState=new r;this._updateContent=(()=>{const f=t.create();return()=>{var g=this._get("size");
const h=this._get("padding");if(g&&h){var k=this.paddedViewState;l.set(f,h.left+h.right,h.top+h.bottom);l.subtract(f,g,f);l.copy(k.size,f);if(g=k.viewpoint)this.viewpoint=g}}})();this.addHandles(p.watch(()=>[this.size,this.padding],()=>this._updateContent(),p.sync));this.padding=new c;this.size=[0,0]}set padding(a){this._set("padding",a||new c)}set viewpoint(a){if(a){let f=this.paddedViewState.viewpoint=a;const g=this._get("padding");g&&(f=u.addPadding(a.clone(),a,this._get("size"),g));const {targetGeometry:h,
rotation:k,scale:v}=f,{x:w,y:x,spatialReference:y}=h;a=this._viewpoint2D;a.center[0]=w;a.center[1]=x;a.rotation=k;a.scale=v;a.spatialReference=y;this._update()}}clone(){return new n({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};b.__decorate([e.property()],d.prototype,"paddedViewState",void 0);b.__decorate([e.property({type:c})],d.prototype,"padding",null);b.__decorate([e.property()],d.prototype,"viewpoint",null);
return d=n=b.__decorate([q.subclass("esri.views.2d.PaddedViewState")],d)});