// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(b,h,t,z,v,k,m,r,q){t=h=class extends h.ClonableMixin(t.JSONSupport){constructor(x){super(x);this.type="georeferenced";this.origin=
null}};t.absolute=new h;b.__decorate([r.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],t.prototype,"type",void 0);b.__decorate([z.property({type:[Number],nonNullable:!1,json:{write:!0}})],t.prototype,"origin",void 0);return t=h=b.__decorate([q.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],t)})},"esri/core/Clonable":function(){define("exports ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(b,h,t,z,v,k,m,r,q,x){z=B=>{B=class extends B{clone(){var w=q.getProperties(this);m.assertIsSome(w,"unable to clone instance of non-accessor class");var Q=w.metadata;const L=w.store,D={};w=new Map;for(var C in Q){var F=Q[C];const J=L?.originOf(C),ca=F.clonable;if(F.readOnly||!1===ca||J!==r.OriginId.USER&&J!==r.OriginId.DEFAULTS&&J!==r.OriginId.WEB_MAP&&J!==r.OriginId.WEB_SCENE)continue;F=this[C];let U=null;U="function"===typeof ca?ca(F):"reference"===ca?F:v.tryClone(F);if(null==F||null!=U)J===
r.OriginId.DEFAULTS?w.set(C,U):D[C]=U}Q=new (Object.getPrototypeOf(this).constructor)(D);if(w.size&&(C=q.getProperties(Q)?.store))for(const [J,ca]of w)C.set(J,ca,r.OriginId.DEFAULTS);return Q}};return B=h.__decorate([x.subclass("esri.core.Clonable")],B)};b.Clonable=class extends z(t){};b.Clonable=h.__decorate([x.subclass("esri.core.Clonable")],b.Clonable);b.ClonableMixin=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(b,h,t){b.enumeration=function(z,v={}){z=z instanceof h.JSONMap?z:new h.JSONMap(z,v);const {alwaysWriteDefaults:k,default:m,ignoreUnknown:r=!0,name:q,nonNullable:x,readOnly:B=!1}=v;return t.property({type:r?z.apiValues:String,json:{type:z.jsonValues,default:m,name:q,read:B?!1:{reader:z.read},write:{writer:z.write,alwaysWriteDefaults:k}},nonNullable:x,readOnly:B})};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshLocalVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),
function(b,h,t,z,v,k,m,r,q,x){h=class extends h.ClonableMixin(t.JSONSupport){constructor(B){super(B);this.type="local";this.origin=x.create()}};b.__decorate([r.enumeration({local:"local"},{readOnly:!0})],h.prototype,"type",void 0);b.__decorate([z.property({type:[Number],nonNullable:!0,json:{write:!0}})],h.prototype,"origin",void 0);return h=b.__decorate([q.subclass("esri.geometry.support.MeshLocalVertexSpace")],h)})},"esri/chunks/vec3":function(){define(["exports","../core/has","../core/Logger"],
function(b,h,t){function z(L,D,C){v(L.typedBuffer,D.typedBuffer,C,L.typedBufferStride,D.typedBufferStride)}function v(L,D,C,F=3,J=F){if(L.length/F!==Math.ceil(D.length/J))return L;const ca=L.length/F,U=C[0],ba=C[1],V=C[2],G=C[4],R=C[5],Z=C[6],fa=C[8],ha=C[9],H=C[10],K=C[12],S=C[13];C=C[14];let da=0,na=0;for(let ia=0;ia<ca;ia++){const l=D[da],u=D[da+1],N=D[da+2];L[na]=U*l+G*u+fa*N+K;L[na+1]=ba*l+R*u+ha*N+S;L[na+2]=V*l+Z*u+H*N+C;da+=J;na+=F}return L}function k(L,D,C){m(L.typedBuffer,D.typedBuffer,C,
L.typedBufferStride,D.typedBufferStride)}function m(L,D,C,F=3,J=F){if(L.length/F===Math.ceil(D.length/J)){var ca=L.length/F,U=C[0],ba=C[1],V=C[2],G=C[3],R=C[4],Z=C[5],fa=C[6],ha=C[7];C=C[8];var H=0,K=0;for(let S=0;S<ca;S++){const da=D[H],na=D[H+1],ia=D[H+2];L[K]=U*da+G*na+fa*ia;L[K+1]=ba*da+R*na+ha*ia;L[K+2]=V*da+Z*na+C*ia;H+=J;K+=F}}}function r(L,D,C){q(L.typedBuffer,D.typedBuffer,C,L.typedBufferStride,D.typedBufferStride)}function q(L,D,C,F=3,J=F){const ca=Math.min(L.length/F,D.length/J);let U=
0,ba=0;for(let V=0;V<ca;V++)L[ba]=C*D[U],L[ba+1]=C*D[U+1],L[ba+2]=C*D[U+2],U+=J,ba+=F;return L}function x(L,D,C,F=3,J=F){const ca=L.length/F;if(ca!==Math.ceil(D.length/J))return L;let U=0,ba=0;for(let V=0;V<ca;V++)L[ba]=D[U]+C[0],L[ba+1]=D[U+1]+C[1],L[ba+2]=D[U+2]+C[2],U+=J,ba+=F;return L}function B(L,D){w(L.typedBuffer,D.typedBuffer,L.typedBufferStride,D.typedBufferStride)}function w(L,D,C=3,F=C){const J=Math.min(L.length/C,D.length/F);let ca=0,U=0;for(let V=0;V<J;V++){const G=D[ca],R=D[ca+1],Z=
D[ca+2];var ba=G*G+R*R+Z*Z;0<ba&&(ba=1/Math.sqrt(ba),L[U]=ba*G,L[U+1]=ba*R,L[U+2]=ba*Z);ca+=F;U+=C}}function Q(L,D,C){const F=Math.min(L.count,D.count),J=L.typedBuffer;L=L.typedBufferStride;const ca=D.typedBuffer;D=D.typedBufferStride;let U=0,ba=0;for(let V=0;V<F;V++)J[ba]=ca[U]>>C,J[ba+1]=ca[U+1]>>C,J[ba+2]=ca[U+2]>>C,U+=D,ba+=L}h=Object.freeze(Object.defineProperty({__proto__:null,normalize:w,normalizeView:B,scale:q,scaleView:r,shiftRight:Q,transformMat3:m,transformMat3View:k,transformMat4:v,transformMat4View:z,
translate:x},Symbol.toStringTag,{value:"Module"}));b.normalize=w;b.normalizeView=B;b.scale=q;b.scaleView=r;b.shiftRight=Q;b.transformMat3=m;b.transformMat3View=k;b.transformMat4=v;b.transformMat4View=z;b.translate=x;b.vec3=h})},"esri/libs/i3s/enums":function(){define(["exports"],function(b){b.IndexType=void 0;(function(h){h[h.None=0]="None";h[h.Int16=1]="Int16";h[h.Int32=2]="Int32"})(b.IndexType||(b.IndexType={}));b.ModificationType=void 0;(function(h){h[h.Replace=0]="Replace";h[h.Outside=1]="Outside";
h[h.Inside=2]="Inside";h[h.Finished=3]="Finished"})(b.ModificationType||(b.ModificationType={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/libs/i3s/I3SModule":function(){define(["require","exports","../../assets"],function(b,h,t){function z(k){return t.getAssetUrl(`esri/libs/i3s/${k}`)}let v;h.get=function(){v||=(new Promise(k=>(new Promise((m,r)=>b(["../../chunks/i3s"],m,r))).then(m=>m.i3s).then(({default:m})=>{const r=m({locateFile:z,onRuntimeInitialized:()=>k(r)});delete r.then}))).catch(k=>
{throw k;});return v};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/I3SNode":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/vec4f64","../../../../chunks/sphere","./I3SUtil","../../support/ElevationRange"],function(b,h,t,z,v){class k extends v.ElevationRange{constructor(q,x){super(NaN,NaN);this.id=q;this.serviceMbsInIndexSR=x;this.serviceMbsInRenderSR=t.fromValues(0,0,0,-1)}invalidateServiceBVsInRenderSR(){z.invalidateMbs(this.serviceMbsInRenderSR);
this.serviceObbInRenderSR?.invalidate()}shareServiceBVsInRenderSRWith(q){this.serviceObbInRenderSR=q.serviceObbInRenderSR;this.serviceMbsInRenderSR=q.serviceMbsInRenderSR}}b.NodeFilterImpact=void 0;(function(q){q[q.Unmodified=0]="Unmodified";q[q.Culled=1]="Culled";q[q.NotChecked=2]="NotChecked"})(b.NodeFilterImpact||(b.NodeFilterImpact={}));b.NodeIMModificationImpact=void 0;(function(q){q[q.Unmodified=0]="Unmodified";q[q.PotentiallyModified=1]="PotentiallyModified";q[q.Culled=2]="Culled";q[q.Unknown=
3]="Unknown";q[q.NotChecked=4]="NotChecked"})(b.NodeIMModificationImpact||(b.NodeIMModificationImpact={}));class m extends k{constructor(q,x,B,w,Q,L,D,C,F,J){super(q,B);this.index=x;this.childCount=w;this.level=Q;this.resources=L;this.version=D;this.lodMetric=C;this.maxError=F;this.numFeatures=J;this.failed=!1;this.cacheState=b.CacheState.Unknown;this.childrenLoaded=this.memory=this.vertexCount=0;this.hasModifications=!1;this.imModificationImpact=b.NodeIMModificationImpact.NotChecked;this.elevationAgnosticBoundingVolume=
h.fromValues(0,0,0,-1)}invalidateServiceBVsInRenderSR(){super.invalidateServiceBVsInRenderSR();this.elevationAgnosticBoundingVolume[3]=-1}}b.CacheState=void 0;(function(q){q[q.Unknown=0]="Unknown";q[q.Uncached=1]="Uncached";q[q.Cached=2]="Cached"})(b.CacheState||(b.CacheState={}));b.LodMetric=void 0;(function(q){q[q.None=0]="None";q[q.MaxScreenThreshold=1]="MaxScreenThreshold";q[q.ScreenSpaceRelative=2]="ScreenSpaceRelative";q[q.RemovedFeatureDiameter=3]="RemovedFeatureDiameter";q[q.DistanceRangeFromDefaultCamera=
4]="DistanceRangeFromDefaultCamera"})(b.LodMetric||(b.LodMetric={}));b.NodeState=void 0;(function(q){q[q.Hole=0]="Hole";q[q.Leaf=1]="Leaf"})(b.NodeState||(b.NodeState={}));class r{constructor(q,x,B,w){this.nodeHasLOD=q;this.isChosen=x;this.lodLevel=B;this.version=w}}b.Node=m;b.NodeBase=k;b.NodeTraversalState=r;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/libs/gl-matrix-2/math/mat4 ./vec32 ../core/libs/gl-matrix-2/factories/vec3f64 ./vec42 ../core/libs/gl-matrix-2/factories/vec4f64 ../core/libs/gl-matrix-2/math/common ../geometry/support/Axis ../geometry/support/ray ../geometry/support/sphereUtils ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B,w,Q,L,D){function C(){return q.create()}function F(c,d){return r.copy(d,c)}function J(c,d){return q.fromValues(c[0],c[1],c[2],d)}function ca(c){return c}function U(c){c[0]=c[1]=c[2]=c[3]=0}function ba(c,d){c[0]=c[1]=c[2]=0;c[3]=d;return c}function V(c){return c[3]}function G(c){return c}function R(c,d,f,n){return q.fromValues(c,d,f,n)}function Z(c,d,f){c!==f&&(f[0]=c[0],f[1]=c[1],f[2]=c[2]);f[3]=c[3]+d;return f}function fa(c,d,f){c!==f&&F(c,f);return f}function ha(c,
d){return d}function H(c,d,f){if(null==d||!S(c,d,X))return!1;let {t0:n,t1:y}=X;if(0>n||y<n&&0<y)n=y;if(0>n)return!1;if(f){const {origin:A,direction:E}=d;f[0]=A[0]+E[0]*n;f[1]=A[1]+E[1]*n;f[2]=A[2]+E[2]*n}return!0}function K(c,d,f){d=w.fromPoints(d,f);if(!S(c,d,X))return[];const {origin:n,direction:y}=d,{t0:A,t1:E}=X;d=W=>{const T=m.create();k.scaleAndAdd(T,n,y,W);return N(c,T,T)};return Math.abs(A-E)<x.getEpsilon()?[d(A)]:[d(A),d(E)]}function S(c,d,f){const {origin:n,direction:y}=d,A=ea;A[0]=n[0]-
c[0];A[1]=n[1]-c[1];A[2]=n[2]-c[2];d=y[0]*y[0]+y[1]*y[1]+y[2]*y[2];if(0===d)return!1;const E=2*(y[0]*A[0]+y[1]*A[1]+y[2]*A[2]);c=E*E-4*d*(A[0]*A[0]+A[1]*A[1]+A[2]*A[2]-c[3]*c[3]);if(0>c)return!1;c=Math.sqrt(c);f.t0=(-E-c)/(2*d);f.t1=(-E+c)/(2*d);return!0}function da(c,d){return H(c,d,null)}function na(c,d,f){if(H(c,d,f))return f;c=ia(c,d,D.sv3d.get());k.add(f,d.origin,k.scale(D.sv3d.get(),d.direction,k.distance(d.origin,c)/k.length(d.direction)));return f}function ia(c,d,f){const n=D.sv3d.get(),y=
D.sm4d.get();k.cross(n,d.origin,d.direction);const A=c[3];k.cross(f,n,d.origin);k.scale(f,f,1/k.length(f)*A);c=ja(c,d.origin);d=L.angle(d.origin,f);v.fromRotation(y,d+c,n);k.transformMat4(f,f,y);return f}function l(c,d,f,n){c=c[3];var y=c*c;d+=.5*Math.PI;const A=f*f+y-2*Math.cos(d)*f*c;f=Math.sqrt(A);y=A-y;return 0>=y?.5:Math.min(1,(Math.acos(Math.sqrt(y)/f)-Math.asin(c/(f/Math.sin(d)))+.5*n)/n)}function u(c,d,f){if(H(c,d,f))return f;w.closestPoint(d,c,f);return N(c,f,f)}function N(c,d,f){d=k.subtract(D.sv3d.get(),
d,c);d=k.scale(D.sv3d.get(),d,c[3]/k.length(d));return k.add(f,d,c)}function aa(c,d){d=k.subtract(D.sv3d.get(),d,c);d=k.squaredLength(d);return Math.sqrt(Math.abs(d-c[3]*c[3]))}function ja(c,d){d=k.subtract(D.sv3d.get(),d,c);d=k.length(d);c=c[3];return z.acosClamped(c/(c+Math.abs(c-d)))}function la(c,d,f,n){c=k.subtract(g,d,c);switch(f){case B.Axis.X:return f=Q.cartesianToSpherical(c,g)[2],k.set(n,-Math.sin(f),Math.cos(f),0);case B.Axis.Y:return c=Q.cartesianToSpherical(c,g),f=c[1],c=c[2],d=Math.sin(f),
k.set(n,-d*Math.cos(c),-d*Math.sin(c),Math.cos(f));case B.Axis.Z:return k.normalize(n,c)}}function ma(c,d){d=k.subtract(e,d,c);return k.length(d)-c[3]}function pa(c,d,f,n){const y=ma(c,d);c=la(c,d,B.Axis.Z,e);f=k.scale(e,c,f-y);return k.add(n,d,f)}function M(c,d){d=k.squaredDistance(c,d);c=c[3];return d<=c*c}function O(c,d,f=q.create()){const n=k.distance(c,d),y=c[3],A=d[3];if(n+A<y)return r.copy(f,c),f;if(n+y<A)return r.copy(f,d),f;k.lerp(f,c,d,(n+A-y)/(2*n));f[3]=(n+y+A)/2;return f}h=C();const I=
t=r.equals,X={t0:0,t1:0},ea=m.create(),g=m.create(),e=m.create(),p=C(),a=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:h,altitudeAt:ma,angleToSilhouette:ja,axisAt:la,cameraFrustumCoverage:l,clear:U,closestPoint:u,closestPointOnSilhouette:ia,containsPoint:M,copy:F,create:C,distanceToSilhouette:aa,elevate:Z,equals:I,exactEquals:t,fromCenterAndRadius:J,fromRadius:ba,fromValues:R,getCenter:G,getExtent:ha,getRadius:V,intersectLine:K,intersectRay:H,intersectRayClosestSilhouette:na,intersectsRay:da,
projectPoint:N,setAltitudeAt:pa,setExtent:fa,tmpSphere:p,union:O,wrap:ca},Symbol.toStringTag,{value:"Module"}));b.NullSphere=h;b.altitudeAt=ma;b.angleToSilhouette=ja;b.axisAt=la;b.cameraFrustumCoverage=l;b.clear=U;b.closestPoint=u;b.closestPointOnSilhouette=ia;b.containsPoint=M;b.copy=F;b.create=C;b.distanceToSilhouette=aa;b.elevate=Z;b.equals=I;b.exactEquals=t;b.fromCenterAndRadius=J;b.fromRadius=ba;b.fromValues=R;b.getCenter=G;b.getExtent=ha;b.getRadius=V;b.intersectLine=K;b.intersectRay=H;b.intersectRayClosestSilhouette=
na;b.intersectsRay=da;b.projectPoint=N;b.setAltitudeAt=pa;b.setExtent=fa;b.sphere=a;b.tmpSphere=p;b.union=O;b.wrap=ca})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(b,h,t){function z(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a}function v(a,c,d,f,n,y,A,E,W,T,P,Y,ka,oa,sa,qa,ra){a[0]=c;a[1]=d;
a[2]=f;a[3]=n;a[4]=y;a[5]=A;a[6]=E;a[7]=W;a[8]=T;a[9]=P;a[10]=Y;a[11]=ka;a[12]=oa;a[13]=sa;a[14]=qa;a[15]=ra;return a}function k(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function m(a,c){if(a===c){const d=c[1],f=c[2],n=c[3],y=c[6],A=c[7],E=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=d;a[6]=c[9];a[7]=c[13];a[8]=f;a[9]=y;a[11]=c[14];a[12]=n;a[13]=A;a[14]=E}else a[0]=c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=
c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a}function r(a,c){q(a,c)||k(a);return a}function q(a,c){const d=c[0],f=c[1],n=c[2],y=c[3],A=c[4],E=c[5],W=c[6],T=c[7],P=c[8],Y=c[9],ka=c[10],oa=c[11],sa=c[12],qa=c[13],ra=c[14];c=c[15];const wa=d*E-f*A,ta=d*W-n*A,ua=d*T-y*A,va=f*W-n*E,xa=f*T-y*E,ya=n*T-y*W,Ba=P*qa-Y*sa,Ca=P*ra-ka*sa,Da=P*c-oa*sa,Ea=Y*ra-ka*qa,Fa=Y*c-oa*qa,Ga=ka*c-oa*ra;let za=wa*Ga-ta*Fa+ua*Ea+va*Da-xa*Ca+ya*
Ba;if(!za)return null;za=1/za;a[0]=(E*Ga-W*Fa+T*Ea)*za;a[1]=(n*Fa-f*Ga-y*Ea)*za;a[2]=(qa*ya-ra*xa+c*va)*za;a[3]=(ka*xa-Y*ya-oa*va)*za;a[4]=(W*Da-A*Ga-T*Ca)*za;a[5]=(d*Ga-n*Da+y*Ca)*za;a[6]=(ra*ua-sa*ya-c*ta)*za;a[7]=(P*ya-ka*ua+oa*ta)*za;a[8]=(A*Fa-E*Da+T*Ba)*za;a[9]=(f*Da-d*Fa-y*Ba)*za;a[10]=(sa*xa-qa*ua+c*wa)*za;a[11]=(Y*ua-P*xa-oa*wa)*za;a[12]=(E*Ca-A*Ea-W*Ba)*za;a[13]=(d*Ea-f*Ca+n*Ba)*za;a[14]=(qa*ta-sa*va-ra*wa)*za;a[15]=(P*va-Y*ta+ka*wa)*za;return a}function x(a,c){const d=c[0],f=c[1],n=c[2],
y=c[3],A=c[4],E=c[5],W=c[6],T=c[7],P=c[8],Y=c[9],ka=c[10],oa=c[11],sa=c[12],qa=c[13],ra=c[14];c=c[15];a[0]=E*(ka*c-oa*ra)-Y*(W*c-T*ra)+qa*(W*oa-T*ka);a[1]=-(f*(ka*c-oa*ra)-Y*(n*c-y*ra)+qa*(n*oa-y*ka));a[2]=f*(W*c-T*ra)-E*(n*c-y*ra)+qa*(n*T-y*W);a[3]=-(f*(W*oa-T*ka)-E*(n*oa-y*ka)+Y*(n*T-y*W));a[4]=-(A*(ka*c-oa*ra)-P*(W*c-T*ra)+sa*(W*oa-T*ka));a[5]=d*(ka*c-oa*ra)-P*(n*c-y*ra)+sa*(n*oa-y*ka);a[6]=-(d*(W*c-T*ra)-A*(n*c-y*ra)+sa*(n*T-y*W));a[7]=d*(W*oa-T*ka)-A*(n*oa-y*ka)+P*(n*T-y*W);a[8]=A*(Y*c-oa*qa)-
P*(E*c-T*qa)+sa*(E*oa-T*Y);a[9]=-(d*(Y*c-oa*qa)-P*(f*c-y*qa)+sa*(f*oa-y*Y));a[10]=d*(E*c-T*qa)-A*(f*c-y*qa)+sa*(f*T-y*E);a[11]=-(d*(E*oa-T*Y)-A*(f*oa-y*Y)+P*(f*T-y*E));a[12]=-(A*(Y*ra-ka*qa)-P*(E*ra-W*qa)+sa*(E*ka-W*Y));a[13]=d*(Y*ra-ka*qa)-P*(f*ra-n*qa)+sa*(f*ka-n*Y);a[14]=-(d*(E*ra-W*qa)-A*(f*ra-n*qa)+sa*(f*W-n*E));a[15]=d*(E*ka-W*Y)-A*(f*ka-n*Y)+P*(f*W-n*E);return a}function B(a){const c=a[0],d=a[1],f=a[2],n=a[3],y=a[4],A=a[5],E=a[6],W=a[7],T=a[8],P=a[9],Y=a[10],ka=a[11],oa=a[12],sa=a[13],qa=a[14];
a=a[15];return(c*A-d*y)*(Y*a-ka*qa)-(c*E-f*y)*(P*a-ka*sa)+(c*W-n*y)*(P*qa-Y*sa)+(d*E-f*A)*(T*a-ka*oa)-(d*W-n*A)*(T*qa-Y*oa)+(f*W-n*E)*(T*sa-P*oa)}function w(a,c,d){const f=c[0],n=c[1],y=c[2],A=c[3],E=c[4],W=c[5],T=c[6],P=c[7],Y=c[8],ka=c[9],oa=c[10],sa=c[11],qa=c[12],ra=c[13],wa=c[14];c=c[15];let ta=d[0],ua=d[1],va=d[2],xa=d[3];a[0]=ta*f+ua*E+va*Y+xa*qa;a[1]=ta*n+ua*W+va*ka+xa*ra;a[2]=ta*y+ua*T+va*oa+xa*wa;a[3]=ta*A+ua*P+va*sa+xa*c;ta=d[4];ua=d[5];va=d[6];xa=d[7];a[4]=ta*f+ua*E+va*Y+xa*qa;a[5]=ta*
n+ua*W+va*ka+xa*ra;a[6]=ta*y+ua*T+va*oa+xa*wa;a[7]=ta*A+ua*P+va*sa+xa*c;ta=d[8];ua=d[9];va=d[10];xa=d[11];a[8]=ta*f+ua*E+va*Y+xa*qa;a[9]=ta*n+ua*W+va*ka+xa*ra;a[10]=ta*y+ua*T+va*oa+xa*wa;a[11]=ta*A+ua*P+va*sa+xa*c;ta=d[12];ua=d[13];va=d[14];xa=d[15];a[12]=ta*f+ua*E+va*Y+xa*qa;a[13]=ta*n+ua*W+va*ka+xa*ra;a[14]=ta*y+ua*T+va*oa+xa*wa;a[15]=ta*A+ua*P+va*sa+xa*c;return a}function Q(a,c,d){const f=d[0],n=d[1];d=d[2];if(c===a)a[12]=c[0]*f+c[4]*n+c[8]*d+c[12],a[13]=c[1]*f+c[5]*n+c[9]*d+c[13],a[14]=c[2]*f+
c[6]*n+c[10]*d+c[14],a[15]=c[3]*f+c[7]*n+c[11]*d+c[15];else{const y=c[0],A=c[1],E=c[2],W=c[3],T=c[4],P=c[5],Y=c[6],ka=c[7],oa=c[8],sa=c[9],qa=c[10],ra=c[11];a[0]=y;a[1]=A;a[2]=E;a[3]=W;a[4]=T;a[5]=P;a[6]=Y;a[7]=ka;a[8]=oa;a[9]=sa;a[10]=qa;a[11]=ra;a[12]=y*f+T*n+oa*d+c[12];a[13]=A*f+P*n+sa*d+c[13];a[14]=E*f+Y*n+qa*d+c[14];a[15]=W*f+ka*n+ra*d+c[15]}return a}function L(a,c,d){const f=d[0],n=d[1];d=d[2];a[0]=c[0]*f;a[1]=c[1]*f;a[2]=c[2]*f;a[3]=c[3]*f;a[4]=c[4]*n;a[5]=c[5]*n;a[6]=c[6]*n;a[7]=c[7]*n;a[8]=
c[8]*d;a[9]=c[9]*d;a[10]=c[10]*d;a[11]=c[11]*d;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a}function D(a,c,d,f){var n=f[0],y=f[1];f=f[2];var A=Math.sqrt(n*n+y*y+f*f);if(A<=t.getEpsilon())z(a,c);else{A=1/A;n*=A;y*=A;f*=A;var E=Math.sin(d),W=Math.cos(d),T=1-W;d=c[0];A=c[1];var P=c[2],Y=c[3],ka=c[4],oa=c[5],sa=c[6],qa=c[7],ra=c[8],wa=c[9],ta=c[10],ua=c[11],va=n*n*T+W,xa=y*n*T+f*E,ya=f*n*T-y*E,Ba=n*y*T-f*E,Ca=y*y*T+W,Da=f*y*T+n*E,Ea=n*f*T+y*E;n=y*f*T-n*E;y=f*f*T+W;a[0]=d*va+ka*xa+ra*ya;a[1]=
A*va+oa*xa+wa*ya;a[2]=P*va+sa*xa+ta*ya;a[3]=Y*va+qa*xa+ua*ya;a[4]=d*Ba+ka*Ca+ra*Da;a[5]=A*Ba+oa*Ca+wa*Da;a[6]=P*Ba+sa*Ca+ta*Da;a[7]=Y*Ba+qa*Ca+ua*Da;a[8]=d*Ea+ka*n+ra*y;a[9]=A*Ea+oa*n+wa*y;a[10]=P*Ea+sa*n+ta*y;a[11]=Y*Ea+qa*n+ua*y;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15])}}function C(a,c,d){const f=Math.sin(d);d=Math.cos(d);const n=c[4],y=c[5],A=c[6],E=c[7],W=c[8],T=c[9],P=c[10],Y=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);
a[4]=n*d+W*f;a[5]=y*d+T*f;a[6]=A*d+P*f;a[7]=E*d+Y*f;a[8]=W*d-n*f;a[9]=T*d-y*f;a[10]=P*d-A*f;a[11]=Y*d-E*f;return a}function F(a,c,d){const f=Math.sin(d);d=Math.cos(d);const n=c[0],y=c[1],A=c[2],E=c[3],W=c[8],T=c[9],P=c[10],Y=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=n*d-W*f;a[1]=y*d-T*f;a[2]=A*d-P*f;a[3]=E*d-Y*f;a[8]=n*f+W*d;a[9]=y*f+T*d;a[10]=A*f+P*d;a[11]=E*f+Y*d;return a}function J(a,c,d){const f=Math.sin(d);d=Math.cos(d);const n=
c[0],y=c[1],A=c[2],E=c[3],W=c[4],T=c[5],P=c[6],Y=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=n*d+W*f;a[1]=y*d+T*f;a[2]=A*d+P*f;a[3]=E*d+Y*f;a[4]=W*d-n*f;a[5]=T*d-y*f;a[6]=P*d-A*f;a[7]=Y*d-E*f;return a}function ca(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function U(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c[1];a[6]=0;a[7]=0;a[8]=
0;a[9]=0;a[10]=c[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ba(a,c,d){if(0===c)return k(a);let f=d[0],n=d[1];d=d[2];var y=Math.sqrt(f*f+n*n+d*d);if(y<=t.getEpsilon())return null;y=1/y;f*=y;n*=y;d*=y;y=Math.sin(c);c=Math.cos(c);const A=1-c;a[0]=f*f*A+c;a[1]=n*f*A+d*y;a[2]=d*f*A-n*y;a[3]=0;a[4]=f*n*A-d*y;a[5]=n*n*A+c;a[6]=d*n*A+f*y;a[7]=0;a[8]=f*d*A+n*y;a[9]=n*d*A-f*y;a[10]=d*d*A+c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function V(a,c){const d=Math.sin(c);c=Math.cos(c);a[0]=
1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=d;a[7]=0;a[8]=0;a[9]=-d;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function G(a,c){const d=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=0;a[2]=-d;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=d;a[9]=0;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function R(a,c){const d=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=d;a[2]=0;a[3]=0;a[4]=-d;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Z(a,c,d){var f=
c[0],n=c[1],y=c[2],A=c[3],E=f+f,W=n+n;const T=y+y;c=f*E;const P=f*W;f*=T;const Y=n*W;n*=T;y*=T;E*=A;W*=A;A*=T;a[0]=1-(Y+y);a[1]=P+A;a[2]=f-W;a[3]=0;a[4]=P-A;a[5]=1-(c+y);a[6]=n+E;a[7]=0;a[8]=f+W;a[9]=n-E;a[10]=1-(c+Y);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function fa(a,c){const d=p,f=-c[0],n=-c[1],y=-c[2],A=c[3],E=c[4],W=c[5],T=c[6],P=c[7],Y=f*f+n*n+y*y+A*A;0<Y?(d[0]=2*(E*A+P*f+W*y-T*n)/Y,d[1]=2*(W*A+P*n+T*f-E*y)/Y,d[2]=2*(T*A+P*y+E*n-W*f)/Y):(d[0]=2*(E*A+P*f+W*y-T*n),d[1]=2*(W*
A+P*n+T*f-E*y),d[2]=2*(T*A+P*y+E*n-W*f));Z(a,c,d);return a}function ha(a,c){a[0]=c[12];a[1]=c[13];a[2]=c[14];return a}function H(a,c){const d=c[0],f=c[1],n=c[2],y=c[4],A=c[5],E=c[6],W=c[8],T=c[9];c=c[10];a[0]=Math.sqrt(d*d+f*f+n*n);a[1]=Math.sqrt(y*y+A*A+E*E);a[2]=Math.sqrt(W*W+T*T+c*c);return a}function K(a,c){const d=c[0]+c[5]+c[10];let f=0;0<d?(f=2*Math.sqrt(d+1),a[3]=.25*f,a[0]=(c[6]-c[9])/f,a[1]=(c[8]-c[2])/f,a[2]=(c[1]-c[4])/f):c[0]>c[5]&&c[0]>c[10]?(f=2*Math.sqrt(1+c[0]-c[5]-c[10]),a[3]=(c[6]-
c[9])/f,a[0]=.25*f,a[1]=(c[1]+c[4])/f,a[2]=(c[8]+c[2])/f):c[5]>c[10]?(f=2*Math.sqrt(1+c[5]-c[0]-c[10]),a[3]=(c[8]-c[2])/f,a[0]=(c[1]+c[4])/f,a[1]=.25*f,a[2]=(c[6]+c[9])/f):(f=2*Math.sqrt(1+c[10]-c[0]-c[5]),a[3]=(c[1]-c[4])/f,a[0]=(c[8]+c[2])/f,a[1]=(c[6]+c[9])/f,a[2]=.25*f);return a}function S(a,c,d,f){var n=c[0],y=c[1],A=c[2],E=c[3],W=n+n,T=y+y,P=A+A;c=n*W;const Y=n*T;n*=P;const ka=y*T;y*=P;A*=P;W*=E;T*=E;E*=P;P=f[0];const oa=f[1];f=f[2];a[0]=(1-(ka+A))*P;a[1]=(Y+E)*P;a[2]=(n-T)*P;a[3]=0;a[4]=(Y-
E)*oa;a[5]=(1-(c+A))*oa;a[6]=(y+W)*oa;a[7]=0;a[8]=(n+T)*f;a[9]=(y-W)*f;a[10]=(1-(c+ka))*f;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function da(a,c,d,f,n){var y=c[0],A=c[1],E=c[2],W=c[3],T=y+y,P=A+A,Y=E+E;c=y*T;var ka=y*P,oa=y*Y;y=A*P;A*=Y;var sa=E*Y;E=W*T;P*=W;const qa=W*Y;var ra=f[0],wa=f[1];Y=f[2];f=n[0];W=n[1];n=n[2];T=(1-(y+sa))*ra;const ta=(ka+qa)*ra;ra*=oa-P;ka=(ka-qa)*wa;sa=(1-(c+sa))*wa;wa*=A+E;oa=(oa+P)*Y;A=(A-E)*Y;c=(1-(c+y))*Y;a[0]=T;a[1]=ta;a[2]=ra;a[3]=0;a[4]=ka;a[5]=
sa;a[6]=wa;a[7]=0;a[8]=oa;a[9]=A;a[10]=c;a[11]=0;a[12]=d[0]+f-(T*f+ka*W+oa*n);a[13]=d[1]+W-(ta*f+sa*W+A*n);a[14]=d[2]+n-(ra*f+wa*W+c*n);a[15]=1;return a}function na(a,c){var d=c[0],f=c[1],n=c[2];c=c[3];var y=d+d,A=f+f;const E=n+n;d*=y;const W=f*y;f*=A;const T=n*y,P=n*A;n*=E;y*=c;A*=c;c*=E;a[0]=1-f-n;a[1]=W+c;a[2]=T-A;a[3]=0;a[4]=W-c;a[5]=1-d-n;a[6]=P+y;a[7]=0;a[8]=T+A;a[9]=P-y;a[10]=1-d-f;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ia(a,c,d,f,n,y,A){const E=1/(d-c),W=1/(n-f),T=1/(y-
A);a[0]=2*y*E;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*y*W;a[6]=0;a[7]=0;a[8]=(d+c)*E;a[9]=(n+f)*W;a[10]=(A+y)*T;a[11]=-1;a[12]=0;a[13]=0;a[14]=A*y*2*T;a[15]=0;return a}function l(a,c,d,f,n){c=1/Math.tan(c/2);let y=void 0;a[0]=c/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=n&&Infinity!==n?(y=1/(f-n),a[10]=(n+f)*y,a[14]=2*n*f*y):(a[10]=-1,a[14]=-2*f);return a}function u(a,c,d,f){const n=Math.tan(c.upDegrees*Math.PI/180),y=Math.tan(c.downDegrees*
Math.PI/180),A=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*Math.PI/180);const E=2/(A+c),W=2/(n+y);a[0]=E;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=W;a[6]=0;a[7]=0;a[8]=-((A-c)*E*.5);a[9]=(n-y)*W*.5;a[10]=f/(d-f);a[11]=-1;a[12]=0;a[13]=0;a[14]=f*d/(d-f);a[15]=0;return a}function N(a,c,d,f,n,y,A){const E=1/(c-d),W=1/(f-n),T=1/(y-A);a[0]=-2*E;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*W;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*T;a[11]=0;a[12]=(c+d)*E;a[13]=(n+f)*W;a[14]=(A+y)*T;a[15]=1;return a}function aa(a,
c,d,f){const n=c[0],y=c[1];c=c[2];let A=n-d[0],E=y-d[1];d=c-d[2];var W=t.getEpsilon();if(Math.abs(A)<W&&Math.abs(E)<W&&Math.abs(d)<W)k(a);else{var T=1/Math.sqrt(A*A+E*E+d*d);A*=T;E*=T;d*=T;T=f[0];var P=f[1];W=f[2];f=P*d-W*E;W=W*A-T*d;P=T*E-P*A;(T=Math.sqrt(f*f+W*W+P*P))?(T=1/T,f*=T,W*=T,P*=T):P=W=f=0;var Y=E*P-d*W,ka=d*f-A*P,oa=A*W-E*f;(T=Math.sqrt(Y*Y+ka*ka+oa*oa))?(T=1/T,Y*=T,ka*=T,oa*=T):oa=ka=Y=0;a[0]=f;a[1]=Y;a[2]=A;a[3]=0;a[4]=W;a[5]=ka;a[6]=E;a[7]=0;a[8]=P;a[9]=oa;a[10]=d;a[11]=0;a[12]=-(f*
n+W*y+P*c);a[13]=-(Y*n+ka*y+oa*c);a[14]=-(A*n+E*y+d*c);a[15]=1}}function ja(a,c,d,f){const n=c[0],y=c[1];c=c[2];var A=f[0];const E=f[1];var W=f[2];f=n-d[0];let T=y-d[1];d=c-d[2];let P=f*f+T*T+d*d;0<P&&(P=1/Math.sqrt(P),f*=P,T*=P,d*=P);let Y=E*d-W*T;W=W*f-A*d;A=A*T-E*f;P=Y*Y+W*W+A*A;0<P&&(P=1/Math.sqrt(P),Y*=P,W*=P,A*=P);a[0]=Y;a[1]=W;a[2]=A;a[3]=0;a[4]=T*A-d*W;a[5]=d*Y-f*A;a[6]=f*W-T*Y;a[7]=0;a[8]=f;a[9]=T;a[10]=d;a[11]=0;a[12]=n;a[13]=y;a[14]=c;a[15]=1;return a}function la(a){return"mat4("+a[0]+
", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function ma(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function pa(a,c,d){a[0]=c[0]+d[0];a[1]=c[1]+d[1];a[2]=c[2]+d[2];a[3]=c[3]+d[3];a[4]=c[4]+d[4];a[5]=c[5]+d[5];a[6]=c[6]+d[6];a[7]=c[7]+d[7];a[8]=c[8]+d[8];a[9]=c[9]+d[9];a[10]=
c[10]+d[10];a[11]=c[11]+d[11];a[12]=c[12]+d[12];a[13]=c[13]+d[13];a[14]=c[14]+d[14];a[15]=c[15]+d[15];return a}function M(a,c,d){a[0]=c[0]-d[0];a[1]=c[1]-d[1];a[2]=c[2]-d[2];a[3]=c[3]-d[3];a[4]=c[4]-d[4];a[5]=c[5]-d[5];a[6]=c[6]-d[6];a[7]=c[7]-d[7];a[8]=c[8]-d[8];a[9]=c[9]-d[9];a[10]=c[10]-d[10];a[11]=c[11]-d[11];a[12]=c[12]-d[12];a[13]=c[13]-d[13];a[14]=c[14]-d[14];a[15]=c[15]-d[15];return a}function O(a,c,d){a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;a[3]=c[3]*d;a[4]=c[4]*d;a[5]=c[5]*d;a[6]=c[6]*d;a[7]=
c[7]*d;a[8]=c[8]*d;a[9]=c[9]*d;a[10]=c[10]*d;a[11]=c[11]*d;a[12]=c[12]*d;a[13]=c[13]*d;a[14]=c[14]*d;a[15]=c[15]*d;return a}function I(a,c,d,f){a[0]=c[0]+d[0]*f;a[1]=c[1]+d[1]*f;a[2]=c[2]+d[2]*f;a[3]=c[3]+d[3]*f;a[4]=c[4]+d[4]*f;a[5]=c[5]+d[5]*f;a[6]=c[6]+d[6]*f;a[7]=c[7]+d[7]*f;a[8]=c[8]+d[8]*f;a[9]=c[9]+d[9]*f;a[10]=c[10]+d[10]*f;a[11]=c[11]+d[11]*f;a[12]=c[12]+d[12]*f;a[13]=c[13]+d[13]*f;a[14]=c[14]+d[14]*f;a[15]=c[15]+d[15]*f;return a}function X(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&
a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]}function ea(a,c){if(a===c)return!0;const d=a[0],f=a[1],n=a[2],y=a[3],A=a[4],E=a[5],W=a[6],T=a[7],P=a[8],Y=a[9],ka=a[10],oa=a[11],sa=a[12],qa=a[13],ra=a[14];a=a[15];const wa=c[0],ta=c[1],ua=c[2],va=c[3],xa=c[4],ya=c[5],Ba=c[6],Ca=c[7],Da=c[8],Ea=c[9],Fa=c[10],Ga=c[11],za=c[12],Ha=c[13],Ia=c[14];c=c[15];const Aa=t.getEpsilon();
return Math.abs(d-wa)<=Aa*Math.max(1,Math.abs(d),Math.abs(wa))&&Math.abs(f-ta)<=Aa*Math.max(1,Math.abs(f),Math.abs(ta))&&Math.abs(n-ua)<=Aa*Math.max(1,Math.abs(n),Math.abs(ua))&&Math.abs(y-va)<=Aa*Math.max(1,Math.abs(y),Math.abs(va))&&Math.abs(A-xa)<=Aa*Math.max(1,Math.abs(A),Math.abs(xa))&&Math.abs(E-ya)<=Aa*Math.max(1,Math.abs(E),Math.abs(ya))&&Math.abs(W-Ba)<=Aa*Math.max(1,Math.abs(W),Math.abs(Ba))&&Math.abs(T-Ca)<=Aa*Math.max(1,Math.abs(T),Math.abs(Ca))&&Math.abs(P-Da)<=Aa*Math.max(1,Math.abs(P),
Math.abs(Da))&&Math.abs(Y-Ea)<=Aa*Math.max(1,Math.abs(Y),Math.abs(Ea))&&Math.abs(ka-Fa)<=Aa*Math.max(1,Math.abs(ka),Math.abs(Fa))&&Math.abs(oa-Ga)<=Aa*Math.max(1,Math.abs(oa),Math.abs(Ga))&&Math.abs(sa-za)<=Aa*Math.max(1,Math.abs(sa),Math.abs(za))&&Math.abs(qa-Ha)<=Aa*Math.max(1,Math.abs(qa),Math.abs(Ha))&&Math.abs(ra-Ia)<=Aa*Math.max(1,Math.abs(ra),Math.abs(Ia))&&Math.abs(a-c)<=Aa*Math.max(1,Math.abs(a),Math.abs(c))}function g(a){const c=t.getEpsilon(),d=a[0],f=a[1],n=a[2],y=a[4],A=a[5],E=a[6],W=
a[8],T=a[9];a=a[10];return Math.abs(1-(d*d+y*y+W*W))<=c&&Math.abs(1-(f*f+A*A+T*T))<=c&&Math.abs(1-(n*n+E*E+a*a))<=c}function e(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const p=h.create();h=Object.freeze(Object.defineProperty({__proto__:null,add:pa,adjoint:x,copy:z,determinant:B,equals:ea,exactEquals:X,frob:ma,fromQuat:na,fromQuat2:fa,fromRotation:ba,fromRotationTranslation:Z,fromRotationTranslationScale:S,fromRotationTranslationScaleOrigin:da,
fromScaling:U,fromTranslation:ca,fromXRotation:V,fromYRotation:G,fromZRotation:R,frustum:ia,getRotation:K,getScaling:H,getTranslation:ha,hasIdentityRotation:e,identity:k,invert:q,invertOrIdentity:r,isOrthoNormal:g,lookAt:aa,mul:w,multiply:w,multiplyScalar:O,multiplyScalarAndAdd:I,ortho:N,perspective:l,perspectiveFromFieldOfView:u,rotate:D,rotateX:C,rotateY:F,rotateZ:J,scale:L,set:v,str:la,sub:M,subtract:M,targetTo:ja,translate:Q,transpose:m},Symbol.toStringTag,{value:"Module"}));b.add=pa;b.adjoint=
x;b.copy=z;b.determinant=B;b.equals=ea;b.exactEquals=X;b.frob=ma;b.fromQuat=na;b.fromQuat2=fa;b.fromRotation=ba;b.fromRotationTranslation=Z;b.fromRotationTranslationScale=S;b.fromRotationTranslationScaleOrigin=da;b.fromScaling=U;b.fromTranslation=ca;b.fromXRotation=V;b.fromYRotation=G;b.fromZRotation=R;b.frustum=ia;b.getRotation=K;b.getScaling=H;b.getTranslation=ha;b.hasIdentityRotation=e;b.identity=k;b.invert=q;b.invertOrIdentity=r;b.isOrthoNormal=g;b.lookAt=aa;b.mat4=h;b.mul=w;b.multiply=w;b.multiplyScalar=
O;b.multiplyScalarAndAdd=I;b.ortho=N;b.perspective=l;b.perspectiveFromFieldOfView=u;b.rotate=D;b.rotateX=C;b.rotateY=F;b.rotateZ=J;b.scale=L;b.set=v;b.str=la;b.sub=M;b.subtract=M;b.targetTo=ja;b.translate=Q;b.transpose=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(b,h,t){function z(g){const e=g[0],p=g[1];g=g[2];return Math.sqrt(e*e+p*p+
g*g)}function v(g,e){g[0]=e[0];g[1]=e[1];g[2]=e[2];return g}function k(g,e,p,a){g[0]=e;g[1]=p;g[2]=a;return g}function m(g,e,p){g[0]=e[0]+p[0];g[1]=e[1]+p[1];g[2]=e[2]+p[2];return g}function r(g,e,p){g[0]=e[0]-p[0];g[1]=e[1]-p[1];g[2]=e[2]-p[2];return g}function q(g,e,p){g[0]=e[0]*p[0];g[1]=e[1]*p[1];g[2]=e[2]*p[2];return g}function x(g,e,p){g[0]=e[0]/p[0];g[1]=e[1]/p[1];g[2]=e[2]/p[2];return g}function B(g,e){g[0]=Math.ceil(e[0]);g[1]=Math.ceil(e[1]);g[2]=Math.ceil(e[2]);return g}function w(g,e){g[0]=
Math.floor(e[0]);g[1]=Math.floor(e[1]);g[2]=Math.floor(e[2]);return g}function Q(g,e){g[0]=Math.abs(e[0]);g[1]=Math.abs(e[1]);g[2]=Math.abs(e[2]);return g}function L(g,e){g[0]=Math.sign(e[0]);g[1]=Math.sign(e[1]);g[2]=Math.sign(e[2]);return g}function D(g,e,p){g[0]=Math.min(e[0],p[0]);g[1]=Math.min(e[1],p[1]);g[2]=Math.min(e[2],p[2]);return g}function C(g,e,p){g[0]=Math.max(e[0],p[0]);g[1]=Math.max(e[1],p[1]);g[2]=Math.max(e[2],p[2]);return g}function F(g,e=0,p=1){g[0]=Math.min(Math.max(g[0],e),p);
g[1]=Math.min(Math.max(g[1],e),p);g[2]=Math.min(Math.max(g[2],e),p);return g}function J(g,e){g[0]=Math.round(e[0]);g[1]=Math.round(e[1]);g[2]=Math.round(e[2]);return g}function ca(g,e,p){g[0]=e[0]*p;g[1]=e[1]*p;g[2]=e[2]*p;return g}function U(g,e,p,a){g[0]=e[0]+p[0]*a;g[1]=e[1]+p[1]*a;g[2]=e[2]+p[2]*a;return g}function ba(g,e){const p=e[0]-g[0],a=e[1]-g[1];g=e[2]-g[2];return Math.sqrt(p*p+a*a+g*g)}function V(g,e){const p=e[0]-g[0],a=e[1]-g[1];g=e[2]-g[2];return p*p+a*a+g*g}function G(g){const e=g[0],
p=g[1];g=g[2];return e*e+p*p+g*g}function R(g,e){g[0]=-e[0];g[1]=-e[1];g[2]=-e[2];return g}function Z(g,e){g[0]=1/e[0];g[1]=1/e[1];g[2]=1/e[2];return g}function fa(g,e){var p=e[0];const a=e[1],c=e[2];p=p*p+a*a+c*c;0<p&&(p=1/Math.sqrt(p),g[0]=e[0]*p,g[1]=e[1]*p,g[2]=e[2]*p);return g}function ha(g,e){return g[0]*e[0]+g[1]*e[1]+g[2]*e[2]}function H(g,e,p){const a=e[0],c=e[1];e=e[2];const d=p[0],f=p[1];p=p[2];g[0]=c*p-e*f;g[1]=e*d-a*p;g[2]=a*f-c*d;return g}function K(g,e,p){var a=e[0],c=e[1],d=e[2];e=
p[0];const f=p[1],n=p[2];p=c*n-d*f;d=d*e-a*n;a=a*f-c*e;c=Math.sqrt(p*p+d*d+a*a);g[0]=p/c;g[1]=d/c;g[2]=a/c;return g}function S(g,e,p,a){const c=e[0],d=e[1];e=e[2];g[0]=c+a*(p[0]-c);g[1]=d+a*(p[1]-d);g[2]=e+a*(p[2]-e);return g}function da(g,e,p,a,c,d){const f=d*d,n=f*(2*d-3)+1,y=f*(d-2)+d,A=f*(d-1);d=f*(3-2*d);g[0]=e[0]*n+p[0]*y+a[0]*A+c[0]*d;g[1]=e[1]*n+p[1]*y+a[1]*A+c[1]*d;g[2]=e[2]*n+p[2]*y+a[2]*A+c[2]*d;return g}function na(g,e,p,a,c,d){var f=1-d,n=f*f;const y=d*d,A=n*f;n*=3*d;f*=3*y;d*=y;g[0]=
e[0]*A+p[0]*n+a[0]*f+c[0]*d;g[1]=e[1]*A+p[1]*n+a[1]*f+c[1]*d;g[2]=e[2]*A+p[2]*n+a[2]*f+c[2]*d;return g}function ia(g,e=1){var p=t.RANDOM;const a=2*p()*Math.PI;p=2*p()-1;const c=Math.sqrt(1-p*p)*e;g[0]=Math.cos(a)*c;g[1]=Math.sin(a)*c;g[2]=p*e;return g}function l(g,e,p){const a=e[0],c=e[1];e=e[2];g[0]=p[0]*a+p[4]*c+p[8]*e+p[12];g[1]=p[1]*a+p[5]*c+p[9]*e+p[13];g[2]=p[2]*a+p[6]*c+p[10]*e+p[14];return g}function u(g,e,p){const a=e[0],c=e[1];e=e[2];g[0]=a*p[0]+c*p[3]+e*p[6];g[1]=a*p[1]+c*p[4]+e*p[7];g[2]=
a*p[2]+c*p[5]+e*p[8];return g}function N(g,e,p){const a=p[0],c=p[1],d=p[2],f=e[0],n=e[1];e=e[2];const y=c*e-d*n,A=d*f-a*e,E=a*n-c*f;p=2*p[3];g[0]=f+y*p+2*(c*E-d*A);g[1]=n+A*p+2*(d*y-a*E);g[2]=e+E*p+2*(a*A-c*y);return g}function aa(g,e,p,a){const c=[],d=[];c[0]=e[0]-p[0];c[1]=e[1]-p[1];c[2]=e[2]-p[2];d[0]=c[0];d[1]=c[1]*Math.cos(a)-c[2]*Math.sin(a);d[2]=c[1]*Math.sin(a)+c[2]*Math.cos(a);g[0]=d[0]+p[0];g[1]=d[1]+p[1];g[2]=d[2]+p[2];return g}function ja(g,e,p,a){const c=[],d=[];c[0]=e[0]-p[0];c[1]=e[1]-
p[1];c[2]=e[2]-p[2];d[0]=c[2]*Math.sin(a)+c[0]*Math.cos(a);d[1]=c[1];d[2]=c[2]*Math.cos(a)-c[0]*Math.sin(a);g[0]=d[0]+p[0];g[1]=d[1]+p[1];g[2]=d[2]+p[2];return g}function la(g,e,p,a){const c=[],d=[];c[0]=e[0]-p[0];c[1]=e[1]-p[1];c[2]=e[2]-p[2];d[0]=c[0]*Math.cos(a)-c[1]*Math.sin(a);d[1]=c[0]*Math.sin(a)+c[1]*Math.cos(a);d[2]=c[2];g[0]=d[0]+p[0];g[1]=d[1]+p[1];g[2]=d[2]+p[2];return g}function ma(g,e){fa(X,g);fa(ea,e);g=ha(X,ea);return 1<g?0:-1>g?Math.PI:Math.acos(g)}function pa(g){return"vec3("+g[0]+
", "+g[1]+", "+g[2]+")"}function M(g,e){return g[0]===e[0]&&g[1]===e[1]&&g[2]===e[2]}function O(g,e){if(g===e)return!0;const p=g[0],a=g[1];g=g[2];const c=e[0],d=e[1];e=e[2];const f=t.getEpsilon();return Math.abs(p-c)<=f*Math.max(1,Math.abs(p),Math.abs(c))&&Math.abs(a-d)<=f*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(g-e)<=f*Math.max(1,Math.abs(g),Math.abs(e))}function I(g,e,p){const a=p[0]-e[0],c=p[1]-e[1];e=p[2]-e[2];p=a*a+c*c+e*e;if(0<p)return p=1/Math.sqrt(p),g[0]=a*p,g[1]=c*p,g[2]=e*p,g;g[0]=
0;g[1]=0;g[2]=0;return g}const X=h.create(),ea=h.create();h=Object.freeze(Object.defineProperty({__proto__:null,abs:Q,add:m,angle:ma,bezier:na,ceil:B,clamp:F,copy:v,cross:H,crossAndNormalize:K,direction:I,dist:ba,distance:ba,div:x,divide:x,dot:ha,equals:O,exactEquals:M,floor:w,hermite:da,inverse:Z,len:z,length:z,lerp:S,max:C,min:D,mul:q,multiply:q,negate:R,normalize:fa,random:ia,rotateX:aa,rotateY:ja,rotateZ:la,round:J,scale:ca,scaleAndAdd:U,set:k,sign:L,sqrDist:V,sqrLen:G,squaredDistance:V,squaredLength:G,
str:pa,sub:r,subtract:r,transformMat3:u,transformMat4:l,transformQuat:N},Symbol.toStringTag,{value:"Module"}));b.abs=Q;b.add=m;b.angle=ma;b.bezier=na;b.ceil=B;b.clamp=F;b.copy=v;b.cross=H;b.crossAndNormalize=K;b.direction=I;b.dist=ba;b.distance=ba;b.div=x;b.divide=x;b.dot=ha;b.equals=O;b.exactEquals=M;b.floor=w;b.hermite=da;b.inverse=Z;b.len=z;b.length=z;b.lerp=S;b.max=C;b.min=D;b.mul=q;b.multiply=q;b.negate=R;b.normalize=fa;b.random=ia;b.rotateX=aa;b.rotateY=ja;b.rotateZ=la;b.round=J;b.scale=ca;
b.scaleAndAdd=U;b.set=k;b.sign=L;b.sqrDist=V;b.sqrLen=G;b.squaredDistance=V;b.squaredLength=G;b.str=pa;b.sub=r;b.subtract=r;b.transformMat3=u;b.transformMat4=l;b.transformQuat=N;b.vec3=h})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../core/libs/gl-matrix-2/math/mat3 ../../core/libs/gl-matrix-2/factories/mat3f64 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),function(b,h,t,z,v,k,m,r){function q(F){return F?
x(m.clone(F.origin),m.clone(F.direction)):x(m.create(),m.create())}function x(F,J){return{origin:F,direction:J}}function B(F,J,ca=q()){k.copy(ca.origin,F);k.copy(ca.direction,J);return ca}const w=new t.ObjectStack(()=>q()),Q=m.create(),L=m.create(),D=m.create(),C=v.create();b.closestPoint=function(F,J,ca){J=k.dot(F.direction,k.subtract(ca,J,F.origin));k.add(ca,F.origin,k.scale(ca,F.direction,J));return ca};b.closestPoints=function(F,J,ca,U){const ba=F.origin,V=J.origin;F=F.direction;J=J.direction;
var G=k.dot(k.normalize(L,F),k.normalize(D,J));if(1<=Math.abs(G))return null;var R=k.cross(L,F,J);G=k.sub(Q,V,ba);R=z.set(C,F[0],F[1],F[2],-J[0],-J[1],-J[2],R[0],R[1],R[2]);const Z=z.invert(C,R);if(null==Z)return[ca,U];R=k.dot(k.set(L,Z[0],Z[3],Z[6]),G);G=k.dot(k.set(D,Z[1],Z[4],Z[7]),G);k.add(ca,ba,k.scale(Q,F,R));k.add(U,V,k.scale(Q,J,G));return[ca,U]};b.copy=function(F,J=q()){return B(F.origin,F.direction,J)};b.create=q;b.distance2=function(F,J){F=k.cross(r.sv3d.get(),k.normalize(r.sv3d.get(),
F.direction),k.subtract(r.sv3d.get(),J,F.origin));return k.dot(F,F)};b.equals=function(F,J){return h.equals(F.origin,J.origin)&&h.equals(F.direction,J.direction)};b.fromPoints=function(F,J,ca=q()){k.copy(ca.origin,F);k.subtract(ca.direction,J,F);return ca};b.fromValues=B;b.wrap=function(F,J){const ca=w.get();ca.origin=F;ca.direction=J;return ca};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports","./nextTick"],function(b,h){class t{constructor(z){this._allocator=
z;this._items=[];this._itemsPtr=0;this._grow()}get(){0===this._itemsPtr&&h.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]}_reset(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0}_grow(){for(let z=0;z<Math.max(8,Math.min(this._items.length,1024));z++)this._items.push(this._allocator())}}b.ObjectStack=t;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["exports","./common"],function(b,h){function t(l,u){l[0]=u[0];l[1]=u[1];l[2]=u[2];l[3]=u[4];l[4]=u[5];l[5]=u[6];l[6]=u[8];l[7]=u[9];l[8]=u[10];return l}function z(l,u){l[0]=u[0];l[1]=u[1];l[2]=u[2];l[3]=u[3];l[4]=u[4];l[5]=u[5];l[6]=u[6];l[7]=u[7];l[8]=u[8];return l}function v(l,u,N,aa,ja,la,ma,pa,M,O){l[0]=u;l[1]=N;l[2]=aa;l[3]=ja;l[4]=la;l[5]=ma;l[6]=pa;l[7]=M;l[8]=O;return l}function k(l){l[0]=1;l[1]=0;l[2]=0;l[3]=0;l[4]=1;l[5]=0;l[6]=0;
l[7]=0;l[8]=1;return l}function m(l,u){if(l===u){const N=u[1],aa=u[2],ja=u[5];l[1]=u[3];l[2]=u[6];l[3]=N;l[5]=u[7];l[6]=aa;l[7]=ja}else l[0]=u[0],l[1]=u[3],l[2]=u[6],l[3]=u[1],l[4]=u[4],l[5]=u[7],l[6]=u[2],l[7]=u[5],l[8]=u[8];return l}function r(l,u){const N=u[0],aa=u[1],ja=u[2],la=u[3],ma=u[4],pa=u[5],M=u[6],O=u[7];u=u[8];const I=u*ma-pa*O,X=-u*la+pa*M,ea=O*la-ma*M;let g=N*I+aa*X+ja*ea;if(!g)return null;g=1/g;l[0]=I*g;l[1]=(-u*aa+ja*O)*g;l[2]=(pa*aa-ja*ma)*g;l[3]=X*g;l[4]=(u*N-ja*M)*g;l[5]=(-pa*
N+ja*la)*g;l[6]=ea*g;l[7]=(-O*N+aa*M)*g;l[8]=(ma*N-aa*la)*g;return l}function q(l,u){const N=u[0],aa=u[1],ja=u[2],la=u[3],ma=u[4],pa=u[5],M=u[6],O=u[7];u=u[8];l[0]=ma*u-pa*O;l[1]=ja*O-aa*u;l[2]=aa*pa-ja*ma;l[3]=pa*M-la*u;l[4]=N*u-ja*M;l[5]=ja*la-N*pa;l[6]=la*O-ma*M;l[7]=aa*M-N*O;l[8]=N*ma-aa*la;return l}function x(l){const u=l[3],N=l[4],aa=l[5],ja=l[6],la=l[7],ma=l[8];return l[0]*(ma*N-aa*la)+l[1]*(-ma*u+aa*ja)+l[2]*(la*u-N*ja)}function B(l,u,N){const aa=u[0],ja=u[1],la=u[2],ma=u[3],pa=u[4],M=u[5],
O=u[6],I=u[7];u=u[8];const X=N[0],ea=N[1],g=N[2],e=N[3],p=N[4],a=N[5],c=N[6],d=N[7];N=N[8];l[0]=X*aa+ea*ma+g*O;l[1]=X*ja+ea*pa+g*I;l[2]=X*la+ea*M+g*u;l[3]=e*aa+p*ma+a*O;l[4]=e*ja+p*pa+a*I;l[5]=e*la+p*M+a*u;l[6]=c*aa+d*ma+N*O;l[7]=c*ja+d*pa+N*I;l[8]=c*la+d*M+N*u;return l}function w(l,u,N){const aa=u[0],ja=u[1],la=u[2],ma=u[3],pa=u[4],M=u[5],O=u[6],I=u[7];u=u[8];const X=N[0];N=N[1];l[0]=aa;l[1]=ja;l[2]=la;l[3]=ma;l[4]=pa;l[5]=M;l[6]=X*aa+N*ma+O;l[7]=X*ja+N*pa+I;l[8]=X*la+N*M+u;return l}function Q(l,
u,N){const aa=u[0],ja=u[1],la=u[2],ma=u[3],pa=u[4],M=u[5],O=u[6],I=u[7];u=u[8];const X=Math.sin(N);N=Math.cos(N);l[0]=N*aa+X*ma;l[1]=N*ja+X*pa;l[2]=N*la+X*M;l[3]=N*ma-X*aa;l[4]=N*pa-X*ja;l[5]=N*M-X*la;l[6]=O;l[7]=I;l[8]=u;return l}function L(l,u,N){const aa=N[0],ja=N[1];N=N[2];l[0]=aa*u[0];l[1]=aa*u[1];l[2]=aa*u[2];l[3]=ja*u[3];l[4]=ja*u[4];l[5]=ja*u[5];l[6]=N*u[6];l[7]=N*u[7];l[8]=N*u[8];return l}function D(l,u,N){const aa=N[0];N=N[1];l[0]=aa*u[0];l[1]=aa*u[1];l[2]=aa*u[2];l[3]=N*u[3];l[4]=N*u[4];
l[5]=N*u[5];return l}function C(l,u){l[0]=1;l[1]=0;l[2]=0;l[3]=0;l[4]=1;l[5]=0;l[6]=u[0];l[7]=u[1];l[8]=1;return l}function F(l,u){const N=Math.sin(u);u=Math.cos(u);l[0]=u;l[1]=N;l[2]=0;l[3]=-N;l[4]=u;l[5]=0;l[6]=0;l[7]=0;l[8]=1;return l}function J(l,u){l[0]=u[0];l[1]=0;l[2]=0;l[3]=0;l[4]=u[1];l[5]=0;l[6]=0;l[7]=0;l[8]=1;return l}function ca(l,u){l[0]=u[0];l[1]=u[1];l[2]=0;l[3]=u[2];l[4]=u[3];l[5]=0;l[6]=u[4];l[7]=u[5];l[8]=1;return l}function U(l,u){var N=u[0],aa=u[1],ja=u[2];u=u[3];var la=N+N,ma=
aa+aa;const pa=ja+ja;N*=la;const M=aa*la;aa*=ma;const O=ja*la,I=ja*ma;ja*=pa;la*=u;ma*=u;u*=pa;l[0]=1-aa-ja;l[3]=M-u;l[6]=O+ma;l[1]=M+u;l[4]=1-N-ja;l[7]=I-la;l[2]=O-ma;l[5]=I+la;l[8]=1-N-aa;return l}function ba(l,u){const N=u[0],aa=u[1],ja=u[2],la=u[4],ma=u[5],pa=u[6],M=u[8],O=u[9];u=u[10];const I=u*ma-pa*O,X=-u*la+pa*M,ea=O*la-ma*M;var g=N*I+aa*X+ja*ea;if(!g)return null;g=1/g;l[0]=I*g;l[1]=(-u*aa+ja*O)*g;l[2]=(pa*aa-ja*ma)*g;l[3]=X*g;l[4]=(u*N-ja*M)*g;l[5]=(-pa*N+ja*la)*g;l[6]=ea*g;l[7]=(-O*N+aa*
M)*g;l[8]=(ma*N-aa*la)*g;return l}function V(l,u){const N=u[0],aa=u[1],ja=u[2],la=u[3],ma=u[4],pa=u[5],M=u[6],O=u[7];var I=u[8],X=u[9],ea=u[10],g=u[11];const e=u[12],p=u[13],a=u[14];u=u[15];const c=N*pa-aa*ma,d=N*M-ja*ma,f=N*O-la*ma,n=aa*M-ja*pa,y=aa*O-la*pa,A=ja*O-la*M,E=I*p-X*e,W=I*a-ea*e;I=I*u-g*e;const T=X*a-ea*p;X=X*u-g*p;ea=ea*u-g*a;g=c*ea-d*X+f*T+n*I-y*W+A*E;if(!g)return null;g=1/g;l[0]=(pa*ea-M*X+O*T)*g;l[1]=(M*I-ma*ea-O*W)*g;l[2]=(ma*X-pa*I+O*E)*g;l[3]=(ja*X-aa*ea-la*T)*g;l[4]=(N*ea-ja*I+
la*W)*g;l[5]=(aa*I-N*X-la*E)*g;l[6]=(p*A-a*y+u*n)*g;l[7]=(a*f-e*A-u*d)*g;l[8]=(e*y-p*f+u*c)*g;return l}function G(l,u,N){l[0]=2/u;l[1]=0;l[2]=0;l[3]=0;l[4]=-2/N;l[5]=0;l[6]=-1;l[7]=1;l[8]=1;return l}function R(l){return"mat3("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+", "+l[6]+", "+l[7]+", "+l[8]+")"}function Z(l){return Math.sqrt(l[0]**2+l[1]**2+l[2]**2+l[3]**2+l[4]**2+l[5]**2+l[6]**2+l[7]**2+l[8]**2)}function fa(l,u,N){l[0]=u[0]+N[0];l[1]=u[1]+N[1];l[2]=u[2]+N[2];l[3]=u[3]+N[3];l[4]=
u[4]+N[4];l[5]=u[5]+N[5];l[6]=u[6]+N[6];l[7]=u[7]+N[7];l[8]=u[8]+N[8];return l}function ha(l,u,N){l[0]=u[0]-N[0];l[1]=u[1]-N[1];l[2]=u[2]-N[2];l[3]=u[3]-N[3];l[4]=u[4]-N[4];l[5]=u[5]-N[5];l[6]=u[6]-N[6];l[7]=u[7]-N[7];l[8]=u[8]-N[8];return l}function H(l,u,N){l[0]=u[0]*N;l[1]=u[1]*N;l[2]=u[2]*N;l[3]=u[3]*N;l[4]=u[4]*N;l[5]=u[5]*N;l[6]=u[6]*N;l[7]=u[7]*N;l[8]=u[8]*N;return l}function K(l,u,N,aa){l[0]=u[0]+N[0]*aa;l[1]=u[1]+N[1]*aa;l[2]=u[2]+N[2]*aa;l[3]=u[3]+N[3]*aa;l[4]=u[4]+N[4]*aa;l[5]=u[5]+N[5]*
aa;l[6]=u[6]+N[6]*aa;l[7]=u[7]+N[7]*aa;l[8]=u[8]+N[8]*aa;return l}function S(l,u){return l[0]===u[0]&&l[1]===u[1]&&l[2]===u[2]&&l[3]===u[3]&&l[4]===u[4]&&l[5]===u[5]&&l[6]===u[6]&&l[7]===u[7]&&l[8]===u[8]}function da(l,u){const N=l[0],aa=l[1],ja=l[2],la=l[3],ma=l[4],pa=l[5],M=l[6],O=l[7];l=l[8];const I=u[0],X=u[1],ea=u[2],g=u[3],e=u[4],p=u[5],a=u[6],c=u[7];u=u[8];const d=h.getEpsilon();return Math.abs(N-I)<=d*Math.max(1,Math.abs(N),Math.abs(I))&&Math.abs(aa-X)<=d*Math.max(1,Math.abs(aa),Math.abs(X))&&
Math.abs(ja-ea)<=d*Math.max(1,Math.abs(ja),Math.abs(ea))&&Math.abs(la-g)<=d*Math.max(1,Math.abs(la),Math.abs(g))&&Math.abs(ma-e)<=d*Math.max(1,Math.abs(ma),Math.abs(e))&&Math.abs(pa-p)<=d*Math.max(1,Math.abs(pa),Math.abs(p))&&Math.abs(M-a)<=d*Math.max(1,Math.abs(M),Math.abs(a))&&Math.abs(O-c)<=d*Math.max(1,Math.abs(O),Math.abs(c))&&Math.abs(l-u)<=d*Math.max(1,Math.abs(l),Math.abs(u))}function na(l){const u=h.getEpsilon(),N=l[0],aa=l[1],ja=l[2],la=l[3],ma=l[4],pa=l[5],M=l[6],O=l[7];l=l[8];return Math.abs(1-
(N*N+la*la+M*M))<=u&&Math.abs(1-(aa*aa+ma*ma+O*O))<=u&&Math.abs(1-(ja*ja+pa*pa+l*l))<=u}const ia=Object.freeze(Object.defineProperty({__proto__:null,add:fa,adjoint:q,copy:z,determinant:x,equals:da,exactEquals:S,frob:Z,fromMat2d:ca,fromMat4:t,fromQuat:U,fromRotation:F,fromScaling:J,fromTranslation:C,identity:k,invert:r,isOrthoNormal:na,mul:B,multiply:B,multiplyScalar:H,multiplyScalarAndAdd:K,normalFromMat4:V,normalFromMat4Legacy:ba,projection:G,rotate:Q,scale:L,scaleByVec2:D,set:v,str:R,sub:ha,subtract:ha,
translate:w,transpose:m},Symbol.toStringTag,{value:"Module"}));b.add=fa;b.adjoint=q;b.copy=z;b.determinant=x;b.equals=da;b.exactEquals=S;b.frob=Z;b.fromMat2d=ca;b.fromMat4=t;b.fromQuat=U;b.fromRotation=F;b.fromScaling=J;b.fromTranslation=C;b.identity=k;b.invert=r;b.isOrthoNormal=na;b.mat3=ia;b.mul=B;b.multiply=B;b.multiplyScalar=H;b.multiplyScalarAndAdd=K;b.normalFromMat4=V;b.normalFromMat4Legacy=ba;b.projection=G;b.rotate=Q;b.scale=L;b.scaleByVec2=D;b.set=v;b.str=R;b.sub=ha;b.subtract=ha;b.translate=
w;b.transpose=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(b){function h(){return[1,0,0,0,1,0,0,0,1]}function t(r){return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8]]}function z(r,q,x,B,w,Q,L,D,C){return[r,q,x,B,w,Q,L,D,C]}function v(r,q){return new Float64Array(r,q,9)}const k=h(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:k,clone:t,create:h,createView:v,fromValues:z},Symbol.toStringTag,
{value:"Module"}));b.IDENTITY=k;b.clone=t;b.create=h;b.createView=v;b.fromValues=z;b.mat3f64=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(b,h){const t=h.VectorStack.createVec2f64(),z=h.VectorStack.createVec3f64(),v=h.VectorStack.createVec4f64(),k=h.VectorStack.createMat3f64(),m=h.VectorStack.createMat4f64();h=h.VectorStack.createQuatf64();b.sm3d=k;b.sm4d=m;b.sq4d=h;b.sv2d=t;b.sv3d=
z;b.sv4d=v;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ./has ./nextTick ./libs/gl-matrix-2/factories/mat3f64 ./libs/gl-matrix-2/factories/mat4f64 ./libs/gl-matrix-2/factories/quatf64 ./libs/gl-matrix-2/factories/vec2f64 ./libs/gl-matrix-2/factories/vec3f64 ./libs/gl-matrix-2/factories/vec4f64".split(" "),function(b,h,t,z,v,k,m,r,q){class x{constructor(B){this._create=B;this._items=[];this._itemsPtr=0}get(){0===this._itemsPtr&&
t.nextTick(()=>this._reset());this._itemsPtr>=this._items.length&&this._items.push(this._create());return this._items[this._itemsPtr++]}_reset(){const B=2*this._itemsPtr;this._items.length>B&&(this._items.length=B);this._itemsPtr=0}static createVec2f64(){return new x(m.create)}static createVec3f64(){return new x(r.create)}static createVec4f64(){return new x(q.create)}static createMat3f64(){return new x(z.create)}static createMat4f64(){return new x(v.create)}static createQuatf64(){return new x(k.create)}get test(){}}
b.VectorStack=x;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(b){function h(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function t(r){return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]]}function z(r,q,x,B,w,Q,L,D,C,F,J,ca,U,ba,V,G){return[r,q,x,B,w,Q,L,D,C,F,J,ca,U,ba,V,G]}function v(r,q){return new Float64Array(r,q,16)}const k=h(),m=Object.freeze(Object.defineProperty({__proto__:null,
IDENTITY:k,clone:t,create:h,createView:v,fromValues:z},Symbol.toStringTag,{value:"Module"}));b.IDENTITY=k;b.clone=t;b.create=h;b.createView=v;b.fromValues=z;b.mat4f64=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],function(b){function h(){return[0,0,0,1]}function t(m){return[m[0],m[1],m[2],m[3]]}function z(m,r,q,x){return[m,r,q,x]}const v=h(),k=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:v,
clone:t,create:h,fromValues:z},Symbol.toStringTag,{value:"Module"}));b.IDENTITY=v;b.clone=t;b.create=h;b.fromValues=z;b.quatf64=k;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(b){function h(){return[0,0]}function t(C){return[C[0],C[1]]}function z(C,F){return[C,F]}function v(C,F=[0,0]){const J=Math.min(2,C.length);for(let ca=0;ca<J;++ca)F[ca]=C[ca];return F}function k(C,F){return new Float64Array(C,
F,2)}function m(){return[0,0]}function r(){return[1,1]}function q(){return[1,0]}function x(){return[0,1]}const B=[0,0],w=[1,1],Q=[1,0],L=[0,1],D=Object.freeze(Object.defineProperty({__proto__:null,ONES:w,UNIT_X:Q,UNIT_Y:L,ZEROS:B,clone:t,create:h,createView:k,fromArray:v,fromValues:z,ones:r,unitX:q,unitY:x,zeros:m},Symbol.toStringTag,{value:"Module"}));b.ONES=w;b.UNIT_X=Q;b.UNIT_Y=L;b.ZEROS=B;b.clone=t;b.create=h;b.createView=k;b.fromArray=v;b.fromValues=z;b.ones=r;b.unitX=q;b.unitY=x;b.vec2f64=D;
b.zeros=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/sphereUtils":function(){define(["exports","../../core/mathUtils","../../chunks/vec32"],function(b,h,t){b.cartesianToSpherical=function(z,v){const k=t.length(z),m=h.asinClamped(z[2]/k);t.set(v,k,m,Math.atan2(z[1]/k,z[0]/k));return v};b.sphericalToCartesian=function(z,v){const k=z[0],m=z[1];z=z[2];const r=Math.cos(m);t.set(v,k*r*Math.cos(z),k*r*Math.sin(z),k*Math.sin(m))};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec32","../../core/libs/gl-matrix-2/factories/vec3f64"],function(b,h,t,z){const v=z.create(),k=z.create();b.angle=function(m,r){m=t.dot(m,r)/(t.length(m)*t.length(r));return-h.acosClamped(m)};b.angleAroundAxis=function(m,r,q){t.normalize(v,m);t.normalize(k,r);m=t.dot(v,k);m=h.acosClamped(m);r=t.cross(v,v,k);return 0>t.dot(r,q)?2*Math.PI-m:m};b.projectPoint=function(m,r,q){r=t.dot(m,
r)/t.dot(m,m);return t.scale(q,m,r)};b.projectPointSignedLength=function(m,r){return t.dot(m,r)/t.length(m)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/I3SUtil":function(){define("exports ../../../../geometry ../../../../request ../../../../core/arrayUtils ../../../../core/Error ../../../../core/has ../../../../core/typedArrayUtil ../../../../core/libs/gl-matrix-2/math/mat4 ../../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../../chunks/vec32 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../geometry/projection ../../../../geometry/projection/projectVectorToVector ../../../../geometry/support/aaBoundingRect ../../../../chunks/sphere ../../../../rest/support/Query ./I3SBinaryReader ./I3SProjectionUtil ../support/edgeUtils ../support/symbolColorUtils ../../support/orientedBoundingBox ../../../support/layerViewUtils ../../../../geometry/SpatialReference".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B,w,Q,L,D,C,F,J,ca,U,ba,V,G){function R(g){return g?parseInt(g.slice(g.lastIndexOf("/")+1),10):void 0}function Z(g,e){var p=e[0],a=e[1];e=e[3];const c=g[0]-p;p-=g[2];const d=g[1]-a;g=a-g[3];a=Math.max(c,p,0);const f=Math.max(d,g,0);a=a*a+f*f;return a>e*e?b.MbsIntersectResult.OUTSIDE:0<a?b.MbsIntersectResult.INTERSECTS_CENTER_OUTSIDE:-Math.max(c,p,d,g)>e?b.MbsIntersectResult.INSIDE:b.MbsIntersectResult.INTERSECTS_CENTER_INSIDE}function fa(g,e,p){const a=[],c=p?.missingFields;
p=p?.originalFields;for(const d of g){g=d.toLowerCase();let f=!1;for(const n of e)if(g===n.name.toLowerCase()){a.push(n.name);f=!0;p&&p.push(d);break}!f&&c&&c.push(d)}return a}function ha(g,e,p){const a=new Map,c=[];p=p();for(const n of g){var d=n.attributes[e];for(var f=0;f<p.length;f++){g=p[f];const y=g.featureIds.indexOf(d);if(0<=y){d=a.get(g.node);d||(d={node:g.node,indices:[],graphics:[]},c.push(d),a.set(g.node,d));d.indices.push(y);for(d.graphics.push(n);0<f;f--)p[f]=p[f-1];p[0]=g;break}}}return c}
async function H(g,e,p,a,c){e.sort((n,y)=>n.attributes[p]-y.attributes[p]);var d=e.map(n=>n.attributes[p]);const f=[];a=fa(a,g.fields,{originalFields:f});g=await K(g,d,a,c);for(c=0;c<e.length;c++){d=e[c];const n=g[c],y={};if(d.attributes)for(const A in d.attributes)y[A]=d.attributes[A];for(let A=0;A<f.length;A++)y[f[A]]=n[a[A]];d.attributes=y}return e}function K(g,e,p,a){var c=g.capabilities.query.maxRecordCount;if(null!=c&&e.length>c)return c=z.splitIntoChunks(e,c),Promise.all(c.map(d=>K(g,d,p,a))).then(d=>
d.flat());c=new C({objectIds:e,outFields:p,orderByFields:[g.objectIdField]});return g.queryFeatures(c,a).then(d=>{if(d&&d.features&&d.features.length===e.length)return d.features.map(f=>f.attributes);throw new v("scenelayer:feature-not-in-associated-layer","Feature not found in associated feature layer");})}async function S(g,e,p,a,c,d,f,n){const y=[];for(const A of e)A&&c.includes(A.name)&&y.push({url:`${g}/nodes/${p}/attributes/${A.key}/0`,storageInfo:A});g=await Promise.allSettled(y.map(A=>t(A.url,
{responseType:"array-buffer",query:{...f,token:d},signal:n?.signal}).then(E=>F.readBinaryAttribute(A.storageInfo,E.data))));e=[];for(const A of a){a={};for(p=0;p<g.length;p++)c=g[p],"fulfilled"===c.status&&(a[y[p].storageInfo.name]=da(c.value,A));e.push(a)}return e}function da(g,e){if(!g)return null;e=g[e];return m.isInt16Array(g)?-32768===e?null:e:m.isInt32Array(g)?e===ja?null:e:e!==e?null:e}function na(g){var e=g.store,p=e.indexCRS||e.geographicCRS;if(e=void 0===p?e.indexWKT:void 0)if(g.spatialReference){if(e!==
g.spatialReference.wkt)throw new v("layerview:store-spatial-reference-wkt-index-incompatible","The indexWKT of the scene layer store does not match the WKT of the layer spatial reference",{});}else throw new v("layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference","Found indexWKT in the scene layer store but no layer spatial reference",{});p=p?new G(R(p)):g.spatialReference;return p.equals(g.spatialReference)?g.spatialReference:p}function ia(g){var e=g.store,p=e.vertexCRS||
e.projectedCRS;if(e=void 0===p?e.vertexWKT:void 0)if(g.spatialReference){if(e!==g.spatialReference.wkt)throw new v("layerview:store-spatial-reference-wkt-vertex-incompatible","The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference",{});}else throw new v("layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference","Found vertexWKT in the scene layer store but no layer spatial reference",{});p=p?new G(R(p)):g.spatialReference;return p.equals(g.spatialReference)?
g.spatialReference:p}function l(g,e,p){if(!w.canProjectWithoutEngine(g,e))throw V.spatialReferenceIncompatibleError("scene layer",g?.wkid,e?.wkid);if("local"===p&&!u(g,e))throw V.spatialReferenceIncompatibleError("scene layer",g?.wkid,e?.wkid);}function u(g,e){return g.equals(e)||g.isWGS84&&e.isWebMercator||g.isWebMercator&&e.isWGS84}function N(g,e,p){const a=na(g);g=ia(g);l(a,e,p);l(g,e,p)}const aa=L.create();b.MbsIntersectResult=void 0;(function(g){g[g.OUTSIDE=0]="OUTSIDE";g[g.INTERSECTS_CENTER_OUTSIDE=
1]="INTERSECTS_CENTER_OUTSIDE";g[g.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE";g[g.INSIDE=3]="INSIDE"})(b.MbsIntersectResult||(b.MbsIntersectResult={}));const ja=-(2**31);h=ca.createSolidEdgeMaterial({color:[0,0,0,0],opacity:0});class la{constructor(){this.material=this.edgeMaterial=null;this.castShadows=!0}}const ma=[B.create(),B.create(),B.create(),B.create(),B.create(),B.create(),B.create(),B.create()],pa=L.create(),M=L.create(),O=new ba.Obb,I=B.create(),X={data:Array(72),size:3,exclusive:!0,
stride:3},ea=q.create();b.SymbolInfo=la;b.addWraparound=function(g,e){return(g|0)+(e|0)|0};b.checkPointCloudLayerCompatibleWithView=function(g,e){l(g.spatialReference,e.spatialReference,e.viewingMode)};b.checkPointCloudLayerValid=function(g){var e;(e=null==g.store?.defaultGeometrySchema)||(g=g.store.defaultGeometrySchema,e=!!(null==g.geometryType||"points"!==g.geometryType||null!=g.topology&&"PerAttributeArray"!==g.topology||null!=g.encoding&&""!==g.encoding&&"lepcc-xyz"!==g.encoding||null==g.vertexAttributes?.position));
if(e)throw new v("pointcloud:unsupported-geometry-schema","The geometry schema of this point cloud scene layer is not supported.",{});};b.checkRecyclable=function(g,e,p){if(g.serviceUpdateTimeStamp?.lastUpdate!==e.serviceUpdateTimeStamp?.lastUpdate||!p.isEmpty||g.associatedLayer?.url!==e.associatedLayer?.url)throw new v("layerview:recycle-failed");};b.checkSceneLayerCompatibleWithView=function(g,e){N(g,e.spatialReference,e.viewingMode)};b.checkSceneLayerValid=function(g){var e;(e=null==g.store?.defaultGeometrySchema)||
(e=g.store.defaultGeometrySchema,e=!!(null!=e.geometryType&&"triangles"!==e.geometryType||null!=e.topology&&"PerAttributeArray"!==e.topology||null==e.vertexAttributes?.position));if(e)throw new v("scenelayer:unsupported-geometry-schema","The geometry schema of this scene layer is not supported.",{url:g.parsedUrl.path});};b.checkSpatialReference=l;b.checkSpatialReferences=N;b.computeVisibilityObb=function(g,e,p,a,c,d,f){if(!d||0===d.length||null==e||!g.serviceMbsInIndexSR)return null;const n=J.computeGlobalTransformation(g.serviceMbsInIndexSR,
c,"none",p,e);r.invert(ea,n);let y=null;const A=()=>{if(!y)if(y=ma,L.empty(M),null!=g.serviceObbInIndexSR){g.serviceObbInIndexSR.transform(O,p,e,c,f);O.getCorners(y);for(var P of y)x.transformMat4(P,P,ea),L.expandPointInPlace(M,P)}else{var Y=g.serviceMbsInIndexSR;if(Y)for(P=Y[3],Q.projectVectorToVector(D.getCenter(Y),p,I,e),x.transformMat4(I,I,ea),I[2]+=c,Y=0;8>Y;++Y){const ka=y[Y];x.copy(ka,[I[0]+(Y&1?P:-P),I[1]+(Y&2?P:-P),I[2]+(Y&4?P:-P)]);L.expandPointInPlace(M,ka)}}};let E=Infinity,W=-Infinity;
const T=P=>{if("replace"===P.type&&(P=P.geometry,P?.hasZ)){L.empty(pa);var Y=P.spatialReference||a;P=P.rings.reduce((ka,oa)=>oa.reduce((sa,qa)=>{x.set(I,qa[0],qa[1],qa[2]);Q.projectVectorToVector(I,Y,I,e);x.transformMat4(I,I,ea);L.expandPointInPlace(pa,I);return Math.min(I[2],sa)},ka),Infinity);A();L.intersects(M,pa)&&(E=Math.min(E,P),W=Math.max(W,P))}};d.forEach(P=>T(P));if(Infinity===E)return null;d=(P,Y,ka)=>{x.transformMat4(I,ka,n);P[Y]=I[0];P[Y+1]=I[1];P[Y+2]=I[2];Y+=24;ka[2]=E;x.transformMat4(I,
ka,n);P[Y]=I[0];P[Y+1]=I[1];P[Y+2]=I[2];Y+=24;ka[2]=W;x.transformMat4(I,ka,n);P[Y]=I[0];P[Y+1]=I[1];P[Y+2]=I[2]};for(let P=0;8>P;++P)d(X.data,3*P,y[P]);return ba.compute(X)};b.containsDraco=function(g){if(k("disable-feature:i3s-draco")||!g)return!1;for(const e of g)for(const p of e.geometryBuffers)if("draco"===p.compressedAttributes?.encoding)return!0;return!1};b.extractWkid=R;b.filterInPlace=function(g,e,p){let a=0,c=0;for(let d=0;d<e.length&&a<g.length;d++)g[a]===e[d]&&(p(d)&&(g[c]=g[a],c++),a++);
g.length=c};b.findFieldsCaseInsensitive=fa;b.findIntersectingNodes=function(g,e,p,a){p.traverse(e,c=>{const d=c.serviceMbsInIndexSR;if((null!=d&&Z(g,d))===b.MbsIntersectResult.OUTSIDE)return!1;a(c);return!0})};b.getCachedAttributeValue=da;b.getClipRect=function(g,e){if(0===e.rotationScale[1]&&0===e.rotationScale[2]&&0===e.rotationScale[3]&&0===e.rotationScale[5]&&0===e.rotationScale[6]&&0===e.rotationScale[7])return aa[0]=(g[0]-e.position[0])/e.rotationScale[0],aa[1]=(g[1]-e.position[1])/e.rotationScale[4],
aa[2]=(g[2]-e.position[0])/e.rotationScale[0],aa[3]=(g[3]-e.position[1])/e.rotationScale[4],aa};b.getIndexCrs=na;b.getSymbolInfo=function(g){const e=new la;var p=!1;let a=!1;for(const d of g.symbolLayers.items)if("fill"===d.type&&d.enabled){var c=d.material;g=d.edges;null==c||p||(p=c.color,c=U.parseColorMixMode(c.colorMixMode),e.material=null!=p?{color:[p.r/255,p.g/255,p.b/255],alpha:p.a,colorMixMode:c}:{color:[1,1,1],alpha:1,colorMixMode:U.ColorMixModeEnum.Multiply},e.castShadows=d.castShadows,p=
!0);null==g||a||(e.edgeMaterial=ca.createMaterialFromEdges(g,{}),a=!0)}e.material||(e.material={color:[1,1,1],alpha:1,colorMixMode:U.ColorMixModeEnum.Multiply});return e};b.getVertexCrs=ia;b.intersectBoundingRectWithMbs=Z;b.invalidateMbs=function(g){null!=g&&(g[3]=-1)};b.isSupportedLocalModeProjection=u;b.isValidMbs=function(g){return 0<=g[3]};b.objectIdFilter=function(g,e,p){let a=0,c=0;for(;a<p.length;)0<=z.binaryIndexOf(g,p[a])===e&&(p[c]=p[a],c++),a++;p.length=c};b.queryAttributesFromCachedAttributesId=
S;b.rendererNeedsTextures=function(g){if(null==g||"simple"!==g.type&&"class-breaks"!==g.type&&"unique-value"!==g.type||("unique-value"===g.type||"class-breaks"===g.type)&&null==g.defaultSymbol)return!0;g=g.getSymbols();if(0===g.length)return!0;for(const e of g){if("mesh-3d"!==e.type||0===e.symbolLayers.length)return!0;for(const p of e.symbolLayers.items)if("fill"!==p.type||null==p.material?.color||"replace"!==p.material.colorMixMode)return!0}return!1};b.transparentEdgeMaterial=h;b.whenGraphicAttributes=
async function(g,e,p,a,c,d){if(0===e.length)return[];const f=g.attributeStorageInfo;if(null!=g.associatedLayer)try{return await H(g.associatedLayer,e,p,a,d)}catch(n){if(g.associatedLayer.loaded)throw n;}if(f){e=ha(e,p,c);if(null==e)throw new v("scenelayer:features-not-loaded","Tried to query attributes for unloaded features");const n=g.parsedUrl.path;return(await Promise.all(e.map(y=>S(n,f,y.node.resources.attributes,y.indices,a,g.apiKey,g.customParameters,d).then(A=>{for(let E=0;E<y.graphics.length;E++){const W=
y.graphics[E],T=A[E];if(W.attributes)for(const P in W.attributes)P in T||(T[P]=W.attributes[P]);W.attributes=T}return y.graphics})))).flat()}throw new v("scenelayer:no-attribute-source","This scene layer does not have a source for attributes available");};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectVectorToVector":function(){define(["exports","../projection","../SpatialReference","./projectPointToVector","../../layers/graphics/dehydratedPoint"],
function(b,h,t,z,v){function k(r,q,x,B,w){if(null==q||null==B||2>r.length)return!1;m.x=r[0];m.y=r[1];m.z=r[2];m.spatialReference=q;return z.projectPointToVector(m,x,B,w)}const m=v.makeDehydratedPoint(0,0,0,t.WGS84);b.projectVectorToVector=k;b.projectVectorToVectorAsync=async function(r,q,x,B,w,Q){await h.initializeProjection(q,B,null,Q);return k(r,q,x,B,w)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectPointToVector":function(){define(["exports",
"../../core/libs/gl-matrix-2/factories/vec3f64","../projection","./projectBuffer"],function(b,h,t,z){function v(m,r,q,x){if(t.canProjectWithoutEngine(m.spatialReference,q))return k[0]=m.x,k[1]=m.y,k[2]=m.z??x??0,z.projectBuffer(k,m.spatialReference,0,r,q,0);m=t.tryProjectWithZConversion(m,q);if(!m)return!1;r[0]=m?.x;r[1]=m?.y;r[2]=m?.z??x??0;return!0}const k=h.create();b.projectPointToVector=v;b.projectPointToVectorAsync=async function(m,r,q,x,B){await t.initializeProjection(m.spatialReference,q,
null,B);return v(m,r,q,x)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedPoint":function(){define(["exports"],function(b){b.makeDehydratedPoint=function(h,t,z,v){return{x:h,y:t,z,hasZ:null!=z,hasM:!1,spatialReference:v,type:"point"}};b.setDehydratedPoint=function(h,t,z,v,k){h.x=t;h.y=z;h.z=v;h.hasZ=null!=v;h.spatialReference=k};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/Query":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./spatialRelationships ./StatisticDefinition ../../time/TimeExtent ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B,w,Q,L,D,C,F,J,ca,U){var ba;t=new t.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let V=ba=class extends z.JSONSupport{static from(G){return B.ensureClass(ba,G)}constructor(G){super(G);this.aggregateIds=null;this.cacheHint=void 0;this.compactGeometryEnabled=!1;this.datumTransformation=null;this.defaultSpatialReferenceEnabled=
!1;this.dynamicDataSource=this.distance=void 0;this.geometry=this.gdbVersion=this.fullText=this.formatOf3DObjects=null;this.geometryPrecision=void 0;this.historicMoment=this.having=this.groupByFieldsForStatistics=null;this.maxAllowableOffset=void 0;this.maxRecordCountFactor=1;this.multipatchOption=null;this.num=void 0;this.resultType=this.relationParameter=this.rangeValues=this.quantizationParameters=this.pixelSize=this.parameterValues=this.outStatistics=this.outSpatialReference=this.outFields=this.orderByFields=
this.objectIds=null;this.returnDistinctValues=this.returnCentroid=!1;this.returnExceededLimitFeatures=!0;this.returnQueryGeometry=this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.sourceSpatialReference=null;this.spatialRelationship="intersects";this.start=void 0;this.timeExtent=this.text=this.sqlFormat=null;this.timeReferenceUnknownClient=!1;this.where=this.units=null}castDatumTransformation(G){return"number"===typeof G||"object"===typeof G?G:null}writeHistoricMoment(G,R){R.historicMoment=
G&&G.getTime()}writeParameterValues(G,R){if(G){const Z={};for(const fa in G){const ha=G[fa];Array.isArray(ha)?Z[fa]=ha.map(H=>H instanceof Date?H.getTime():H):Z[fa]=ha instanceof Date?ha.getTime():ha}R.parameterValues=Z}}writeStart(G,R){R.resultOffset=this.start;R.resultRecordCount=this.num||10;R.where="1\x3d1"}writeWhere(G,R){R.where=G||"1\x3d1"}clone(){return new ba(v.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};V.MAX_MAX_RECORD_COUNT_FACTOR=5;b.__decorate([k.property({json:{write:!0}})],
V.prototype,"aggregateIds",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],V.prototype,"cacheHint",void 0);b.__decorate([k.property({type:Boolean,json:{default:!1,write:!0}})],V.prototype,"compactGeometryEnabled",void 0);b.__decorate([k.property({json:{write:!0}})],V.prototype,"datumTransformation",void 0);b.__decorate([m.cast("datumTransformation")],V.prototype,"castDatumTransformation",null);b.__decorate([k.property({type:Boolean,json:{default:!1,write:!0}})],V.prototype,"defaultSpatialReferenceEnabled",
void 0);b.__decorate([k.property({type:Number,json:{write:{overridePolicy(G){return{enabled:0<G}}}}})],V.prototype,"distance",void 0);b.__decorate([k.property({type:Q.DataLayerSource,json:{write:!0}})],V.prototype,"dynamicDataSource",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],V.prototype,"formatOf3DObjects",void 0);b.__decorate([k.property({type:[L],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&0<this.fullText.length}}}}})],V.prototype,"fullText",
void 0);b.__decorate([k.property({type:String,json:{write:!0}})],V.prototype,"gdbVersion",void 0);b.__decorate([k.property({types:h.geometryTypes,json:{read:w.fromJSON,write:!0}})],V.prototype,"geometry",void 0);b.__decorate([k.property({type:Number,json:{write:!0}})],V.prototype,"geometryPrecision",void 0);b.__decorate([k.property({type:[String],json:{write:!0}})],V.prototype,"groupByFieldsForStatistics",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],V.prototype,"having",void 0);
b.__decorate([k.property({type:Date})],V.prototype,"historicMoment",void 0);b.__decorate([x.writer("historicMoment")],V.prototype,"writeHistoricMoment",null);b.__decorate([k.property({type:Number,json:{write:!0}})],V.prototype,"maxAllowableOffset",void 0);b.__decorate([k.property({type:Number,cast(G){return 1>G?1:G>V.MAX_MAX_RECORD_COUNT_FACTOR?V.MAX_MAX_RECORD_COUNT_FACTOR:G},json:{write:{overridePolicy(G){return{enabled:1<G}}}}})],V.prototype,"maxRecordCountFactor",void 0);b.__decorate([k.property({type:["xyFootprint"],
json:{write:!0}})],V.prototype,"multipatchOption",void 0);b.__decorate([k.property({type:Number,json:{read:{source:"resultRecordCount"}}})],V.prototype,"num",void 0);b.__decorate([k.property({json:{write:!0}})],V.prototype,"objectIds",void 0);b.__decorate([k.property({type:[String],json:{write:!0}})],V.prototype,"orderByFields",void 0);b.__decorate([k.property({type:[String],json:{write:!0}})],V.prototype,"outFields",void 0);b.__decorate([k.property({type:ca,json:{name:"outSR",write:!0}})],V.prototype,
"outSpatialReference",void 0);b.__decorate([k.property({type:[F],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&0<this.outStatistics.length}}}}})],V.prototype,"outStatistics",void 0);b.__decorate([k.property({json:{write:!0}})],V.prototype,"parameterValues",void 0);b.__decorate([x.writer("parameterValues")],V.prototype,"writeParameterValues",null);b.__decorate([k.property({type:U,json:{write:!0}})],V.prototype,"pixelSize",void 0);b.__decorate([k.property({type:D,
json:{write:!0}})],V.prototype,"quantizationParameters",void 0);b.__decorate([k.property({type:[Object],json:{write:!0}})],V.prototype,"rangeValues",void 0);b.__decorate([k.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],V.prototype,"relationParameter",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],V.prototype,"resultType",void 0);b.__decorate([k.property({type:Boolean,
json:{default:!1,write:!0}})],V.prototype,"returnCentroid",void 0);b.__decorate([k.property({type:Boolean,json:{default:!1,write:!0}})],V.prototype,"returnDistinctValues",void 0);b.__decorate([k.property({type:Boolean,json:{default:!0,write:!0}})],V.prototype,"returnExceededLimitFeatures",void 0);b.__decorate([k.property({type:Boolean,json:{write:!0}})],V.prototype,"returnGeometry",void 0);b.__decorate([k.property({type:Boolean,json:{default:!1,write:!0}})],V.prototype,"returnQueryGeometry",void 0);
b.__decorate([k.property({type:Boolean,json:{default:!1,write:!0}})],V.prototype,"returnM",void 0);b.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(G){return{enabled:G}}}}})],V.prototype,"returnZ",void 0);b.__decorate([k.property({type:ca,json:{write:!0}})],V.prototype,"sourceSpatialReference",void 0);b.__decorate([r.enumeration(C.spatialRelKebabDict,{ignoreUnknown:!1,name:"spatialRel"})],V.prototype,"spatialRelationship",void 0);b.__decorate([k.property({type:Number,json:{read:{source:"resultOffset"}}})],
V.prototype,"start",void 0);b.__decorate([x.writer("start"),x.writer("num")],V.prototype,"writeStart",null);b.__decorate([k.property({type:String,json:{write:!0}})],V.prototype,"sqlFormat",void 0);b.__decorate([k.property({type:String,json:{write:!0}})],V.prototype,"text",void 0);b.__decorate([k.property({type:J,json:{write:!0}})],V.prototype,"timeExtent",void 0);b.__decorate([k.property({type:Boolean,json:{default:!1,write:!0}})],V.prototype,"timeReferenceUnknownClient",void 0);b.__decorate([r.enumeration(t,
{ignoreUnknown:!1}),k.property({json:{write:{overridePolicy(G){return{enabled:!!G&&null!=this.distance&&0<this.distance}}}}})],V.prototype,"units",void 0);b.__decorate([k.property({type:String,json:{write:{overridePolicy(G){return{enabled:null!=G||null!=this.start&&0<this.start}}}}})],V.prototype,"where",void 0);b.__decorate([x.writer("where")],V.prototype,"writeWhere",null);return V=ba=b.__decorate([q.subclass("esri.rest.support.Query")],V)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B,w,Q,L,D,C){function F(){ba||=B.createTypeReader({types:J()});return ba}function J(){V||={key:"type",base:null,typeMap:{"data-layer":b.DataLayerSource,"map-layer":Q.MapLayerSource}};return V}var ca,U;t=t.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});b.JoinTableDataSource=ca=class extends z.JSONSupport{constructor(G){super(G);this.type="join-table"}readLeftTableSource(G,R,Z){return F()(G,R,Z)}castLeftTableSource(G){return x.ensureOneOfType(J(),
G)}readRightTableSource(G,R,Z){return F()(G,R,Z)}castRightTableSource(G){return x.ensureOneOfType(J(),G)}clone(){const {leftTableKey:G,rightTableKey:R,leftTableSource:Z,rightTableSource:fa,joinType:ha}=this,H={leftTableKey:G,rightTableKey:R,leftTableSource:Z?.clone()??void 0,rightTableSource:fa?.clone()??void 0,joinType:ha};return new ca(H)}};h.__decorate([m.enumeration({joinTable:"join-table"})],b.JoinTableDataSource.prototype,"type",void 0);h.__decorate([v.property({type:String,json:{write:!0}})],
b.JoinTableDataSource.prototype,"leftTableKey",void 0);h.__decorate([v.property({type:String,json:{write:!0}})],b.JoinTableDataSource.prototype,"rightTableKey",void 0);h.__decorate([v.property({json:{write:!0}})],b.JoinTableDataSource.prototype,"leftTableSource",void 0);h.__decorate([r.reader("leftTableSource")],b.JoinTableDataSource.prototype,"readLeftTableSource",null);h.__decorate([k.cast("leftTableSource")],b.JoinTableDataSource.prototype,"castLeftTableSource",null);h.__decorate([v.property({json:{write:!0}})],
b.JoinTableDataSource.prototype,"rightTableSource",void 0);h.__decorate([r.reader("rightTableSource")],b.JoinTableDataSource.prototype,"readRightTableSource",null);h.__decorate([k.cast("rightTableSource")],b.JoinTableDataSource.prototype,"castRightTableSource",null);h.__decorate([m.enumeration(t)],b.JoinTableDataSource.prototype,"joinType",void 0);b.JoinTableDataSource=ca=h.__decorate([q.subclass("esri.layers.support.source.JoinTableDataSource")],b.JoinTableDataSource);let ba=null,V=null;k={key:"type",
base:null,typeMap:{"join-table":b.JoinTableDataSource,"query-table":L.QueryTableDataSource,raster:D.RasterDataSource,table:C.TableDataSource}};b.DataLayerSource=U=class extends z.JSONSupport{constructor(G){super(G);this.type="data-layer"}clone(){const {fields:G,dataSource:R}=this;return new U({fields:G,dataSource:R})}};h.__decorate([m.enumeration({dataLayer:"data-layer"})],b.DataLayerSource.prototype,"type",void 0);h.__decorate([v.property({type:[w],json:{write:!0}})],b.DataLayerSource.prototype,
"fields",void 0);h.__decorate([v.property({types:k,json:{write:!0}})],b.DataLayerSource.prototype,"dataSource",void 0);b.DataLayerSource=U=h.__decorate([q.subclass("esri.layers.support.source.DataLayerSource")],b.DataLayerSource);b.DataLayerSource.from=x.ensureType(b.DataLayerSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B,w){var Q;const L=new h.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});h=Q=class extends t.JSONSupport{constructor(D){super(D);
this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(D,{description:C}){D=null;try{D=C?JSON.parse(C):null}catch(F){}return D?.value??null}readValueType(D,{description:C}){D=null;try{D=C?JSON.parse(C):null}catch(F){}return D?L.fromJSON(D.fieldValueType):null}clone(){return new Q({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};b.__decorate([z.property({type:String,json:{write:!0}})],h.prototype,"alias",void 0);b.__decorate([z.property({type:[String,Number],json:{write:{allowNull:!0}}})],h.prototype,"defaultValue",void 0);b.__decorate([z.property()],h.prototype,"description",void 0);b.__decorate([q.reader("description")],h.prototype,"readDescription",
null);b.__decorate([z.property({types:B.types,json:{read:{reader:B.fromJSON},write:!0}})],h.prototype,"domain",void 0);b.__decorate([z.property({type:Boolean,json:{write:!0}})],h.prototype,"editable",void 0);b.__decorate([z.property({type:v.Integer,json:{write:{overridePolicy(D){return{enabled:Number.isFinite(D)}}}}})],h.prototype,"length",void 0);b.__decorate([z.property({type:String,json:{write:!0}})],h.prototype,"name",void 0);b.__decorate([z.property({type:Boolean,json:{write:!0}})],h.prototype,
"nullable",void 0);b.__decorate([r.enumeration(w.kebabDict)],h.prototype,"type",void 0);b.__decorate([z.property()],h.prototype,"valueType",void 0);b.__decorate([q.reader("valueType",["description"])],h.prototype,"readValueType",null);b.__decorate([z.property({type:Boolean,json:{read:!1}})],h.prototype,"visible",void 0);return h=Q=b.__decorate([x.subclass("esri.layers.support.Field")],h)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(b,h,t,z,v,k){h={key:"type",base:z,typeMap:{range:k,"coded-value":t,inherited:v}};b.CodedValueDomain=t;b.DomainBase=z;b.InheritedDomain=v;b.RangeDomain=k;b.fromJSON=function(m){if(!m?.type)return null;switch(m.type){case "range":return k.fromJSON(m);case "codedValue":return t.fromJSON(m);case "inherited":return v.fromJSON(m)}return null};b.types=h;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(b,h,t,z,v,k,m,r,q){var x;z=x=class extends q{constructor(B){super(B);this.codedValues=null;this.type="coded-value"}getName(B){let w=null;if(this.codedValues){const Q=String(B);this.codedValues.some(L=>{String(L.code)===Q&&(w=L.name);return!!w})}return w}clone(){return new x({codedValues:h.clone(this.codedValues),name:this.name})}};b.__decorate([t.property({type:[r.CodedValue],json:{write:!0}})],z.prototype,"codedValues",void 0);b.__decorate([k.enumeration({codedValue:"coded-value"})],z.prototype,
"type",void 0);return z=x=b.__decorate([m.subclass("esri.layers.support.CodedValueDomain")],z)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(b,h,t,z,v,k,m,r){var q;b.CodedValue=q=class extends t.JSONSupport{constructor(x){super(x);this.code=this.name=null}clone(){return new q({name:this.name,
code:this.code})}};h.__decorate([z.property({type:String,json:{write:!0}})],b.CodedValue.prototype,"name",void 0);h.__decorate([z.property({type:[String,Number],json:{write:!0}})],b.CodedValue.prototype,"code",void 0);b.CodedValue=q=h.__decorate([r.subclass("esri.layers.support.CodedValue")],b.CodedValue);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(b,h,t,z,v,k,m,r,q){h=new h.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});t=class extends t.JSONSupport{constructor(x){super(x);this.type=this.name=null}};b.__decorate([z.property({type:String,json:{write:!0}})],t.prototype,"name",void 0);b.__decorate([r.enumeration(h)],t.prototype,"type",void 0);return t=b.__decorate([q.subclass("esri.layers.support.Domain")],t)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(b,h,t,z,v,k,m,r){var q;h=q=class extends r{constructor(x){super(x);this.type="inherited"}clone(){return new q}};b.__decorate([k.enumeration({inherited:"inherited"})],h.prototype,"type",void 0);return h=q=b.__decorate([m.subclass("esri.layers.support.InheritedDomain")],h)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(b,h,t,z,v,k,m,r){var q;t=q=class extends r{constructor(x){super(x);this.minValue=this.maxValue=null;this.type="range"}clone(){return new q({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};b.__decorate([h.property({json:{type:[Number],read:{source:"range",reader(x,B){return B.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(x,B,w){B[w]=[this.minValue||0,x]}}}})],t.prototype,"maxValue",void 0);b.__decorate([h.property({json:{type:[Number],
read:{source:"range",reader(x,B){return B.range?.[0]}},write:{target:"range",writer(x,B,w){B[w]=[x,this.maxValue||0]}}}})],t.prototype,"minValue",void 0);b.__decorate([k.enumeration({range:"range"})],t.prototype,"type",void 0);return t=q=b.__decorate([m.subclass("esri.layers.support.RangeDomain")],t)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(b,h){h=new h.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",
esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});b.kebabDict=h;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(b,h,t,z,v,k,m,r,q){var x;b.MapLayerSource=x=class extends t.JSONSupport{constructor(B){super(B);this.type=
"map-layer"}clone(){const {mapLayerId:B,gdbVersion:w}=this;return new x({mapLayerId:B,gdbVersion:w})}};h.__decorate([r.enumeration({mapLayer:"map-layer"})],b.MapLayerSource.prototype,"type",void 0);h.__decorate([z.property({type:v.Integer,json:{write:!0}})],b.MapLayerSource.prototype,"mapLayerId",void 0);h.__decorate([z.property({type:String,json:{write:!0}})],b.MapLayerSource.prototype,"gdbVersion",void 0);b.MapLayerSource=x=h.__decorate([q.subclass("esri.layers.support.source.MapLayerSource")],
b.MapLayerSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B,w){var Q;b.QueryTableDataSource=Q=class extends z.JSONSupport{constructor(L){super(L);this.type="query-table"}clone(){const {workspaceId:L,query:D,oidFields:C,spatialReference:F,geometryType:J}=this,ca={workspaceId:L,query:D,oidFields:C,spatialReference:F?.clone()??void 0,geometryType:J};return new Q(ca)}};h.__decorate([q.enumeration({queryTable:"query-table"})],b.QueryTableDataSource.prototype,"type",void 0);h.__decorate([v.property({type:String,json:{write:!0}})],
b.QueryTableDataSource.prototype,"workspaceId",void 0);h.__decorate([v.property({type:String,json:{write:!0}})],b.QueryTableDataSource.prototype,"query",void 0);h.__decorate([v.property({type:String,json:{write:!0}})],b.QueryTableDataSource.prototype,"oidFields",void 0);h.__decorate([v.property({type:B,json:{write:!0}})],b.QueryTableDataSource.prototype,"spatialReference",void 0);h.__decorate([q.enumeration(w.featureGeometryTypeKebabDictionary)],b.QueryTableDataSource.prototype,"geometryType",void 0);
b.QueryTableDataSource=Q=h.__decorate([x.subclass("esri.layers.support.source.QueryTableDataSource")],b.QueryTableDataSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(b,h,t,z,v,k,m,r,q){var x;b.RasterDataSource=x=class extends t.JSONSupport{constructor(B){super(B);this.type="raster"}clone(){const {workspaceId:B,dataSourceName:w}=this;return new x({workspaceId:B,dataSourceName:w})}};h.__decorate([r.enumeration({raster:"raster"})],b.RasterDataSource.prototype,"type",void 0);h.__decorate([z.property({type:String,json:{write:!0}})],b.RasterDataSource.prototype,"dataSourceName",void 0);h.__decorate([z.property({type:String,json:{write:!0}})],b.RasterDataSource.prototype,
"workspaceId",void 0);b.RasterDataSource=x=h.__decorate([q.subclass("esri.layers.support.source.RasterDataSource")],b.RasterDataSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(b,h,t,z,v,k,m,r,q){var x;b.TableDataSource=x=class extends t.JSONSupport{constructor(B){super(B);this.type="table"}clone(){const {workspaceId:B,gdbVersion:w,dataSourceName:Q}=this;return new x({workspaceId:B,gdbVersion:w,dataSourceName:Q})}};h.__decorate([r.enumeration({table:"table"})],b.TableDataSource.prototype,"type",void 0);h.__decorate([z.property({type:String,json:{write:!0}})],b.TableDataSource.prototype,"workspaceId",void 0);h.__decorate([z.property({type:String,json:{write:!0}})],
b.TableDataSource.prototype,"gdbVersion",void 0);h.__decorate([z.property({type:String,json:{write:!0}})],b.TableDataSource.prototype,"dataSourceName",void 0);b.TableDataSource=x=h.__decorate([q.subclass("esri.layers.support.source.TableDataSource")],b.TableDataSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(b,h,t,z,v,k,m,r){h=class extends h.ClonableMixin(t.JSONSupport){constructor(q){super(q);this.searchType=this.searchTerm=this.operator=this.onFields=null}};b.__decorate([z.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&0<this.onFields.length}}}}})],h.prototype,"onFields",void 0);b.__decorate([z.property({type:String,json:{write:!0}})],h.prototype,"operator",void 0);b.__decorate([z.property({type:String,json:{write:!0}})],h.prototype,"searchTerm",
void 0);b.__decorate([z.property({type:String,json:{write:!0}})],h.prototype,"searchType",void 0);return h=b.__decorate([r.subclass("esri.rest.support.FullTextSearch")],h)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),function(b,
h,t,z,v,k,m,r,q,x){var B;h=new t.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});z=B=class extends z.JSONSupport{constructor(w){super(w);this.extent=null;this.mode="view";this.originPosition="upper-left";this.tolerance=1}clone(){return new B(v.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};b.__decorate([k.property({type:x,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],z.prototype,"extent",void 0);b.__decorate([k.property({type:["view",
"edit"],json:{write:!0}})],z.prototype,"mode",void 0);b.__decorate([k.property({type:String,json:{read:h.read,write:h.write}})],z.prototype,"originPosition",void 0);b.__decorate([k.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],z.prototype,"tolerance",void 0);return z=B=b.__decorate([q.subclass("esri.rest.support.QuantizationParameters")],z)})},"esri/rest/support/spatialRelationships":function(){define(["exports","../../core/jsonMap"],function(b,h){h=
new h.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});b.spatialRelKebabDict=h;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(b,h,t,z,v,k,m,r,q){var x;h=new h.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});t=x=class extends t.JSONSupport{constructor(B){super(B);this.maxVertexCount=this.maxRecordCount=this.maxPointCount=void 0;this.statisticParameters=
this.statisticType=this.outStatisticFieldName=this.onStatisticField=null}writeStatisticParameters(B,w){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)w.statisticParameters=z.clone(B)}clone(){return new x({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:z.clone(this.statisticParameters)})}};
b.__decorate([v.property({type:Number,json:{write:!0}})],t.prototype,"maxPointCount",void 0);b.__decorate([v.property({type:Number,json:{write:!0}})],t.prototype,"maxRecordCount",void 0);b.__decorate([v.property({type:Number,json:{write:!0}})],t.prototype,"maxVertexCount",void 0);b.__decorate([v.property({type:String,json:{write:!0}})],t.prototype,"onStatisticField",void 0);b.__decorate([v.property({type:String,json:{write:!0}})],t.prototype,"outStatisticFieldName",void 0);b.__decorate([v.property({type:String,
json:{read:{source:"statisticType",reader:h.read},write:{target:"statisticType",writer:h.write}}})],t.prototype,"statisticType",void 0);b.__decorate([v.property({type:Object})],t.prototype,"statisticParameters",void 0);b.__decorate([q.writer("statisticParameters")],t.prototype,"writeStatisticParameters",null);return t=x=b.__decorate([r.subclass("esri.rest.support.StatisticDefinition")],t)})},"esri/time/TimeExtent":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/timeUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./timeZoneUtils".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B){var w;h=w=class extends h.JSONSupport{static get allTime(){return Q}static get empty(){return L}static fromArray(D){return new w({start:null!=D[0]?new Date(D[0]):D[0],end:null!=D[1]?new Date(D[1]):D[1]})}constructor(D){super(D);this.start=this.end=null}readEnd(D,C){return null!=C.end?new Date(C.end):null}writeEnd(D,C){C.end=D?.getTime()??null}get isAllTime(){return this.equals(w.allTime)}get isEmpty(){return this.equals(w.empty)}readStart(D,C){return null!=C.start?
new Date(C.start):null}writeStart(D,C){C.start=D?.getTime()??null}clone(){return new w({end:this.end,start:this.start})}equals(D){if(!D)return!1;const C=this.start?.getTime()??this.start,F=this.end?.getTime()??this.end,J=D.start?.getTime()??D.start;D=D.end?.getTime()??D.end;return C===J&&F===D}expandTo(D,C=B.system){if(this.isEmpty||this.isAllTime)return this.clone();let F=this.start;F&&=t.truncateDate(F,D,C);let J=this.end;if(J){const ca=t.truncateDate(J,D,C);J=J.getTime()===ca.getTime()?ca:t.offsetDate(ca,
1,D,C)}return new w({start:F,end:J})}intersection(D){if(!D)return this.clone();if(this.isEmpty||D.isEmpty)return w.empty;if(this.isAllTime)return D.clone();if(D.isAllTime)return this.clone();const C=this.start?.getTime()??-Infinity,F=this.end?.getTime()??Infinity,J=D.start?.getTime()??-Infinity;D=D.end?.getTime()??Infinity;let ca,U;J>=C&&J<=F?ca=J:C>=J&&C<=D&&(ca=C);F>=J&&F<=D?U=F:D>=C&&D<=F&&(U=D);return null==ca||null==U||isNaN(ca)||isNaN(U)?w.empty:new w({start:-Infinity===ca?null:new Date(ca),
end:Infinity===U?null:new Date(U)})}offset(D,C,F=B.system){if(this.isEmpty||this.isAllTime)return this.clone();const J=new w,{start:ca,end:U}=this;null!=ca&&(J.start=t.offsetDate(ca,D,C,F));null!=U&&(J.end=t.offsetDate(U,D,C,F));return J}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(D){if(!D||D.isEmpty)return this.clone();if(this.isEmpty)return D.clone();if(this.isAllTime||D.isAllTime)return Q.clone();const C=null!=this.start&&null!=D.start?
new Date(Math.min(this.start.getTime(),D.start.getTime())):null;D=null!=this.end&&null!=D.end?new Date(Math.max(this.end.getTime(),D.end.getTime())):null;return new w({start:C,end:D})}};b.__decorate([z.property({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"end",void 0);b.__decorate([r.reader("end")],h.prototype,"readEnd",null);b.__decorate([x.writer("end")],h.prototype,"writeEnd",null);b.__decorate([z.property({readOnly:!0,json:{read:!1}})],h.prototype,"isAllTime",null);b.__decorate([z.property({readOnly:!0,
json:{read:!1}})],h.prototype,"isEmpty",null);b.__decorate([z.property({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"start",void 0);b.__decorate([r.reader("start")],h.prototype,"readStart",null);b.__decorate([x.writer("start")],h.prototype,"writeStart",null);b=h=w=b.__decorate([q.subclass("esri.time.TimeExtent")],h);const Q=new h,L=new h({start:void 0,end:void 0});return b})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(b,
h,t,z){function v(r,q,x){return 0===r?0:r*m[q]/m[x]}function k(r){switch(r){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";case "months":return"month";case "years":return"year"}}const m={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};b.convertTime=v;b.isValidDate=function(r){return r instanceof
Date&&!isNaN(r.getTime())};b.makeUTCTime=function(r,q,x="milliseconds"){q=new Date(v(q,x,"milliseconds"));q.setUTCFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());return q};b.mergeTimeExtents=function(r,q){return r&&q?r.intersection(q):r||q};b.millisecondsPerTimeUnit=m;b.offsetDate=function(r,q,x,B=t.system){B=new z.IANAZone(h.resolveTimeZone(B));r=z.DateTime.fromJSDate(r,{zone:B});B="decades"===x||"centuries"===x?"year":k(x);"decades"===x&&(q*=10);"centuries"===x&&(q*=100);return r.plus({[B]:q}).toJSDate()};
b.offsetDateUTC=function(r,q,x="milliseconds"){r=r.getTime();q=v(q,x,"milliseconds");return new Date(r+q)};b.resetUTCDate=function(r,q){r=new Date(r.getTime());r.setUTCFullYear(q.getFullYear(),q.getMonth(),q.getDate());return r};b.timeSinceUTCMidnight=function(r,q="milliseconds"){const x=v(r.getUTCHours(),"hours","milliseconds"),B=v(r.getUTCMinutes(),"minutes","milliseconds"),w=v(r.getUTCSeconds(),"seconds","milliseconds");r=r.getUTCMilliseconds();return v(x+B+w+r,"milliseconds",q)};b.truncateDate=
function(r,q,x=t.system){x=new z.IANAZone(h.resolveTimeZone(x));r=z.DateTime.fromJSDate(r,{zone:x});if("decades"===q||"centuries"===q)return r=r.startOf("year"),{year:x}=r,r.set({year:x-x%("decades"===q?10:100)}).toJSDate();q=k(q);return r.startOf(q).toJSDate()};b.truncateLocalTime=function(r){const q=new Date(0);q.setHours(0);q.setMinutes(0);q.setSeconds(0);q.setMilliseconds(0);q.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());return q};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC ../../webgl-engine/lib/VertexAttribute".split(" "),function(b,h,t,z,v,k){function m(G,R){const Z={byteOffset:0,byteCount:0,fields:Object.create(null)};let fa=0;for(let ha=0;ha<R.length;ha++){const H=R[ha],K=H.valueType||H.type;Z.fields[H.property]=(0,V[K])(G,fa);fa+=ba[K].BYTES_PER_ELEMENT}Z.byteCount=fa;return Z}function r(G,R,Z){return q(G,R,Z).map(fa=>
{fa=fa?Date.parse(fa):null;return null==fa||Number.isNaN(fa)?null:fa})}function q(G,R,Z){const fa=[];let ha,H=0,K;for(K=0;K<G;K+=1){ha=R[K];if(0<ha){var S=fa,da=S.push,na=Z,ia=H,l=ha-1;let N="",aa=0;for(;aa<l;){var u=na[ia+aa];if(128>u)N+=String.fromCharCode(u),aa++;else if(192<=u&&224>u){if(aa+1>=l)throw new h("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");N+=String.fromCharCode((u&31)<<6|na[ia+aa+1]&63);aa+=2}else if(224<=u&&240>u){if(aa+2>=l)throw new h("utf8-decode-error",
"UTF-8 Decode failed. Multi byte character was truncated.");N+=String.fromCharCode((u&15)<<12|(na[ia+aa+1]&63)<<6|na[ia+aa+2]&63);aa+=3}else if(240<=u&&248>u){if(aa+3>=l)throw new h("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");u=(u&7)<<18|(na[ia+aa+1]&63)<<12|(na[ia+aa+2]&63)<<6|na[ia+aa+3]&63;N=65536<=u?N+String.fromCharCode((u-65536>>10)+55296,(u&1023)+56320):N+String.fromCharCode(u);aa+=4}else throw new h("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");
}da.call(S,N);if(0!==Z[H+ha-1])throw new h("string-array-error","Invalid string array: missing null termination.");}else fa.push(null);H+=ha}return fa}function x(G,R){return new ba[R.valueType](G,R.byteOffset,R.count*R.valuesPerElement)}function B(G,R){return new Uint8Array(G,R.byteOffset,R.byteCount)}function w(G,R,Z){G=null!=R.header?m(G,R.header):{byteOffset:0,byteCount:0,fields:{count:Z}};Z={header:G,byteOffset:G.byteCount,byteCount:0,entries:Object.create(null)};let fa=G.byteCount;for(let ha=
0;ha<R.ordering.length;ha++){const H=R.ordering[ha],K=t.clone(R[H]);K.count=G.fields.count??0;if("String"===K.valueType){K.byteOffset=fa;K.byteCount=G.fields[H+"ByteCount"];if("UTF-8"!==K.encoding)throw new h("unsupported-encoding","Unsupported String encoding.",{encoding:K.encoding});if(K.timeEncoding&&"ECMA_ISO8601"!==K.timeEncoding)throw new h("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:K.timeEncoding});}else if(F(K.valueType)){const S=J(K.valueType);fa+=0!==fa%S?S-fa%
S:0;K.byteOffset=fa;K.byteCount=S*K.valuesPerElement*K.count}else throw new h("unsupported-value-type","Unsupported binary valueType",{valueType:K.valueType});fa+=K.byteCount??0;Z.entries[H]=K}Z.byteCount=fa-Z.byteOffset;return Z}function Q(G,R,Z){R!==G&&ca().error(`Invalid ${Z} buffer size\n expected: ${G}, actual: ${R})`);if(R<G)throw new h("buffer-too-small","Binary buffer is too small",{expectedSize:G,actualSize:R});}function L(G){return{isDraco:!1,isLegacy:!1,color:null!=G.color,normal:null!=
G.normal,uv0:null!=G.uv0,uvRegion:null!=G.uvRegion,featureIndex:null!=G.faceRange&&null!=G.featureId}}function D(G){const R={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Z of G.ordering)if(G.vertexAttributes[Z])switch(Z){case "normal":R.normal=!0;break;case "color":R.color=!0;break;case "uv0":R.uv0=!0;break;case "region":R.uvRegion=!0}G.featureAttributes&&G.featureAttributeOrder&&(R.featureIndex=!0);return R}function C(G){const R={isDraco:!0,isLegacy:!1,
color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Z of G)switch(Z){case "normal":R.normal=!0;break;case "uv0":R.uv0=!0;break;case "color":R.color=!0;break;case "uv-region":R.uvRegion=!0;break;case "feature-index":R.featureIndex=!0}return R}function F(G){return ba.hasOwnProperty(G)}function J(G){return F(G)?ba[G].BYTES_PER_ELEMENT:0}const ca=()=>z.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader"),U={position:k.VertexAttribute.POSITION,normal:k.VertexAttribute.NORMAL,color:k.VertexAttribute.COLOR,
uv0:k.VertexAttribute.UV0,region:k.VertexAttribute.UVREGION},ba={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},V={Float32:(G,R)=>(new DataView(G,0)).getFloat32(R,!0),Float64:(G,R)=>(new DataView(G,0)).getFloat64(R,!0),UInt8:(G,R)=>(new DataView(G,0)).getUint8(R),Int8:(G,R)=>(new DataView(G,0)).getInt8(R),UInt16:(G,R)=>(new DataView(G,0)).getUint16(R,!0),Int16:(G,R)=>(new DataView(G,0)).getInt16(R,
!0),UInt32:(G,R)=>(new DataView(G,0)).getUint32(R,!0),Int32:(G,R)=>(new DataView(G,0)).getInt32(R,!0)};b.createAttributeDataIndex=w;b.createGeometryDescriptor=function(G,R){return G&&G.compressedAttributes&&"draco"===G.compressedAttributes.encoding?C(G.compressedAttributes.attributes):G?L(G):D(R)};b.createGeometryDescriptorForDraco=C;b.createGeometryDescriptorFromDefinition=L;b.createGeometryDescriptorFromSchema=D;b.createGeometryIndexFromSchema=function(G,R){var Z=m(G,R&&R.header);let fa=Z.byteCount;
const ha={isDraco:!1,header:Z,byteOffset:Z.byteCount,byteCount:0,vertexAttributes:{}};Z=Z.fields;var H=null!=Z.vertexCount?Z.vertexCount:Z.count;for(var K of R.ordering){if(!R.vertexAttributes[K])continue;const da={...R.vertexAttributes[K],byteOffset:fa,count:H};ha.vertexAttributes[U[K]||"_"+K]=da;fa+=J(da.valueType)*da.valuesPerElement*H}K=Z.faceCount;if(R.faces&&K){ha.faces={};for(var S of R.ordering)R.faces[S]&&(H={...R.faces[S],byteOffset:fa,count:K},ha.faces[S]=H,fa+=J(H.valueType)*H.valuesPerElement*
K)}S=Z.featureCount;if(R.featureAttributes&&R.featureAttributeOrder&&S){ha.featureAttributes={};for(const da of R.featureAttributeOrder)R.featureAttributes[da]&&(Z={...R.featureAttributes[da],byteOffset:fa,count:S},ha.featureAttributes[da]=Z,K="UInt64"===Z.valueType?8:J(Z.valueType),fa+=K*Z.valuesPerElement*S)}Q(fa,G.byteLength,"geometry");ha.byteCount=fa-ha.byteOffset;return ha};b.createRawView=B;b.createTypedView=x;b.getBytesPerValue=J;b.isValueType=F;b.readBinaryAttribute=function(G,R,Z){if("lepcc-rgb"===
G.encoding)return v.decodeRGB(R);if("lepcc-intensity"===G.encoding)return v.decodeIntensity(R);if(null!=G.encoding&&""!==G.encoding)throw new h("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");G["attributeByteCounts "]&&!G.attributeByteCounts&&(ca().warn("Warning: Trailing space in 'attributeByteCounts '."),G.attributeByteCounts=G["attributeByteCounts "]);"ObjectIds"===G.ordering[0]&&G.hasOwnProperty("objectIds")&&(ca().warn("Warning: Case error in objectIds"),
G.ordering[0]="objectIds");Z=w(R,G,Z);Q(Z.byteOffset+Z.byteCount,R.byteLength,"attribute");if(G=Z.entries.attributeValues||Z.entries.objectIds){if("String"===G.valueType){Z=Z.entries.attributeByteCounts;const fa=x(R,Z);R=B(R,G);return G.timeEncoding?r(Z.count,fa,R):q(Z.count,fa,R)}return x(R,G)}throw new h("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};b.readDateStringArray=r;b.readHeader=m;b.readStringArray=q;b.valueType2ArrayBufferReader=V;b.valueType2TypedArrayClassMap=
ba;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["exports","../../../../core/Error"],function(b,h){function t(m,r,q){return{identifier:String.fromCharCode.apply(null,new Uint8Array(m,q+k.identifierOffset,k.identifierLength)),version:r.getUint16(q+k.versionOffset,!0),checksum:r.getUint32(q+k.checksumOffset,!0)}}function z(m,r,q){const x=[];r=v(m,r,x);const B=[];for(let w=0;w<x.length;w++){B.length=0;r=v(m,r,B);for(let Q=0;Q<B.length;Q++)q.push(B[Q]+
x[w])}return r}function v(m,r,q){var x=new DataView(m,r),B=x.getUint8(0);const w=B&31;var Q=!!(B&32),L=(B&192)>>6;B=0;if(0===L)B=x.getUint32(1,!0),r+=5;else if(1===L)B=x.getUint16(1,!0),r+=3;else if(2===L)B=x.getUint8(1),r+=2;else throw new h("lepcc-decode-error","Bad count type");if(Q)throw new h("lepcc-decode-error","LUT not implemented");m=new Uint8Array(m,r,Math.ceil(B*w/8));L=Q=x=0;const D=-1>>>32-w;for(let C=0;C<B;C++){for(;Q<w;)x|=m[L]<<Q,Q+=8,L+=1;q[C]=x&D;x>>>=w;Q-=w;32<Q+w&&(x|=m[L-1]>>
8-Q)}return r+L}const k={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};b.decodeIntensity=function(m){const r=new DataView(m,0);var q=0;const {identifier:x,version:B}=t(m,r,q);q+=k.byteCount;if("Intensity "!==x)throw new h("lepcc-decode-error","Bad identifier");if(1<B)throw new h("lepcc-decode-error","Unknown version");var w=q;var Q=r.getUint32(w+0,!0);var L=r.getUint32(w+4,!0);var D=r.getUint32(w+8,!0);var C=r.getUint16(w+12,!0);var F=r.getUint8(w+14);r.getUint8(w+
15);q+=16;if(L*2**32+Q!==m.byteLength)throw new h("lepcc-decode-error","Bad size");Q=new Uint16Array(D);if(8===F){if(D+q!==m.byteLength)throw new h("lepcc-decode-error","Bad size");m=new Uint8Array(m,q,D);for(q=0;q<D;q++)Q[q]=m[q]*C}else if(16===F){if(2*D+q!==m.byteLength)throw new h("lepcc-decode-error","Bad size");m=new Uint16Array(m,q,D);for(q=0;q<D;q++)Q[q]=m[q]*C}else{F=[];if(v(m,q,F)!==m.byteLength)throw new h("lepcc-decode-error","Bad size");for(m=0;m<D;m++)Q[m]=F[m]*C}return Q};b.decodeRGB=
function(m){var r=new DataView(m,0),q=0;const {identifier:x,version:B}=t(m,r,q);q+=k.byteCount;if("ClusterRGB"!==x)throw new h("lepcc-decode-error","Bad identifier");if(1<B)throw new h("lepcc-decode-error","Unknown version");var w=q;var Q=r.getUint32(w+0,!0);var L=r.getUint32(w+4,!0);var D=r.getUint32(w+8,!0);var C=r.getUint16(w+12,!0);var F=r.getUint8(w+14);w=r.getUint8(w+15);q+=16;if(L*2**32+Q!==m.byteLength)throw new h("lepcc-decode-error","Bad size");if((2===F||1===F)&&0===w){if(3*C+D+q!==m.byteLength||
256<C)throw new h("lepcc-decode-error","Bad count");r=new Uint8Array(m,q,3*C);q=new Uint8Array(m,q+3*C,D);m=new Uint8Array(3*D);for(C=0;C<D;C++)Q=q[C],m[3*C]=r[3*Q],m[3*C+1]=r[3*Q+1],m[3*C+2]=r[3*Q+2];return m}if(0===F&&0===w){if(3*D+q!==m.byteLength||0!==C)throw new h("lepcc-decode-error","Bad count");return(new Uint8Array(m,q)).slice()}if(2>=F&&1===w){if(q+3!==m.byteLength||1!==C)throw new h("lepcc-decode-error","Bad count");m=r.getUint8(q);C=r.getUint8(q+1);q=r.getUint8(q+2);r=new Uint8Array(3*
D);for(Q=0;Q<D;Q++)r[3*Q]=m,r[3*Q+1]=C,r[3*Q+2]=q;return r}throw new h("lepcc-decode-error","Bad method "+F+","+w);};b.decodeXYZ=function(m){var r=new DataView(m,0),q=0;const {identifier:x,version:B}=t(m,r,q);q+=k.byteCount;if("LEPCC     "!==x)throw new h("lepcc-decode-error","Bad identifier");if(1<B)throw new h("lepcc-decode-error","Unknown version");var w=q;var Q=r.getUint32(w+0,!0);var L=r.getUint32(w+4,!0);var D=r.getFloat64(w+8,!0);var C=r.getFloat64(w+16,!0);var F=r.getFloat64(w+24,!0);var J=
r.getFloat64(w+32,!0);var ca=r.getFloat64(w+40,!0);var U=r.getFloat64(w+48,!0);var ba=r.getFloat64(w+56,!0);var V=r.getFloat64(w+64,!0);var G=r.getFloat64(w+72,!0);var R=r.getUint32(w+80,!0);r.getUint32(w+84,!0);q+=88;if(L*2**32+Q!==m.byteLength)throw new h("lepcc-decode-error","Bad size");Q=new Float64Array(3*R);L=[];R=[];r=[];w=[];q=z(m,q,L);q=z(m,q,R);q=z(m,q,r);q=z(m,q,w);if(q!==m.byteLength)throw new h("lepcc-decode-error","Bad length");q=m=0;for(let Z=0;Z<L.length;Z++){q+=L[Z];let fa=0;for(let ha=
0;ha<R[Z];ha++){fa+=r[m];const H=w[m];Q[3*m]=Math.min(J,D+2*ba*fa);Q[3*m+1]=Math.min(ca,C+2*V*q);Q[3*m+2]=Math.min(U,F+2*G*H);m++}}return{errorX:ba,errorY:V,errorZ:G,result:Q}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(b){b.VertexAttribute=void 0;(function(h){h.POSITION="position";h.NORMAL="normal";h.NORMALCOMPRESSED="normalCompressed";h.UV0="uv0";h.COLOR="color";h.SYMBOLCOLOR="symbolColor";
h.SIZE="size";h.ROTATION="rotation";h.TANGENT="tangent";h.OFFSET="offset";h.PERSPECTIVEDIVIDE="perspectiveDivide";h.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance";h.LENGTH="length";h.PREVPOSITION="prevPosition";h.NEXTPOSITION="nextPosition";h.SUBDIVISIONFACTOR="subdivisionFactor";h.COLORFEATUREATTRIBUTE="colorFeatureAttribute";h.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";h.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";h.DISTANCETOSTART="distanceToStart";h.UVMAPSPACE="uvMapSpace";h.BOUNDINGRECT=
"boundingRect";h.UVREGION="uvRegion";h.PROFILERIGHT="profileRight";h.PROFILEUP="profileUp";h.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";h.FEATUREVALUE="featureValue";h.INSTANCEMODELORIGINHI="instanceModelOriginHi";h.INSTANCEMODELORIGINLO="instanceModelOriginLo";h.INSTANCEMODEL="instanceModel";h.INSTANCEMODELNORMAL="instanceModelNormal";h.INSTANCECOLOR="instanceColor";h.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";h.LOCALTRANSFORM="localTransform";h.GLOBALTRANSFORM="globalTransform";h.BOUNDINGSPHERE=
"boundingSphere";h.MODELORIGIN="modelOrigin";h.MODELSCALEFACTORS="modelScaleFactors";h.FEATUREATTRIBUTE="featureAttribute";h.STATE="state";h.LODLEVEL="lodLevel";h.POSITION0="position0";h.POSITION1="position1";h.NORMAL2COMPRESSED="normal2Compressed";h.COMPONENTINDEX="componentIndex";h.VARIANTOFFSET="variantOffset";h.VARIANTSTROKE="variantStroke";h.VARIANTEXTENSION="variantExtension";h.SIDENESS="sideness";h.START="start";h.END="end";h.UP="up";h.START_UP="startUp";h.END_UP="endUp";h.EXTRUDE="extrude";
h.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";h.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})(b.VertexAttribute||(b.VertexAttribute={}));b.affectsGeometry=function(h){return h===b.VertexAttribute.POSITION};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/I3SProjectionUtil":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/mat4f64","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/ellipsoidUtils",
"../../../../geometry/projection/computeTranslationToOriginAndRotation"],function(b,h,t,z,v){function k(m,r,q){const x=t.create(),B=2**(4*Math.ceil(Math.log(m[3])*Math.LOG2E/4)+1);if(q.isGeographic){var w=B/z.getReferenceEllipsoid(q).radius*180/Math.PI;q=Math.max(-90,Math.min(90,Math.round(m[1]/w)*w));w/=Math.cos((Math.abs(q)-w/2)/180*Math.PI);x[0]=Math.round(m[0]/w)*w;x[1]=q}else q=Math.round(m[1]/B),x[0]=Math.round(m[0]/B)*B,x[1]=q*B;x[2]=Math.round((m[2]+r)/B)*B;return x}b.computeGlobalTransformation=
function(m,r,q,x,B){m="east-north-up"===q?t.clone(m):k(m,r,x);r=h.create();v.computeTranslationToOriginAndRotation(x,m,r,B);return r};b.getLocalOrigin=k;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/computeTranslationToOriginAndRotation":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/vec3f64 ./localRotationUtils ./projectors ../support/spatialReferenceUtils".split(" "),function(b,
h,t,z,v,k,m){function r(w){return w===k.ProjectionID.SPHERICAL_ECEF||w===k.ProjectionID.SPHERICAL_MARS_PCPF||w===k.ProjectionID.SPHERICAL_MOON_PCPF||w===k.ProjectionID.WGS84_ECEF}const q=h.deg2rad(1),x=z.create(),B=z.create();b.computeTranslationToOriginAndRotation=function(w,Q,L,D){if(null==w||null==D)return!1;var C=k.classifySpatialReference(w,k.sourceClassificationCache),F=k.classifySpatialReference(D,k.destClassificationCache);if(C===F&&!r(F)&&(C!==k.ProjectionID.UNKNOWN||m.equals(w,D)))return t.fromTranslation(L,
Q),!0;if(r(F)){C=k.projectionTable[C][k.ProjectionID.LON_LAT];F=k.projectionTable[k.ProjectionID.LON_LAT][F];if(null==C||null==F)return!1;C(Q,0,x,0);F(x,0,B,0);v.computeENUToPCPFLocalRotation(q*x[0],q*x[1],L);L[12]=B[0];L[13]=B[1];L[14]=B[2];return!0}w=r(C);if((F===k.ProjectionID.WEB_MERCATOR||F===k.ProjectionID.PLATE_CARREE||F===k.ProjectionID.WGS84||F===k.ProjectionID.CGCS2000)&&(C===k.ProjectionID.WGS84||w||C===k.ProjectionID.WEB_MERCATOR||C===k.ProjectionID.CGCS2000)){C=k.projectionTable[C][k.ProjectionID.LON_LAT];
F=k.projectionTable[k.ProjectionID.LON_LAT][F];if(null==C||null==F)return!1;C(Q,0,x,0);F(x,0,B,0);w?v.computePCPFToENULocalRotation(q*x[0],q*x[1],L):t.identity(L);L[12]=B[0];L[13]=B[1];L[14]=B[2];return!0}return!1};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/localRotationUtils":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(b,h){function t(z,v,k){const m=Math.sin(z);z=Math.cos(z);const r=Math.sin(v);v=Math.cos(v);k[0]=-m;
k[4]=-r*z;k[8]=v*z;k[12]=0;k[1]=z;k[5]=-r*m;k[9]=v*m;k[13]=0;k[2]=0;k[6]=v;k[10]=r;k[14]=0;k[3]=0;k[7]=0;k[11]=0;k[15]=1;return k}b.computeENUToPCPFLocalRotation=t;b.computePCPFToENULocalRotation=function(z,v,k){t(z,v,k);h.transpose(k,k);return k};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/support/edgeUtils":function(){define("exports ../../../../Color ../../../../core/has ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/factories/vec4f64 ./layerUtils ../../webgl-engine/lib/edgeRendering/interfaces ../../webgl-engine/shaders/sources/edgeRenderer/EdgeUtil.glsl".split(" "),
function(b,h,t,z,v,k,m,r){function q(Q,L){if(null==Q)return null;const D=null!=Q.color?v.fromArray(h.toUnitRGBA(Q.color)):v.fromValues(0,0,0,0),C=z.pt2px(Q.size),F=z.pt2px(Q.extensionLength);switch(Q.type){case "solid":return x({color:D,size:C,extensionLength:F,...L});case "sketch":return{...w,color:D,size:C,extensionLength:F,...L,type:r.EdgeType.Sketch}}}function x(Q){return{...B,...Q,type:r.EdgeType.Solid}}const B={color:v.fromValues(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:m.Transparency.OPAQUE,
hasSlicePlane:!1},w={color:v.fromValues(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:m.Transparency.OPAQUE,hasSlicePlane:!1};b.createMaterial=function(Q,L){return q(Q&&Q.enabled&&Q.edges||null,L)};b.createMaterialFromEdges=q;b.createSolidEdgeMaterial=x;b.hasEdges=function(Q){return Q&&Q.enabled&&(k.isExtrudeSymbol3DLayer(Q)||k.isFillSymbol3DLayer(Q))&&null!=Q.edges};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],
function(b){function h(v){return v?72*v/96:0}function t(v=0,k=0){return{x:v,y:k}}const z=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.castRenderScreenPointArray=function(v){return v};b.castRenderScreenPointArray3=function(v){return v};b.castScreenPointArray=function(v){return v};b.cloneScreenPoint=function(v){return v?t(v.x,v.y):null};b.createRenderScreenPoint=function(v=0,k=0){return{x:v,y:k}};b.createRenderScreenPointArray=function(v=0,k=0){return[v,k]};b.createRenderScreenPointArray3=function(v=0,k=0,
m=0){return[v,k,m]};b.createScreenPoint=t;b.createScreenPointArray=function(v=0,k=0){return[v,k]};b.pt2px=function(v){return v?v/72*96:0};b.px2pt=h;b.screenPointArrayToObject=function(v,k){return k?(k.x=v[0],k.y=v[1],k):{x:v[0],y:v[1]}};b.screenPointObjectToArray=function(v,k){return k?(k[0]=v.x,k[1]=v.y,2<k.length&&(k[2]=0),k):[v.x,v.y]};b.toPt=function(v){if("string"===typeof v){var k=v.match(z);if(k){var m=Number(k[1]);k=k[3]&&k[3].toLowerCase();v="-"===v.charAt(0);m="px"===k?h(m):m;return v?-m:
m}console.warn("screenUtils.toPt: input not recognized!");return null}return v};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/support/layerUtils":function(){define(["exports"],function(b){b.isExtrudeSymbol3DLayer=function(h){return"extrude"===h.type};b.isFillSymbol3DLayer=function(h){return"fill"===h.type};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/interfaces":function(){define(["exports"],function(b){b.Transparency=
void 0;var h=b.Transparency||(b.Transparency={});h[h.TRANSPARENT=0]="TRANSPARENT";h[h.OPAQUE=1]="OPAQUE";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/shaders/sources/edgeRenderer/EdgeUtil.glsl":function(){define("exports ../../../collections/Component/Material/shader/ComponentData.glsl ../../../core/shaderLibrary/attributes/NormalAttribute.glsl ../../../core/shaderLibrary/util/DoublePrecision.glsl ../../../core/shaderLibrary/util/RgbaFloatEncoding.glsl ../../../core/shaderModules/Float3DrawUniform ../../../core/shaderModules/Float3PassUniform ../../../core/shaderModules/FloatPassUniform ../../../core/shaderModules/interfaces ../../../core/shaderModules/Matrix3DrawUniform ../../../core/shaderModules/Matrix3PassUniform ../../../core/shaderModules/Matrix4PassUniform ../../../core/shaderModules/Texture2DDrawUniform ../../../lib/VertexAttribute".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B,w,Q,L){b.EdgeType=void 0;(function(D){D[D.Solid=0]="Solid";D[D.Sketch=1]="Sketch";D[D.Mixed=2]="Mixed";D[D.COUNT=3]="COUNT"})(b.EdgeType||(b.EdgeType={}));b.EdgeSilhouette=void 0;(function(D){D[D.REGULAR=0]="REGULAR";D[D.SILHOUETTE=1]="SILHOUETTE"})(b.EdgeSilhouette||(b.EdgeSilhouette={}));b.EdgeUtil=function(D,C){const F=D.vertex;F.include(v.RgbaFloatEncoding);D.include(t.NormalAttribute,C);F.uniforms.add(new r.FloatPassUniform("distanceFalloffFactor",J=>J.distanceFalloffFactor));
F.code.add(q.glsl`float distanceBasedPerspectiveFactor(float distance) {
return clamp(sqrt(distanceFalloffFactor / distance), 0.0, 1.0);
}`);F.uniforms.add(new Q.Texture2DDrawUniform("componentDataTex",J=>J.componentDataTexture));D.attributes.add(L.VertexAttribute.COMPONENTINDEX,"float");F.constants.add("componentColorFieldOffset","float",0);F.constants.add("componentOtherFieldOffset","float",1);F.constants.add("componentVerticalOffsetFieldOffset","float",2);F.constants.add("componentFieldCount","float",3);F.constants.add("lineWidthFractionFactor","float",8);F.constants.add("extensionLengthOffset","float",128);F.code.add(q.glsl`
    vec2 _componentTextureCoords(float componentIndex, float fieldOffset) {
      float fieldIndex = componentFieldCount * componentIndex + fieldOffset;
      float texSize = float(textureSize(componentDataTex, 0).x);
      float colIndex = mod(fieldIndex, texSize);
      float rowIndex = floor(fieldIndex / texSize);

      return vec2(colIndex, rowIndex) + 0.5;
    }

    struct ComponentData {
      vec4 color;
      vec3 normal;
      vec3 normal2;
      float lineWidth;
      float extensionLength;
      float type;
      float verticalOffset;
    };

    ComponentData readComponentData() {
      vec2 colorIndex = _componentTextureCoords(componentIndex, componentColorFieldOffset);
      vec2 otherIndex = _componentTextureCoords(componentIndex, componentOtherFieldOffset);
      vec2 verticalOffsetIndex = _componentTextureCoords(componentIndex, componentVerticalOffsetFieldOffset);
      vec3 normal = normalModel();
      vec3 normal2 = ${C.silhouette?q.glsl`decompressNormal(normal2Compressed)`:q.glsl`normal`};

      vec4 colorValue = texelFetch(componentDataTex, ivec2(colorIndex), 0);
      vec4 otherValue = texelFetch(componentDataTex, ivec2(otherIndex), 0);
      float verticalOffset = uninterpolatedRGBAToFloat(texelFetch(componentDataTex, ivec2(verticalOffsetIndex), 0)) * ${q.glsl.float(h.maxElevationOffset)};

      return ComponentData(
        vec4(colorValue.rgb, colorValue.a * otherValue.w), // otherValue.w stores separate opacity
        normal, normal2,
        otherValue.x * (255.0 / lineWidthFractionFactor),
        otherValue.y * 255.0 - extensionLengthOffset,
        -(otherValue.z * 255.0) + 0.5, // SOLID (=0/255) needs to be > 0.0, SKETCHY (=1/255) needs to be <= 0;
        verticalOffset
      );
    }
  `);C.legacy?F.code.add(q.glsl`vec3 _modelToWorldNormal(vec3 normal) {
return (model * vec4(normal, 0.0)).xyz;
}
vec3 _modelToViewNormal(vec3 normal) {
return (localView * model * vec4(normal, 0.0)).xyz;
}`):(F.uniforms.add(new x.Matrix3DrawUniform("transformNormalGlobalFromModel",J=>J.transformNormalGlobalFromModel)),F.code.add(q.glsl`vec3 _modelToWorldNormal(vec3 normal) {
return transformNormalGlobalFromModel * normal;
}`));C.silhouette?(D.attributes.add(L.VertexAttribute.NORMAL2COMPRESSED,"vec2"),F.code.add(q.glsl`vec3 worldNormal(ComponentData data) {
return _modelToWorldNormal(normalize(data.normal + data.normal2));
}`)):F.code.add(q.glsl`vec3 worldNormal(ComponentData data) {
return _modelToWorldNormal(data.normal);
}`);C.legacy?F.code.add(q.glsl`void worldAndViewFromModelPosition(vec3 modelPos, float verticalOffset, out vec3 worldPos, out vec3 viewPos) {
worldPos = (model * vec4(modelPos, 1.0)).xyz;
viewPos = (localView * vec4(worldPos, 1.0)).xyz;
}`):(F.include(z.DoublePrecision,C),F.uniforms.add(new B.Matrix3PassUniform("transformViewFromCameraRelativeRS",J=>J.transformViewFromCameraRelativeRS),new x.Matrix3DrawUniform("transformWorldFromModelRS",J=>J.transformWorldFromModelRS),new k.Float3DrawUniform("transformWorldFromModelTL",J=>J.transformWorldFromModelTL),new k.Float3DrawUniform("transformWorldFromModelTH",J=>J.transformWorldFromModelTH),new m.Float3PassUniform("transformWorldFromViewTL",J=>J.transformWorldFromViewTL),new m.Float3PassUniform("transformWorldFromViewTH",
J=>J.transformWorldFromViewTH)),F.code.add(q.glsl`
      void worldAndViewFromModelPosition(vec3 modelPos, float verticalOffset, out vec3 worldPos, out vec3 viewPos) {
        vec3 rotatedModelPosition = transformWorldFromModelRS * modelPos;

        vec3 transformCameraRelativeFromModel = dpAdd(
          transformWorldFromModelTL,
          transformWorldFromModelTH,
          -transformWorldFromViewTL,
          -transformWorldFromViewTH
        );

        worldPos = transformCameraRelativeFromModel + rotatedModelPosition;

        if (verticalOffset != 0.0) {
          vec3 vUp = ${C.spherical?q.glsl`normalize(transformWorldFromModelTL + rotatedModelPosition);`:q.glsl`vec3(0.0, 0.0, 1.0);`}
          worldPos += verticalOffset * vUp;
        }

        viewPos = transformViewFromCameraRelativeRS * worldPos;
      }
    `));F.uniforms.add(new w.Matrix4PassUniform("transformProjFromView",(J,ca)=>ca.camera.projectionMatrix));F.code.add(q.glsl`vec4 projFromViewPosition(vec3 position) {
return transformProjFromView * vec4(position, 1.0);
}`);F.code.add(q.glsl`float calculateExtensionLength(float extensionLength, float lineLength) {
return extensionLength / (log2(max(1.0, 256.0 / lineLength)) * 0.2 + 1.0);
}`)};b.usesSketchLogic=function(D){return D===b.EdgeType.Sketch||D===b.EdgeType.Mixed};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/collections/Component/Material/shader/ComponentData.glsl":function(){define("exports ../../../../../../../core/compilerUtils ../../../../../../../core/floatRGBA ./DecodeSymbolColor.glsl ../../../../core/shaderLibrary/ShaderOutput ../../../../core/shaderLibrary/util/RgbaFloatEncoding.glsl ../../../../core/shaderModules/Float4DrawUniform ../../../../core/shaderModules/IntegerDrawUniform ../../../../core/shaderModules/interfaces ../../../../core/shaderModules/Texture2DDrawUniform ../../../../effects/geometry/olidUtils ../../../../lib/VertexAttribute".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B,w){function Q(C,F){const {vertex:J,fragment:ca}=C;J.include(k.RgbaFloatEncoding);J.uniforms.add(new x.Texture2DDrawUniform("componentColorTex",U=>U.componentParameters.texture.texture));C.attributes.add(w.VertexAttribute.COMPONENTINDEX,"float");C.varyings.add("vExternalColorMixMode","mediump float");C.varyings.add("vExternalColor","vec4");(F=F.output===v.ShaderOutput.ObjectAndLayerIdColor)&&C.varyings.add("vObjectAndLayerIdColor","vec4");C.include(z.DecodeSymbolColor);
J.constants.add("stride","float",B.olidEnabled()?3:2);J.code.add(q.glsl`vec2 getComponentTextureCoordinates(float componentIndex, float typeOffset) {
float index = componentIndex * stride + typeOffset;
float texSize = float(textureSize(componentColorTex, 0).x);
float coordX = mod(index, texSize);
float coordY = floor(index / texSize);
return vec2(coordX, coordY) + 0.5;
}`);J.code.add(q.glsl`
  vec4 _readComponentColor() {
    vec2 textureCoordinates = getComponentTextureCoordinates(componentIndex, 0.0);
    return texelFetch(componentColorTex, ivec2(textureCoordinates), 0);
   }

  float readElevationOffset() {
    vec2 textureCoordinates = getComponentTextureCoordinates(componentIndex, 1.0);
    vec4 encodedElevation = texelFetch(componentColorTex, ivec2(textureCoordinates), 0);
    return uninterpolatedRGBAToFloat(encodedElevation) * ${q.glsl.float(D)};
  }

  ${F?q.glsl`
          void forwardObjectAndLayerIdColor() {
            vec2 textureCoordinates = getComponentTextureCoordinates(componentIndex, 2.0);
            vObjectAndLayerIdColor = texelFetch(componentColorTex, ivec2(textureCoordinates), 0);
          }`:q.glsl`void forwardObjectAndLayerIdColor() {}`}

  vec4 forwardExternalColor(out bool castShadows) {
    vec4 componentColor = _readComponentColor() * 255.0;

    float shadowFlag = mod(componentColor.b * 255.0, 2.0);
    componentColor.b -= shadowFlag;
    castShadows = shadowFlag >= 1.0;

    int decodedColorMixMode;
    vExternalColor = decodeSymbolColor(componentColor, decodedColorMixMode) * 0.003921568627451; // = 1/255;
    vExternalColorMixMode = float(decodedColorMixMode) + 0.5; // add 0.5 to avoid interpolation artifacts

    return vExternalColor;
  }
`);ca.code.add(q.glsl`
  void readExternalColor(out vec4 externalColor, out int externalColorMixMode) {
    externalColor = vExternalColor;
    externalColorMixMode = int(vExternalColorMixMode);
  }

  void outputObjectAndLayerIdColor() {
     ${F?q.glsl`fragColor = vObjectAndLayerIdColor;`:""}
  }
`)}function L(C,F){const {vertex:J,fragment:ca}=C;J.uniforms.add(new m.Float4DrawUniform("externalColor",U=>U.componentParameters.externalColor));ca.uniforms.add(new r.IntegerDrawUniform("externalColorMixMode",U=>U.componentParameters.externalColorMixMode));C.varyings.add("vExternalColor","vec4");J.code.add(q.glsl`float readElevationOffset() {
return 0.0;
}
void forwardObjectAndLayerIdColor() {}
vec4 forwardExternalColor(out bool castShadows) {
vExternalColor = externalColor;
castShadows = true;
return externalColor;
}`);ca.code.add(q.glsl`
  void readExternalColor(out vec4 color, out int colorMixMode) {
    color = vExternalColor;
    colorMixMode = externalColorMixMode;
  }

  void outputObjectAndLayerIdColor() {
    ${F.output===v.ShaderOutput.ObjectAndLayerIdColor?q.glsl`fragColor = vec4(0, 0, 0, 0);`:""}
 }
`)}b.ComponentDataType=void 0;(function(C){C[C.Uniform=0]="Uniform";C[C.Varying=1]="Varying";C[C.COUNT=2]="COUNT"})(b.ComponentDataType||(b.ComponentDataType={}));const D=2**32/1E4;b.ComponentData=function(C,F){switch(F.componentData){case b.ComponentDataType.Varying:return Q(C,F);case b.ComponentDataType.Uniform:return L(C,F);case b.ComponentDataType.COUNT:break;default:h.neverReached(F.componentData)}};b.encodeElevationOffset=function(C,F){t.packFloatRGBA(C/D*.5+.5,F)};b.maxElevationOffset=D;Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(b,h){b.neverReached=function(t){};b.neverReachedSilent=function(t){};b.typeCast=function(t){return()=>t};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/floatRGBA":function(){define(["exports","./mathUtils"],function(b,h){function t(m,r=0){let q=0;for(let x=0;4>x;x++)q+=m[r+x]*v[x];return q}const z=[1,256,65536,16777216],v=[1/256,1/65536,1/16777216,1/4294967296],
k=t(new Uint8ClampedArray([255,255,255,255]));b.packFloatRGBA=function(m,r,q=0){m=h.clamp(m,0,k);for(let w=0;4>w;w++){var x=Math,B=m*z[w];r[q+w]=x.floor.call(x,256*(B-Math.floor(B)))}};b.unpackFloatRGBA=t;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/collections/Component/Material/shader/DecodeSymbolColor.glsl":function(){define(["exports","../../../../../layers/support/symbolColorUtils","../../../../core/shaderModules/interfaces"],function(b,h,t){b.DecodeSymbolColor=
function(z){z.vertex.code.add(t.glsl`
    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {
      float symbolAlpha = 0.0;

      const float maxTint = 85.0;
      const float maxReplace = 170.0;
      const float scaleAlpha = 3.0;

      if (symbolColor.a > maxReplace) {
        colorMixMode = ${t.glsl.int(h.ColorMixModeEnum.Multiply)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);
      } else if (symbolColor.a > maxTint) {
        colorMixMode = ${t.glsl.int(h.ColorMixModeEnum.Replace)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);
      } else if (symbolColor.a > 0.0) {
        colorMixMode = ${t.glsl.int(h.ColorMixModeEnum.Tint)};
        symbolAlpha = scaleAlpha * symbolColor.a;
      } else {
        colorMixMode = ${t.glsl.int(h.ColorMixModeEnum.Multiply)};
        symbolAlpha = 0.0;
      }

      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);
    }
  `)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/support/symbolColorUtils":function(){define(["exports","../../../../core/mathUtils"],function(b,h){b.ColorMixModeEnum=void 0;(function(t){t[t.Multiply=1]="Multiply";t[t.Ignore=2]="Ignore";t[t.Replace=3]="Replace";t[t.Tint=4]="Tint"})(b.ColorMixModeEnum||(b.ColorMixModeEnum={}));b.encodeSymbolColor=function(t,z,v){if(null==t||z===b.ColorMixModeEnum.Ignore)v[0]=255,v[1]=255,v[2]=255,v[3]=255;else{var k=h.clamp(Math.round(85*
t[3]),0,85);z=0===k||z===b.ColorMixModeEnum.Tint?0:z===b.ColorMixModeEnum.Replace?85:170;v[0]=h.clamp(Math.round(255*t[0]),0,255);v[1]=h.clamp(Math.round(255*t[1]),0,255);v[2]=h.clamp(Math.round(255*t[2]),0,255);v[3]=k+z}};b.parseColorMixMode=function(t){switch(t){case "multiply":return b.ColorMixModeEnum.Multiply;case "ignore":return b.ColorMixModeEnum.Ignore;case "replace":return b.ColorMixModeEnum.Replace;case "tint":return b.ColorMixModeEnum.Tint;default:return b.ColorMixModeEnum.Multiply}};Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/interfaces":function(){define(["exports"],function(b){function h(v,...k){let m="";for(let r=0;r<k.length;r++)m+=v[r]+k[r];return m+=v[v.length-1]}class t{}const z=t;(function(v){v.int=function(k){return Math.round(k).toString()};v.float=function(k){return k.toPrecision(8)}})(h||={});b.If=function(v,k,m=""){return v?k:m};b.NoParameters=z;b.glsl=h;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput":function(){define(["exports"],
function(b){function h(w){return w===b.ShaderOutput.Highlight||w===b.ShaderOutput.ObjectAndLayerIdColor}function t(w){return w===b.ShaderOutput.Color}function z(w){return t(w)||B(w)}function v(w){return t(w)||w===b.ShaderOutput.Highlight}function k(w){return t(w)||h(w)}function m(w){return z(w)||h(w)}function r(w){return k(w)||x(w)}function q(w){return m(w)||x(w)}function x(w){return w===b.ShaderOutput.Depth}function B(w){return w===b.ShaderOutput.ColorEmission}b.ShaderOutput=void 0;(function(w){w[w.Color=
0]="Color";w[w.ColorEmission=1]="ColorEmission";w[w.Depth=2]="Depth";w[w.Normal=3]="Normal";w[w.Shadow=4]="Shadow";w[w.ShadowHighlight=5]="ShadowHighlight";w[w.ShadowExcludeHighlight=6]="ShadowExcludeHighlight";w[w.ViewshedShadow=7]="ViewshedShadow";w[w.Highlight=8]="Highlight";w[w.ObjectAndLayerIdColor=9]="ObjectAndLayerIdColor";w[w.COUNT=10]="COUNT"})(b.ShaderOutput||(b.ShaderOutput={}));b.is2DGeometryOutput=function(w){return t(w)||h(w)};b.is3DGeometryOutput=function(w){return r(w)||w===b.ShaderOutput.Normal};
b.is3DGeometryOutputMRT=function(w){return q(w)||w===b.ShaderOutput.Normal};b.isColor=t;b.isColorEmission=B;b.isColorEmissionHighlightOIDOrDepth=q;b.isColorEmissionHighlightOrOID=m;b.isColorHighlightOIDOrDepth=r;b.isColorHighlightOrDepth=function(w){return v(w)||x(w)};b.isColorHighlightOrOID=k;b.isColorOrColorEmission=z;b.isColorOrHighlight=v;b.isColorOrOID=function(w){return t(w)||w===b.ShaderOutput.ObjectAndLayerIdColor};b.isDepth=x;b.isHighlightOrOID=h;b.isShadowRelatedOutput=function(w){return w===
b.ShaderOutput.Shadow||w===b.ShaderOutput.ShadowHighlight||w===b.ShaderOutput.ShadowExcludeHighlight||w===b.ShaderOutput.ViewshedShadow};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl":function(){define(["exports","../../shaderModules/interfaces"],function(b,h){b.RgbaFloatEncoding=function(t){t.code.add(h.glsl`const float MAX_RGBA_FLOAT =
255.0 / 256.0 +
255.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 / 256.0;
const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);
vec4 float2rgba(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);
vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);
const float toU8AsFloat = 1.0 / 255.0;
return fixedPointU8 * toU8AsFloat;
}`);t.code.add(h.glsl`const vec4 RGBA_2_FLOAT_FACTORS = vec4(
255.0 / (256.0),
255.0 / (256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0 * 256.0)
);
float rgba2float(vec4 rgba) {
return dot(rgba, RGBA_2_FLOAT_FACTORS);
}`);t.code.add(h.glsl`const vec4 uninterpolatedRGBAToFloatFactors = vec4(
1.0 / 256.0,
1.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0 / 256.0
);
float uninterpolatedRGBAToFloat(vec4 rgba) {
return (dot(round(rgba * 255.0), uninterpolatedRGBAToFloatFactors) - 0.5) * 2.0;
}`)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/Float4DrawUniform":function(){define(["exports","./Uniform","../shaderTechnique/BindType"],function(b,h,t){class z extends h.Uniform{constructor(v,k){super(v,"vec4",t.BindType.Draw,(m,r,q)=>m.setUniform4fv(v,k(r,q)))}}b.Float4DrawUniform=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/Uniform":function(){define(["exports",
"../shaderTechnique/BindType"],function(b,h){class t{constructor(z,v,k,m,r=null){this.name=z;this.type=v;this.arraySize=r;this.bind={[h.BindType.Pass]:null,[h.BindType.Draw]:null};if(m)switch(k){case h.BindType.Pass:this.bind[h.BindType.Pass]=m;break;case h.BindType.Draw:this.bind[h.BindType.Draw]=m}}equals(z){return this.type===z.type&&this.name===z.name&&this.arraySize===z.arraySize}}b.Uniform=t;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderTechnique/BindType":function(){define(["exports"],
function(b){b.BindType=void 0;var h=b.BindType||(b.BindType={});h[h.Pass=0]="Pass";h[h.Draw=1]="Draw";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/IntegerDrawUniform":function(){define(["exports","./Uniform","../shaderTechnique/BindType"],function(b,h,t){class z extends h.Uniform{constructor(v,k){super(v,"int",t.BindType.Draw,(m,r,q)=>m.setUniform1i(v,k(r,q)))}}b.IntegerDrawUniform=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform":function(){define(["exports","./Uniform","../shaderTechnique/BindType"],function(b,h,t){class z extends h.Uniform{constructor(v,k){super(v,"sampler2D",t.BindType.Draw,(m,r,q)=>m.bindTexture(v,k(r,q)))}}b.Texture2DDrawUniform=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/effects/geometry/olidUtils":function(){define(["exports","../../../../../core/has"],function(b,h){b.olidEnabled=function(){return!!h("enable-feature:objectAndLayerId-rendering")};
Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl":function(){define(["exports","../../../../../../core/compilerUtils","../../shaderModules/interfaces","../../../lib/VertexAttribute"],function(b,h,t,z){b.NormalType=void 0;(function(v){v[v.Attribute=0]="Attribute";v[v.Compressed=1]="Compressed";v[v.ScreenDerivative=2]="ScreenDerivative";v[v.COUNT=3]="COUNT"})(b.NormalType||(b.NormalType={}));b.NormalAttribute=
function(v,k){switch(k.normalType){case b.NormalType.Compressed:v.attributes.add(z.VertexAttribute.NORMALCOMPRESSED,"vec2");v.vertex.code.add(t.glsl`vec3 decompressNormal(vec2 normal) {
float z = 1.0 - abs(normal.x) - abs(normal.y);
return vec3(normal + sign(normal) * min(z, 0.0), z);
}
vec3 normalModel() {
return decompressNormal(normalCompressed);
}`);break;case b.NormalType.Attribute:v.attributes.add(z.VertexAttribute.NORMAL,"vec3");v.vertex.code.add(t.glsl`vec3 normalModel() {
return normal;
}`);break;case b.NormalType.ScreenDerivative:v.fragment.code.add(t.glsl`vec3 screenDerivativeNormal(vec3 positionView) {
return normalize(cross(dFdx(positionView), dFdy(positionView)));
}`);break;default:h.neverReached(k.normalType);case b.NormalType.COUNT:}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderLibrary/util/DoublePrecision.glsl":function(){define(["exports","../../shaderModules/interfaces"],function(b,h){b.DoublePrecision=function({code:t},z){z.doublePrecisionRequiresObfuscation?t.add(h.glsl`vec3 dpPlusFrc(vec3 a, vec3 b) {
return mix(a, a + b, vec3(notEqual(b, vec3(0))));
}
vec3 dpMinusFrc(vec3 a, vec3 b) {
return mix(vec3(0), a - b, vec3(notEqual(a, b)));
}
vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = dpPlusFrc(hiA, hiB);
vec3 e = dpMinusFrc(t1, hiA);
vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;
return t1 + t2;
}`):t.add(h.glsl`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = hiA + hiB;
vec3 e = t1 - hiA;
vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;
return t1 + t2;
}`)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform":function(){define(["exports","./Uniform","../shaderTechnique/BindType"],function(b,h,t){class z extends h.Uniform{constructor(v,k){super(v,"vec3",t.BindType.Draw,(m,r,q,x)=>m.setUniform3fv(v,k(r,q,x)))}}b.Float3DrawUniform=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/Float3PassUniform":function(){define(["exports",
"./Uniform","../shaderTechnique/BindType"],function(b,h,t){class z extends h.Uniform{constructor(v,k){super(v,"vec3",t.BindType.Pass,(m,r,q)=>m.setUniform3fv(v,k(r,q)))}}b.Float3PassUniform=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/FloatPassUniform":function(){define(["exports","./Uniform","../shaderTechnique/BindType"],function(b,h,t){class z extends h.Uniform{constructor(v,k){super(v,"float",t.BindType.Pass,(m,r,q)=>m.setUniform1f(v,
k(r,q)))}}b.FloatPassUniform=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/Matrix3DrawUniform":function(){define(["exports","./Uniform","../shaderTechnique/BindType"],function(b,h,t){class z extends h.Uniform{constructor(v,k){super(v,"mat3",t.BindType.Draw,(m,r,q)=>m.setUniformMatrix3fv(v,k(r,q)))}}b.Matrix3DrawUniform=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/Matrix3PassUniform":function(){define(["exports",
"./Uniform","../shaderTechnique/BindType"],function(b,h,t){class z extends h.Uniform{constructor(v,k){super(v,"mat3",t.BindType.Pass,(m,r,q)=>m.setUniformMatrix3fv(v,k(r,q)))}}b.Matrix3PassUniform=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform":function(){define(["exports","./Uniform","../shaderTechnique/BindType"],function(b,h,t){class z extends h.Uniform{constructor(v,k){super(v,"mat4",t.BindType.Pass,(m,r,q)=>
m.setUniformMatrix4fv(v,k(r,q)))}}b.Matrix4PassUniform=z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/orientedBoundingBox":function(){define("exports ../../../core/libs/gl-matrix-2/math/mat3 ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../core/libs/gl-matrix-2/math/quat ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../chunks/vec42 ../../../core/libs/gl-matrix-2/factories/vec4f64 ../../../geometry/ellipsoidUtils ../../../geometry/spatialReferenceEllipsoidUtils ../../../geometry/projection/computeTranslationToOriginAndRotation ../../../geometry/projection/projectBuffer ../../../geometry/projection/projectors ../../../geometry/support/plane ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/vectorStacks ../../ViewingMode ./dito ../webgl-engine/lib/Attribute".split(" "),
function(b,h,t,z,v,k,m,r,q,x,B,w,Q,L,D,C,F,J,ca,U,ba){function V(e,p=new fa){U.computeOBB(e,p);return p}function G(e,p,a,c,d){var f=p.getQuaternion(H);f=h.fromQuat(pa,f);p=p.getHalfSize(ma);for(let y=0;8>y;++y){for(var n=0;3>n;++n)aa[n]=p[n]*(0!==(y&1<<n)?-1:1);for(n=0;3>n;++n){let A=a[n];for(let E=0;3>E;++E)A+=aa[E]*f[3*E+n];u[3*y+n]=A}}L.projectBuffer(u,e,0,u,c,0,8);V(N,d)}function R(e,p,a,c,d=w.getSphericalPCPF(a),f=D.getProjector(a,d)){e.getCorners(O);e.getCenter(aa);aa[2]+=c;Q.computeTranslationToOriginAndRotation(a,
aa,M,d);p.setCenter(M[12],M[13],M[14]);a=2*Math.sqrt(1+M[0]+M[5]+M[10]);ha[0]=(M[6]-M[9])/a;ha[1]=(M[8]-M[2])/a;ha[2]=(M[1]-M[4])/a;ha[3]=.25*a;e=e.getQuaternion(H);p.quaternion=v.multiply(ha,ha,e);v.conjugate(ha,ha);m.set(X,0,0,0);e=p.getCenter(la);for(const n of O)n[2]+=c,f(n,0,n,0),m.sub(I,n,e),m.transformQuat(I,I,ha),m.abs(I,I),m.max(X,X,I);p.halfSize=X}function Z(e,p,a,c,d=w.getSphericalPCPF(a)){const f=B.getReferenceEllipsoid(a),n=1+Math.max(0,c)/(f.radius+e.centerZ);e.getCenter(aa);aa[2]+=
c;L.projectBuffer(aa,a,0,aa,d,0);p.center=aa;a=e.getQuaternion(H);p.quaternion=a;v.conjugate(ha,a);m.set(I,0,0,1);m.transformQuat(I,I,ha);e=e.getHalfSize(ma);m.set(I,e[0]*Math.abs(I[0]),e[1]*Math.abs(I[1]),e[2]*Math.abs(I[2]));m.scale(I,I,f.inverseFlattening);m.add(I,e,I);p.halfSize=m.scale(I,I,n)}class fa{constructor(e=r.ZEROS,p=g,a=k.IDENTITY){this._data=[e[0],e[1],e[2],p[0],p[1],p[2],a[0],a[1],a[2],a[3]]}clone(){const e=new fa;e._data=this._data.slice();return e}invalidate(){this._data[3]=-1}get isValid(){return 0<=
this._data[3]}static fromData(e){const p=new fa;p._data=e.slice();return p}static fromJSON(e){return new fa(e.center,e.halfSize,e.quaternion)}copy(e){this._data=e.data.slice()}get center(){return m.set(J.sv3d.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(e){e[0]=this._data[0];e[1]=this._data[1];e[2]=this._data[2];return e}set center(e){this._data[0]=e[0];this._data[1]=e[1];this._data[2]=
e[2]}setCenter(e,p,a){this._data[0]=e;this._data[1]=p;this._data[2]=a}get halfSize(){return m.set(J.sv3d.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(e){e[0]=this._data[3];e[1]=this._data[4];e[2]=this._data[5];return e}set halfSize(e){this._data[3]=e[0];this._data[4]=e[1];this._data[5]=e[2]}get quaternion(){return v.set(J.sq4d.get(),this._data[6],this._data[7],this._data[8],
this._data[9])}getQuaternion(e){e[0]=this._data[6];e[1]=this._data[7];e[2]=this._data[8];e[3]=this._data[9];return e}set quaternion(e){this._data[6]=e[0];this._data[7]=e[1];this._data[8]=e[2];this._data[9]=e[3]}get data(){return this._data}getCorners(e){const p=ha,a=this._data;p[0]=a[6];p[1]=a[7];p[2]=a[8];p[3]=a[9];for(let c=0;8>c;++c){const d=e[c];d[0]=(c&1?-1:1)*a[3];d[1]=(c&2?-1:1)*a[4];d[2]=(c&4?-1:1)*a[5];m.transformQuat(d,d,p);d[0]+=a[0];d[1]+=a[1];d[2]+=a[2]}}doesIntersectFrustumConservativeApproximation(e){return 0>=
this.intersectPlane(e[0])&&0>=this.intersectPlane(e[1])&&0>=this.intersectPlane(e[2])&&0>=this.intersectPlane(e[3])&&0>=this.intersectPlane(e[4])&&0>=this.intersectPlane(e[5])}get radius(){const e=this._data[3],p=this._data[4],a=this._data[5];return Math.sqrt(e*e+p*p+a*a)}intersectSphere(e){S[0]=this._data[0]-e[0];S[1]=this._data[1]-e[1];S[2]=this._data[2]-e[2];const p=this.getQuaternion(H);v.conjugate(ha,p);m.transformQuat(S,S,ha);m.abs(S,S);da[0]=Math.min(S[0],this._data[3]);da[1]=Math.min(S[1],
this._data[4]);da[2]=Math.min(S[2],this._data[5]);return m.sqrDist(da,S)<e[3]*e[3]}intersectSphereWithMBS(e,p=this.radius){const a=this._data;S[0]=a[0]-e[0];S[1]=a[1]-e[1];S[2]=a[2]-e[2];e=e[3];const c=m.sqrLen(S);p=e+p;if(c>p*p)return!1;ha[0]=-a[6];ha[1]=-a[7];ha[2]=-a[8];ha[3]=a[9];m.transformQuat(S,S,ha);m.abs(S,S);da[0]=Math.min(S[0],a[3]);da[1]=Math.min(S[1],a[4]);da[2]=Math.min(S[2],a[5]);return m.sqrDist(da,S)<e*e}intersectPlane(e){const p=e[0]*this._data[0]+e[1]*this._data[1]+e[2]*this._data[2]+
e[3];e=this.projectedRadius(C.getNormal(e));return p>e?1:p<-e?-1:0}intersectRay(e,p,a=0){var c=this._data,d=ha;d[0]=-c[6];d[1]=-c[7];d[2]=-c[8];d[3]=c[9];S[0]=e[0]-c[0];S[1]=e[1]-c[1];S[2]=e[2]-c[2];e=m.transformQuat(S,S,ha);p=m.transformQuat(da,p,ha);c=-Infinity;d=Infinity;const f=this.getHalfSize(ma);for(let y=0;3>y;y++){var n=e[y];const A=p[y],E=f[y]+a;if(1E-6<Math.abs(A)){const W=(E-n)/A;n=(-E-n)/A;c=Math.max(c,Math.min(W,n));d=Math.min(d,Math.max(W,n))}else if(n>E||n<-E)return!1}return c<=d}projectedArea(e,
p,a,c){var d=this.getQuaternion(H);v.conjugate(ha,d);S[0]=e[0]-this._data[0];S[1]=e[1]-this._data[1];S[2]=e[2]-this._data[2];m.transformQuat(S,S,ha);var f=this.getHalfSize(ma),n=S[0]<-f[0]?-1:S[0]>f[0]?1:0,y=S[1]<-f[1]?-1:S[1]>f[1]?1:0;const A=S[2]<-f[2]?-1:S[2]>f[2]?1:0;e=Math.abs(n)+Math.abs(y)+Math.abs(A);if(0===e)return Infinity;e=1===e?4:6;n=6*(n+3*y+9*A+13);h.fromQuat(pa,d);h.scale(pa,pa,f);d=this.getCenter(ja);for(f=0;f<e;f++)y=l[n+f],m.set(S,((y&1)<<1)-1,(y&2)-1,((y&4)>>1)-1),m.transformMat3(S,
S,pa),m.add(na,d,S),na[3]=1,q.transformMat4(na,na,p),y=1/Math.max(1E-6,na[3]),ia[2*f]=na[0]*y,ia[2*f+1]=na[1]*y;p=2*e-2;e=ia[0]*(ia[3]-ia[p+1])+ia[p]*(ia[1]-ia[p-1]);for(d=2;d<p;d+=2)e+=ia[d]*(ia[d+3]-ia[d-1]);return Math.abs(e)*a*c*.125}projectedRadius(e){const p=this.getQuaternion(H);v.conjugate(ha,p);m.transformQuat(S,e,ha);return Math.abs(S[0]*this._data[3])+Math.abs(S[1]*this._data[4])+Math.abs(S[2]*this._data[5])}minimumDistancePlane(e){const p=e[0]*this._data[0]+e[1]*this._data[1]+e[2]*this._data[2]+
e[3];e=this.projectedRadius(C.getNormal(e));return p-e}maximumDistancePlane(e){const p=e[0]*this._data[0]+e[1]*this._data[1]+e[2]*this._data[2]+e[3];e=this.projectedRadius(C.getNormal(e));return p+e}toAaBoundingBox(e){var p=this.getQuaternion(H),a=h.fromQuat(pa,p);p=this._data[3]*Math.abs(a[0])+this._data[4]*Math.abs(a[3])+this._data[5]*Math.abs(a[6]);const c=this._data[3]*Math.abs(a[1])+this._data[4]*Math.abs(a[4])+this._data[5]*Math.abs(a[7]);a=this._data[3]*Math.abs(a[2])+this._data[4]*Math.abs(a[5])+
this._data[5]*Math.abs(a[8]);e[0]=this._data[0]-p;e[1]=this._data[1]-c;e[2]=this._data[2]-a;e[3]=this._data[0]+p;e[4]=this._data[1]+c;e[5]=this._data[2]+a}transform(e,p,a,c=0,d=w.getSphericalPCPF(a),f=w.getSphericalPCPF(p),n=D.getProjector(p,f)){a===d?p.isGeographic?Z(this,e,p,c,f):R(this,e,p,c,f,n):p.isWGS84&&(a.isWebMercator||F.isPlateCarree(a))?(this.getCenter(ja),ja[2]+=c,c=w.getSphericalPCPF(a),L.projectBuffer(ja,p,0,ja,c,0),G(c,this,ja,a,e)):p.isWebMercator&&F.isPlateCarree(a)?(this.getCenter(ja),
ja[2]+=c,G(p,this,ja,a,e)):(d=this.getCenter(ja),d[2]+=c,L.projectBuffer(d,p,0,d,a,0),e.center=d,this!==e&&(e.quaternion=this.getQuaternion(H),e.halfSize=this.getHalfSize(ma)))}}const ha=k.create(),H=k.create(),K=k.create(),S=r.create(),da=r.create(),na=x.create(),ia=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],l=(()=>{const e=new Int8Array(162);let p=0;const a=c=>{for(let d=0;d<c.length;d++)e[p+d]=c[d];p+=6};a([6,2,3,1,5,4]);a([0,2,3,1,5,4]);a([0,2,3,7,5,4]);a([0,1,3,2,6,4]);a([0,1,3,2,0,0]);a([0,1,5,
7,3,2]);a([0,1,3,7,6,4]);a([0,1,3,7,6,2]);a([0,1,5,7,6,2]);a([0,1,5,4,6,2]);a([0,1,5,4,0,0]);a([0,1,3,7,5,4]);a([0,2,6,4,0,0]);a([0,0,0,0,0,0]);a([1,3,7,5,0,0]);a([2,3,7,6,4,0]);a([2,3,7,6,0,0]);a([2,3,1,5,7,6]);a([0,1,5,7,6,2]);a([0,1,5,7,6,4]);a([0,1,3,7,6,4]);a([4,5,7,6,2,0]);a([4,5,7,6,0,0]);a([4,5,1,3,7,6]);a([0,2,3,7,5,4]);a([6,2,3,7,5,4]);a([6,2,3,1,5,4]);return e})(),u=Array(24),N=new ba.Vertices(u,3),aa=r.create(),ja=r.create(),la=r.create(),ma=r.create(),pa=t.create(),M=z.create(),O=[[0,
0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],I=r.create(),X=r.create(),ea=r.create(),g=r.freeze(-1,-1,-1);b.Obb=fa;b.compute=V;b.computeOffsetObb=function(e,p,a,c,d){var f=e.getQuaternion(H);d.quaternion=f;v.conjugate(ha,f);var n=e.getCenter(ja);f=e.getHalfSize(ma);if(c===ca.ViewingMode.Global){m.transformQuat(I,n,ha);m.abs(X,I);m.min(ea,X,f);m.sub(ea,X,ea);c=m.length(ea);m.add(ea,X,f);const y=m.length(ea);c<a?(d.center=n,m.set(I,a,a,a),d.halfSize=m.add(I,f,I)):(p=0<y?1+p/y:1,n=0<
c?1+a/c:1,a=(n+p)/2,p=(n-p)/2,m.scale(ea,X,p),d.halfSize=m.scaleAndAdd(ea,ea,f,a),m.scale(ea,X,a),m.scaleAndAdd(ea,ea,f,p),m.sign(I,I),m.multiply(I,ea,I),e=e.getQuaternion(K),d.center=m.transformQuat(I,I,e))}else d.center=m.scaleAndAdd(I,n,r.UNIT_Z,(a+p)/2),e=m.transformQuat(I,r.UNIT_Z,ha),m.abs(e,e),d.halfSize=m.scaleAndAdd(X,f,e,(a-p)/2);return d};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ../../../../chunks/vec32 ../../../../chunks/vec42".split(" "),
function(b,h,t,z,v,k,m){function r(M){M[0]=0;M[1]=0;M[2]=0;M[3]=1;return M}function q(M,O,I){I*=.5;const X=Math.sin(I);M[0]=X*O[0];M[1]=X*O[1];M[2]=X*O[2];M[3]=Math.cos(I);return M}function x(M,O){const I=2*Math.acos(O[3]),X=Math.sin(I/2);X>v.getEpsilon()?(M[0]=O[0]/X,M[1]=O[1]/X,M[2]=O[2]/X):(M[0]=1,M[1]=0,M[2]=0);return I}function B(M,O,I){const X=O[0],ea=O[1],g=O[2];O=O[3];const e=I[0],p=I[1],a=I[2];I=I[3];M[0]=X*I+O*e+ea*a-g*p;M[1]=ea*I+O*p+g*e-X*a;M[2]=g*I+O*a+X*p-ea*e;M[3]=O*I-X*e-ea*p-g*a;
return M}function w(M,O,I){I*=.5;const X=O[0],ea=O[1],g=O[2];O=O[3];const e=Math.sin(I);I=Math.cos(I);M[0]=X*I+O*e;M[1]=ea*I+g*e;M[2]=g*I-ea*e;M[3]=O*I-X*e;return M}function Q(M,O,I){I*=.5;const X=O[0],ea=O[1],g=O[2];O=O[3];const e=Math.sin(I);I=Math.cos(I);M[0]=X*I-g*e;M[1]=ea*I+O*e;M[2]=g*I+X*e;M[3]=O*I-ea*e;return M}function L(M,O,I){I*=.5;const X=O[0],ea=O[1],g=O[2];O=O[3];const e=Math.sin(I);I=Math.cos(I);M[0]=X*I+ea*e;M[1]=ea*I-X*e;M[2]=g*I+O*e;M[3]=O*I-g*e;return M}function D(M,O){const I=
O[0],X=O[1];O=O[2];M[0]=I;M[1]=X;M[2]=O;M[3]=Math.sqrt(Math.abs(1-I*I-X*X-O*O));return M}function C(M,O,I,X){const ea=O[0],g=O[1],e=O[2];O=O[3];let p=I[0],a=I[1],c=I[2];I=I[3];let d;let f;var n=ea*p+g*a+e*c+O*I;0>n&&(n=-n,p=-p,a=-a,c=-c,I=-I);1-n>v.getEpsilon()?(d=Math.acos(n),f=Math.sin(d),n=Math.sin((1-X)*d)/f,X=Math.sin(X*d)/f):n=1-X;M[0]=n*ea+X*p;M[1]=n*g+X*a;M[2]=n*e+X*c;M[3]=n*O+X*I;return M}function F(M){var O=v.RANDOM,I=O();const X=O();O=O();const ea=Math.sqrt(1-I);I=Math.sqrt(I);M[0]=ea*
Math.sin(2*Math.PI*X);M[1]=ea*Math.cos(2*Math.PI*X);M[2]=I*Math.sin(2*Math.PI*O);M[3]=I*Math.cos(2*Math.PI*O);return M}function J(M,O){const I=O[0],X=O[1],ea=O[2];O=O[3];var g=I*I+X*X+ea*ea+O*O;g=g?1/g:0;M[0]=-I*g;M[1]=-X*g;M[2]=-ea*g;M[3]=O*g;return M}function ca(M,O){M[0]=-O[0];M[1]=-O[1];M[2]=-O[2];M[3]=O[3];return M}function U(M,O){var I=O[0]+O[4]+O[8];if(0<I)I=Math.sqrt(I+1),M[3]=.5*I,I=.5/I,M[0]=(O[5]-O[7])*I,M[1]=(O[6]-O[2])*I,M[2]=(O[1]-O[3])*I;else{let X=0;O[4]>O[0]&&(X=1);O[8]>O[3*X+X]&&
(X=2);const ea=(X+1)%3,g=(X+2)%3;I=Math.sqrt(O[3*X+X]-O[3*ea+ea]-O[3*g+g]+1);M[X]=.5*I;I=.5/I;M[3]=(O[3*ea+g]-O[3*g+ea])*I;M[ea]=(O[3*ea+X]+O[3*X+ea])*I;M[g]=(O[3*g+X]+O[3*X+g])*I}return M}function ba(M,O,I,X){var ea=.5*Math.PI/180;O*=ea;I*=ea;X*=ea;ea=Math.sin(O);O=Math.cos(O);const g=Math.sin(I);I=Math.cos(I);const e=Math.sin(X);X=Math.cos(X);M[0]=ea*I*X-O*g*e;M[1]=O*g*X+ea*I*e;M[2]=O*I*e-ea*g*X;M[3]=O*I*X+ea*g*e;return M}function V(M){return"quat("+M[0]+", "+M[1]+", "+M[2]+", "+M[3]+")"}function G(M,
O,I){const X=k.dot(O,I);if(-.999999>X)return k.cross(N,aa,O),1E-6>k.len(N)&&k.cross(N,ja,O),k.normalize(N,N),q(M,N,Math.PI),M;if(.999999<X)return M[0]=0,M[1]=0,M[2]=0,M[3]=1,M;k.cross(N,O,I);M[0]=N[0];M[1]=N[1];M[2]=N[2];M[3]=1+X;return l(M,M)}function R(M,O,I,X,ea,g){C(la,O,ea,g);C(ma,I,X,g);C(M,la,ma,2*g*(1-g));return M}function Z(M,O,I,X){const ea=pa;ea[0]=I[0];ea[3]=I[1];ea[6]=I[2];ea[1]=X[0];ea[4]=X[1];ea[7]=X[2];ea[2]=-O[0];ea[5]=-O[1];ea[8]=-O[2];return l(M,U(M,ea))}const fa=m.copy,ha=m.set,
H=m.add,K=m.scale,S=m.dot,da=m.lerp,na=m.length,ia=m.squaredLength,l=m.normalize,u=m.exactEquals;m=m.equals;const N=z.create(),aa=z.fromValues(1,0,0),ja=z.fromValues(0,1,0),la=t.create(),ma=t.create(),pa=h.create();h=Object.freeze(Object.defineProperty({__proto__:null,add:H,calculateW:D,conjugate:ca,copy:fa,dot:S,equals:m,exactEquals:u,fromEuler:ba,fromMat3:U,getAxisAngle:x,identity:r,invert:J,len:na,length:na,lerp:da,mul:B,multiply:B,normalize:l,random:F,rotateX:w,rotateY:Q,rotateZ:L,rotationTo:G,
scale:K,set:ha,setAxes:Z,setAxisAngle:q,slerp:C,sqlerp:R,sqrLen:ia,squaredLength:ia,str:V},Symbol.toStringTag,{value:"Module"}));b.add=H;b.calculateW=D;b.conjugate=ca;b.copy=fa;b.dot=S;b.equals=m;b.exactEquals=u;b.fromEuler=ba;b.fromMat3=U;b.getAxisAngle=x;b.identity=r;b.invert=J;b.len=na;b.length=na;b.lerp=da;b.mul=B;b.multiply=B;b.normalize=l;b.quat=h;b.random=F;b.rotateX=w;b.rotateY=Q;b.rotateZ=L;b.rotationTo=G;b.scale=K;b.set=ha;b.setAxes=Z;b.setAxisAngle=q;b.slerp=C;b.sqlerp=R;b.sqrLen=ia;b.squaredLength=
ia;b.str=V;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports","./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(b,h,t,z){const v=new t(h.SphericalECEFSpatialReferenceLike),k=new t(h.SphericalPCPFMarsLike),m=new t(h.SphericalPCPFMoonLike);h=new t(h.WGS84ECEFSpatialReferenceLike);const r=new Map,q=k.wkt.toUpperCase(),x=m.wkt.toUpperCase();b.SphericalECEFSpatialReference=v;b.SphericalPCPFMars=
k;b.SphericalPCPFMoon=m;b.WGS84ECEFSpatialReference=h;b.getSphericalPCPF=function(B){var w=r.get(B);if(w)return w;w=v;if(B)if(B===k)w=k;else if(B===m)w=m;else{var Q=B.wkid;const L=B.latestWkid;if(null!=Q||null!=L)if(z.isWKIDFromMars(Q)||z.isWKIDFromMars(L))w=k;else{if(z.isWKIDFromMoon(Q)||z.isWKIDFromMoon(L))w=m}else if(Q=B.wkt2??B.wkt)Q=Q.toUpperCase(),Q===q?w=k:Q===x&&(w=m)}r.set(B,w);return w};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),
function(b,h,t,z,v,k,m,r){function q(H=Z){return[H[0],H[1],H[2],H[3]]}function x(H,K){return B(K[0],K[1],K[2],K[3],H)}function B(H,K,S,da,na=q()){na[0]=H;na[1]=K;na[2]=S;na[3]=da;return na}function w(H,K,S){var da=K[0]*K[0]+K[1]*K[1]+K[2]*K[2];da=1E-5<Math.abs(da-1)&&1E-12<da?1/Math.sqrt(da):1;S[0]=K[0]*da;S[1]=K[1]*da;S[2]=K[2]*da;S[3]=-(S[0]*H[0]+S[1]*H[1]+S[2]*H[2]);return S}function Q(H,K,S,da=q()){var na=S[0]-K[0],ia=S[1]-K[1],l=S[2]-K[2];S=H[0]-K[0];const u=H[1]-K[1],N=H[2]-K[2];K=ia*N-l*u;
l=l*S-na*N;na=na*u-ia*S;ia=K*K+l*l+na*na;ia=1E-5<Math.abs(ia-1)&&1E-12<ia?1/Math.sqrt(ia):1;da[0]=K*ia;da[1]=l*ia;da[2]=na*ia;da[3]=-(da[0]*H[0]+da[1]*H[1]+da[2]*H[2]);return da}function L(H,K,S,da=0,na=Math.floor(1/3*S),ia=Math.floor(2/3*S)){if(3>S)return!1;K(U,da);let l=na,u=!1;for(;l<S-1&&!u;)K(ba,l),l++,u=!t.exactEquals(U,ba);if(!u)return!1;l=Math.max(l,ia);for(u=!1;l<S&&!u;)K(V,l),l++,t.subtract(G,U,ba),t.normalize(G,G),t.subtract(R,ba,V),t.normalize(R,R),u=!t.exactEquals(U,V)&&!t.exactEquals(ba,
V)&&.99619469809>Math.abs(t.dot(G,R));if(!u)return 0===da&&1===na&&2===ia?!1:L(H,K,S,0,1,2);Q(U,ba,V,H);return!0}function D(H,K,S){H=t.scale(m.sv3d.get(),H,t.dot(H,K));t.subtract(S,K,H);return S}function C(H,K){return t.dot(H,K)+H[3]}function F(H){return H===b.IntersectResult.INTERSECTS_INSIDE_OUT||H===b.IntersectResult.INTERSECTS_OUTSIDE_IN}function J(H,K,S,da,na){var ia=t.dot(H,S);H=C(H,K);if(0===ia)return 0<=H?b.IntersectResult.INSIDE:b.IntersectResult.OUTSIDE;ia=-H/ia;da&b.IntersectFlags.CLAMP&&
(ia=h.clamp(ia,0,1));if(!(da&b.IntersectFlags.INFINITE_MIN)&&0>ia||!(da&b.IntersectFlags.INFINITE_MAX)&&1<ia)return 0<=H?b.IntersectResult.INSIDE:b.IntersectResult.OUTSIDE;t.add(na,K,t.scale(na,S,ia));return 0<=H?b.IntersectResult.INTERSECTS_INSIDE_OUT:b.IntersectResult.INTERSECTS_OUTSIDE_IN}const ca=v.exactEquals;v=v.equals;const U=z.create(),ba=z.create(),V=z.create(),G=z.create(),R=z.create();b.IntersectResult=void 0;(function(H){H[H.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT";H[H.INTERSECTS_OUTSIDE_IN=
1]="INTERSECTS_OUTSIDE_IN";H[H.INSIDE=2]="INSIDE";H[H.OUTSIDE=3]="OUTSIDE"})(b.IntersectResult||(b.IntersectResult={}));const Z=[0,0,1,0];b.IntersectFlags=void 0;(function(H){H[H.NONE=0]="NONE";H[H.CLAMP=1]="CLAMP";H[H.INFINITE_MIN=4]="INFINITE_MIN";H[H.INFINITE_MAX=8]="INFINITE_MAX"})(b.IntersectFlags||(b.IntersectFlags={}));const fa=b.IntersectFlags.INFINITE_MIN|b.IntersectFlags.INFINITE_MAX,ha=b.IntersectFlags.INFINITE_MAX;b.clip=function(H,K){const S=t.dot(H,K.ray.direction);H=-C(H,K.ray.origin);
if(0>H&&0<=S)return!1;if(-1E-6<S&&1E-6>S)return 0<H;if((0>H||0>S)&&!(0>H&&0>S))return!0;H/=S;0<S?H<K.c1&&(K.c1=H):H>K.c0&&(K.c0=H);return K.c0<=K.c1};b.clipInfinite=function(H,K){const S=t.dot(H,K.ray.direction);H=-C(H,K.ray.origin);if(-1E-6<S&&1E-6>S)return 0<H;H/=S;0<S?H<K.c1&&(K.c1=H):H>K.c0&&(K.c0=H);return K.c0<=K.c1};b.copy=x;b.create=q;b.distance=function(H,K){return Math.abs(C(H,K))};b.equals=v;b.exactEquals=ca;b.fromArray=function(H,K,S=!0){const da=K.length/3;return L(H,(na,ia)=>t.set(na,
K[3*ia],K[3*ia+1],K[3*ia+2]),S?da-1:da)};b.fromManyPoints=L;b.fromNormalAndOffset=function(H,K,S){t.copy(S,H);S[3]=K;return S};b.fromPoints=Q;b.fromPositionAndNormal=w;b.fromValues=B;b.fromVectorsAndPoint=function(H,K,S,da){t.cross(V,K,H);return w(S,V,da)};b.getNormal=function(H){return H};b.intersectLine=function(H,K,S,da){S=t.subtract(m.sv3d.get(),S,K);return F(J(H,K,S,fa,da))};b.intersectLineOrRay=J;b.intersectLineSegment=function(H,K,S){return F(J(H,K.origin,K.vector,b.IntersectFlags.NONE,S))};
b.intersectLineSegmentClamp=function(H,K,S){return F(J(H,K.origin,K.vector,b.IntersectFlags.CLAMP,S))};b.intersectRay=function(H,K,S){return null!=K?F(J(H,K.origin,K.direction,ha,S)):!1};b.isPointInside=function(H,K){return 0<=C(H,K)};b.negate=function(H,K){K[0]=-H[0];K[1]=-H[1];K[2]=-H[2];K[3]=-H[3];return K};b.projectPoint=function(H,K,S){const da=t.scale(m.sv3d.get(),H,-H[3]);K=t.subtract(m.sv3d.get(),K,da);H=D(H,K,m.sv3d.get());t.add(S,H,da);return S};b.projectPointLocal=function(H,K,S,da){var na=
m.sv3d.get(),ia=m.sv3d.get();r.tangentFrame(H,na,ia);K=t.subtract(m.sv3d.get(),S,K);na=k.projectPointSignedLength(na,K);ia=k.projectPointSignedLength(ia,K);H=k.projectPointSignedLength(H,K);return t.set(da,na,ia,H)};b.projectVector=D;b.setOffsetFromPoint=function(H,K,S){K!==H&&x(H,K);H[3]=-t.dot(H,S);return H};b.signedDistance=C;b.up=Z;b.wrap=function(H=Z[0],K=Z[1],S=Z[2],da=Z[3]){return B(H,K,S,da,m.sv4d.get())};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports",
"../../../core/mathUtils","../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64"],function(b,h,t,z){const v=z.create(),k=z.create(),m=z.create(),r=z.create(),q=z.create();b.angle=function(x,B,w){x=t.normalize(r,x);B=t.normalize(q,B);const Q=h.acosClamped(t.dot(x,B));return w&&(x=t.cross(m,x,B),0>t.dot(x,w))?-Q:Q};b.bilerp=function(x,B,w,Q,L,D){x+=(B-x)*L;return x+(w+(Q-w)*L-x)*D};b.cosCapped=function(x,B){return x>B?Math.cos(B):Math.cos(x)};b.fovx2fovy=function(x,B,w){return 2*
Math.atan(w*Math.tan(.5*x)/B)};b.fovy2fovx=function(x,B,w){return 2*Math.atan(B*Math.tan(.5*x)/w)};b.makeOrthonormal=function(x,B,w){w=w||x;const Q=t.dot(x,B);t.set(w,x[0]-Q*B[0],x[1]-Q*B[1],x[2]-Q*B[2]);t.normalize(w,w)};b.makePiecewiseLinearFunction=function(x){const B=x.length;return w=>{if(w<=x[0][0])return x[0][1];if(w>=x[B-1][0])return x[B-1][1];let Q=1;for(;w>x[Q][0];)Q++;const L=x[Q][0];w=(L-w)/(L-x[Q-1][0]);return w*x[Q-1][1]+(1-w)*x[Q][1]}};b.maxScale=function(x){return Math.sqrt(Math.max(x[0]*
x[0]+x[4]*x[4]+x[8]*x[8],x[1]*x[1]+x[5]*x[5]+x[9]*x[9],x[2]*x[2]+x[6]*x[6]+x[10]*x[10]))};b.midpoint3d=function(x,B){t.set(B,0,0,0);if(0<x.length){for(let w=0;w<x.length;++w)t.add(B,B,x[w]);t.scale(B,B,1/x.length)}};b.planeFromPoints=function(x,B,w,Q){t.subtract(v,B,x);t.subtract(k,w,x);t.cross(Q,v,k);t.normalize(Q,Q);Q[3]=-t.dot(x,Q)};b.scaleFromMatrix=function(x,B){t.set(x,Math.sqrt(B[0]*B[0]+B[4]*B[4]+B[8]*B[8]),Math.sqrt(B[1]*B[1]+B[5]*B[5]+B[9]*B[9]),Math.sqrt(B[2]*B[2]+B[6]*B[6]+B[10]*B[10]));
return x};b.slerp=function(x,B,w,Q=z.create()){const L=t.length(x);var D=t.length(B),C=t.dot(x,B)/(L*D);if(.9999999999999999>C){C=Math.acos(C);const F=((1-w)*L+w*D)/Math.sin(C);D=F/D*Math.sin(w*C);t.scale(r,x,F/L*Math.sin((1-w)*C));t.scale(q,B,D);return t.add(Q,r,q)}return t.lerp(Q,x,B,w)};b.slerpTangent=function(x,B,w,Q=z.create(),L=z.create()){const D=t.length(x),C=t.length(B);var F=t.dot(x,B)/(D*C);if(.9999999999999999>F){F=Math.acos(F);const J=Math.sin(F),ca=Math.sin(w*F),U=Math.sin((1-w)*F),
ba=(1-w)*D+w*C,V=ba/J,G=V/C*ca;t.scale(r,x,V/D*U);t.scale(q,B,G);t.add(Q,r,q);t.scale(r,x,1/D*(-Math.cos((1-w)*F)*F*ba+U*(-D+C)));t.scale(q,B,1/C*(Math.cos(w*F)*F*ba+ca*(-D+C)));t.add(L,r,q);t.scale(L,L,1/J);return L}t.lerp(Q,x,B,w);t.subtract(L,B,x);t.normalize(L,L);return L};b.tangentFrame=function(x,B,w){Math.abs(x[0])>Math.abs(x[1])?t.set(B,0,1,0):t.set(B,1,0,0);t.cross(w,x,B);t.cross(B,w,x);t.normalize(w,w);t.normalize(B,B)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],
function(b){b.ViewingMode=void 0;(function(h){h[h.Global=1]="Global";h[h.Local=2]="Local"})(b.ViewingMode||(b.ViewingMode={}));b.stringFromViewingMode=function(h){return h===b.ViewingMode.Global?"global":"local"};b.viewingModeFromString=function(h){return"global"===h?b.ViewingMode.Global:b.ViewingMode.Local};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/dito":function(){define("exports ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../core/libs/gl-matrix-2/factories/vec2f64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../webgl-engine/lib/Attribute".split(" "),
function(b,h,t,z,v,k,m){function r(d,f,n,y,A,E){if(!(1E-6>f[0]*f[0]+f[1]*f[1]+f[2]*f[2]))for(F(na,n,f),F(ia,y,f),F(l,A,f),q(d,f,da),N[1]=da[0],u[1]=da[1],aa[1]=u[1]-N[1],n=[n,y,A],y=[na,ia,l],A=0;3>A;++A){q(d,n[A],da);N[0]=da[0];u[0]=da[1];q(d,y[A],da);N[2]=da[0];u[2]=da[1];aa[0]=u[0]-N[0];aa[2]=u[2]-N[2];const W=w(aa);W<E.quality&&(C(E.b0,n[A]),C(E.b1,f),C(E.b2,y[A]),E.quality=W)}}function q(d,f,n){const {data:y,size:A}=d;n[0]=Number.POSITIVE_INFINITY;n[1]=Number.NEGATIVE_INFINITY;for(d=0;d<y.length;d+=
A){const E=y[d]*f[0]+y[d+1]*f[1]+y[d+2]*f[2];n[0]=Math.min(n[0],E);n[1]=Math.max(n[1],E)}}function x(d,f,n,y,A,E){q(d,f,da);A[0]=da[0];E[0]=da[1];q(d,n,da);A[1]=da[0];E[1]=da[1];q(d,y,da);A[2]=da[0];E[2]=da[1]}function B(d,f,n,y,A,E,W){e[0]=d[0];e[1]=d[1];e[2]=d[2];e[3]=f[0];e[4]=f[1];e[5]=f[2];e[6]=n[0];e[7]=n[1];e[8]=n[2];var T=p,P=e,Y=P[0]+P[4]+P[8];if(0<Y)Y=Math.sqrt(Y+1),T[3]=.5*Y,Y=.5/Y,T[0]=(P[5]-P[7])*Y,T[1]=(P[6]-P[2])*Y,T[2]=(P[1]-P[3])*Y;else{Y=0;P[4]>P[0]&&(Y=1);P[8]>P[3*Y+Y]&&(Y=2);const ka=
(Y+1)%3,oa=(Y+2)%3;let sa=Math.sqrt(P[3*Y+Y]-P[3*ka+ka]-P[3*oa+oa]+1);T[Y]=.5*sa;sa=.5/sa;T[3]=(P[3*ka+oa]-P[3*oa+ka])*sa;T[ka]=(P[3*ka+Y]+P[3*Y+ka])*sa;T[oa]=(P[3*oa+Y]+P[3*Y+oa])*sa}W.quaternion=T;Q(X,y,A);D(X,X,.5);D(ea,d,X[0]);D(g,f,X[1]);Q(ea,ea,g);D(g,n,X[2]);W.center=v.add(ea,ea,g);W.halfSize=v.scale(X,E,.5)}function w(d){return d[0]*d[1]+d[0]*d[2]+d[1]*d[2]}function Q(d,f,n){d[0]=f[0]+n[0];d[1]=f[1]+n[1];d[2]=f[2]+n[2]}function L(d,f,n){d[0]=f[0]-n[0];d[1]=f[1]-n[1];d[2]=f[2]-n[2]}function D(d,
f,n){d[0]=f[0]*n;d[1]=f[1]*n;d[2]=f[2]*n}function C(d,f,n=0){d[0]=f[n];d[1]=f[n+1];d[2]=f[n+2]}function F(d,f,n){const y=f[0],A=f[1];f=f[2];const E=n[0],W=n[1];n=n[2];d[0]=A*n-f*W;d[1]=f*E-y*n;d[2]=y*W-A*E}function J(d,f){var n=f[0]*f[0]+f[1]*f[1]+f[2]*f[2];0<n&&(n=1/Math.sqrt(n),d[0]=f[0]*n,d[1]=f[1]*n,d[2]=f[2]*n)}function ca(d,f){const n=f[0]-d[0],y=f[1]-d[1];d=f[2]-d[2];return n*n+y*y+d*d}const U=k.create(),ba=k.create(),V=k.create(),G=k.create(),R=k.create(),Z=k.create(),fa=k.create(),ha=k.create(),
H=k.create(),K=k.create(),S=[0,0,0],da=z.create(),na=k.create(),ia=k.create(),l=k.create(),u=k.create(),N=k.create(),aa=k.create(),ja=k.create(),la=k.create(),ma=k.create(),pa=k.create(),M=k.create(),O=k.create(),I=k.create(),X=k.create(),ea=k.create(),g=k.create(),e=h.fromValues(1,0,0,0,1,0,0,0,1),p=t.create();class a{constructor(d){this.minVert=Array(7);this.maxVert=Array(7);this.buffer=new ArrayBuffer(448);var f=0;this.minProj=new Float64Array(this.buffer,f,7);f+=56;this.maxProj=new Float64Array(this.buffer,
f,7);f+=56;for(var n=0;7>n;++n)this.minVert[n]=new Float64Array(this.buffer,f,3),f+=24;for(n=0;7>n;++n)this.maxVert[n]=new Float64Array(this.buffer,f,3),f+=24;for(f=0;7>f;++f)this.minProj[f]=Number.POSITIVE_INFINITY,this.maxProj[f]=Number.NEGATIVE_INFINITY;f=Array(7);n=Array(7);const {data:y,size:A}=d;for(d=0;d<y.length;d+=A){var E=y[d];E<this.minProj[0]&&(this.minProj[0]=E,f[0]=d);E>this.maxProj[0]&&(this.maxProj[0]=E,n[0]=d);E=y[d+1];E<this.minProj[1]&&(this.minProj[1]=E,f[1]=d);E>this.maxProj[1]&&
(this.maxProj[1]=E,n[1]=d);E=y[d+2];E<this.minProj[2]&&(this.minProj[2]=E,f[2]=d);E>this.maxProj[2]&&(this.maxProj[2]=E,n[2]=d);E=y[d]+y[d+1]+y[d+2];E<this.minProj[3]&&(this.minProj[3]=E,f[3]=d);E>this.maxProj[3]&&(this.maxProj[3]=E,n[3]=d);E=y[d]+y[d+1]-y[d+2];E<this.minProj[4]&&(this.minProj[4]=E,f[4]=d);E>this.maxProj[4]&&(this.maxProj[4]=E,n[4]=d);E=y[d]-y[d+1]+y[d+2];E<this.minProj[5]&&(this.minProj[5]=E,f[5]=d);E>this.maxProj[5]&&(this.maxProj[5]=E,n[5]=d);E=y[d]-y[d+1]-y[d+2];E<this.minProj[6]&&
(this.minProj[6]=E,f[6]=d);E>this.maxProj[6]&&(this.maxProj[6]=E,n[6]=d)}for(d=0;7>d;++d)E=f[d],C(this.minVert[d],y,E),E=n[d],C(this.maxVert[d],y,E)}}class c{constructor(){this.b0=k.fromValues(1,0,0);this.b1=k.fromValues(0,1,0);this.b2=k.fromValues(0,0,1);this.quality=0}}b.computeOBB=function(d,f){const {data:n,size:y}=d;var A=n.length/y;if(!(0>=A)){var E=new a(d);Q(U,E.minProj,E.maxProj);D(U,U,.5);L(ba,E.maxProj,E.minProj);var W=w(ba),T=new c;T.quality=W;14>A&&(d=new m.Vertices(new Float64Array(E.buffer,
112,42),3));var P=k.create(),Y=k.create(),ka=k.create();A=k.create();var oa=k.create(),sa=k.create(),qa=k.create();var ra=d;var wa=ca(E.maxVert[0],E.minVert[0]),ta=0;for(var ua=1;7>ua;++ua){const ya=ca(E.maxVert[ua],E.minVert[ua]);ya>wa&&(wa=ya,ta=ua)}C(P,E.minVert[ta]);C(Y,E.maxVert[ta]);if(1E-6>ca(P,Y))ra=1;else{L(A,P,Y);J(A,A);const {data:ya,size:Ba}=ra;E=Number.NEGATIVE_INFINITY;wa=0;for(ta=0;ta<ya.length;ta+=Ba)S[0]=ya[ta]-P[0],S[1]=ya[ta+1]-P[1],S[2]=ya[ta+2]-P[2],ua=A[0]*S[0]+A[1]*S[1]+A[2]*
S[2],ua=S[0]*S[0]+S[1]*S[1]+S[2]*S[2]-ua*ua/(A[0]*A[0]+A[1]*A[1]+A[2]*A[2]),ua>E&&(E=ua,wa=ta);C(ka,ya,wa);1E-6>E?ra=2:(L(oa,Y,ka),J(oa,oa),L(sa,ka,P),J(sa,sa),F(qa,oa,A),J(qa,qa),r(ra,qa,A,oa,sa,T),ra=0)}switch(ra){case 1:f.center=U;f.halfSize=v.scale(ba,ba,.5);f.quaternion=t.IDENTITY;return;case 2:W=d;C(la,A);Math.abs(A[0])>Math.abs(A[1])&&Math.abs(A[0])>Math.abs(A[2])?la[0]=0:Math.abs(A[1])>Math.abs(A[2])?la[1]=0:la[2]=0;1E-6>la[0]*la[0]+la[1]*la[1]+la[2]*la[2]&&(la[0]=la[1]=la[2]=1);F(ma,A,la);
J(ma,ma);F(pa,A,ma);J(pa,pa);x(W,A,ma,pa,M,O);L(I,O,M);B(A,ma,pa,M,O,I,f);return}ra=d;E=da;const {data:va,size:xa}=ra;C(G,va);C(V,G);E[0]=ja[0]*qa[0]+ja[1]*qa[1]+ja[2]*qa[2];E[1]=E[0];for(wa=xa;wa<va.length;wa+=xa)ta=va[wa]*qa[0]+va[wa+1]*qa[1]+va[wa+2]*qa[2],ta<E[0]&&(E[0]=ta,C(G,va,wa)),ta>E[1]&&(E[1]=ta,C(V,va,wa));qa=P[0]*qa[0]+P[1]*qa[1]+P[2]*qa[2];da[1]-1E-6<=qa&&(V[0]=void 0);da[0]+1E-6>=qa&&(G[0]=void 0);void 0!==V[0]&&(L(R,V,P),J(R,R),L(Z,V,Y),J(Z,Z),L(fa,V,ka),J(fa,fa),F(ha,Z,A),J(ha,ha),
F(H,fa,oa),J(H,H),F(K,R,sa),J(K,K),r(ra,ha,A,Z,R,T),r(ra,H,oa,fa,Z,T),r(ra,K,sa,R,fa,T));void 0!==G[0]&&(L(R,G,P),J(R,R),L(Z,G,Y),J(Z,Z),L(fa,G,ka),J(fa,fa),F(ha,Z,A),J(ha,ha),F(H,fa,oa),J(H,H),F(K,R,sa),J(K,K),r(ra,ha,A,Z,R,T),r(ra,H,oa,fa,Z,T),r(ra,K,sa,R,fa,T));x(d,T.b0,T.b1,T.b2,M,O);d=k.create();L(d,O,M);T.quality=w(d);T.quality<W?B(T.b0,T.b1,T.b2,M,O,d,f):(f.center=U,f.halfSize=v.scale(ba,ba,.5),f.quaternion=t.IDENTITY)}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Attribute":function(){define(["exports"],
function(b){class h{constructor(z,v,k=v){this.data=z;this.size=v;this.stride=k}}class t extends h{constructor(z,v,k,m=!1,r=k){super(z,k,r);this.indices=v;this.exclusive=m}}b.Attribute=t;b.Vertices=h;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/layerViewUtils":function(){define(["exports","../../core/Error"],function(b,h){function t(v,k,m){return null==v||v>=m&&(0===k||v<=k)}function z(v,k){return null!=v&&0<v||null!=k&&0<k}b.extractSafeScaleBounds=function(v){v=
v.effectiveScaleRange;return{minScale:v?.minScale??0,maxScale:v?.maxScale??0}};b.highlightsSupported=function(v){return v&&"function"===typeof v.highlight};b.isInEffectiveScaleRange=function(v,k){if(k&&v){const {minScale:m,maxScale:r}=v;if(z(m,r))return t(k,m,r)}return!0};b.isScaleRangeActive=z;b.isSelectableLayerView2D=function(v){return null!=v&&"object"===typeof v&&"createQuery"in v&&"queryFeatures"in v&&"layer"in v&&"view"in v};b.occludeesSupported=function(v){return v&&"function"===typeof v.maskOccludee};
b.scaleBoundsPredicate=t;b.spatialReferenceIncompatibleError=function(v,k,m){return new h("layerview:spatial-reference-incompatible",`The spatial reference of this ${v}${k?`(wkid:${k})`:""} is incompatible with the spatial reference of the view${m?`(wkid:${m})`:""}.`,{})};b.validateScaleRange=function(v){return!v?.minScale||!v.maxScale||v.minScale>=v.maxScale};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/ElevationRange":function(){define(["exports"],function(b){class h{constructor(t=
Infinity,z=-Infinity){this.elevationRangeMin=t;this.elevationRangeMax=z}get elevationRangeValid(){return!Number.isNaN(this.elevationRangeMin)}invalidateElevationRange(){this.elevationRangeMin=NaN}expandElevationRangeValues(t,z){this.elevationRangeMin=Math.min(this.elevationRangeMin,t);this.elevationRangeMax=Math.max(this.elevationRangeMax,z)}expandElevationRange(t){this.elevationRangeMin=Math.min(this.elevationRangeMin,t.elevationRangeMin);this.elevationRangeMax=Math.max(this.elevationRangeMax,t.elevationRangeMax)}setElevationRange(t){this.elevationRangeMin=
t.elevationRangeMin;this.elevationRangeMax=t.elevationRangeMax}}b.ElevationRange=h;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("require exports ../../../core/mathUtils ../../../geometry/SpatialReference ../../../geometry/support/MeshGeoreferencedVertexSpace ../../../geometry/support/MeshLocalVertexSpace ../../../chunks/vec3 ../../../libs/i3s/enums ../../../libs/i3s/I3SModule ./i3s/I3SNode".split(" "),function(b,h,t,z,v,k,m,r,q,x){function B(U){if(J){var ba=U.modifications,V=J._malloc(8*ba.length),G=new Float64Array(J.HEAPU8.buffer,V,ba.length);for(let R=0;R<ba.length;++R)G[R]=ba[R];J.setModifications(U.context,V,ba.length,
U.isGeodetic);J._free(V)}}function w(U,ba,V){const {context:G,globalTrafo:R,mbs:Z,obbData:fa,elevationOffset:ha,geometryBuffer:H,geometryDescriptor:K,indexToVertexProjector:S,vertexToRenderProjector:da}=ba;var na=U._malloc(H.byteLength),ia=U._malloc(33*Float64Array.BYTES_PER_ELEMENT),l=new Uint8Array(U.HEAPU8.buffer,na,H.byteLength);l.set(new Uint8Array(H));var u=new Float64Array(U.HEAPU8.buffer,ia,33);D(u,[NaN,NaN,NaN]);var N=u.byteOffset+3*u.BYTES_PER_ELEMENT,aa=new Float64Array(u.buffer,N);D(aa,
R);N+=16*u.BYTES_PER_ELEMENT;aa=new Float64Array(u.buffer,N);D(aa,Z);N+=4*u.BYTES_PER_ELEMENT;fa&&(aa=new Float64Array(u.buffer,N),D(aa,fa));u={isDraco:!1,isLegacy:!1,color:ba.layouts.some(ma=>ma.some(pa=>"color"===pa.name)),normal:ba.needNormals&&ba.layouts.some(ma=>ma.some(pa=>"normalCompressed"===pa.name)),uv0:ba.layouts.some(ma=>ma.some(pa=>"uv0"===pa.name)),uvRegion:ba.layouts.some(ma=>ma.some(pa=>"uvRegion"===pa.name)),featureIndex:K.featureIndex};l=U.process(G,!!ba.obbData,na,l.byteLength,
K,u,ia,ha,S,da,ba.normalReferenceFrame);U._free(ia);U._free(na);if(0<l.error.length)throw Error(`i3s.wasm: ${l.error}`);if(l.discarded)return null;U=0<l.componentOffsets.length?l.componentOffsets.slice():null;na=0<l.featureIds.length?l.featureIds.slice():null;ia=0<l.anchorIds.length?Array.from(l.anchorIds):null;u=0<l.anchors.length?Array.from(l.anchors):null;N=l.interleavedVertedData.slice().buffer;aa=l.indicesType===r.IndexType.Int16?(new Uint16Array(l.indices.buffer,l.indices.byteOffset,l.indices.byteLength/
2)).slice():(new Uint32Array(l.indices.buffer,l.indices.byteOffset,l.indices.byteLength/4)).slice();const ja=l.positions.slice(),la=l.positionIndicesType===r.IndexType.Int16?(new Uint16Array(l.positionIndices.buffer,l.positionIndices.byteOffset,l.positionIndices.byteLength/2)).slice():(new Uint32Array(l.positionIndices.buffer,l.positionIndices.byteOffset,l.positionIndices.byteLength/4)).slice();ba={layout:ba.layouts[0],interleavedVertexData:N,indices:aa,hasColors:l.hasColors,hasModifications:l.hasModifications,
positionData:{data:ja,indices:la}};na&&V.push(na.buffer);U&&V.push(U.buffer);V.push(N);V.push(aa.buffer);V.push(ja.buffer);V.push(la.buffer);return{componentOffsets:U,featureIds:na,anchorIds:ia,anchors:u,transformedGeometry:ba,obb:l.obb,globalTrafo:R}}function Q(U){if(J){var {context:ba,buffer:V}=U;U=J._malloc(V.byteLength);var G=V.byteLength/Float64Array.BYTES_PER_ELEMENT,R=new Float64Array(J.HEAPU8.buffer,U,G),Z=new Float64Array(V);R.set(Z);J.filterOBBs(ba,U,G);Z.set(R);J._free(U)}}function L(U){J&&
0===J.destroy(U)&&(J=null)}function D(U,ba){for(let V=0;V<ba.length;++V)U[V]=ba[V]}function C(){if(J)return Promise.resolve(J);F||=q.get().then(U=>{J=U;F=null;return J});return F}let F,J;const ca={transform:(U,ba)=>J&&w(J,U,ba),destroy:L};h.destroyContext=function(U){L(U)};h.dracoDecompressPointCloudData=async function(U){J=await C();const ba=[U.geometryBuffer];var {geometryBuffer:V}=U,G=V.byteLength;U=J._malloc(G);G=new Uint8Array(J.HEAPU8.buffer,U,G);G.set(new Uint8Array(V));V=J.dracoDecompressPointCloudData(U,
G.byteLength);J._free(U);if(0<V.error.length)throw Error(`i3s.wasm: ${V.error}`);U=0<V.featureIds?.length?V.featureIds.slice():null;V=V.positions.slice();U&&ba.push(U.buffer);ba.push(V.buffer);return{result:{positions:V,featureIds:U},transferList:ba}};h.filterObbsForModifications=async function(U){await C();Q(U);U={buffer:U.buffer};return{result:U,transferList:[U.buffer]}};h.filterObbsForModificationsSync=Q;h.initialize=async function(){J||await C()};h.interpretObbModificationResults=function(U){return 0===
U?x.NodeIMModificationImpact.Unmodified:1===U?x.NodeIMModificationImpact.PotentiallyModified:2===U?x.NodeIMModificationImpact.Culled:x.NodeIMModificationImpact.Unknown};h.process=async function(U){J=await C();const ba=[U.geometryBuffer];return{result:w(J,U,ba),transferList:ba}};h.project=async function(U){const {localMatrix:ba,origin:V,positions:G,vertexSpace:R}=U;var Z=z.fromJSON(U.inSpatialReference),fa=z.fromJSON(U.outSpatialReference);const [{projectBuffer:ha},{initializeProjection:H}]=await Promise.all([new Promise((ia,
l)=>b(["../../../geometry/projection/projectBuffer"],ia,l)),new Promise((ia,l)=>b(["../../../geometry/projection"],ia,l))]);await H(Z,fa);U=[0,0,0];if(!ha(V,Z,0,U,fa,0))throw Error("Failed to project");if("georeferenced"===R.type&&null==R.origin){var K=new Float64Array(G.length);if(!ha(G,Z,0,K,fa,0,K.length/3))throw Error("Failed to project");}else{K="georeferenced"===R.type?v.fromJSON(R):k.fromJSON(R);const {projectMeshVertexPositions:ia}=await new Promise((l,u)=>b(["../../../geometry/support/meshUtils/projectMeshVertexPositions"],
l,u));Z=ia({vertexAttributes:{position:G},transform:ba?{localMatrix:ba}:void 0,vertexSpace:K,spatialReference:Z},fa);if(!Z)throw Error("Failed to project");K=Z}Z=K.length;const [S,da,na]=U;for(fa=0;fa<Z;fa+=3)K[fa]-=S,K[fa+1]-=da,K[fa+2]-=na;return{result:{projected:K,original:G,projectedOrigin:U},transferList:[K.buffer,G.buffer]}};h.setLegacySchema=async function(U){J=await C();J.setLegacySchema(U.context,U.jsonSchema)};h.setModifications=async function(U){await C();B(U)};h.setModificationsSync=
B;h.test=ca;h.transformNormals=async function({normalMatrix:U,normals:ba}){const V=new Float32Array(ba.length);m.transformMat3(V,ba,U);t.hasScaling(U)&&m.normalize(V,V);return{result:{transformed:V,original:ba},transferList:[V.buffer,ba.buffer]}};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});