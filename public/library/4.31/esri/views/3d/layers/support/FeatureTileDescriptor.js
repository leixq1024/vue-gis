// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["exports","../../../../geometry/ellipsoidUtils","../../../../geometry/support/aaBoundingRect"],function(e,g,h){class f{constructor(a,b,c,d){this.lij=[0,0,0];this.extent=h.create();this.loadPriority=this.resolution=0;this.measures=new k;this.used=!1;this.acquire(a,b,c,d)}get planetRadius(){return g.getReferenceEllipsoid(this.tilingScheme.spatialReference).radius}acquire(a,b,c,d){this.tilingScheme=d;this.id=f.id(a,b,c);this.lij[0]=a;this.lij[1]=b;this.lij[2]=c;d.getExtent(a,b,c,this.extent);
this.measures.effectiveLevelForLod=a;this.updateResolution()}updateResolution(){this.resolution=this.tilingScheme.resolutionAtLevel(this.measures.effectiveLevelForLod)}release(){this.tilingScheme=null}getChildren(a){const b=this.lij[0]+1,c=2*this.lij[1],d=2*this.lij[2];return a?a.acquire(b,c,d,this.tilingScheme):[new f(b,c,d,this.tilingScheme),new f(b,c+1,d,this.tilingScheme),new f(b,c,d+1,this.tilingScheme),new f(b,c+1,d+1,this.tilingScheme)]}copyMeasurementsFrom(a){this.measures.copyFrom(a.measures);
this.updateResolution()}static id(a,b,c){return`${a}/${b}/${c}`}}e.Visibility=void 0;(function(a){a[a.INVISIBLE=0]="INVISIBLE";a[a.VISIBLE=1]="VISIBLE"})(e.Visibility||(e.Visibility={}));class k{constructor(){this.visibility=e.Visibility.VISIBLE;this.distance=0;this.shouldSplit=!1;this.effectiveLevelForLod=0}copyFrom(a){this.visibility=a.visibility;this.distance=a.distance;this.shouldSplit=a.shouldSplit;this.effectiveLevelForLod=a.effectiveLevelForLod;return this}}e.FeatureTileDescriptor=f;Object.defineProperty(e,
Symbol.toStringTag,{value:"Module"})});