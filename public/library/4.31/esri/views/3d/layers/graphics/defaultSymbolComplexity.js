// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/compilerUtils ../../../../symbols/support/ObjectSymbol3DLayerResource ./Graphics3DPathSymbolLayerConstants ./primitiveObjectSymbolUtils ./SymbolComplexity ../support/edgeUtils ../../webgl-engine/materials/DefaultMaterial".split(" "),function(l,n,x,p,y,e,z,A){function q(a){let b=0,c=0,f=0,h=!1,m=0;const g=new e.SymbolComplexityMemory;for(const k of a)null!=k&&(b+=k.verticesPerFeature,c+=k.verticesPerCoordinate,f+=k.drawCallsPerFeature,g.bytesPerFeature+=k.memory.bytesPerFeature,
g.bytesPerFeatureLabel+=k.memory.bytesPerFeatureLabel,g.resourceBytes+=k.memory.resourceBytes,g.draped.bytesPerFeature+=k.memory.bytesPerFeature,g.draped.bytesPerFeatureLabel+=k.memory.bytesPerFeatureLabel,h=h||k.estimated,++m);return h?new e.EstimatedAggregateSymbolComplexity(m,{verticesPerFeature:b,verticesPerCoordinate:c,drawCallsPerFeature:f,memory:g}):new e.AggregateSymbolComplexity(m,{verticesPerFeature:b,verticesPerCoordinate:c,drawCallsPerFeature:f,memory:g})}function t(a,b){const c=u(a,b);
var f=z.hasEdges(b)?2:0;switch(b.type){case "extrude":return new e.SymbolComplexity({verticesPerFeature:-12,verticesPerCoordinate:12,drawCallsPerFeature:f,memory:c});case "fill":if("mesh-3d"===a.type)return new e.SymbolComplexity({drawCallsPerFeature:f,memory:c});if(null!=b.outline&&0<b.outline.size)return new e.SymbolComplexity({verticesPerFeature:-12,verticesPerCoordinate:9,memory:c});case "water":return new e.SymbolComplexity({verticesPerFeature:-6,verticesPerCoordinate:3,memory:c});case "line":return new e.SymbolComplexity({verticesPerFeature:-6,
verticesPerCoordinate:6,memory:c});case "object":if(b.resource?.href)return new e.EstimatedSymbolComplexity({verticesPerFeature:100,memory:c});b=b.resource?.primitive??x.defaultPrimitive;(a=r[b])?b=a:(a=y.primitiveLodResources(b,new A.DefaultMaterial({},{spherical:!0,doublePrecisionRequiresObfuscation:!0})),a=v(a.levels),r[b]=new e.SymbolComplexity({verticesPerFeature:a}),b=r[b]);return{...b,memory:c};case "path":var h=a=0;switch(b.profile){case "circle":a=p.pathNumCircleProfileSubdivisions;break;
case "quad":a=4;break;default:n.neverReached(b.profile);return}switch(b.join){case "round":h=p.pathNumRoundJoinSubdivisions;break;case "miter":case "bevel":h=1;break;default:return}f=2*a;h=a*h*2;let m=-2*h-f;switch(b.cap){case "none":break;case "butt":case "square":m+=2*(a-1);break;case "round":m+=2*(a*(p.pathNumRoundCapExtrusionSubdivisions-1)*2+a);break;default:return}return new e.SymbolComplexity({verticesPerFeature:m,verticesPerCoordinate:h+f,memory:c});case "text":case "icon":return new e.SymbolComplexity({verticesPerFeature:6,
memory:c})}}function u(a,b){a="point-3d"===a.type;switch(b.type){case "extrude":return b.edges&&0<b.edges.size?d.EXTRUDE_EDGES:d.EXTRUDE;case "fill":return null!=b.outline&&0<b.outline.size?d.FILL_OUTLINE:d.FILL;case "water":return d.FILL;case "line":return"round"===b.join?d.LINE_ROUND:d.LINE_MITER;case "path":switch(b.join){case "round":switch(b.profile){case "circle":return d.PATH_ROUND_CIRCLE;case "quad":return d.PATH_ROUND_QUAD;default:n.neverReached(b.profile);return}case "miter":case "bevel":switch(b.profile){case "circle":return d.PATH_MITER_CIRCLE;
case "quad":return d.PATH_MITER_QUAD;default:n.neverReached(b.profile);return}default:return}case "object":return a?d.OBJECT_POINT:d.OBJECT_POLYGON;case "icon":case "text":return a?d.ICON_POINT:d.ICON_POLYGON}}function v(a){return a.reduce((b,c,f)=>b+1/10**f*c.numVertices,0)/a.reduce((b,c,f)=>b+1/10**f,0)}const w=new e.EstimatedSymbolComplexity({}),r={},d={ICON_POINT:{bytesPerFeature:2346.460896195398,bytesPerFeatureLabel:3484.7516349999996,resourceBytes:0,draped:{bytesPerFeature:2007.3528529826217,
bytesPerFeatureLabel:3522.702025}},ICON_POLYGON:{bytesPerFeature:3677.214053765355,bytesPerFeatureLabel:3502.5355950000003,resourceBytes:0,draped:{bytesPerFeature:3030.3700096053935,bytesPerFeatureLabel:3550.247175}},OBJECT_POINT:{bytesPerFeature:569.2092700798497,bytesPerFeatureLabel:3183.0256999999992,resourceBytes:0,draped:{bytesPerFeature:569.2092700798497,bytesPerFeatureLabel:3183.0256999999992}},OBJECT_POLYGON:{bytesPerFeature:1252.202280530861,bytesPerFeatureLabel:3125.853350000001,resourceBytes:0,
draped:{bytesPerFeature:1252.202280530861,bytesPerFeatureLabel:3125.853350000001}},LINE_MITER:{bytesPerFeature:3252.89170349711,bytesPerFeatureLabel:3554.3931949999997,resourceBytes:0,draped:{bytesPerFeature:2843.5793737736867,bytesPerFeatureLabel:3538.2547083333334}},LINE_ROUND:{bytesPerFeature:3384.080501909172,bytesPerFeatureLabel:3522.6055950000004,resourceBytes:0,draped:{bytesPerFeature:2833.1897218657587,bytesPerFeatureLabel:3532.0680950000005}},PATH_MITER_CIRCLE:{bytesPerFeature:38490.63544346431,
bytesPerFeatureLabel:3660.7835999999998,resourceBytes:0,draped:{bytesPerFeature:38490.63544346431,bytesPerFeatureLabel:3660.7835999999998}},PATH_ROUND_CIRCLE:{bytesPerFeature:42934.88589895749,bytesPerFeatureLabel:3729.49955,resourceBytes:0,draped:{bytesPerFeature:42934.88589895749,bytesPerFeatureLabel:3729.49955}},PATH_MITER_QUAD:{bytesPerFeature:25392.923576583788,bytesPerFeatureLabel:3647.05925,resourceBytes:0,draped:{bytesPerFeature:25392.923576583788,bytesPerFeatureLabel:3647.05925}},PATH_ROUND_QUAD:{bytesPerFeature:40448.297252606244,
bytesPerFeatureLabel:3646.8303499999997,resourceBytes:0,draped:{bytesPerFeature:40448.297252606244,bytesPerFeatureLabel:3646.8303499999997}},FILL:{bytesPerFeature:3419.9079008788176,bytesPerFeatureLabel:3564.2132483333335,resourceBytes:0,draped:{bytesPerFeature:2910.096178654882,bytesPerFeatureLabel:3554.8655816666665}},FILL_OUTLINE:{bytesPerFeature:5018.088812445781,bytesPerFeatureLabel:3524.8219616666665,resourceBytes:0,draped:{bytesPerFeature:4278.49006198517,bytesPerFeatureLabel:3532.068368333334}},
EXTRUDE:{bytesPerFeature:7963.8889768932695,bytesPerFeatureLabel:3628.5106350000005,resourceBytes:0,draped:{bytesPerFeature:7963.8889768932695,bytesPerFeatureLabel:3628.5106350000005}},EXTRUDE_EDGES:{bytesPerFeature:3111.7648563053044,bytesPerFeatureLabel:2658.4350683333337,resourceBytes:0,draped:{bytesPerFeature:3111.7648563053044,bytesPerFeatureLabel:2658.4350683333337}}};l.averageSymbolComplexities=function(a){a=q(a);0<a.numComplexities&&(a.verticesPerFeature/=a.numComplexities,a.verticesPerCoordinate/=
a.numComplexities,a.drawCallsPerFeature/=a.numComplexities,a.memory.bytesPerFeature/=a.numComplexities,a.memory.bytesPerFeatureLabel/=a.numComplexities,a.memory.resourceBytes/=a.numComplexities,a.memory.draped.bytesPerFeature/=a.numComplexities,a.memory.draped.bytesPerFeatureLabel/=a.numComplexities);return a};l.defaultSymbolComplexity=function(a){if("web-style"===a.type)return w;const b=a.symbolLayers.toArray().map(c=>t(a,c));return q(b)};l.defaultSymbolLayerComplexity=t;l.defaultSymbolLayerMemoryComplexity=
u;l.emptySymbolComplexity=w;l.estimateNumVerticesForLods=v;l.memoryEstimators=d;l.totalSymbolComplexities=q;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});