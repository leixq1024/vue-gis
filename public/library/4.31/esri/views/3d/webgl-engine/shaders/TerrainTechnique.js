// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("require exports ../core/shaderLibrary/ShaderOutput ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/basicInterfaces ../lib/StencilUtils ../lib/VertexAttribute ../../../../chunks/Terrain.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),function(l,d,m,n,p,q,r,e,t,h,c){class u extends p.ShaderTechnique{constructor(a,f,b){super(a,f,new n.ReloadableShaderModule(t.Terrain,()=>new Promise((g,v)=>l(["./Terrain.glsl"],g,v))),b,k);this.type=
"TerrainTechnique";this.useStencil=!1}initializePipeline(a){this._stencilPipelineState=this._createPipeline(a,!0);return this._createPipeline(a,!1)}_createPipeline(a,f){const {renderOccluded:b,output:g}=a;return c.makePipelineState({blending:b?c.blendWithPremultipliedAlpha:null,culling:a.backfaceCullingEnabled&&!b?c.backFaceCullingParams:null,depthTest:b?null:{func:h.CompareFunction.LESS},depthWrite:b?null:c.defaultDepthWrite,colorWrite:c.defaultColorWrite,stencilTest:f?r.renderWhenBitIsNotSet(q.StencilBits.IntegratedMeshMaskExcluded):
null,drawBuffers:g===m.ShaderOutput.Depth?{buffers:[h.SpecialDrawBuffers.NONE]}:null})}getPipeline(){return this.useStencil?this._stencilPipelineState:super.getPipeline()}}const k=new Map([[e.VertexAttribute.POSITION,0],[e.VertexAttribute.UV0,1],[e.VertexAttribute.NORMALCOMPRESSED,2]]);d.TerrainTechnique=u;d.vertexAttributeLocations=k;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});