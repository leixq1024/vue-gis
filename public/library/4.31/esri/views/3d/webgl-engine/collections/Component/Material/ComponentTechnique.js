// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("require exports ./ComponentTechniqueConfiguration ../../../../../../chunks/ComponentShader.glsl ../../../core/shaderLibrary/ShaderOutput ../../../core/shaderTechnique/ReloadableShaderModule ../../../core/shaderTechnique/ShaderTechnique ../../../lib/basicInterfaces ../../../lib/OITPass ../../../lib/OrderIndependentTransparency ../../../lib/StencilUtils ../../../lib/VertexAttribute ../../../../../webgl/enums ../../../../../webgl/renderState".split(" "),function(v,g,w,x,n,y,z,A,p,e,h,a,B,f){class C extends z.ShaderTechnique{constructor(b,
k,c){super(b,k,new y.ReloadableShaderModule(x.ComponentShader,()=>new Promise((l,m)=>v(["./shader/ComponentShader.glsl"],l,m))),c,q)}initializePipeline(b){const {integratedMeshMode:k,output:c,blendingEnabled:l,cullFace:m,hasOccludees:r,hasPolygonOffset:D,oitPass:d}=b;b=k!==w.IntegratedMeshMode.None;const t=d===p.OITPass.NONE,u=d===p.OITPass.FrontFace;return f.makePipelineState({blending:n.isColorOrColorEmission(c)&&l?e.blending(d):null,culling:f.cullingParams(m),depthTest:{func:e.oitDepthTest(d)},
depthWrite:t||u?f.defaultDepthWrite:null,drawBuffers:c===n.ShaderOutput.Depth?{buffers:[B.SpecialDrawBuffers.NONE]}:e.getDrawBuffers(d,c),colorWrite:f.defaultColorWrite,stencilWrite:b||r?h.stencilWriteMaskOn:null,stencilTest:b?h.replaceBitWhenDepthTestPasses(A.StencilBits.IntegratedMeshMaskExcluded):r?h.stencilBaseAllZerosParams:null,polygonOffset:t||u?D?{factor:2,units:2}:null:e.OITPolygonOffset})}}const q=new Map([[a.VertexAttribute.POSITION,0],[a.VertexAttribute.NORMAL,1],[a.VertexAttribute.NORMALCOMPRESSED,
1],[a.VertexAttribute.COLOR,2],[a.VertexAttribute.UV0,3],[a.VertexAttribute.UVREGION,4],[a.VertexAttribute.COMPONENTINDEX,5]]);g.ComponentTechnique=C;g.vertexAttributeLocations=q;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});