// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["exports","../core/shaderLibrary/ShaderOutput","./OITPass","../../../webgl/enums","../../../webgl/renderState"],function(d,k,c,b,f){const g=f.separateBlendingParams(b.BlendFactor.ONE,b.BlendFactor.ZERO,b.BlendFactor.ONE,b.BlendFactor.ONE_MINUS_SRC_ALPHA),h={factor:-1,units:-2};d.OITPolygonOffset=h;d.OITPolygonOffsetLimit=5E5;d.blending=function(a){switch(a){case c.OITPass.NONE:return f.premultipliedAlphaToPremultipliedAlpha;case c.OITPass.ColorAlpha:return g;case c.OITPass.FrontFace:case c.OITPass.COUNT:return null}};
d.blendingColorAlpha=g;d.depthWrite=function(a){if(a.draped)return null;switch(a.oitPass){case c.OITPass.NONE:case c.OITPass.FrontFace:return a.writeDepth?f.defaultDepthWrite:null;case c.OITPass.ColorAlpha:case c.OITPass.COUNT:return null}};d.getDrawBuffers=function(a,e){e=k.isColorEmission(e);return a===c.OITPass.ColorAlpha?e?{buffers:[b.ColorAttachment.COLOR_ATTACHMENT0,b.ColorAttachment.COLOR_ATTACHMENT1,b.ColorAttachment.COLOR_ATTACHMENT2]}:{buffers:[b.ColorAttachment.COLOR_ATTACHMENT0,b.ColorAttachment.COLOR_ATTACHMENT1]}:
e?{buffers:[b.ColorAttachment.COLOR_ATTACHMENT0,b.ColorAttachment.COLOR_ATTACHMENT1]}:null};d.getOITPolygonOffset=function(a){return a?h:null};d.oitBlending=function(a){return a===c.OITPass.FrontFace?null:g};d.oitDepthTest=function(a,e=b.CompareFunction.LESS){return a===c.OITPass.NONE||a===c.OITPass.FrontFace?e:b.CompareFunction.LEQUAL};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});