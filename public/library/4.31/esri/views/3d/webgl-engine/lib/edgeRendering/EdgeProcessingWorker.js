// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/support/buffer/workerHelper":function(){define(["exports","./InterleavedLayout"],function(e,h){e.packInterleavedBuffer=function(p,c){c.push(p.buffer);return{buffer:p.buffer,layout:new h.PackedLayout(p.layout)}};e.unpackInterleavedBuffer=function(p){return(new h.InterleavedLayout(p.layout)).createView(p.buffer)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports","../../../../geometry/support/buffer/BufferView",
"../../../../geometry/support/buffer/types","../../webgl-engine/lib/Util"],function(e,h,p,c){class k{constructor(d,f){this.layout=d;this.buffer="number"===typeof f?new ArrayBuffer(f*d.stride):f;for(const m of d.fields.keys())f=d.fields.get(m),this[m]=new f.constructor(this.buffer,f.offset,this.stride)}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(d,f){return(d=this[d])&&d.elementCount===f.ElementCount&&
d.elementType===f.ElementType?d:null}slice(d,f){return new k(this.layout,this.buffer.slice(d*this.stride,f*this.stride))}copyFrom(d,f=0,m=0,w=d.count){const A=this.stride;0===A%4?(d=new Uint32Array(d.buffer,f*A,w*A/4),(new Uint32Array(this.buffer,m*A,w*A/4)).set(d)):(d=new Uint8Array(d.buffer,f*A,w*A),(new Uint8Array(this.buffer,m*A,w*A)).set(d));return this}get usedMemory(){return this.byteLength}dispose(){}}class t{constructor(d){this._lastAligned=this._stride=0;this._fields=new Map;d&&(this._stride=
d.stride,d.fields.forEach(f=>this._fields.set(f[0],{...f[1],constructor:x.get(f[1].constructor)})))}freeze(){return this}vec2f(d,f){this._appendField(d,h.BufferViewVec2f,f);return this}vec2f64(d,f){this._appendField(d,h.BufferViewVec2f64,f);return this}vec3f(d,f){this._appendField(d,h.BufferViewVec3f,f);return this}vec3f64(d,f){this._appendField(d,h.BufferViewVec3f64,f);return this}vec4f(d,f){this._appendField(d,h.BufferViewVec4f,f);return this}vec4f64(d,f){this._appendField(d,h.BufferViewVec4f64,
f);return this}mat3f(d,f){this._appendField(d,h.BufferViewMat3f,f);return this}mat3f64(d,f){this._appendField(d,h.BufferViewMat3f64,f);return this}mat4f(d,f){this._appendField(d,h.BufferViewMat4f,f);return this}mat4f64(d,f){this._appendField(d,h.BufferViewMat4f64,f);return this}vec4u8(d,f){this._appendField(d,h.BufferViewVec4u8,f);return this}f32(d,f){this._appendField(d,h.BufferViewFloat,f);return this}f64(d,f){this._appendField(d,h.BufferViewFloat64,f);return this}u8(d,f){this._appendField(d,h.BufferViewUint8,
f);return this}u16(d,f){this._appendField(d,h.BufferViewUint16,f);return this}i8(d,f){this._appendField(d,h.BufferViewInt8,f);return this}vec2i8(d,f){this._appendField(d,h.BufferViewVec2i8,f);return this}vec2i16(d,f){this._appendField(d,h.BufferViewVec2i16,f);return this}vec2u8(d,f){this._appendField(d,h.BufferViewVec2u8,f);return this}vec4u16(d,f){this._appendField(d,h.BufferViewVec4u16,f);return this}u32(d,f){this._appendField(d,h.BufferViewUint32,f);return this}_appendField(d,f,m){if(this._fields.has(d))c.assert(!1,
`${d} already added to vertex buffer layout`);else{var w=f.ElementCount*p.elementTypeSize(f.ElementType),A=this._stride;this._stride+=w;this._fields.set(d,{size:w,constructor:f,offset:A,optional:m})}}createBuffer(d){return new k(this,d)}createView(d){return new k(this,d)}clone(){const d=new t;d._stride=this._stride;d._fields=new Map;this._fields.forEach((f,m)=>d._fields.set(m,f));d.BufferType=this.BufferType;return d}get stride(){if(this._lastAligned!==this._fields.size){let d=1;this._fields.forEach(f=>
d=Math.max(d,p.elementTypeSize(f.constructor.ElementType)));this._stride=Math.floor((this._stride+d-1)/d)*d;this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}class v{constructor(d){this.fields=[];d.fields.forEach((f,m)=>{var w=f.constructor;this.fields.push([m,{...f,constructor:`${w.ElementType}_${w.ElementCount}`}])});this.stride=d.stride}}const n=[h.BufferViewFloat,h.BufferViewVec2f,h.BufferViewVec3f,h.BufferViewVec4f,h.BufferViewMat3f,h.BufferViewMat4f,h.BufferViewFloat64,
h.BufferViewVec2f64,h.BufferViewVec3f64,h.BufferViewVec4f64,h.BufferViewMat3f64,h.BufferViewMat4f64,h.BufferViewUint8,h.BufferViewVec2u8,h.BufferViewVec3u8,h.BufferViewVec4u8,h.BufferViewUint16,h.BufferViewVec2u16,h.BufferViewVec3u16,h.BufferViewVec4u16,h.BufferViewUint32,h.BufferViewVec2u32,h.BufferViewVec3u32,h.BufferViewVec4u32,h.BufferViewInt8,h.BufferViewVec2i8,h.BufferViewVec3i8,h.BufferViewVec4i8,h.BufferViewInt16,h.BufferViewVec2i16,h.BufferViewVec3i16,h.BufferViewVec4i16,h.BufferViewInt32,
h.BufferViewVec2i32,h.BufferViewVec3i32,h.BufferViewVec4i32],x=new Map;n.forEach(d=>x.set(`${d.ElementType}_${d.ElementCount}`,d));e.InterleavedBuffer=k;e.InterleavedLayout=t;e.PackedLayout=v;e.newLayout=function(){return new t};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),function(e,h,p,c,k,t,v){class n extends c.BufferViewScalarImpl{constructor(a,
g=0,C,b){super(Float32Array,a,g,C,b);this.elementType="f32"}static fromTypedArray(a,g){return new n(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}n.ElementType="f32";class x extends k.BufferViewVec2Impl{constructor(a,g=0,C,b){super(Float32Array,a,g,C,b);this.elementType="f32"}slice(a,g){return this.sliceBuffer(x,a,g)}static fromTypedArray(a,g){return new x(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}x.ElementType="f32";class d extends t.BufferViewVec3Impl{constructor(a,g=0,C,b){super(Float32Array,
a,g,C,b);this.elementType="f32"}slice(a,g){return this.sliceBuffer(d,a,g)}static fromTypedArray(a,g){return new d(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}d.ElementType="f32";class f extends v.BufferViewVec4Impl{constructor(a,g=0,C,b){super(Float32Array,a,g,C,b);this.elementType="f32"}slice(a,g){return this.sliceBuffer(f,a,g)}static fromTypedArray(a,g){return new f(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}f.ElementType="f32";class m extends h.BufferViewMat3Impl{constructor(a,
g=0,C,b){super(Float32Array,a,g,C,b);this.elementType="f32"}slice(a,g){return this.sliceBuffer(m,a,g)}static fromTypedArray(a,g){return new m(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}m.ElementType="f32";class w extends h.BufferViewMat3Impl{constructor(a,g=0,C,b){super(Float64Array,a,g,C,b);this.elementType="f64"}slice(a,g){return this.sliceBuffer(w,a,g)}static fromTypedArray(a,g){return new w(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}w.ElementType="f64";class A extends p.BufferViewMat4Impl{constructor(a,
g=0,C,b){super(Float32Array,a,g,C,b);this.elementType="f32"}slice(a,g){return this.sliceBuffer(A,a,g)}static fromTypedArray(a,g){return new A(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}A.ElementType="f32";class H extends p.BufferViewMat4Impl{constructor(a,g=0,C,b){super(Float64Array,a,g,C,b);this.elementType="f64"}slice(a,g){return this.sliceBuffer(H,a,g)}static fromTypedArray(a,g){return new H(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}H.ElementType="f64";class z extends c.BufferViewScalarImpl{constructor(a,
g=0,C,b){super(Float64Array,a,g,C,b);this.elementType="f64"}slice(a,g){return this.sliceBuffer(z,a,g)}static fromTypedArray(a,g){return new z(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}z.ElementType="f64";class G extends k.BufferViewVec2Impl{constructor(a,g=0,C,b){super(Float64Array,a,g,C,b);this.elementType="f64"}slice(a,g){return this.sliceBuffer(G,a,g)}static fromTypedArray(a,g){return new G(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}G.ElementType="f64";class J extends t.BufferViewVec3Impl{constructor(a,
g=0,C,b){super(Float64Array,a,g,C,b);this.elementType="f64"}slice(a,g){return this.sliceBuffer(J,a,g)}static fromTypedArray(a,g){return new J(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}J.ElementType="f64";class B extends v.BufferViewVec4Impl{constructor(a,g=0,C,b){super(Float64Array,a,g,C,b);this.elementType="f64"}slice(a,g){return this.sliceBuffer(B,a,g)}static fromTypedArray(a,g){return new B(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}B.ElementType="f64";class L extends c.BufferViewScalarImpl{constructor(a,
g=0,C,b){super(Uint8Array,a,g,C,b);this.elementType="u8"}slice(a,g){return this.sliceBuffer(L,a,g)}static fromTypedArray(a,g){return new L(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}L.ElementType="u8";class E extends k.BufferViewVec2Impl{constructor(a,g=0,C,b){super(Uint8Array,a,g,C,b);this.elementType="u8"}slice(a,g){return this.sliceBuffer(E,a,g)}static fromTypedArray(a,g){return new E(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}E.ElementType="u8";class R extends t.BufferViewVec3Impl{constructor(a,
g=0,C,b){super(Uint8Array,a,g,C,b);this.elementType="u8"}slice(a,g){return this.sliceBuffer(R,a,g)}static fromTypedArray(a,g){return new R(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}R.ElementType="u8";class N extends v.BufferViewVec4Impl{constructor(a,g=0,C,b){super(Uint8Array,a,g,C,b);this.elementType="u8"}slice(a,g){return this.sliceBuffer(N,a,g)}static fromTypedArray(a,g){return new N(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}N.ElementType="u8";class M extends c.BufferViewScalarImpl{constructor(a,
g=0,C,b){super(Uint16Array,a,g,C,b);this.elementType="u16"}slice(a,g){return this.sliceBuffer(M,a,g)}static fromTypedArray(a,g){return new M(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}M.ElementType="u16";class O extends k.BufferViewVec2Impl{constructor(a,g=0,C,b){super(Uint16Array,a,g,C,b);this.elementType="u16"}slice(a,g){return this.sliceBuffer(O,a,g)}static fromTypedArray(a,g){return new O(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}O.ElementType="u16";class P extends t.BufferViewVec3Impl{constructor(a,
g=0,C,b){super(Uint16Array,a,g,C,b);this.elementType="u16"}slice(a,g){return this.sliceBuffer(P,a,g)}static fromTypedArray(a,g){return new P(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}P.ElementType="u16";class Y extends v.BufferViewVec4Impl{constructor(a,g=0,C,b){super(Uint16Array,a,g,C,b);this.elementType="u16"}slice(a,g){return this.sliceBuffer(Y,a,g)}static fromTypedArray(a,g){return new Y(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}Y.ElementType="u16";class W extends c.BufferViewScalarImpl{constructor(a,
g=0,C,b){super(Uint32Array,a,g,C,b);this.elementType="u32"}slice(a,g){return this.sliceBuffer(W,a,g)}static fromTypedArray(a,g){return new W(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}W.ElementType="u32";class X extends k.BufferViewVec2Impl{constructor(a,g=0,C,b){super(Uint32Array,a,g,C,b);this.elementType="u32"}slice(a,g){return this.sliceBuffer(X,a,g)}static fromTypedArray(a,g){return new X(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}X.ElementType="u32";class T extends t.BufferViewVec3Impl{constructor(a,
g=0,C,b){super(Uint32Array,a,g,C,b);this.elementType="u32"}slice(a,g){return this.sliceBuffer(T,a,g)}static fromTypedArray(a,g){return new T(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}T.ElementType="u32";class V extends v.BufferViewVec4Impl{constructor(a,g=0,C,b){super(Uint32Array,a,g,C,b);this.elementType="u32"}slice(a,g){return this.sliceBuffer(V,a,g)}static fromTypedArray(a,g){return new V(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}V.ElementType="u32";class ba extends c.BufferViewScalarImpl{constructor(a,
g=0,C,b){super(Int8Array,a,g,C,b);this.elementType="i8"}slice(a,g){return this.sliceBuffer(ba,a,g)}static fromTypedArray(a,g){return new ba(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}ba.ElementType="i8";class ca extends k.BufferViewVec2Impl{constructor(a,g=0,C,b){super(Int8Array,a,g,C,b);this.elementType="i8"}slice(a,g){return this.sliceBuffer(ca,a,g)}static fromTypedArray(a,g){return new ca(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}ca.ElementType="i8";class aa extends t.BufferViewVec3Impl{constructor(a,
g=0,C,b){super(Int8Array,a,g,C,b);this.elementType="i8"}slice(a,g){return this.sliceBuffer(aa,a,g)}static fromTypedArray(a,g){return new aa(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}aa.ElementType="i8";class da extends v.BufferViewVec4Impl{constructor(a,g=0,C,b){super(Int8Array,a,g,C,b);this.elementType="i8"}slice(a,g){return this.sliceBuffer(da,a,g)}static fromTypedArray(a,g){return new da(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}da.ElementType="i8";class ea extends c.BufferViewScalarImpl{constructor(a,
g=0,C,b){super(Int16Array,a,g,C,b);this.elementType="i16"}slice(a,g){return this.sliceBuffer(ea,a,g)}static fromTypedArray(a,g){return new ea(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}ea.ElementType="i16";class fa extends k.BufferViewVec2Impl{constructor(a,g=0,C,b){super(Int16Array,a,g,C,b);this.elementType="i16"}slice(a,g){return this.sliceBuffer(fa,a,g)}static fromTypedArray(a,g){return new fa(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}fa.ElementType="i16";class q extends t.BufferViewVec3Impl{constructor(a,
g=0,C,b){super(Int16Array,a,g,C,b);this.elementType="i16"}slice(a,g){return this.sliceBuffer(q,a,g)}static fromTypedArray(a,g){return new q(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}q.ElementType="i16";class u extends v.BufferViewVec4Impl{constructor(a,g=0,C,b){super(Int16Array,a,g,C,b);this.elementType="i16"}slice(a,g){return this.sliceBuffer(u,a,g)}static fromTypedArray(a,g){return new u(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}u.ElementType="i16";class y extends c.BufferViewScalarImpl{constructor(a,
g=0,C,b){super(Int32Array,a,g,C,b);this.elementType="i32"}slice(a,g){return this.sliceBuffer(y,a,g)}static fromTypedArray(a,g){return new y(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}y.ElementType="i32";class K extends k.BufferViewVec2Impl{constructor(a,g=0,C,b){super(Int32Array,a,g,C,b);this.elementType="i32"}slice(a,g){return this.sliceBuffer(K,a,g)}static fromTypedArray(a,g){return new K(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}K.ElementType="i32";class Q extends t.BufferViewVec3Impl{constructor(a,
g=0,C,b){super(Int32Array,a,g,C,b);this.elementType="i32"}slice(a,g){return this.sliceBuffer(Q,a,g)}static fromTypedArray(a,g){return new Q(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}Q.ElementType="i32";class S extends v.BufferViewVec4Impl{constructor(a,g=0,C,b){super(Int32Array,a,g,C,b);this.elementType="i32"}slice(a,g){return this.sliceBuffer(S,a,g)}static fromTypedArray(a,g){return new S(a.buffer,a.byteOffset,g,a.byteOffset+a.byteLength)}}S.ElementType="i32";e.BufferViewFloat=n;e.BufferViewFloat64=
z;e.BufferViewInt16=ea;e.BufferViewInt32=y;e.BufferViewInt8=ba;e.BufferViewMat3f=m;e.BufferViewMat3f64=w;e.BufferViewMat4f=A;e.BufferViewMat4f64=H;e.BufferViewUint16=M;e.BufferViewUint32=W;e.BufferViewUint8=L;e.BufferViewVec2f=x;e.BufferViewVec2f64=G;e.BufferViewVec2i16=fa;e.BufferViewVec2i32=K;e.BufferViewVec2i8=ca;e.BufferViewVec2u16=O;e.BufferViewVec2u32=X;e.BufferViewVec2u8=E;e.BufferViewVec3f=d;e.BufferViewVec3f64=J;e.BufferViewVec3i16=q;e.BufferViewVec3i32=Q;e.BufferViewVec3i8=aa;e.BufferViewVec3u16=
P;e.BufferViewVec3u32=T;e.BufferViewVec3u8=R;e.BufferViewVec4f=f;e.BufferViewVec4f64=B;e.BufferViewVec4i16=u;e.BufferViewVec4i32=S;e.BufferViewVec4i8=da;e.BufferViewVec4u16=Y;e.BufferViewVec4u32=V;e.BufferViewVec4u8=N;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],function(e){class h{constructor(p,c,k=0,t,v){this.TypedArrayConstructor=p;this.elementCount=9;p=this.TypedArrayConstructor;void 0===t&&(t=9*p.BYTES_PER_ELEMENT);
const n=0===c.byteLength?0:k;this.typedBuffer=null==v?new p(c,n):new p(c,n,(v-k)/p.BYTES_PER_ELEMENT);this.typedBufferStride=t/p.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(p,c,k=this.count-c){c=this.typedBuffer.byteOffset+c*this.stride;return new p(this.buffer,c,this.stride,c+k*this.stride)}getMat(p,c){p*=this.typedBufferStride;for(let k=0;9>k;k++)c[k]=this.typedBuffer[p++];
return c}setMat(p,c){p*=this.typedBufferStride;for(let k=0;9>k;k++)this.typedBuffer[p++]=c[k]}get(p,c){return this.typedBuffer[p*this.typedBufferStride+c]}set(p,c,k){this.typedBuffer[p*this.typedBufferStride+c]=k}copyFrom(p,c,k){const t=this.typedBuffer,v=c.typedBuffer;p*=this.typedBufferStride;c=k*c.typedBufferStride;for(k=0;9>k;++k)t[p++]=v[c++]}get buffer(){return this.typedBuffer.buffer}}h.ElementCount=9;e.BufferViewMat3Impl=h;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],
function(e){class h{constructor(p,c,k=0,t,v){this.TypedArrayConstructor=p;this.elementCount=16;p=this.TypedArrayConstructor;void 0===t&&(t=16*p.BYTES_PER_ELEMENT);const n=0===c.byteLength?0:k;this.typedBuffer=null==v?new p(c,n):new p(c,n,(v-k)/p.BYTES_PER_ELEMENT);this.typedBufferStride=t/p.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(p,c,k=this.count-c){c=this.typedBuffer.byteOffset+
c*this.stride;return new p(this.buffer,c,this.stride,c+k*this.stride)}getMat(p,c){p*=this.typedBufferStride;for(let k=0;16>k;k++)c[k]=this.typedBuffer[p++];return c}setMat(p,c){p*=this.typedBufferStride;for(let k=0;16>k;k++)this.typedBuffer[p++]=c[k]}get(p,c){return this.typedBuffer[p*this.typedBufferStride+c]}set(p,c,k){this.typedBuffer[p*this.typedBufferStride+c]=k}copyFrom(p,c,k){this.copyFromTypedBuffer(p,c.typedBuffer,k*c.typedBufferStride)}copyFromTypedBuffer(p,c,k){const t=this.typedBuffer;
p*=this.typedBufferStride;for(let v=0;16>v;++v)t[p++]=c[k++]}get buffer(){return this.typedBuffer.buffer}}h.ElementCount=16;e.BufferViewMat4Impl=h;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],function(e){class h{constructor(p,c,k=0,t,v){this.TypedArrayConstructor=p;this.elementCount=1;p=this.TypedArrayConstructor;void 0===t&&(t=p.BYTES_PER_ELEMENT);const n=0===c.byteLength?0:k;this.typedBuffer=null==v?
new p(c,n):new p(c,n,(v-k)/p.BYTES_PER_ELEMENT);this.stride=t;this.typedBufferStride=t/p.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(p,c,k=this.count-c){c=this.typedBuffer.byteOffset+c*this.stride;return new p(this.buffer,c,this.stride,c+k*this.stride)}get(p){return this.typedBuffer[p*this.typedBufferStride]}set(p,c){this.typedBuffer[p*this.typedBufferStride]=c}get buffer(){return this.typedBuffer.buffer}}h.ElementCount=1;e.BufferViewScalarImpl=
h;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],function(e,h){class p{constructor(c,k,t=0,v,n){this.TypedArrayConstructor=c;this.elementCount=2;c=this.TypedArrayConstructor;void 0===v&&(v=2*c.BYTES_PER_ELEMENT);const x=0===k.byteLength?0:t;this.typedBuffer=null==n?new c(k,x):new c(k,x,(n-t)/c.BYTES_PER_ELEMENT);this.typedBufferStride=v/c.BYTES_PER_ELEMENT;this.count=
Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(c,k,t=this.count-k){k=this.typedBuffer.byteOffset+k*this.stride;return new c(this.buffer,k,this.stride,k+t*this.stride)}getVec(c,k){c*=this.typedBufferStride;return h.set(k,this.typedBuffer[c],this.typedBuffer[c+1])}setVec(c,k){c*=this.typedBufferStride;this.typedBuffer[c++]=k[0];this.typedBuffer[c]=k[1]}get(c,k){return this.typedBuffer[c*this.typedBufferStride+
k]}set(c,k,t){this.typedBuffer[c*this.typedBufferStride+k]=t}setValues(c,k,t){c*=this.typedBufferStride;this.typedBuffer[c++]=k;this.typedBuffer[c]=t}copyFrom(c,k,t){const v=this.typedBuffer,n=k.typedBuffer;c*=this.typedBufferStride;k=t*k.typedBufferStride;v[c++]=n[k++];v[c]=n[k]}get buffer(){return this.typedBuffer.buffer}}p.ElementCount=2;e.BufferViewVec2Impl=p;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],
function(e,h){function p(q,u){q[0]=u[0];q[1]=u[1];return q}function c(q,u,y){q[0]=u;q[1]=y;return q}function k(q,u,y){q[0]=u[0]+y[0];q[1]=u[1]+y[1];return q}function t(q,u,y){q[0]=u[0]-y[0];q[1]=u[1]-y[1];return q}function v(q,u,y){q[0]=u[0]*y[0];q[1]=u[1]*y[1];return q}function n(q,u,y){q[0]=u[0]/y[0];q[1]=u[1]/y[1];return q}function x(q,u){q[0]=Math.ceil(u[0]);q[1]=Math.ceil(u[1]);return q}function d(q,u){q[0]=Math.floor(u[0]);q[1]=Math.floor(u[1]);return q}function f(q,u,y){q[0]=Math.min(u[0],
y[0]);q[1]=Math.min(u[1],y[1]);return q}function m(q,u,y){q[0]=Math.max(u[0],y[0]);q[1]=Math.max(u[1],y[1]);return q}function w(q,u){q[0]=Math.round(u[0]);q[1]=Math.round(u[1]);return q}function A(q,u,y){q[0]=u[0]*y;q[1]=u[1]*y;return q}function H(q,u,y,K){q[0]=u[0]+y[0]*K;q[1]=u[1]+y[1]*K;return q}function z(q,u){const y=u[0]-q[0];q=u[1]-q[1];return Math.sqrt(y*y+q*q)}function G(q,u){const y=u[0]-q[0];q=u[1]-q[1];return y*y+q*q}function J(q){const u=q[0];q=q[1];return Math.sqrt(u*u+q*q)}function B(q){const u=
q[0];q=q[1];return u*u+q*q}function L(q,u){q[0]=-u[0];q[1]=-u[1];return q}function E(q,u){q[0]=1/u[0];q[1]=1/u[1];return q}function R(q,u){var y=u[0];const K=u[1];y=y*y+K*K;0<y&&(y=1/Math.sqrt(y),q[0]=u[0]*y,q[1]=u[1]*y);return q}function N(q,u){return q[0]*u[0]+q[1]*u[1]}function M(q,u,y){u=u[0]*y[1]-u[1]*y[0];q[0]=q[1]=0;q[2]=u;return q}function O(q,u,y,K){const Q=u[0];u=u[1];q[0]=Q+K*(y[0]-Q);q[1]=u+K*(y[1]-u);return q}function P(q,u=1){const y=2*h.RANDOM()*Math.PI;q[0]=Math.cos(y)*u;q[1]=Math.sin(y)*
u;return q}function Y(q,u,y){const K=u[0];u=u[1];q[0]=y[0]*K+y[2]*u;q[1]=y[1]*K+y[3]*u;return q}function W(q,u,y){const K=u[0];u=u[1];q[0]=y[0]*K+y[2]*u+y[4];q[1]=y[1]*K+y[3]*u+y[5];return q}function X(q,u,y){const K=u[0];u=u[1];q[0]=y[0]*K+y[3]*u+y[6];q[1]=y[1]*K+y[4]*u+y[7];return q}function T(q,u,y){const K=u[0];u=u[1];q[0]=y[0]*K+y[4]*u+y[12];q[1]=y[1]*K+y[5]*u+y[13];return q}function V(q,u,y,K){const Q=u[0]-y[0];u=u[1]-y[1];const S=Math.sin(K);K=Math.cos(K);q[0]=Q*K-u*S+y[0];q[1]=Q*S+u*K+y[1];
return q}function ba(q,u){var y=q[0];q=q[1];const K=u[0];u=u[1];let Q=y*y+q*q;0<Q&&(Q=1/Math.sqrt(Q));let S=K*K+u*u;0<S&&(S=1/Math.sqrt(S));y=(y*K+q*u)*Q*S;return 1<y?0:-1>y?Math.PI:Math.acos(y)}function ca(q){return"vec2("+q[0]+", "+q[1]+")"}function aa(q,u){return q[0]===u[0]&&q[1]===u[1]}function da(q,u){const y=q[0];q=q[1];const K=u[0];u=u[1];const Q=h.getEpsilon();return Math.abs(y-K)<=Q*Math.max(1,Math.abs(y),Math.abs(K))&&Math.abs(q-u)<=Q*Math.max(1,Math.abs(q),Math.abs(u))}function ea(q,u,
y,K,Q){let S=u[0]-y[0];y=u[1]-y[1];Q=(K[0]*S+K[1]*y)*(Q-1);S=K[0]*Q;y=K[1]*Q;q[0]=u[0]+S;q[1]=u[1]+y;return q}const fa=Object.freeze(Object.defineProperty({__proto__:null,add:k,angle:ba,ceil:x,copy:p,cross:M,dist:z,distance:z,div:n,divide:n,dot:N,equals:da,exactEquals:aa,floor:d,inverse:E,len:J,length:J,lerp:O,max:m,min:f,mul:v,multiply:v,negate:L,normalize:R,projectAndScale:ea,random:P,rotate:V,round:w,scale:A,scaleAndAdd:H,set:c,sqrDist:G,sqrLen:B,squaredDistance:G,squaredLength:B,str:ca,sub:t,
subtract:t,transformMat2:Y,transformMat2d:W,transformMat3:X,transformMat4:T},Symbol.toStringTag,{value:"Module"}));e.add=k;e.angle=ba;e.ceil=x;e.copy=p;e.cross=M;e.dist=z;e.distance=z;e.div=n;e.divide=n;e.dot=N;e.equals=da;e.exactEquals=aa;e.floor=d;e.inverse=E;e.len=J;e.length=J;e.lerp=O;e.max=m;e.min=f;e.mul=v;e.multiply=v;e.negate=L;e.normalize=R;e.projectAndScale=ea;e.random=P;e.rotate=V;e.round=w;e.scale=A;e.scaleAndAdd=H;e.set=c;e.sqrDist=G;e.sqrLen=B;e.squaredDistance=G;e.squaredLength=B;e.str=
ca;e.sub=t;e.subtract=t;e.transformMat2=Y;e.transformMat2d=W;e.transformMat3=X;e.transformMat4=T;e.vec2=fa;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/vec32"],function(e,h){class p{constructor(c,k,t=0,v,n){this.TypedArrayConstructor=c;this.elementCount=3;c=this.TypedArrayConstructor;void 0===v&&(v=3*c.BYTES_PER_ELEMENT);const x=0===k.byteLength?0:t;this.typedBuffer=null==n?new c(k,x):
new c(k,x,(n-t)/c.BYTES_PER_ELEMENT);this.typedBufferStride=v/c.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(c,k,t=this.count-k){k=this.typedBuffer.byteOffset+k*this.stride;return new c(this.buffer,k,this.stride,k+t*this.stride)}getVec(c,k){c*=this.typedBufferStride;return h.set(k,this.typedBuffer[c],this.typedBuffer[c+1],this.typedBuffer[c+2])}setVec(c,k){c*=this.typedBufferStride;
this.typedBuffer[c++]=k[0];this.typedBuffer[c++]=k[1];this.typedBuffer[c]=k[2]}get(c,k){return this.typedBuffer[c*this.typedBufferStride+k]}set(c,k,t){this.typedBuffer[c*this.typedBufferStride+k]=t}setValues(c,k,t,v){c*=this.typedBufferStride;this.typedBuffer[c++]=k;this.typedBuffer[c++]=t;this.typedBuffer[c]=v}copyFrom(c,k,t){const v=this.typedBuffer,n=k.typedBuffer;c*=this.typedBufferStride;k=t*k.typedBufferStride;v[c++]=n[k++];v[c++]=n[k++];v[c]=n[k]}get buffer(){return this.typedBuffer.buffer}}
p.ElementCount=3;e.BufferViewVec3Impl=p;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(e,h,p){function c(b){const l=b[0],r=b[1];b=b[2];return Math.sqrt(l*l+r*r+b*b)}function k(b,l){b[0]=l[0];b[1]=l[1];b[2]=l[2];return b}function t(b,l,r,D){b[0]=l;b[1]=r;b[2]=D;return b}function v(b,l,r){b[0]=l[0]+r[0];b[1]=l[1]+r[1];b[2]=l[2]+r[2];return b}
function n(b,l,r){b[0]=l[0]-r[0];b[1]=l[1]-r[1];b[2]=l[2]-r[2];return b}function x(b,l,r){b[0]=l[0]*r[0];b[1]=l[1]*r[1];b[2]=l[2]*r[2];return b}function d(b,l,r){b[0]=l[0]/r[0];b[1]=l[1]/r[1];b[2]=l[2]/r[2];return b}function f(b,l){b[0]=Math.ceil(l[0]);b[1]=Math.ceil(l[1]);b[2]=Math.ceil(l[2]);return b}function m(b,l){b[0]=Math.floor(l[0]);b[1]=Math.floor(l[1]);b[2]=Math.floor(l[2]);return b}function w(b,l){b[0]=Math.abs(l[0]);b[1]=Math.abs(l[1]);b[2]=Math.abs(l[2]);return b}function A(b,l){b[0]=
Math.sign(l[0]);b[1]=Math.sign(l[1]);b[2]=Math.sign(l[2]);return b}function H(b,l,r){b[0]=Math.min(l[0],r[0]);b[1]=Math.min(l[1],r[1]);b[2]=Math.min(l[2],r[2]);return b}function z(b,l,r){b[0]=Math.max(l[0],r[0]);b[1]=Math.max(l[1],r[1]);b[2]=Math.max(l[2],r[2]);return b}function G(b,l=0,r=1){b[0]=Math.min(Math.max(b[0],l),r);b[1]=Math.min(Math.max(b[1],l),r);b[2]=Math.min(Math.max(b[2],l),r);return b}function J(b,l){b[0]=Math.round(l[0]);b[1]=Math.round(l[1]);b[2]=Math.round(l[2]);return b}function B(b,
l,r){b[0]=l[0]*r;b[1]=l[1]*r;b[2]=l[2]*r;return b}function L(b,l,r,D){b[0]=l[0]+r[0]*D;b[1]=l[1]+r[1]*D;b[2]=l[2]+r[2]*D;return b}function E(b,l){const r=l[0]-b[0],D=l[1]-b[1];b=l[2]-b[2];return Math.sqrt(r*r+D*D+b*b)}function R(b,l){const r=l[0]-b[0],D=l[1]-b[1];b=l[2]-b[2];return r*r+D*D+b*b}function N(b){const l=b[0],r=b[1];b=b[2];return l*l+r*r+b*b}function M(b,l){b[0]=-l[0];b[1]=-l[1];b[2]=-l[2];return b}function O(b,l){b[0]=1/l[0];b[1]=1/l[1];b[2]=1/l[2];return b}function P(b,l){var r=l[0];
const D=l[1],F=l[2];r=r*r+D*D+F*F;0<r&&(r=1/Math.sqrt(r),b[0]=l[0]*r,b[1]=l[1]*r,b[2]=l[2]*r);return b}function Y(b,l){return b[0]*l[0]+b[1]*l[1]+b[2]*l[2]}function W(b,l,r){const D=l[0],F=l[1];l=l[2];const I=r[0],U=r[1];r=r[2];b[0]=F*r-l*U;b[1]=l*I-D*r;b[2]=D*U-F*I;return b}function X(b,l,r){var D=l[0],F=l[1],I=l[2];l=r[0];const U=r[1],Z=r[2];r=F*Z-I*U;I=I*l-D*Z;D=D*U-F*l;F=Math.sqrt(r*r+I*I+D*D);b[0]=r/F;b[1]=I/F;b[2]=D/F;return b}function T(b,l,r,D){const F=l[0],I=l[1];l=l[2];b[0]=F+D*(r[0]-F);
b[1]=I+D*(r[1]-I);b[2]=l+D*(r[2]-l);return b}function V(b,l,r,D,F,I){const U=I*I,Z=U*(2*I-3)+1,ia=U*(I-2)+I,ha=U*(I-1);I=U*(3-2*I);b[0]=l[0]*Z+r[0]*ia+D[0]*ha+F[0]*I;b[1]=l[1]*Z+r[1]*ia+D[1]*ha+F[1]*I;b[2]=l[2]*Z+r[2]*ia+D[2]*ha+F[2]*I;return b}function ba(b,l,r,D,F,I){var U=1-I,Z=U*U;const ia=I*I,ha=Z*U;Z*=3*I;U*=3*ia;I*=ia;b[0]=l[0]*ha+r[0]*Z+D[0]*U+F[0]*I;b[1]=l[1]*ha+r[1]*Z+D[1]*U+F[1]*I;b[2]=l[2]*ha+r[2]*Z+D[2]*U+F[2]*I;return b}function ca(b,l=1){var r=p.RANDOM;const D=2*r()*Math.PI;r=2*r()-
1;const F=Math.sqrt(1-r*r)*l;b[0]=Math.cos(D)*F;b[1]=Math.sin(D)*F;b[2]=r*l;return b}function aa(b,l,r){const D=l[0],F=l[1];l=l[2];b[0]=r[0]*D+r[4]*F+r[8]*l+r[12];b[1]=r[1]*D+r[5]*F+r[9]*l+r[13];b[2]=r[2]*D+r[6]*F+r[10]*l+r[14];return b}function da(b,l,r){const D=l[0],F=l[1];l=l[2];b[0]=D*r[0]+F*r[3]+l*r[6];b[1]=D*r[1]+F*r[4]+l*r[7];b[2]=D*r[2]+F*r[5]+l*r[8];return b}function ea(b,l,r){const D=r[0],F=r[1],I=r[2],U=l[0],Z=l[1];l=l[2];const ia=F*l-I*Z,ha=I*U-D*l,ja=D*Z-F*U;r=2*r[3];b[0]=U+ia*r+2*(F*
ja-I*ha);b[1]=Z+ha*r+2*(I*ia-D*ja);b[2]=l+ja*r+2*(D*ha-F*ia);return b}function fa(b,l,r,D){const F=[],I=[];F[0]=l[0]-r[0];F[1]=l[1]-r[1];F[2]=l[2]-r[2];I[0]=F[0];I[1]=F[1]*Math.cos(D)-F[2]*Math.sin(D);I[2]=F[1]*Math.sin(D)+F[2]*Math.cos(D);b[0]=I[0]+r[0];b[1]=I[1]+r[1];b[2]=I[2]+r[2];return b}function q(b,l,r,D){const F=[],I=[];F[0]=l[0]-r[0];F[1]=l[1]-r[1];F[2]=l[2]-r[2];I[0]=F[2]*Math.sin(D)+F[0]*Math.cos(D);I[1]=F[1];I[2]=F[2]*Math.cos(D)-F[0]*Math.sin(D);b[0]=I[0]+r[0];b[1]=I[1]+r[1];b[2]=I[2]+
r[2];return b}function u(b,l,r,D){const F=[],I=[];F[0]=l[0]-r[0];F[1]=l[1]-r[1];F[2]=l[2]-r[2];I[0]=F[0]*Math.cos(D)-F[1]*Math.sin(D);I[1]=F[0]*Math.sin(D)+F[1]*Math.cos(D);I[2]=F[2];b[0]=I[0]+r[0];b[1]=I[1]+r[1];b[2]=I[2]+r[2];return b}function y(b,l){P(g,b);P(C,l);b=Y(g,C);return 1<b?0:-1>b?Math.PI:Math.acos(b)}function K(b){return"vec3("+b[0]+", "+b[1]+", "+b[2]+")"}function Q(b,l){return b[0]===l[0]&&b[1]===l[1]&&b[2]===l[2]}function S(b,l){if(b===l)return!0;const r=b[0],D=b[1];b=b[2];const F=
l[0],I=l[1];l=l[2];const U=p.getEpsilon();return Math.abs(r-F)<=U*Math.max(1,Math.abs(r),Math.abs(F))&&Math.abs(D-I)<=U*Math.max(1,Math.abs(D),Math.abs(I))&&Math.abs(b-l)<=U*Math.max(1,Math.abs(b),Math.abs(l))}function a(b,l,r){const D=r[0]-l[0],F=r[1]-l[1];l=r[2]-l[2];r=D*D+F*F+l*l;if(0<r)return r=1/Math.sqrt(r),b[0]=D*r,b[1]=F*r,b[2]=l*r,b;b[0]=0;b[1]=0;b[2]=0;return b}const g=h.create(),C=h.create();h=Object.freeze(Object.defineProperty({__proto__:null,abs:w,add:v,angle:y,bezier:ba,ceil:f,clamp:G,
copy:k,cross:W,crossAndNormalize:X,direction:a,dist:E,distance:E,div:d,divide:d,dot:Y,equals:S,exactEquals:Q,floor:m,hermite:V,inverse:O,len:c,length:c,lerp:T,max:z,min:H,mul:x,multiply:x,negate:M,normalize:P,random:ca,rotateX:fa,rotateY:q,rotateZ:u,round:J,scale:B,scaleAndAdd:L,set:t,sign:A,sqrDist:R,sqrLen:N,squaredDistance:R,squaredLength:N,str:K,sub:n,subtract:n,transformMat3:da,transformMat4:aa,transformQuat:ea},Symbol.toStringTag,{value:"Module"}));e.abs=w;e.add=v;e.angle=y;e.bezier=ba;e.ceil=
f;e.clamp=G;e.copy=k;e.cross=W;e.crossAndNormalize=X;e.direction=a;e.dist=E;e.distance=E;e.div=d;e.divide=d;e.dot=Y;e.equals=S;e.exactEquals=Q;e.floor=m;e.hermite=V;e.inverse=O;e.len=c;e.length=c;e.lerp=T;e.max=z;e.min=H;e.mul=x;e.multiply=x;e.negate=M;e.normalize=P;e.random=ca;e.rotateX=fa;e.rotateY=q;e.rotateZ=u;e.round=J;e.scale=B;e.scaleAndAdd=L;e.set=t;e.sign=A;e.sqrDist=R;e.sqrLen=N;e.squaredDistance=R;e.squaredLength=N;e.str=K;e.sub=n;e.subtract=n;e.transformMat3=da;e.transformMat4=aa;e.transformQuat=
ea;e.vec3=h})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/vec42"],function(e,h){class p{constructor(c,k,t=0,v,n){this.TypedArrayConstructor=c;this.start=t;this.elementCount=4;c=this.TypedArrayConstructor;void 0===v&&(v=4*c.BYTES_PER_ELEMENT);const x=0===k.byteLength?0:t;this.typedBuffer=null==n?new c(k,x):new c(k,x,(n-t)/c.BYTES_PER_ELEMENT);this.typedBufferStride=v/c.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);
this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(c,k,t=this.count-k){k=this.typedBuffer.byteOffset+k*this.stride;return new c(this.buffer,k,this.stride,k+t*this.stride)}getVec(c,k){c*=this.typedBufferStride;return h.set(k,this.typedBuffer[c++],this.typedBuffer[c++],this.typedBuffer[c++],this.typedBuffer[c])}setVec(c,k){c*=this.typedBufferStride;this.typedBuffer[c++]=k[0];this.typedBuffer[c++]=k[1];this.typedBuffer[c++]=k[2];this.typedBuffer[c]=k[3]}get(c,
k){return this.typedBuffer[c*this.typedBufferStride+k]}set(c,k,t){this.typedBuffer[c*this.typedBufferStride+k]=t}setValues(c,k,t,v,n){c*=this.typedBufferStride;this.typedBuffer[c++]=k;this.typedBuffer[c++]=t;this.typedBuffer[c++]=v;this.typedBuffer[c]=n}copyFrom(c,k,t){const v=this.typedBuffer,n=k.typedBuffer;c*=this.typedBufferStride;k=t*k.typedBufferStride;v[c++]=n[k++];v[c++]=n[k++];v[c++]=n[k++];v[c]=n[k]}get buffer(){return this.typedBuffer.buffer}}p.ElementCount=4;e.BufferViewVec4Impl=p;Object.defineProperty(e,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/types":function(){define(["exports"],function(e){e.elementTypeSize=function(h){switch(h){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8}};e.isInteger=function(h){switch(h){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1}};e.isSigned=function(h){switch(h){case "u8":case "u16":case "u32":return!1;
case "i8":case "i16":case "i32":case "f32":case "f64":return!0}};e.maximumValue=function(h){switch(h){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308}};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../chunks/vec42",
"../../../../core/libs/gl-matrix-2/factories/vec4f64"],function(e,h,p,c){function k(n,x="Assertion"){if(!n)throw new v(`${x} at ${Error(x).stack}`);}const t=c.create();class v{constructor(n){this.message=n}toString(){return`AssertException: ${this.message}`}}e.assert=k;e.isTranslationMatrix=function(n){return 1===n[0]&&0===n[1]&&0===n[2]&&0===n[3]&&0===n[4]&&1===n[5]&&0===n[6]&&0===n[7]&&0===n[8]&&0===n[9]&&1===n[10]&&0===n[11]&&1===n[15]};e.logWithBase=function(n,x){return Math.log(n)/Math.log(x)};
e.project=function(n,x,d,f,m){t[0]=n[0];t[1]=n[1];t[2]=n[2];t[3]=1;p.transformMat4(t,t,x);2<m.length&&(m[2]=-t[2]);p.transformMat4(t,t,d);k(0!==t[3]);m[0]=t[0]/t[3];m[1]=t[1]/t[3];m[2]=t[2]/t[3];m[0]=(.5*m[0]+.5)*f[2]+f[0];m[1]=(.5*m[1]+.5)*f[3]+f[1]};e.rayBoxTest=function(n,x,d,f){let m,w=(d[0]-n[0])/x[0],A=(f[0]-n[0])/x[0];w>A&&(m=w,w=A,A=m);let H=(d[1]-n[1])/x[1],z=(f[1]-n[1])/x[1];H>z&&(m=H,H=z,z=m);if(w>z||H>A)return!1;H>w&&(w=H);z<A&&(A=z);d=(d[2]-n[2])/x[2];n=(f[2]-n[2])/x[2];d>n&&(m=d,d=n,
n=m);if(w>n||d>A)return!1;n<A&&(A=n);return 0>A?!1:!0};e.rayRay2D=function(n,x,d,f,m,w=h.create()){const A=(f[m]-d[m])*(x[0]-n[0])-(f[0]-d[0])*(x[m]-n[m]);if(0===A)return!1;d=((f[0]-d[0])*(n[m]-d[m])-(f[m]-d[m])*(n[0]-d[0]))/A;w[0]=n[0]+d*(x[0]-n[0]);w[1]=n[m]+d*(x[m]-n[m]);return!0};e.setMatrixTranslation3=function(n,x,d,f){n[12]=x;n[13]=d;n[14]=f};e.verify=function(n,x){n||console.warn("Verify failed: "+(x||"")+"\n"+Error("verify").stack)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},
"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(e){function h(){return[0,0]}function p(z){return[z[0],z[1]]}function c(z,G){return[z,G]}function k(z,G=[0,0]){const J=Math.min(2,z.length);for(let B=0;B<J;++B)G[B]=z[B];return G}function t(z,G){return new Float64Array(z,G,2)}function v(){return[0,0]}function n(){return[1,1]}function x(){return[1,0]}function d(){return[0,1]}const f=[0,0],m=[1,1],w=[1,0],A=[0,1],H=Object.freeze(Object.defineProperty({__proto__:null,
ONES:m,UNIT_X:w,UNIT_Y:A,ZEROS:f,clone:p,create:h,createView:t,fromArray:k,fromValues:c,ones:n,unitX:x,unitY:d,zeros:v},Symbol.toStringTag,{value:"Module"}));e.ONES=m;e.UNIT_X=w;e.UNIT_Y=A;e.ZEROS=f;e.clone=p;e.create=h;e.createView=t;e.fromArray=k;e.fromValues=c;e.ones=n;e.unitX=x;e.unitY=d;e.vec2f64=H;e.zeros=v;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil",
"../../../support/buffer/InterleavedLayout","../VertexAttribute"],function(e,h,p,c){const k=p.newLayout().vec3f(c.VertexAttribute.POSITION).u16(c.VertexAttribute.COMPONENTINDEX).freeze(),t=p.newLayout().vec2u8(c.VertexAttribute.SIDENESS).freeze();h=h.glLayout(t);const v=p.newLayout().vec3f(c.VertexAttribute.POSITION0).vec3f(c.VertexAttribute.POSITION1).vec2i16(c.VertexAttribute.NORMALCOMPRESSED).u16(c.VertexAttribute.COMPONENTINDEX).u8(c.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(c.VertexAttribute.VARIANTSTROKE).u8(c.VertexAttribute.VARIANTEXTENSION,
{glNormalized:!0}).freeze();p=p.newLayout().vec3f(c.VertexAttribute.POSITION0).vec3f(c.VertexAttribute.POSITION1).vec2i16(c.VertexAttribute.NORMALCOMPRESSED).vec2i16(c.VertexAttribute.NORMAL2COMPRESSED).u16(c.VertexAttribute.COMPONENTINDEX).u8(c.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(c.VertexAttribute.VARIANTSTROKE).u8(c.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).freeze();c=new Map([[c.VertexAttribute.POSITION0,0],[c.VertexAttribute.POSITION1,1],[c.VertexAttribute.COMPONENTINDEX,
2],[c.VertexAttribute.VARIANTOFFSET,3],[c.VertexAttribute.VARIANTSTROKE,4],[c.VertexAttribute.VARIANTEXTENSION,5],[c.VertexAttribute.NORMALCOMPRESSED,6],[c.VertexAttribute.NORMAL2COMPRESSED,7],[c.VertexAttribute.SIDENESS,8]]);e.EdgeInputBufferLayout=k;e.RegularEdgeInstancesLayout=v;e.SilhouetteEdgeInstancesLayout=p;e.VertexLayout=t;e.glVertexLayout=h;e.vertexAttributeLocations=c;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/glUtil":function(){define(["exports",
"../../../webgl/enums","../../../webgl/VertexElementDescriptor"],function(e,h,p){const c={u8:h.DataType.UNSIGNED_BYTE,u16:h.DataType.UNSIGNED_SHORT,u32:h.DataType.UNSIGNED_INT,i8:h.DataType.BYTE,i16:h.DataType.SHORT,i32:h.DataType.INT,f32:h.DataType.FLOAT};e.glLayout=function(k,t=0){const v=k.stride;return Array.from(k.fields.keys()).map(n=>{const x=k.fields.get(n),d=x.constructor.ElementCount;var f=c[x.constructor.ElementType];if(!f)throw Error("BufferType not supported in WebGL");return new p.VertexElementDescriptor(n,
d,f,x.offset,v,x.optional?.glNormalized??!1,t)})};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(e){e.VertexAttribute=void 0;(function(h){h.POSITION="position";h.NORMAL="normal";h.NORMALCOMPRESSED="normalCompressed";h.UV0="uv0";h.COLOR="color";h.SYMBOLCOLOR="symbolColor";h.SIZE="size";h.ROTATION="rotation";h.TANGENT="tangent";h.OFFSET="offset";h.PERSPECTIVEDIVIDE="perspectiveDivide";h.CENTEROFFSETANDDISTANCE=
"centerOffsetAndDistance";h.LENGTH="length";h.PREVPOSITION="prevPosition";h.NEXTPOSITION="nextPosition";h.SUBDIVISIONFACTOR="subdivisionFactor";h.COLORFEATUREATTRIBUTE="colorFeatureAttribute";h.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";h.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";h.DISTANCETOSTART="distanceToStart";h.UVMAPSPACE="uvMapSpace";h.BOUNDINGRECT="boundingRect";h.UVREGION="uvRegion";h.PROFILERIGHT="profileRight";h.PROFILEUP="profileUp";h.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";
h.FEATUREVALUE="featureValue";h.INSTANCEMODELORIGINHI="instanceModelOriginHi";h.INSTANCEMODELORIGINLO="instanceModelOriginLo";h.INSTANCEMODEL="instanceModel";h.INSTANCEMODELNORMAL="instanceModelNormal";h.INSTANCECOLOR="instanceColor";h.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";h.LOCALTRANSFORM="localTransform";h.GLOBALTRANSFORM="globalTransform";h.BOUNDINGSPHERE="boundingSphere";h.MODELORIGIN="modelOrigin";h.MODELSCALEFACTORS="modelScaleFactors";h.FEATUREATTRIBUTE="featureAttribute";h.STATE=
"state";h.LODLEVEL="lodLevel";h.POSITION0="position0";h.POSITION1="position1";h.NORMAL2COMPRESSED="normal2Compressed";h.COMPONENTINDEX="componentIndex";h.VARIANTOFFSET="variantOffset";h.VARIANTSTROKE="variantStroke";h.VARIANTEXTENSION="variantExtension";h.SIDENESS="sideness";h.START="start";h.END="end";h.UP="up";h.START_UP="startUp";h.END_UP="endUp";h.EXTRUDE="extrude";h.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";h.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})(e.VertexAttribute||
(e.VertexAttribute={}));e.affectsGeometry=function(h){return h===e.VertexAttribute.POSITION};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define("exports ../../../../../core/mathUtils ../../../../../core/PooledArray ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ./Edge".split(" "),function(e,h,p,c,k,t){function v(E){const R=E.faces.length/3,N=E.faces,M=E.neighbors;E=E.vertices.position;
d.length=f.length=0;for(let P=0;P<R;P++){var O=3*P;const Y=M[O],W=M[O+1],X=M[O+2],T=N[O],V=N[O+1];O=N[O+2];E.getVec(T,H);E.getVec(V,z);E.getVec(O,G);c.subtract(z,z,H);c.subtract(G,G,H);c.cross(H,z,G);c.normalize(H,H);f.pushArray(H);if(-1===Y||T<V)d.push(T),d.push(V),d.push(P),d.push(Y);if(-1===W||V<O)d.push(V),d.push(O),d.push(P),d.push(W);if(-1===X||O<T)d.push(O),d.push(T),d.push(P),d.push(X)}return{edges:d,normals:f}}class n{constructor(){this.length=this.index=0}}const x=new p({allocator:E=>E||
new n,deallocator:null}),d=new p({deallocator:null}),f=new p({deallocator:null}),m=new t.Edge,w=k.create(),A=k.create(),H=k.create(),z=k.create(),G=k.create(),J=h.deg2rad(4),B=Math.cos(J);p=h.deg2rad(35);const L=Math.cos(p);e.extractEdges=function(E,R,N){const M=E.vertices.position,O=E.vertices.componentIndex,P=m.position0,Y=m.position1,W=m.faceNormal0,X=m.faceNormal1,{edges:T,normals:V}=v(E);E=T.length/4;const ba=R.allocate(E);let ca=0;const aa=N?.allocate(E);let da=0,ea=0,fa=0;x.length=0;for(var q=
0;q<E;++q){var u=4*q;M.getVec(T.data[u],P);M.getVec(T.data[u+1],Y);u=x.pushNew();u.index=4*q;u.length=c.distance(P,Y)}x.sort((Q,S)=>S.length-Q.length);const y=[],K=[];x.forAll(({length:Q,index:S})=>{var a=T.data[S],g=T.data[S+1];const C=T.data[S+2],b=T.data[S+3];S=-1===b;M.getVec(a,P);M.getVec(g,Y);if(S)g=3*C,c.set(W,V.data[g],V.data[g+1],V.data[g+2]),c.copy(X,W),m.componentIndex=O.get(a),m.cosAngle=c.dot(W,X);else{g=3*C;c.set(W,V.data[g],V.data[g+1],V.data[g+2]);g=3*b;c.set(X,V.data[g],V.data[g+
1],V.data[g+2]);m.componentIndex=O.get(a);m.cosAngle=c.dot(W,X);if(m.cosAngle>B)return;-.9999>m.cosAngle&&c.copy(X,W)}ea+=Q;fa++;S||m.cosAngle<L?(R.write(ba,ca++,m),y.push(Q)):(a=h.acosClamped(m.cosAngle),c.direction(A,m.position1,m.position0),S=0<c.dot(c.cross(w,m.faceNormal0,m.faceNormal1),A)?-1:1,a*S>J&&(aa&&N&&N.write(aa,da++,m),K.push(Q)))});E=new Float32Array(y.reverse());q=new Float32Array(K.reverse());q=aa&&N?{instancesData:aa.slice(0,da),lodInfo:{lengths:q}}:void 0;return{regular:{instancesData:ba.slice(0,
ca),lodInfo:{lengths:E}},silhouette:q,averageEdgeLength:ea/fa}};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/Edge":function(){define(["exports","../../../../../core/libs/gl-matrix-2/factories/vec3f64"],function(e,h){class p{constructor(){this.position0=h.create();this.position1=h.create();this.faceNormal0=h.create();this.faceNormal1=h.create();this.cosAngle=this.componentIndex=0}}e.Edge=p;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},
"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define("exports ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/InterleavedLayout ../VertexAttribute ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),function(e,h,p,c,k,t,v,n){function x(w,A,H,z){if(A)return A=p.computeNeighbors(H,z,w.count),new d(H,z,A,w);w=h.deduplicate(w.buffer,w.stride/4,{originalIndices:H,originalIndicesLength:z});z=p.computeNeighbors(w.indices,
z,w.uniqueCount);return{faces:w.indices,facesLength:w.indices.length,neighbors:z,vertices:t.EdgeInputBufferLayout.createView(w.buffer)}}class d{constructor(w,A,H,z){this.faces=w;this.facesLength=A;this.neighbors=H;this.vertices=z}}const f=new v.RegularEdgeBufferWriter,m=new v.SilhouetteEdgeBufferWriter;v=c.newLayout().vec3f(k.VertexAttribute.POSITION0).vec3f(k.VertexAttribute.POSITION1);c=c.newLayout().vec3f(k.VertexAttribute.POSITION0).vec3f(k.VertexAttribute.POSITION1).u16(k.VertexAttribute.COMPONENTINDEX);
e.extract=function(w){const A=x(w.data,w.skipDeduplicate,w.indices,w.indicesLength);f.updateSettings(w.writerSettings);m.updateSettings(w.writerSettings);return n.extractEdges(A,f,m)};e.extractComponentsEdgeLocationsLayout=c;e.extractEdgeInformation=x;e.extractEdgeLocationsLayout=v;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports","../../../core/mathUtils","../Indices"],function(e,h,p){let c=null;e.deduplicate=
function(k,t,v){var n=Array.isArray(k),x=n?k.length/t:k.byteLength/(4*t),d=n?k:new Uint32Array(k,0,x*t),f=v?.minReduction??0;const m=(k=v?.originalIndices||null)?k.length:0;var w=v?.componentOffsets||null;v=0;if(w)for(var A=0;A<w.length-1;A++){var H=w[A+1]-w[A];H>v&&(v=H)}else v=x;var z=Math.floor(1.1*v)+1;if(null==c||c.length<2*z)c=new Uint32Array(h.nextHighestPowerOfTwo(2*z));for(v=0;v<2*z;v++)c[v]=0;v=0;const G=(H=!!w&&!!k)?m:x;A=p.newIndexArray(x);var J=new Uint32Array(m),B=0!==f?Math.ceil(7.84*
1.96/(f*f)*f*(1-f)):G,L=1,E=w?w[1]:G;for(let P=0;P<G;P++){if(P===B){var R=1-v/P;if(R+1.96*Math.sqrt(R*(1-R)/P)<f)return null;B*=2}if(P===E){for(E=0;E<2*z;E++)c[E]=0;if(k)for(E=w[L-1];E<w[L];E++)J[E]=A[k[E]];E=w[++L]}R=H?k[P]:P;const Y=R*t;var N=0;for(var M=0;M<t;M++)N=d[Y+M]+N|0,N=N+(N<<11)+(N>>>2)|0;N>>>=0;M=N%z;let W=v;for(;0!==c[2*M+1];){if(c[2*M]===N){const X=c[2*M+1]-1;var O=X*t;a:{for(let T=0;T<t;T++)if(d[Y+T]!==d[O+T]){O=!1;break a}O=!0}if(O){W=A[X];break}}M++;M>=z&&(M-=z)}W===v&&(c[2*M]=N,
c[2*M+1]=R+1,v++);A[R]=W}if(0!==f&&1-v/x<f)return null;if(H){for(x=w[L-1];x<J.length;x++)J[x]=A[k[x]];A=p.compactIndices(J)}n=n?Array(v):new Uint32Array(v*t);v=0;for(B=0;B<G;B++)if(A[B]===v){x=d;f=(H?k[B]:B)*t;w=n;z=v*t;J=t;for(L=0;L<J;L++)w[z+L]=x[f+L];v++}if(k&&!H){t=new Uint32Array(m);for(d=0;d<t.length;d++)t[d]=A[k[d]];A=p.compactIndices(t)}return{buffer:Array.isArray(n)?n:n.buffer,indices:A,uniqueCount:v}};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Indices":function(){define(["exports",
"../../core/typedArrayUtil"],function(e,h){function p(d){let f=!0;for(const m of d){if(65536<=m)return h.isArray(d)?new Uint32Array(d):d;256<=m&&(f=!1)}return f?new Uint8Array(d):new Uint16Array(d)}function c(d){if(1===d)return v;if(d<h.nativeArrayMaxSize)return Array.from(new Uint16Array(n.buffer,0,d));if(d<n.length)return new Uint16Array(n.buffer,0,d);if(d>t.length){t=new Uint32Array(Math.max(2*t.length,d));for(let f=0;f<t.length;f++)t[f]=f}return new Uint32Array(t.buffer,0,d)}function k(d){if(1===
d)return v;if(d<h.nativeArrayMaxSize)return Array(d).fill(0);d>x.length&&(x=new Uint8Array(Math.max(2*x.length,d)));return new Uint8Array(x.buffer,0,d)}let t=(()=>{const d=new Uint32Array(131072);for(let f=0;f<d.length;++f)d[f]=f;return d})();const v=[0],n=(()=>{const d=new Uint16Array(65536);for(let f=0;f<d.length;++f)d[f]=f;return d})();let x=new Uint8Array(65536);e.compactIndices=function(d){if(h.isArray(d)){if(d.length<h.nativeArrayMaxSize)return d}else if(d.length<h.nativeArrayMaxSize)return Array.from(d);
let f=!0,m=!0;d.some((w,A)=>{f=f&&0===w;m=m&&w===A;return!f&&!m});return f?k(d.length):m?c(d.length):h.isArray(d)||d.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?p(d):d};e.getContinuousIndexArray=c;e.getZeroIndexArray=k;e.newIndexArray=function(d){return d<=h.nativeArrayMaxSize?Array(d):65536>=d?new Uint16Array(d):new Uint32Array(d)};e.newIntArray=function(d){return d<=h.nativeArrayMaxSize?Array(d):new Uint32Array(d)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/meshProcessing":function(){define(["exports"],
function(e){e.computeNeighbors=function(h,p,c){p/=3;const k=new Uint32Array(c+1),t=new Uint32Array(c+1);var v=(z,G)=>{z<G?k[z+1]++:t[G+1]++};for(var n=0;n<p;n++){var x=h[3*n],d=h[3*n+1],f=h[3*n+2];v(x,d);v(d,f);v(f,x)}n=v=0;for(x=0;x<c;x++)d=k[x+1],f=t[x+1],k[x+1]=v,t[x+1]=n,v+=d,n+=f;const m=new Uint32Array(6*p),w=k[c];v=(z,G,J)=>{z<G?(z=k[z+1]++,m[2*z]=G,m[2*z+1]=J):(G=t[G+1]++,m[2*w+2*G]=z,m[2*w+2*G+1]=J)};for(n=0;n<p;n++)x=h[3*n],d=h[3*n+1],f=h[3*n+2],v(x,d,n),v(d,f,n),v(f,x,n);v=(z,G)=>{const J=
2*z;z=G-z;for(G=1;G<z;G++){const B=m[J+2*G],L=m[J+2*G+1];let E=G-1;for(E;0<=E&&m[J+2*E]>B;E--)m[J+2*E+2]=m[J+2*E],m[J+2*E+3]=m[J+2*E+1];m[J+2*E+2]=B;m[J+2*E+3]=L}};for(n=0;n<c;n++)v(k[n],k[n+1]),v(w+t[n],w+t[n+1]);const A=new Int32Array(3*p),H=(z,G)=>z===h[3*G]?0:z===h[3*G+1]?1:z===h[3*G+2]?2:-1;p=(z,G)=>{z=H(z,G);A[3*G+z]=-1};v=(z,G,J,B)=>{z=H(z,G);A[3*G+z]=B;J=H(J,B);A[3*B+J]=G};for(n=0;n<c;n++){x=k[n];d=k[n+1];f=t[n];const z=t[n+1];for(;x<d&&f<z;){const G=m[2*x],J=m[2*w+2*f];G===J?(v(n,m[2*x+1],
J,m[2*w+2*f+1]),x++,f++):G<J?(p(n,m[2*x+1]),x++):(p(J,m[2*w+2*f+1]),f++)}for(;x<d;)p(n,m[2*x+1]),x++;for(;f<z;)p(m[2*w+2*f],m[2*w+2*f+1]),f++}return A};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("exports ../../../../../core/RandomLCG ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../support/buffer/glUtil ../Normals ./bufferLayouts".split(" "),function(e,
h,p,c,k,t,v){function n(B){m[0]=B.position0[0];m[1]=B.position0[1];m[2]=B.position0[2];m[3]=B.position1[0];m[4]=B.position1[1];m[5]=B.position1[2];A[0]=31*(31*(31*(31*(31*(166811+w[0])+w[1])+w[2])+w[3])+w[4])+w[5];return A[0]}function x(B){const L=m;L[0]=d(B.position0[0]);L[1]=d(B.position0[1]);L[2]=d(B.position0[2]);L[3]=d(B.position1[0]);L[4]=d(B.position1[1]);L[5]=d(B.position1[2]);A[0]=5381;for(B=0;B<w.length;B++)A[0]=31*A[0]+w[B];return A[0]}function d(B){return Math.round(1E4*B)/1E4}class f{updateSettings(B){this.settings=
B;this._edgeHashFunction=B.reducedPrecision?x:n}write(B,L,E){J.seed=this._edgeHashFunction(E);const R=J.getIntRange(0,255),N=J.getIntRange(0,this.settings.variants-1);var M=J.getFloat();M=-(1-Math.min(M/.7,1))+Math.max(0,M-.7)/(1-.7);M=255*(Math.abs(M)**1.2*Math.sign(M)*.5+.5);B.position0.setVec(L,E.position0);B.position1.setVec(L,E.position1);B.componentIndex.set(L,E.componentIndex);B.variantOffset.set(L,R);B.variantStroke.set(L,N);B.variantExtension.set(L,M)}}const m=new Float32Array(6),w=new Uint32Array(m.buffer),
A=new Uint32Array(1);class H{constructor(){this._commonWriter=new f}updateSettings(B){this._commonWriter.updateSettings(B)}allocate(B){return v.RegularEdgeInstancesLayout.createBuffer(B)}write(B,L,E){this._commonWriter.write(B,L,E);p.add(G,E.faceNormal0,E.faceNormal1);p.normalize(G,G);const {typedBuffer:R,typedBufferStride:N}=B.normalCompressed;t.compressNormal(R,L,G[0],G[1],G[2],N)}}H.Layout=v.RegularEdgeInstancesLayout;H.glLayout=k.glLayout(v.RegularEdgeInstancesLayout,1);class z{constructor(){this._commonWriter=
new f}updateSettings(B){this._commonWriter.updateSettings(B)}allocate(B){return v.SilhouetteEdgeInstancesLayout.createBuffer(B)}write(B,L,E){this._commonWriter.write(B,L,E);const {typedBuffer:R,typedBufferStride:N}=B.normalCompressed;t.compressNormal(R,L,E.faceNormal0[0],E.faceNormal0[1],E.faceNormal0[2],N);const {typedBuffer:M,typedBufferStride:O}=B.normal2Compressed;t.compressNormal(M,L,E.faceNormal1[0],E.faceNormal1[1],E.faceNormal1[2],O)}}z.Layout=v.SilhouetteEdgeInstancesLayout;z.glLayout=k.glLayout(v.SilhouetteEdgeInstancesLayout,
1);const G=c.create(),J=new h;e.RegularEdgeBufferWriter=H;e.SilhouetteEdgeBufferWriter=z;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Normals":function(){define(["exports","../../../../core/mathUtils","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/support/FloatArray"],function(e,h,p,c,k){function t(d,f,m,w,A,H=2){var z=1/(Math.abs(m)+Math.abs(w)+Math.abs(A));m*=z;w*=z;z=0>=A?(0<=w?1:-1)*(1-Math.abs(m)):
w;f*=H;d[f]=n(0>=A?(0<=m?1:-1)*(1-Math.abs(w)):m);d[f+1]=n(z)}function v(d,f,m,w=2){w*=m;m=x(f[w]);f=x(f[w+1]);w=1-Math.abs(m)-Math.abs(f);d[2]=w;0>w?(d[0]=(0<=m?1:-1)*(1-Math.abs(f)),d[1]=(0<=f?1:-1)*(1-Math.abs(m))):(d[0]=m,d[1]=f);p.normalize(d,d)}function n(d){return h.clamp(Math.round(32767*d),-32767,32767)}function x(d){return h.clamp(d/32767,-1,1)}e.compressAndTransformNormals=function(d,f){const m=d.length/3,w=new Int16Array(2*m);let A=0;const H=c.create();for(let z=0;z<m;++z)H[0]=d[A++],
H[1]=d[A++],H[2]=d[A++],p.transformMat3(H,H,f),t(w,z,H[0],H[1],H[2]);return w};e.compressNormal=t;e.compressNormals=function(d){const f=d.length/3,m=new Int16Array(2*f);let w=0;for(let A=0;A<f;++A)t(m,A,d[w++],d[w++],d[w++]);return m};e.decodeInt16=x;e.decompressNormal=v;e.decompressNormals=function(d,f=2){const m=d.length/f,w=k.newFloatArray(3*m),A=c.create();let H=0;for(let z=0;z<m;++z)v(A,d,z,f),w[H++]=A[0],w[H++]=A[1],w[H++]=A[2];return w};e.encodeInt16=n;Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/FloatArray":function(){define(["exports","../../core/typedArrayUtil"],function(e,h){e.compactFloatArray=function(p){return h.isArray(p)?p.length<h.nativeArrayMaxSize?p:new Float32Array(p):p.length<h.nativeArrayMaxSize?Array.from(p):p};e.floatArrayFrom=function(p){return(h.isArray(p)?p.length:p.byteLength/8)<=h.nativeArrayMaxSize?Array.from(p):new Float32Array(p)};e.floatSubArray=function(p,c,k){return Array.isArray(p)?p.slice(c,c+k):p.subarray(c,c+k)};e.newFloatArray=
function(p,c=!1){return p<=h.nativeArrayMaxSize?c?Array(p).fill(0):Array(p):new Float32Array(p)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../support/buffer/workerHelper","./bufferLayouts","./edgePreprocessing","./edgeProcessing"],function(e,h,p,c){function k(f){return{data:h.EdgeInputBufferLayout.createView(f.dataBuffer),indices:"Uint32Array"===f.indicesType?new Uint32Array(f.indices):"Uint16Array"===f.indicesType?new Uint16Array(f.indices):f.indices,indicesLength:f.indicesLength,writerSettings:f.writerSettings,skipDeduplicate:f.skipDeduplicate}}class t{async extract(f){var m=k(f);f=c.extract(m);m=[m.data.buffer];m.push(f.regular.lodInfo.lengths.buffer);
m.push(f.silhouette.lodInfo.lengths.buffer);return{result:{regular:{instancesData:e.packInterleavedBuffer(f.regular.instancesData,m),lodInfo:{lengths:f.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:e.packInterleavedBuffer(f.silhouette.instancesData,m),lodInfo:{lengths:f.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:f.averageEdgeLength},transferList:m}}async extractComponentsEdgeLocations(f){f=k(f);f=c.extractEdgeInformation(f.data,f.skipDeduplicate,f.indices,f.indicesLength);
f=p.extractEdges(f,d);const m=[];return{result:e.packInterleavedBuffer(f.regular.instancesData,m),transferList:m}}async extractEdgeLocations(f){f=k(f);f=c.extractEdgeInformation(f.data,f.skipDeduplicate,f.indices,f.indicesLength);f=p.extractEdges(f,x);const m=[];return{result:e.packInterleavedBuffer(f.regular.instancesData,m),transferList:m}}}class v{allocate(f){return c.extractEdgeLocationsLayout.createBuffer(f)}trim(f,m){return f.slice(0,m)}write(f,m,w){f.position0.setVec(m,w.position0);f.position1.setVec(m,
w.position1)}}class n{allocate(f){return c.extractComponentsEdgeLocationsLayout.createBuffer(f)}trim(f,m){return f.slice(0,m)}write(f,m,w){f.position0.setVec(m,w.position0);f.position1.setVec(m,w.position1);f.componentIndex.set(m,w.componentIndex)}}const x=new v,d=new n;return t});