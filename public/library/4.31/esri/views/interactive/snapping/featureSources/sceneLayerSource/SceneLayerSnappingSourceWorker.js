// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
require({cache:{"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(c,u,q){function h(k){const E=k[0],L=k[1];k=k[2];return Math.sqrt(E*E+L*L+k*k)}function t(k,E){k[0]=E[0];k[1]=E[1];k[2]=E[2];return k}function x(k,E,L,a){k[0]=E;k[1]=L;k[2]=a;return k}function y(k,E,L){k[0]=E[0]+L[0];k[1]=E[1]+L[1];k[2]=E[2]+L[2];return k}function v(k,E,L){k[0]=E[0]-L[0];k[1]=E[1]-L[1];k[2]=E[2]-L[2];return k}function D(k,E,
L){k[0]=E[0]*L[0];k[1]=E[1]*L[1];k[2]=E[2]*L[2];return k}function f(k,E,L){k[0]=E[0]/L[0];k[1]=E[1]/L[1];k[2]=E[2]/L[2];return k}function p(k,E){k[0]=Math.ceil(E[0]);k[1]=Math.ceil(E[1]);k[2]=Math.ceil(E[2]);return k}function A(k,E){k[0]=Math.floor(E[0]);k[1]=Math.floor(E[1]);k[2]=Math.floor(E[2]);return k}function N(k,E){k[0]=Math.abs(E[0]);k[1]=Math.abs(E[1]);k[2]=Math.abs(E[2]);return k}function I(k,E){k[0]=Math.sign(E[0]);k[1]=Math.sign(E[1]);k[2]=Math.sign(E[2]);return k}function P(k,E,L){k[0]=
Math.min(E[0],L[0]);k[1]=Math.min(E[1],L[1]);k[2]=Math.min(E[2],L[2]);return k}function M(k,E,L){k[0]=Math.max(E[0],L[0]);k[1]=Math.max(E[1],L[1]);k[2]=Math.max(E[2],L[2]);return k}function S(k,E=0,L=1){k[0]=Math.min(Math.max(k[0],E),L);k[1]=Math.min(Math.max(k[1],E),L);k[2]=Math.min(Math.max(k[2],E),L);return k}function C(k,E){k[0]=Math.round(E[0]);k[1]=Math.round(E[1]);k[2]=Math.round(E[2]);return k}function F(k,E,L){k[0]=E[0]*L;k[1]=E[1]*L;k[2]=E[2]*L;return k}function Q(k,E,L,a){k[0]=E[0]+L[0]*
a;k[1]=E[1]+L[1]*a;k[2]=E[2]+L[2]*a;return k}function U(k,E){const L=E[0]-k[0],a=E[1]-k[1];k=E[2]-k[2];return Math.sqrt(L*L+a*a+k*k)}function ea(k,E){const L=E[0]-k[0],a=E[1]-k[1];k=E[2]-k[2];return L*L+a*a+k*k}function ba(k){const E=k[0],L=k[1];k=k[2];return E*E+L*L+k*k}function ia(k,E){k[0]=-E[0];k[1]=-E[1];k[2]=-E[2];return k}function ja(k,E){k[0]=1/E[0];k[1]=1/E[1];k[2]=1/E[2];return k}function pa(k,E){var L=E[0];const a=E[1],b=E[2];L=L*L+a*a+b*b;0<L&&(L=1/Math.sqrt(L),k[0]=E[0]*L,k[1]=E[1]*L,
k[2]=E[2]*L);return k}function ra(k,E){return k[0]*E[0]+k[1]*E[1]+k[2]*E[2]}function O(k,E,L){const a=E[0],b=E[1];E=E[2];const d=L[0],m=L[1];L=L[2];k[0]=b*L-E*m;k[1]=E*d-a*L;k[2]=a*m-b*d;return k}function V(k,E,L){var a=E[0],b=E[1],d=E[2];E=L[0];const m=L[1],z=L[2];L=b*z-d*m;d=d*E-a*z;a=a*m-b*E;b=Math.sqrt(L*L+d*d+a*a);k[0]=L/b;k[1]=d/b;k[2]=a/b;return k}function aa(k,E,L,a){const b=E[0],d=E[1];E=E[2];k[0]=b+a*(L[0]-b);k[1]=d+a*(L[1]-d);k[2]=E+a*(L[2]-E);return k}function fa(k,E,L,a,b,d){const m=
d*d,z=m*(2*d-3)+1,G=m*(d-2)+d,K=m*(d-1);d=m*(3-2*d);k[0]=E[0]*z+L[0]*G+a[0]*K+b[0]*d;k[1]=E[1]*z+L[1]*G+a[1]*K+b[1]*d;k[2]=E[2]*z+L[2]*G+a[2]*K+b[2]*d;return k}function ma(k,E,L,a,b,d){var m=1-d,z=m*m;const G=d*d,K=z*m;z*=3*d;m*=3*G;d*=G;k[0]=E[0]*K+L[0]*z+a[0]*m+b[0]*d;k[1]=E[1]*K+L[1]*z+a[1]*m+b[1]*d;k[2]=E[2]*K+L[2]*z+a[2]*m+b[2]*d;return k}function na(k,E=1){var L=q.RANDOM;const a=2*L()*Math.PI;L=2*L()-1;const b=Math.sqrt(1-L*L)*E;k[0]=Math.cos(a)*b;k[1]=Math.sin(a)*b;k[2]=L*E;return k}function l(k,
E,L){const a=E[0],b=E[1];E=E[2];k[0]=L[0]*a+L[4]*b+L[8]*E+L[12];k[1]=L[1]*a+L[5]*b+L[9]*E+L[13];k[2]=L[2]*a+L[6]*b+L[10]*E+L[14];return k}function r(k,E,L){const a=E[0],b=E[1];E=E[2];k[0]=a*L[0]+b*L[3]+E*L[6];k[1]=a*L[1]+b*L[4]+E*L[7];k[2]=a*L[2]+b*L[5]+E*L[8];return k}function R(k,E,L){const a=L[0],b=L[1],d=L[2],m=E[0],z=E[1];E=E[2];const G=b*E-d*z,K=d*m-a*E,W=a*z-b*m;L=2*L[3];k[0]=m+G*L+2*(b*W-d*K);k[1]=z+K*L+2*(d*G-a*W);k[2]=E+W*L+2*(a*K-b*G);return k}function da(k,E,L,a){const b=[],d=[];b[0]=
E[0]-L[0];b[1]=E[1]-L[1];b[2]=E[2]-L[2];d[0]=b[0];d[1]=b[1]*Math.cos(a)-b[2]*Math.sin(a);d[2]=b[1]*Math.sin(a)+b[2]*Math.cos(a);k[0]=d[0]+L[0];k[1]=d[1]+L[1];k[2]=d[2]+L[2];return k}function B(k,E,L,a){const b=[],d=[];b[0]=E[0]-L[0];b[1]=E[1]-L[1];b[2]=E[2]-L[2];d[0]=b[2]*Math.sin(a)+b[0]*Math.cos(a);d[1]=b[1];d[2]=b[2]*Math.cos(a)-b[0]*Math.sin(a);k[0]=d[0]+L[0];k[1]=d[1]+L[1];k[2]=d[2]+L[2];return k}function H(k,E,L,a){const b=[],d=[];b[0]=E[0]-L[0];b[1]=E[1]-L[1];b[2]=E[2]-L[2];d[0]=b[0]*Math.cos(a)-
b[1]*Math.sin(a);d[1]=b[0]*Math.sin(a)+b[1]*Math.cos(a);d[2]=b[2];k[0]=d[0]+L[0];k[1]=d[1]+L[1];k[2]=d[2]+L[2];return k}function g(k,E){pa(n,k);pa(Z,E);k=ra(n,Z);return 1<k?0:-1>k?Math.PI:Math.acos(k)}function w(k){return"vec3("+k[0]+", "+k[1]+", "+k[2]+")"}function J(k,E){return k[0]===E[0]&&k[1]===E[1]&&k[2]===E[2]}function T(k,E){if(k===E)return!0;const L=k[0],a=k[1];k=k[2];const b=E[0],d=E[1];E=E[2];const m=q.getEpsilon();return Math.abs(L-b)<=m*Math.max(1,Math.abs(L),Math.abs(b))&&Math.abs(a-
d)<=m*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(k-E)<=m*Math.max(1,Math.abs(k),Math.abs(E))}function e(k,E,L){const a=L[0]-E[0],b=L[1]-E[1];E=L[2]-E[2];L=a*a+b*b+E*E;if(0<L)return L=1/Math.sqrt(L),k[0]=a*L,k[1]=b*L,k[2]=E*L,k;k[0]=0;k[1]=0;k[2]=0;return k}const n=u.create(),Z=u.create();u=Object.freeze(Object.defineProperty({__proto__:null,abs:N,add:y,angle:g,bezier:ma,ceil:p,clamp:S,copy:t,cross:O,crossAndNormalize:V,direction:e,dist:U,distance:U,div:f,divide:f,dot:ra,equals:T,exactEquals:J,
floor:A,hermite:fa,inverse:ja,len:h,length:h,lerp:aa,max:M,min:P,mul:D,multiply:D,negate:ia,normalize:pa,random:na,rotateX:da,rotateY:B,rotateZ:H,round:C,scale:F,scaleAndAdd:Q,set:x,sign:I,sqrDist:ea,sqrLen:ba,squaredDistance:ea,squaredLength:ba,str:w,sub:v,subtract:v,transformMat3:r,transformMat4:l,transformQuat:R},Symbol.toStringTag,{value:"Module"}));c.abs=N;c.add=y;c.angle=g;c.bezier=ma;c.ceil=p;c.clamp=S;c.copy=t;c.cross=O;c.crossAndNormalize=V;c.direction=e;c.dist=U;c.distance=U;c.div=f;c.divide=
f;c.dot=ra;c.equals=T;c.exactEquals=J;c.floor=A;c.hermite=fa;c.inverse=ja;c.len=h;c.length=h;c.lerp=aa;c.max=M;c.min=P;c.mul=D;c.multiply=D;c.negate=ia;c.normalize=pa;c.random=na;c.rotateX=da;c.rotateY=B;c.rotateZ=H;c.round=C;c.scale=F;c.scaleAndAdd=Q;c.set=x;c.sign=I;c.sqrDist=ea;c.sqrLen=ba;c.squaredDistance=ea;c.squaredLength=ba;c.str=w;c.sub=v;c.subtract=v;c.transformMat3=r;c.transformMat4=l;c.transformQuat=R;c.vec3=u})},"esri/geometry/support/lineSegment":function(){define("exports ../../core/mathUtils ../../core/ObjectStack ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),
function(c,u,q,h,t,x){function y(I){return I?{origin:t.clone(I.origin),vector:t.clone(I.vector)}:{origin:t.create(),vector:t.create()}}function v(I,P){const M=N.get();M.origin=I;M.vector=P;return M}function D(I,P,M=y()){h.copy(M.origin,I);h.copy(M.vector,P);return M}function f(I,P,M,S,C){const {vector:F,origin:Q}=I;P=h.subtract(x.sv3d.get(),P,Q);P=h.dot(F,P)/h.squaredLength(F);h.scale(C,F,u.clamp(P,M,S));return h.add(C,C,I.origin)}function p(I,P,M,S){const C=I.origin;var F=h.add(x.sv3d.get(),C,I.vector);
I=P.origin;var Q=h.add(x.sv3d.get(),I,P.vector),U=x.sv3d.get();P=x.sv3d.get();U[0]=C[0]-I[0];U[1]=C[1]-I[1];U[2]=C[2]-I[2];P[0]=Q[0]-I[0];P[1]=Q[1]-I[1];P[2]=Q[2]-I[2];if(1E-6>Math.abs(P[0])&&1E-6>Math.abs(P[1])&&1E-6>Math.abs(P[2]))return!1;Q=x.sv3d.get();Q[0]=F[0]-C[0];Q[1]=F[1]-C[1];Q[2]=F[2]-C[2];if(1E-6>Math.abs(Q[0])&&1E-6>Math.abs(Q[1])&&1E-6>Math.abs(Q[2]))return!1;F=U[0]*P[0]+U[1]*P[1]+U[2]*P[2];var ea=P[0]*Q[0]+P[1]*Q[1]+P[2]*Q[2];const ba=P[0]*P[0]+P[1]*P[1]+P[2]*P[2],ia=(Q[0]*Q[0]+Q[1]*
Q[1]+Q[2]*Q[2])*ba-ea*ea;if(1E-6>Math.abs(ia))return!1;U=(F*ea-(U[0]*Q[0]+U[1]*Q[1]+U[2]*Q[2])*ba)/ia;F=(F+ea*U)/ba;M&&(U=u.clamp(U,0,1),F=u.clamp(F,0,1));M=x.sv3d.get();ea=x.sv3d.get();M[0]=C[0]+U*Q[0];M[1]=C[1]+U*Q[1];M[2]=C[2]+U*Q[2];ea[0]=I[0]+F*P[0];ea[1]=I[1]+F*P[1];ea[2]=I[2]+F*P[2];S.tA=U;S.tB=F;S.pA=M;S.pB=ea;S.distance2=h.squaredDistance(M,ea);return!0}const A={tA:0,tB:0,pA:t.create(),pB:t.create(),distance2:0},N=new q.ObjectStack(()=>y());c.closestLineSegmentPoint=function(I,P,M){return p(I,
P,!0,A)?(h.copy(M,A.pA),!0):!1};c.closestRayDistance2=function(I,P){if(p(I,v(P.origin,P.direction),!1,A)){const {tA:M,pB:S,distance2:C}=A;if(0<=M&&1>=M)return C;if(0>M)return h.squaredDistance(I.origin,S);if(1<M)return h.squaredDistance(h.add(x.sv3d.get(),I.origin,I.vector),S)}return null};c.copy=function(I,P=y()){return D(I.origin,I.vector,P)};c.create=y;c.distance2=function(I,P){P=h.subtract(x.sv3d.get(),P,I.origin);var M=h.dot(I.vector,P);const S=h.dot(I.vector,I.vector);M=u.clamp(M/S,0,1);I=h.subtract(x.sv3d.get(),
h.scale(x.sv3d.get(),I.vector,M),P);return h.dot(I,I)};c.fromPoints=function(I,P,M=y()){h.copy(M.origin,I);h.subtract(M.vector,P,I);return M};c.fromValues=D;c.pointAt=function(I,P,M){return h.add(M,I.origin,h.scale(M,I.vector,P))};c.projectPoint=function(I,P,M){return f(I,P,0,1,M)};c.projectPointClamp=f;c.wrap=v;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports","./nextTick"],function(c,u){class q{constructor(h){this._allocator=h;this._items=
[];this._itemsPtr=0;this._grow()}get(){0===this._itemsPtr&&u.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]}_reset(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0}_grow(){for(let h=0;h<Math.max(8,Math.min(this._items.length,1024));h++)this._items.push(this._allocator())}}c.ObjectStack=q;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports",
"../../core/VectorStack"],function(c,u){const q=u.VectorStack.createVec2f64(),h=u.VectorStack.createVec3f64(),t=u.VectorStack.createVec4f64(),x=u.VectorStack.createMat3f64(),y=u.VectorStack.createMat4f64();u=u.VectorStack.createQuatf64();c.sm3d=x;c.sm4d=y;c.sq4d=u;c.sv2d=q;c.sv3d=h;c.sv4d=t;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ./has ./nextTick ./libs/gl-matrix-2/factories/mat3f64 ./libs/gl-matrix-2/factories/mat4f64 ./libs/gl-matrix-2/factories/quatf64 ./libs/gl-matrix-2/factories/vec2f64 ./libs/gl-matrix-2/factories/vec3f64 ./libs/gl-matrix-2/factories/vec4f64".split(" "),
function(c,u,q,h,t,x,y,v,D){class f{constructor(p){this._create=p;this._items=[];this._itemsPtr=0}get(){0===this._itemsPtr&&q.nextTick(()=>this._reset());this._itemsPtr>=this._items.length&&this._items.push(this._create());return this._items[this._itemsPtr++]}_reset(){const p=2*this._itemsPtr;this._items.length>p&&(this._items.length=p);this._itemsPtr=0}static createVec2f64(){return new f(y.create)}static createVec3f64(){return new f(v.create)}static createVec4f64(){return new f(D.create)}static createMat3f64(){return new f(h.create)}static createMat4f64(){return new f(t.create)}static createQuatf64(){return new f(x.create)}get test(){}}
c.VectorStack=f;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(c){function u(){return[1,0,0,0,1,0,0,0,1]}function q(v){return[v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8]]}function h(v,D,f,p,A,N,I,P,M){return[v,D,f,p,A,N,I,P,M]}function t(v,D){return new Float64Array(v,D,9)}const x=u(),y=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:x,clone:q,create:u,createView:t,fromValues:h},Symbol.toStringTag,
{value:"Module"}));c.IDENTITY=x;c.clone=q;c.create=u;c.createView=t;c.fromValues=h;c.mat3f64=y;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(c){function u(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function q(v){return[v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]]}function h(v,D,f,p,A,N,I,P,M,S,C,F,Q,U,ea,ba){return[v,D,f,p,A,N,I,P,M,S,C,F,Q,U,ea,ba]}function t(v,
D){return new Float64Array(v,D,16)}const x=u(),y=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:x,clone:q,create:u,createView:t,fromValues:h},Symbol.toStringTag,{value:"Module"}));c.IDENTITY=x;c.clone=q;c.create=u;c.createView=t;c.fromValues=h;c.mat4f64=y;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],function(c){function u(){return[0,0,0,1]}function q(y){return[y[0],y[1],y[2],y[3]]}function h(y,
v,D,f){return[y,v,D,f]}const t=u(),x=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:t,clone:q,create:u,fromValues:h},Symbol.toStringTag,{value:"Module"}));c.IDENTITY=t;c.clone=q;c.create=u;c.fromValues=h;c.quatf64=x;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(c){function u(){return[0,0]}function q(M){return[M[0],M[1]]}function h(M,S){return[M,S]}function t(M,S=[0,0]){const C=Math.min(2,
M.length);for(let F=0;F<C;++F)S[F]=M[F];return S}function x(M,S){return new Float64Array(M,S,2)}function y(){return[0,0]}function v(){return[1,1]}function D(){return[1,0]}function f(){return[0,1]}const p=[0,0],A=[1,1],N=[1,0],I=[0,1],P=Object.freeze(Object.defineProperty({__proto__:null,ONES:A,UNIT_X:N,UNIT_Y:I,ZEROS:p,clone:q,create:u,createView:x,fromArray:t,fromValues:h,ones:v,unitX:D,unitY:f,zeros:y},Symbol.toStringTag,{value:"Module"}));c.ONES=A;c.UNIT_X=N;c.UNIT_Y=I;c.ZEROS=p;c.clone=q;c.create=
u;c.createView=x;c.fromArray=t;c.fromValues=h;c.ones=v;c.unitX=D;c.unitY=f;c.vec2f64=P;c.zeros=y;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/libs/gl-matrix-2/math/mat4 ./vec32 ../core/libs/gl-matrix-2/factories/vec3f64 ./vec42 ../core/libs/gl-matrix-2/factories/vec4f64 ../core/libs/gl-matrix-2/math/common ../geometry/support/Axis ../geometry/support/ray ../geometry/support/sphereUtils ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(c,u,q,h,t,x,y,v,D,f,p,A,N,I,P){function M(){return D.create()}function S(b,d){return v.copy(d,b)}function C(b,d){return D.fromValues(b[0],b[1],b[2],d)}function F(b){return b}function Q(b){b[0]=b[1]=b[2]=b[3]=0}function U(b,d){b[0]=b[1]=b[2]=0;b[3]=d;return b}function ea(b){return b[3]}function ba(b){return b}function ia(b,d,m,z){return D.fromValues(b,d,m,z)}function ja(b,d,m){b!==m&&(m[0]=b[0],m[1]=b[1],m[2]=b[2]);m[3]=b[3]+d;return m}function pa(b,d,m){b!==m&&S(b,m);return m}function ra(b,
d){return d}function O(b,d,m){if(null==d||!aa(b,d,n))return!1;let {t0:z,t1:G}=n;if(0>z||G<z&&0<G)z=G;if(0>z)return!1;if(m){const {origin:K,direction:W}=d;m[0]=K[0]+W[0]*z;m[1]=K[1]+W[1]*z;m[2]=K[2]+W[2]*z}return!0}function V(b,d,m){d=A.fromPoints(d,m);if(!aa(b,d,n))return[];const {origin:z,direction:G}=d,{t0:K,t1:W}=n;d=Y=>{const X=y.create();x.scaleAndAdd(X,z,G,Y);return R(b,X,X)};return Math.abs(K-W)<f.getEpsilon()?[d(K)]:[d(K),d(W)]}function aa(b,d,m){const {origin:z,direction:G}=d,K=Z;K[0]=z[0]-
b[0];K[1]=z[1]-b[1];K[2]=z[2]-b[2];d=G[0]*G[0]+G[1]*G[1]+G[2]*G[2];if(0===d)return!1;const W=2*(G[0]*K[0]+G[1]*K[1]+G[2]*K[2]);b=W*W-4*d*(K[0]*K[0]+K[1]*K[1]+K[2]*K[2]-b[3]*b[3]);if(0>b)return!1;b=Math.sqrt(b);m.t0=(-W-b)/(2*d);m.t1=(-W+b)/(2*d);return!0}function fa(b,d){return O(b,d,null)}function ma(b,d,m){if(O(b,d,m))return m;b=na(b,d,P.sv3d.get());x.add(m,d.origin,x.scale(P.sv3d.get(),d.direction,x.distance(d.origin,b)/x.length(d.direction)));return m}function na(b,d,m){const z=P.sv3d.get(),G=
P.sm4d.get();x.cross(z,d.origin,d.direction);const K=b[3];x.cross(m,z,d.origin);x.scale(m,m,1/x.length(m)*K);b=B(b,d.origin);d=I.angle(d.origin,m);t.fromRotation(G,d+b,z);x.transformMat4(m,m,G);return m}function l(b,d,m,z){b=b[3];var G=b*b;d+=.5*Math.PI;const K=m*m+G-2*Math.cos(d)*m*b;m=Math.sqrt(K);G=K-G;return 0>=G?.5:Math.min(1,(Math.acos(Math.sqrt(G)/m)-Math.asin(b/(m/Math.sin(d)))+.5*z)/z)}function r(b,d,m){if(O(b,d,m))return m;A.closestPoint(d,b,m);return R(b,m,m)}function R(b,d,m){d=x.subtract(P.sv3d.get(),
d,b);d=x.scale(P.sv3d.get(),d,b[3]/x.length(d));return x.add(m,d,b)}function da(b,d){d=x.subtract(P.sv3d.get(),d,b);d=x.squaredLength(d);return Math.sqrt(Math.abs(d-b[3]*b[3]))}function B(b,d){d=x.subtract(P.sv3d.get(),d,b);d=x.length(d);b=b[3];return h.acosClamped(b/(b+Math.abs(b-d)))}function H(b,d,m,z){b=x.subtract(k,d,b);switch(m){case p.Axis.X:return m=N.cartesianToSpherical(b,k)[2],x.set(z,-Math.sin(m),Math.cos(m),0);case p.Axis.Y:return b=N.cartesianToSpherical(b,k),m=b[1],b=b[2],d=Math.sin(m),
x.set(z,-d*Math.cos(b),-d*Math.sin(b),Math.cos(m));case p.Axis.Z:return x.normalize(z,b)}}function g(b,d){d=x.subtract(E,d,b);return x.length(d)-b[3]}function w(b,d,m,z){const G=g(b,d);b=H(b,d,p.Axis.Z,E);m=x.scale(E,b,m-G);return x.add(z,d,m)}function J(b,d){d=x.squaredDistance(b,d);b=b[3];return d<=b*b}function T(b,d,m=D.create()){const z=x.distance(b,d),G=b[3],K=d[3];if(z+K<G)return v.copy(m,b),m;if(z+G<K)return v.copy(m,d),m;x.lerp(m,b,d,(z+K-G)/(2*z));m[3]=(z+G+K)/2;return m}u=M();const e=q=
v.equals,n={t0:0,t1:0},Z=y.create(),k=y.create(),E=y.create(),L=M(),a=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:u,altitudeAt:g,angleToSilhouette:B,axisAt:H,cameraFrustumCoverage:l,clear:Q,closestPoint:r,closestPointOnSilhouette:na,containsPoint:J,copy:S,create:M,distanceToSilhouette:da,elevate:ja,equals:e,exactEquals:q,fromCenterAndRadius:C,fromRadius:U,fromValues:ia,getCenter:ba,getExtent:ra,getRadius:ea,intersectLine:V,intersectRay:O,intersectRayClosestSilhouette:ma,intersectsRay:fa,
projectPoint:R,setAltitudeAt:w,setExtent:pa,tmpSphere:L,union:T,wrap:F},Symbol.toStringTag,{value:"Module"}));c.NullSphere=u;c.altitudeAt=g;c.angleToSilhouette=B;c.axisAt=H;c.cameraFrustumCoverage=l;c.clear=Q;c.closestPoint=r;c.closestPointOnSilhouette=na;c.containsPoint=J;c.copy=S;c.create=M;c.distanceToSilhouette=da;c.elevate=ja;c.equals=e;c.exactEquals=q;c.fromCenterAndRadius=C;c.fromRadius=U;c.fromValues=ia;c.getCenter=ba;c.getExtent=ra;c.getRadius=ea;c.intersectLine=V;c.intersectRay=O;c.intersectRayClosestSilhouette=
ma;c.intersectsRay=fa;c.projectPoint=R;c.setAltitudeAt=w;c.setExtent=pa;c.sphere=a;c.tmpSphere=L;c.union=T;c.wrap=F})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(c,u,q){function h(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function t(a,b,d,m,z,G,K,W,Y,X,ca,ha,la,ka,sa,qa,oa){a[0]=b;a[1]=d;
a[2]=m;a[3]=z;a[4]=G;a[5]=K;a[6]=W;a[7]=Y;a[8]=X;a[9]=ca;a[10]=ha;a[11]=la;a[12]=ka;a[13]=sa;a[14]=qa;a[15]=oa;return a}function x(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function y(a,b){if(a===b){const d=b[1],m=b[2],z=b[3],G=b[6],K=b[7],W=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=d;a[6]=b[9];a[7]=b[13];a[8]=m;a[9]=G;a[11]=b[14];a[12]=z;a[13]=K;a[14]=W}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],
a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function v(a,b){D(a,b)||x(a);return a}function D(a,b){const d=b[0],m=b[1],z=b[2],G=b[3],K=b[4],W=b[5],Y=b[6],X=b[7],ca=b[8],ha=b[9],la=b[10],ka=b[11],sa=b[12],qa=b[13],oa=b[14];b=b[15];const xa=d*W-m*K,ta=d*Y-z*K,wa=d*X-G*K,ua=m*Y-z*W,va=m*X-G*W,Aa=z*X-G*Y,Ba=ca*qa-ha*sa,Ca=ca*oa-la*sa,Da=ca*b-ka*sa,Ea=ha*oa-la*qa,Fa=ha*b-ka*qa,Ga=la*b-ka*oa;let ya=xa*Ga-ta*Fa+wa*Ea+ua*
Da-va*Ca+Aa*Ba;if(!ya)return null;ya=1/ya;a[0]=(W*Ga-Y*Fa+X*Ea)*ya;a[1]=(z*Fa-m*Ga-G*Ea)*ya;a[2]=(qa*Aa-oa*va+b*ua)*ya;a[3]=(la*va-ha*Aa-ka*ua)*ya;a[4]=(Y*Da-K*Ga-X*Ca)*ya;a[5]=(d*Ga-z*Da+G*Ca)*ya;a[6]=(oa*wa-sa*Aa-b*ta)*ya;a[7]=(ca*Aa-la*wa+ka*ta)*ya;a[8]=(K*Fa-W*Da+X*Ba)*ya;a[9]=(m*Da-d*Fa-G*Ba)*ya;a[10]=(sa*va-qa*wa+b*xa)*ya;a[11]=(ha*wa-ca*va-ka*xa)*ya;a[12]=(W*Ca-K*Ea-Y*Ba)*ya;a[13]=(d*Ea-m*Ca+z*Ba)*ya;a[14]=(qa*ta-sa*ua-oa*xa)*ya;a[15]=(ca*ua-ha*ta+la*xa)*ya;return a}function f(a,b){const d=
b[0],m=b[1],z=b[2],G=b[3],K=b[4],W=b[5],Y=b[6],X=b[7],ca=b[8],ha=b[9],la=b[10],ka=b[11],sa=b[12],qa=b[13],oa=b[14];b=b[15];a[0]=W*(la*b-ka*oa)-ha*(Y*b-X*oa)+qa*(Y*ka-X*la);a[1]=-(m*(la*b-ka*oa)-ha*(z*b-G*oa)+qa*(z*ka-G*la));a[2]=m*(Y*b-X*oa)-W*(z*b-G*oa)+qa*(z*X-G*Y);a[3]=-(m*(Y*ka-X*la)-W*(z*ka-G*la)+ha*(z*X-G*Y));a[4]=-(K*(la*b-ka*oa)-ca*(Y*b-X*oa)+sa*(Y*ka-X*la));a[5]=d*(la*b-ka*oa)-ca*(z*b-G*oa)+sa*(z*ka-G*la);a[6]=-(d*(Y*b-X*oa)-K*(z*b-G*oa)+sa*(z*X-G*Y));a[7]=d*(Y*ka-X*la)-K*(z*ka-G*la)+ca*
(z*X-G*Y);a[8]=K*(ha*b-ka*qa)-ca*(W*b-X*qa)+sa*(W*ka-X*ha);a[9]=-(d*(ha*b-ka*qa)-ca*(m*b-G*qa)+sa*(m*ka-G*ha));a[10]=d*(W*b-X*qa)-K*(m*b-G*qa)+sa*(m*X-G*W);a[11]=-(d*(W*ka-X*ha)-K*(m*ka-G*ha)+ca*(m*X-G*W));a[12]=-(K*(ha*oa-la*qa)-ca*(W*oa-Y*qa)+sa*(W*la-Y*ha));a[13]=d*(ha*oa-la*qa)-ca*(m*oa-z*qa)+sa*(m*la-z*ha);a[14]=-(d*(W*oa-Y*qa)-K*(m*oa-z*qa)+sa*(m*Y-z*W));a[15]=d*(W*la-Y*ha)-K*(m*la-z*ha)+ca*(m*Y-z*W);return a}function p(a){const b=a[0],d=a[1],m=a[2],z=a[3],G=a[4],K=a[5],W=a[6],Y=a[7],X=a[8],
ca=a[9],ha=a[10],la=a[11],ka=a[12],sa=a[13],qa=a[14];a=a[15];return(b*K-d*G)*(ha*a-la*qa)-(b*W-m*G)*(ca*a-la*sa)+(b*Y-z*G)*(ca*qa-ha*sa)+(d*W-m*K)*(X*a-la*ka)-(d*Y-z*K)*(X*qa-ha*ka)+(m*Y-z*W)*(X*sa-ca*ka)}function A(a,b,d){const m=b[0],z=b[1],G=b[2],K=b[3],W=b[4],Y=b[5],X=b[6],ca=b[7],ha=b[8],la=b[9],ka=b[10],sa=b[11],qa=b[12],oa=b[13],xa=b[14];b=b[15];let ta=d[0],wa=d[1],ua=d[2],va=d[3];a[0]=ta*m+wa*W+ua*ha+va*qa;a[1]=ta*z+wa*Y+ua*la+va*oa;a[2]=ta*G+wa*X+ua*ka+va*xa;a[3]=ta*K+wa*ca+ua*sa+va*b;ta=
d[4];wa=d[5];ua=d[6];va=d[7];a[4]=ta*m+wa*W+ua*ha+va*qa;a[5]=ta*z+wa*Y+ua*la+va*oa;a[6]=ta*G+wa*X+ua*ka+va*xa;a[7]=ta*K+wa*ca+ua*sa+va*b;ta=d[8];wa=d[9];ua=d[10];va=d[11];a[8]=ta*m+wa*W+ua*ha+va*qa;a[9]=ta*z+wa*Y+ua*la+va*oa;a[10]=ta*G+wa*X+ua*ka+va*xa;a[11]=ta*K+wa*ca+ua*sa+va*b;ta=d[12];wa=d[13];ua=d[14];va=d[15];a[12]=ta*m+wa*W+ua*ha+va*qa;a[13]=ta*z+wa*Y+ua*la+va*oa;a[14]=ta*G+wa*X+ua*ka+va*xa;a[15]=ta*K+wa*ca+ua*sa+va*b;return a}function N(a,b,d){const m=d[0],z=d[1];d=d[2];if(b===a)a[12]=b[0]*
m+b[4]*z+b[8]*d+b[12],a[13]=b[1]*m+b[5]*z+b[9]*d+b[13],a[14]=b[2]*m+b[6]*z+b[10]*d+b[14],a[15]=b[3]*m+b[7]*z+b[11]*d+b[15];else{const G=b[0],K=b[1],W=b[2],Y=b[3],X=b[4],ca=b[5],ha=b[6],la=b[7],ka=b[8],sa=b[9],qa=b[10],oa=b[11];a[0]=G;a[1]=K;a[2]=W;a[3]=Y;a[4]=X;a[5]=ca;a[6]=ha;a[7]=la;a[8]=ka;a[9]=sa;a[10]=qa;a[11]=oa;a[12]=G*m+X*z+ka*d+b[12];a[13]=K*m+ca*z+sa*d+b[13];a[14]=W*m+ha*z+qa*d+b[14];a[15]=Y*m+la*z+oa*d+b[15]}return a}function I(a,b,d){const m=d[0],z=d[1];d=d[2];a[0]=b[0]*m;a[1]=b[1]*m;
a[2]=b[2]*m;a[3]=b[3]*m;a[4]=b[4]*z;a[5]=b[5]*z;a[6]=b[6]*z;a[7]=b[7]*z;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function P(a,b,d,m){var z=m[0],G=m[1];m=m[2];var K=Math.sqrt(z*z+G*G+m*m);if(K<=q.getEpsilon())h(a,b);else{K=1/K;z*=K;G*=K;m*=K;var W=Math.sin(d),Y=Math.cos(d),X=1-Y;d=b[0];K=b[1];var ca=b[2],ha=b[3],la=b[4],ka=b[5],sa=b[6],qa=b[7],oa=b[8],xa=b[9],ta=b[10],wa=b[11],ua=z*z*X+Y,va=G*z*X+m*W,Aa=m*z*X-G*W,Ba=z*G*X-m*W,Ca=G*
G*X+Y,Da=m*G*X+z*W,Ea=z*m*X+G*W;z=G*m*X-z*W;G=m*m*X+Y;a[0]=d*ua+la*va+oa*Aa;a[1]=K*ua+ka*va+xa*Aa;a[2]=ca*ua+sa*va+ta*Aa;a[3]=ha*ua+qa*va+wa*Aa;a[4]=d*Ba+la*Ca+oa*Da;a[5]=K*Ba+ka*Ca+xa*Da;a[6]=ca*Ba+sa*Ca+ta*Da;a[7]=ha*Ba+qa*Ca+wa*Da;a[8]=d*Ea+la*z+oa*G;a[9]=K*Ea+ka*z+xa*G;a[10]=ca*Ea+sa*z+ta*G;a[11]=ha*Ea+qa*z+wa*G;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15])}}function M(a,b,d){const m=Math.sin(d);d=Math.cos(d);const z=b[4],G=b[5],K=b[6],W=b[7],Y=b[8],X=b[9],ca=b[10],ha=b[11];b!==a&&
(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=z*d+Y*m;a[5]=G*d+X*m;a[6]=K*d+ca*m;a[7]=W*d+ha*m;a[8]=Y*d-z*m;a[9]=X*d-G*m;a[10]=ca*d-K*m;a[11]=ha*d-W*m;return a}function S(a,b,d){const m=Math.sin(d);d=Math.cos(d);const z=b[0],G=b[1],K=b[2],W=b[3],Y=b[8],X=b[9],ca=b[10],ha=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=z*d-Y*m;a[1]=G*d-X*m;a[2]=K*d-ca*m;a[3]=W*d-ha*m;a[8]=z*m+Y*d;a[9]=G*m+X*
d;a[10]=K*m+ca*d;a[11]=W*m+ha*d;return a}function C(a,b,d){const m=Math.sin(d);d=Math.cos(d);const z=b[0],G=b[1],K=b[2],W=b[3],Y=b[4],X=b[5],ca=b[6],ha=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=z*d+Y*m;a[1]=G*d+X*m;a[2]=K*d+ca*m;a[3]=W*d+ha*m;a[4]=Y*d-z*m;a[5]=X*d-G*m;a[6]=ca*d-K*m;a[7]=ha*d-W*m;return a}function F(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=
b[2];a[15]=1;return a}function Q(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function U(a,b,d){if(0===b)return x(a);let m=d[0],z=d[1];d=d[2];var G=Math.sqrt(m*m+z*z+d*d);if(G<=q.getEpsilon())return null;G=1/G;m*=G;z*=G;d*=G;G=Math.sin(b);b=Math.cos(b);const K=1-b;a[0]=m*m*K+b;a[1]=z*m*K+d*G;a[2]=d*m*K-z*G;a[3]=0;a[4]=m*z*K-d*G;a[5]=z*z*K+b;a[6]=d*z*K+m*G;a[7]=0;a[8]=m*d*K+z*G;a[9]=z*d*K-m*G;a[10]=d*d*
K+b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ea(a,b){const d=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=d;a[7]=0;a[8]=0;a[9]=-d;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ba(a,b){const d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-d;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=d;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ia(a,b){const d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=d;a[2]=0;a[3]=0;a[4]=-d;a[5]=
b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ja(a,b,d){var m=b[0],z=b[1],G=b[2],K=b[3],W=m+m,Y=z+z;const X=G+G;b=m*W;const ca=m*Y;m*=X;const ha=z*Y;z*=X;G*=X;W*=K;Y*=K;K*=X;a[0]=1-(ha+G);a[1]=ca+K;a[2]=m-Y;a[3]=0;a[4]=ca-K;a[5]=1-(b+G);a[6]=z+W;a[7]=0;a[8]=m+Y;a[9]=z-W;a[10]=1-(b+ha);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function pa(a,b){const d=L,m=-b[0],z=-b[1],G=-b[2],K=b[3],W=b[4],Y=b[5],X=b[6],ca=b[7],ha=m*m+z*z+G*G+K*K;0<
ha?(d[0]=2*(W*K+ca*m+Y*G-X*z)/ha,d[1]=2*(Y*K+ca*z+X*m-W*G)/ha,d[2]=2*(X*K+ca*G+W*z-Y*m)/ha):(d[0]=2*(W*K+ca*m+Y*G-X*z),d[1]=2*(Y*K+ca*z+X*m-W*G),d[2]=2*(X*K+ca*G+W*z-Y*m));ja(a,b,d);return a}function ra(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function O(a,b){const d=b[0],m=b[1],z=b[2],G=b[4],K=b[5],W=b[6],Y=b[8],X=b[9];b=b[10];a[0]=Math.sqrt(d*d+m*m+z*z);a[1]=Math.sqrt(G*G+K*K+W*W);a[2]=Math.sqrt(Y*Y+X*X+b*b);return a}function V(a,b){const d=b[0]+b[5]+b[10];let m=0;0<d?(m=2*Math.sqrt(d+1),
a[3]=.25*m,a[0]=(b[6]-b[9])/m,a[1]=(b[8]-b[2])/m,a[2]=(b[1]-b[4])/m):b[0]>b[5]&&b[0]>b[10]?(m=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/m,a[0]=.25*m,a[1]=(b[1]+b[4])/m,a[2]=(b[8]+b[2])/m):b[5]>b[10]?(m=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/m,a[0]=(b[1]+b[4])/m,a[1]=.25*m,a[2]=(b[6]+b[9])/m):(m=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/m,a[0]=(b[8]+b[2])/m,a[1]=(b[6]+b[9])/m,a[2]=.25*m);return a}function aa(a,b,d,m){var z=b[0],G=b[1],K=b[2],W=b[3],Y=z+z,X=G+G,ca=K+K;b=z*Y;const ha=
z*X;z*=ca;const la=G*X;G*=ca;K*=ca;Y*=W;X*=W;W*=ca;ca=m[0];const ka=m[1];m=m[2];a[0]=(1-(la+K))*ca;a[1]=(ha+W)*ca;a[2]=(z-X)*ca;a[3]=0;a[4]=(ha-W)*ka;a[5]=(1-(b+K))*ka;a[6]=(G+Y)*ka;a[7]=0;a[8]=(z+X)*m;a[9]=(G-Y)*m;a[10]=(1-(b+la))*m;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function fa(a,b,d,m,z){var G=b[0],K=b[1],W=b[2],Y=b[3],X=G+G,ca=K+K,ha=W+W;b=G*X;var la=G*ca,ka=G*ha;G=K*ca;K*=ha;var sa=W*ha;W=Y*X;ca*=Y;const qa=Y*ha;var oa=m[0],xa=m[1];ha=m[2];m=z[0];Y=z[1];z=z[2];X=(1-(G+
sa))*oa;const ta=(la+qa)*oa;oa*=ka-ca;la=(la-qa)*xa;sa=(1-(b+sa))*xa;xa*=K+W;ka=(ka+ca)*ha;K=(K-W)*ha;b=(1-(b+G))*ha;a[0]=X;a[1]=ta;a[2]=oa;a[3]=0;a[4]=la;a[5]=sa;a[6]=xa;a[7]=0;a[8]=ka;a[9]=K;a[10]=b;a[11]=0;a[12]=d[0]+m-(X*m+la*Y+ka*z);a[13]=d[1]+Y-(ta*m+sa*Y+K*z);a[14]=d[2]+z-(oa*m+xa*Y+b*z);a[15]=1;return a}function ma(a,b){var d=b[0],m=b[1],z=b[2];b=b[3];var G=d+d,K=m+m;const W=z+z;d*=G;const Y=m*G;m*=K;const X=z*G,ca=z*K;z*=W;G*=b;K*=b;b*=W;a[0]=1-m-z;a[1]=Y+b;a[2]=X-K;a[3]=0;a[4]=Y-b;a[5]=
1-d-z;a[6]=ca+G;a[7]=0;a[8]=X+K;a[9]=ca-G;a[10]=1-d-m;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function na(a,b,d,m,z,G,K){const W=1/(d-b),Y=1/(z-m),X=1/(G-K);a[0]=2*G*W;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*G*Y;a[6]=0;a[7]=0;a[8]=(d+b)*W;a[9]=(z+m)*Y;a[10]=(K+G)*X;a[11]=-1;a[12]=0;a[13]=0;a[14]=K*G*2*X;a[15]=0;return a}function l(a,b,d,m,z){b=1/Math.tan(b/2);let G=void 0;a[0]=b/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=z&&Infinity!==
z?(G=1/(m-z),a[10]=(z+m)*G,a[14]=2*z*m*G):(a[10]=-1,a[14]=-2*m);return a}function r(a,b,d,m){const z=Math.tan(b.upDegrees*Math.PI/180),G=Math.tan(b.downDegrees*Math.PI/180),K=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const W=2/(K+b),Y=2/(z+G);a[0]=W;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=Y;a[6]=0;a[7]=0;a[8]=-((K-b)*W*.5);a[9]=(z-G)*Y*.5;a[10]=m/(d-m);a[11]=-1;a[12]=0;a[13]=0;a[14]=m*d/(d-m);a[15]=0;return a}function R(a,b,d,m,z,G,K){const W=1/(b-d),Y=1/(m-z),X=1/(G-K);
a[0]=-2*W;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*Y;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*X;a[11]=0;a[12]=(b+d)*W;a[13]=(z+m)*Y;a[14]=(K+G)*X;a[15]=1;return a}function da(a,b,d,m){const z=b[0],G=b[1];b=b[2];let K=z-d[0],W=G-d[1];d=b-d[2];var Y=q.getEpsilon();if(Math.abs(K)<Y&&Math.abs(W)<Y&&Math.abs(d)<Y)x(a);else{var X=1/Math.sqrt(K*K+W*W+d*d);K*=X;W*=X;d*=X;X=m[0];var ca=m[1];Y=m[2];m=ca*d-Y*W;Y=Y*K-X*d;ca=X*W-ca*K;(X=Math.sqrt(m*m+Y*Y+ca*ca))?(X=1/X,m*=X,Y*=X,ca*=X):ca=Y=m=0;var ha=W*ca-d*Y,la=d*m-K*
ca,ka=K*Y-W*m;(X=Math.sqrt(ha*ha+la*la+ka*ka))?(X=1/X,ha*=X,la*=X,ka*=X):ka=la=ha=0;a[0]=m;a[1]=ha;a[2]=K;a[3]=0;a[4]=Y;a[5]=la;a[6]=W;a[7]=0;a[8]=ca;a[9]=ka;a[10]=d;a[11]=0;a[12]=-(m*z+Y*G+ca*b);a[13]=-(ha*z+la*G+ka*b);a[14]=-(K*z+W*G+d*b);a[15]=1}}function B(a,b,d,m){const z=b[0],G=b[1];b=b[2];var K=m[0];const W=m[1];var Y=m[2];m=z-d[0];let X=G-d[1];d=b-d[2];let ca=m*m+X*X+d*d;0<ca&&(ca=1/Math.sqrt(ca),m*=ca,X*=ca,d*=ca);let ha=W*d-Y*X;Y=Y*m-K*d;K=K*X-W*m;ca=ha*ha+Y*Y+K*K;0<ca&&(ca=1/Math.sqrt(ca),
ha*=ca,Y*=ca,K*=ca);a[0]=ha;a[1]=Y;a[2]=K;a[3]=0;a[4]=X*K-d*Y;a[5]=d*ha-m*K;a[6]=m*Y-X*ha;a[7]=0;a[8]=m;a[9]=X;a[10]=d;a[11]=0;a[12]=z;a[13]=G;a[14]=b;a[15]=1;return a}function H(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function g(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**
2+a[14]**2+a[15]**2)}function w(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];a[4]=b[4]+d[4];a[5]=b[5]+d[5];a[6]=b[6]+d[6];a[7]=b[7]+d[7];a[8]=b[8]+d[8];a[9]=b[9]+d[9];a[10]=b[10]+d[10];a[11]=b[11]+d[11];a[12]=b[12]+d[12];a[13]=b[13]+d[13];a[14]=b[14]+d[14];a[15]=b[15]+d[15];return a}function J(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];a[4]=b[4]-d[4];a[5]=b[5]-d[5];a[6]=b[6]-d[6];a[7]=b[7]-d[7];a[8]=b[8]-d[8];a[9]=b[9]-d[9];a[10]=b[10]-d[10];a[11]=b[11]-
d[11];a[12]=b[12]-d[12];a[13]=b[13]-d[13];a[14]=b[14]-d[14];a[15]=b[15]-d[15];return a}function T(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*d;a[5]=b[5]*d;a[6]=b[6]*d;a[7]=b[7]*d;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12]*d;a[13]=b[13]*d;a[14]=b[14]*d;a[15]=b[15]*d;return a}function e(a,b,d,m){a[0]=b[0]+d[0]*m;a[1]=b[1]+d[1]*m;a[2]=b[2]+d[2]*m;a[3]=b[3]+d[3]*m;a[4]=b[4]+d[4]*m;a[5]=b[5]+d[5]*m;a[6]=b[6]+d[6]*m;a[7]=b[7]+d[7]*m;a[8]=b[8]+d[8]*m;a[9]=b[9]+
d[9]*m;a[10]=b[10]+d[10]*m;a[11]=b[11]+d[11]*m;a[12]=b[12]+d[12]*m;a[13]=b[13]+d[13]*m;a[14]=b[14]+d[14]*m;a[15]=b[15]+d[15]*m;return a}function n(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function Z(a,b){if(a===b)return!0;const d=a[0],m=a[1],z=a[2],G=a[3],K=a[4],W=a[5],Y=a[6],X=a[7],ca=a[8],ha=a[9],la=a[10],ka=
a[11],sa=a[12],qa=a[13],oa=a[14];a=a[15];const xa=b[0],ta=b[1],wa=b[2],ua=b[3],va=b[4],Aa=b[5],Ba=b[6],Ca=b[7],Da=b[8],Ea=b[9],Fa=b[10],Ga=b[11],ya=b[12],Ha=b[13],Ia=b[14];b=b[15];const za=q.getEpsilon();return Math.abs(d-xa)<=za*Math.max(1,Math.abs(d),Math.abs(xa))&&Math.abs(m-ta)<=za*Math.max(1,Math.abs(m),Math.abs(ta))&&Math.abs(z-wa)<=za*Math.max(1,Math.abs(z),Math.abs(wa))&&Math.abs(G-ua)<=za*Math.max(1,Math.abs(G),Math.abs(ua))&&Math.abs(K-va)<=za*Math.max(1,Math.abs(K),Math.abs(va))&&Math.abs(W-
Aa)<=za*Math.max(1,Math.abs(W),Math.abs(Aa))&&Math.abs(Y-Ba)<=za*Math.max(1,Math.abs(Y),Math.abs(Ba))&&Math.abs(X-Ca)<=za*Math.max(1,Math.abs(X),Math.abs(Ca))&&Math.abs(ca-Da)<=za*Math.max(1,Math.abs(ca),Math.abs(Da))&&Math.abs(ha-Ea)<=za*Math.max(1,Math.abs(ha),Math.abs(Ea))&&Math.abs(la-Fa)<=za*Math.max(1,Math.abs(la),Math.abs(Fa))&&Math.abs(ka-Ga)<=za*Math.max(1,Math.abs(ka),Math.abs(Ga))&&Math.abs(sa-ya)<=za*Math.max(1,Math.abs(sa),Math.abs(ya))&&Math.abs(qa-Ha)<=za*Math.max(1,Math.abs(qa),Math.abs(Ha))&&
Math.abs(oa-Ia)<=za*Math.max(1,Math.abs(oa),Math.abs(Ia))&&Math.abs(a-b)<=za*Math.max(1,Math.abs(a),Math.abs(b))}function k(a){const b=q.getEpsilon(),d=a[0],m=a[1],z=a[2],G=a[4],K=a[5],W=a[6],Y=a[8],X=a[9];a=a[10];return Math.abs(1-(d*d+G*G+Y*Y))<=b&&Math.abs(1-(m*m+K*K+X*X))<=b&&Math.abs(1-(z*z+W*W+a*a))<=b}function E(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const L=u.create();u=Object.freeze(Object.defineProperty({__proto__:null,add:w,adjoint:f,
copy:h,determinant:p,equals:Z,exactEquals:n,frob:g,fromQuat:ma,fromQuat2:pa,fromRotation:U,fromRotationTranslation:ja,fromRotationTranslationScale:aa,fromRotationTranslationScaleOrigin:fa,fromScaling:Q,fromTranslation:F,fromXRotation:ea,fromYRotation:ba,fromZRotation:ia,frustum:na,getRotation:V,getScaling:O,getTranslation:ra,hasIdentityRotation:E,identity:x,invert:D,invertOrIdentity:v,isOrthoNormal:k,lookAt:da,mul:A,multiply:A,multiplyScalar:T,multiplyScalarAndAdd:e,ortho:R,perspective:l,perspectiveFromFieldOfView:r,
rotate:P,rotateX:M,rotateY:S,rotateZ:C,scale:I,set:t,str:H,sub:J,subtract:J,targetTo:B,translate:N,transpose:y},Symbol.toStringTag,{value:"Module"}));c.add=w;c.adjoint=f;c.copy=h;c.determinant=p;c.equals=Z;c.exactEquals=n;c.frob=g;c.fromQuat=ma;c.fromQuat2=pa;c.fromRotation=U;c.fromRotationTranslation=ja;c.fromRotationTranslationScale=aa;c.fromRotationTranslationScaleOrigin=fa;c.fromScaling=Q;c.fromTranslation=F;c.fromXRotation=ea;c.fromYRotation=ba;c.fromZRotation=ia;c.frustum=na;c.getRotation=V;
c.getScaling=O;c.getTranslation=ra;c.hasIdentityRotation=E;c.identity=x;c.invert=D;c.invertOrIdentity=v;c.isOrthoNormal=k;c.lookAt=da;c.mat4=u;c.mul=A;c.multiply=A;c.multiplyScalar=T;c.multiplyScalarAndAdd=e;c.ortho=R;c.perspective=l;c.perspectiveFromFieldOfView=r;c.rotate=P;c.rotateX=M;c.rotateY=S;c.rotateZ=C;c.scale=I;c.set=t;c.str=H;c.sub=J;c.subtract=J;c.targetTo=B;c.translate=N;c.transpose=y;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../core/libs/gl-matrix-2/math/mat3 ../../core/libs/gl-matrix-2/factories/mat3f64 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),
function(c,u,q,h,t,x,y,v){function D(S){return S?f(y.clone(S.origin),y.clone(S.direction)):f(y.create(),y.create())}function f(S,C){return{origin:S,direction:C}}function p(S,C,F=D()){x.copy(F.origin,S);x.copy(F.direction,C);return F}const A=new q.ObjectStack(()=>D()),N=y.create(),I=y.create(),P=y.create(),M=t.create();c.closestPoint=function(S,C,F){C=x.dot(S.direction,x.subtract(F,C,S.origin));x.add(F,S.origin,x.scale(F,S.direction,C));return F};c.closestPoints=function(S,C,F,Q){const U=S.origin,
ea=C.origin;S=S.direction;C=C.direction;var ba=x.dot(x.normalize(I,S),x.normalize(P,C));if(1<=Math.abs(ba))return null;var ia=x.cross(I,S,C);ba=x.sub(N,ea,U);ia=h.set(M,S[0],S[1],S[2],-C[0],-C[1],-C[2],ia[0],ia[1],ia[2]);const ja=h.invert(M,ia);if(null==ja)return[F,Q];ia=x.dot(x.set(I,ja[0],ja[3],ja[6]),ba);ba=x.dot(x.set(P,ja[1],ja[4],ja[7]),ba);x.add(F,U,x.scale(N,S,ia));x.add(Q,ea,x.scale(N,C,ba));return[F,Q]};c.copy=function(S,C=D()){return p(S.origin,S.direction,C)};c.create=D;c.distance2=function(S,
C){S=x.cross(v.sv3d.get(),x.normalize(v.sv3d.get(),S.direction),x.subtract(v.sv3d.get(),C,S.origin));return x.dot(S,S)};c.equals=function(S,C){return u.equals(S.origin,C.origin)&&u.equals(S.direction,C.direction)};c.fromPoints=function(S,C,F=D()){x.copy(F.origin,S);x.subtract(F.direction,C,S);return F};c.fromValues=p;c.wrap=function(S,C){const F=A.get();F.origin=S;F.direction=C;return F};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["exports",
"./common"],function(c,u){function q(l,r){l[0]=r[0];l[1]=r[1];l[2]=r[2];l[3]=r[4];l[4]=r[5];l[5]=r[6];l[6]=r[8];l[7]=r[9];l[8]=r[10];return l}function h(l,r){l[0]=r[0];l[1]=r[1];l[2]=r[2];l[3]=r[3];l[4]=r[4];l[5]=r[5];l[6]=r[6];l[7]=r[7];l[8]=r[8];return l}function t(l,r,R,da,B,H,g,w,J,T){l[0]=r;l[1]=R;l[2]=da;l[3]=B;l[4]=H;l[5]=g;l[6]=w;l[7]=J;l[8]=T;return l}function x(l){l[0]=1;l[1]=0;l[2]=0;l[3]=0;l[4]=1;l[5]=0;l[6]=0;l[7]=0;l[8]=1;return l}function y(l,r){if(l===r){const R=r[1],da=r[2],B=r[5];
l[1]=r[3];l[2]=r[6];l[3]=R;l[5]=r[7];l[6]=da;l[7]=B}else l[0]=r[0],l[1]=r[3],l[2]=r[6],l[3]=r[1],l[4]=r[4],l[5]=r[7],l[6]=r[2],l[7]=r[5],l[8]=r[8];return l}function v(l,r){const R=r[0],da=r[1],B=r[2],H=r[3],g=r[4],w=r[5],J=r[6],T=r[7];r=r[8];const e=r*g-w*T,n=-r*H+w*J,Z=T*H-g*J;let k=R*e+da*n+B*Z;if(!k)return null;k=1/k;l[0]=e*k;l[1]=(-r*da+B*T)*k;l[2]=(w*da-B*g)*k;l[3]=n*k;l[4]=(r*R-B*J)*k;l[5]=(-w*R+B*H)*k;l[6]=Z*k;l[7]=(-T*R+da*J)*k;l[8]=(g*R-da*H)*k;return l}function D(l,r){const R=r[0],da=r[1],
B=r[2],H=r[3],g=r[4],w=r[5],J=r[6],T=r[7];r=r[8];l[0]=g*r-w*T;l[1]=B*T-da*r;l[2]=da*w-B*g;l[3]=w*J-H*r;l[4]=R*r-B*J;l[5]=B*H-R*w;l[6]=H*T-g*J;l[7]=da*J-R*T;l[8]=R*g-da*H;return l}function f(l){const r=l[3],R=l[4],da=l[5],B=l[6],H=l[7],g=l[8];return l[0]*(g*R-da*H)+l[1]*(-g*r+da*B)+l[2]*(H*r-R*B)}function p(l,r,R){const da=r[0],B=r[1],H=r[2],g=r[3],w=r[4],J=r[5],T=r[6],e=r[7];r=r[8];const n=R[0],Z=R[1],k=R[2],E=R[3],L=R[4],a=R[5],b=R[6],d=R[7];R=R[8];l[0]=n*da+Z*g+k*T;l[1]=n*B+Z*w+k*e;l[2]=n*H+Z*J+
k*r;l[3]=E*da+L*g+a*T;l[4]=E*B+L*w+a*e;l[5]=E*H+L*J+a*r;l[6]=b*da+d*g+R*T;l[7]=b*B+d*w+R*e;l[8]=b*H+d*J+R*r;return l}function A(l,r,R){const da=r[0],B=r[1],H=r[2],g=r[3],w=r[4],J=r[5],T=r[6],e=r[7];r=r[8];const n=R[0];R=R[1];l[0]=da;l[1]=B;l[2]=H;l[3]=g;l[4]=w;l[5]=J;l[6]=n*da+R*g+T;l[7]=n*B+R*w+e;l[8]=n*H+R*J+r;return l}function N(l,r,R){const da=r[0],B=r[1],H=r[2],g=r[3],w=r[4],J=r[5],T=r[6],e=r[7];r=r[8];const n=Math.sin(R);R=Math.cos(R);l[0]=R*da+n*g;l[1]=R*B+n*w;l[2]=R*H+n*J;l[3]=R*g-n*da;l[4]=
R*w-n*B;l[5]=R*J-n*H;l[6]=T;l[7]=e;l[8]=r;return l}function I(l,r,R){const da=R[0],B=R[1];R=R[2];l[0]=da*r[0];l[1]=da*r[1];l[2]=da*r[2];l[3]=B*r[3];l[4]=B*r[4];l[5]=B*r[5];l[6]=R*r[6];l[7]=R*r[7];l[8]=R*r[8];return l}function P(l,r,R){const da=R[0];R=R[1];l[0]=da*r[0];l[1]=da*r[1];l[2]=da*r[2];l[3]=R*r[3];l[4]=R*r[4];l[5]=R*r[5];return l}function M(l,r){l[0]=1;l[1]=0;l[2]=0;l[3]=0;l[4]=1;l[5]=0;l[6]=r[0];l[7]=r[1];l[8]=1;return l}function S(l,r){const R=Math.sin(r);r=Math.cos(r);l[0]=r;l[1]=R;l[2]=
0;l[3]=-R;l[4]=r;l[5]=0;l[6]=0;l[7]=0;l[8]=1;return l}function C(l,r){l[0]=r[0];l[1]=0;l[2]=0;l[3]=0;l[4]=r[1];l[5]=0;l[6]=0;l[7]=0;l[8]=1;return l}function F(l,r){l[0]=r[0];l[1]=r[1];l[2]=0;l[3]=r[2];l[4]=r[3];l[5]=0;l[6]=r[4];l[7]=r[5];l[8]=1;return l}function Q(l,r){var R=r[0],da=r[1],B=r[2];r=r[3];var H=R+R,g=da+da;const w=B+B;R*=H;const J=da*H;da*=g;const T=B*H,e=B*g;B*=w;H*=r;g*=r;r*=w;l[0]=1-da-B;l[3]=J-r;l[6]=T+g;l[1]=J+r;l[4]=1-R-B;l[7]=e-H;l[2]=T-g;l[5]=e+H;l[8]=1-R-da;return l}function U(l,
r){const R=r[0],da=r[1],B=r[2],H=r[4],g=r[5],w=r[6],J=r[8],T=r[9];r=r[10];const e=r*g-w*T,n=-r*H+w*J,Z=T*H-g*J;var k=R*e+da*n+B*Z;if(!k)return null;k=1/k;l[0]=e*k;l[1]=(-r*da+B*T)*k;l[2]=(w*da-B*g)*k;l[3]=n*k;l[4]=(r*R-B*J)*k;l[5]=(-w*R+B*H)*k;l[6]=Z*k;l[7]=(-T*R+da*J)*k;l[8]=(g*R-da*H)*k;return l}function ea(l,r){const R=r[0],da=r[1],B=r[2],H=r[3],g=r[4],w=r[5],J=r[6],T=r[7];var e=r[8],n=r[9],Z=r[10],k=r[11];const E=r[12],L=r[13],a=r[14];r=r[15];const b=R*w-da*g,d=R*J-B*g,m=R*T-H*g,z=da*J-B*w,G=
da*T-H*w,K=B*T-H*J,W=e*L-n*E,Y=e*a-Z*E;e=e*r-k*E;const X=n*a-Z*L;n=n*r-k*L;Z=Z*r-k*a;k=b*Z-d*n+m*X+z*e-G*Y+K*W;if(!k)return null;k=1/k;l[0]=(w*Z-J*n+T*X)*k;l[1]=(J*e-g*Z-T*Y)*k;l[2]=(g*n-w*e+T*W)*k;l[3]=(B*n-da*Z-H*X)*k;l[4]=(R*Z-B*e+H*Y)*k;l[5]=(da*e-R*n-H*W)*k;l[6]=(L*K-a*G+r*z)*k;l[7]=(a*m-E*K-r*d)*k;l[8]=(E*G-L*m+r*b)*k;return l}function ba(l,r,R){l[0]=2/r;l[1]=0;l[2]=0;l[3]=0;l[4]=-2/R;l[5]=0;l[6]=-1;l[7]=1;l[8]=1;return l}function ia(l){return"mat3("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+
l[4]+", "+l[5]+", "+l[6]+", "+l[7]+", "+l[8]+")"}function ja(l){return Math.sqrt(l[0]**2+l[1]**2+l[2]**2+l[3]**2+l[4]**2+l[5]**2+l[6]**2+l[7]**2+l[8]**2)}function pa(l,r,R){l[0]=r[0]+R[0];l[1]=r[1]+R[1];l[2]=r[2]+R[2];l[3]=r[3]+R[3];l[4]=r[4]+R[4];l[5]=r[5]+R[5];l[6]=r[6]+R[6];l[7]=r[7]+R[7];l[8]=r[8]+R[8];return l}function ra(l,r,R){l[0]=r[0]-R[0];l[1]=r[1]-R[1];l[2]=r[2]-R[2];l[3]=r[3]-R[3];l[4]=r[4]-R[4];l[5]=r[5]-R[5];l[6]=r[6]-R[6];l[7]=r[7]-R[7];l[8]=r[8]-R[8];return l}function O(l,r,R){l[0]=
r[0]*R;l[1]=r[1]*R;l[2]=r[2]*R;l[3]=r[3]*R;l[4]=r[4]*R;l[5]=r[5]*R;l[6]=r[6]*R;l[7]=r[7]*R;l[8]=r[8]*R;return l}function V(l,r,R,da){l[0]=r[0]+R[0]*da;l[1]=r[1]+R[1]*da;l[2]=r[2]+R[2]*da;l[3]=r[3]+R[3]*da;l[4]=r[4]+R[4]*da;l[5]=r[5]+R[5]*da;l[6]=r[6]+R[6]*da;l[7]=r[7]+R[7]*da;l[8]=r[8]+R[8]*da;return l}function aa(l,r){return l[0]===r[0]&&l[1]===r[1]&&l[2]===r[2]&&l[3]===r[3]&&l[4]===r[4]&&l[5]===r[5]&&l[6]===r[6]&&l[7]===r[7]&&l[8]===r[8]}function fa(l,r){const R=l[0],da=l[1],B=l[2],H=l[3],g=l[4],
w=l[5],J=l[6],T=l[7];l=l[8];const e=r[0],n=r[1],Z=r[2],k=r[3],E=r[4],L=r[5],a=r[6],b=r[7];r=r[8];const d=u.getEpsilon();return Math.abs(R-e)<=d*Math.max(1,Math.abs(R),Math.abs(e))&&Math.abs(da-n)<=d*Math.max(1,Math.abs(da),Math.abs(n))&&Math.abs(B-Z)<=d*Math.max(1,Math.abs(B),Math.abs(Z))&&Math.abs(H-k)<=d*Math.max(1,Math.abs(H),Math.abs(k))&&Math.abs(g-E)<=d*Math.max(1,Math.abs(g),Math.abs(E))&&Math.abs(w-L)<=d*Math.max(1,Math.abs(w),Math.abs(L))&&Math.abs(J-a)<=d*Math.max(1,Math.abs(J),Math.abs(a))&&
Math.abs(T-b)<=d*Math.max(1,Math.abs(T),Math.abs(b))&&Math.abs(l-r)<=d*Math.max(1,Math.abs(l),Math.abs(r))}function ma(l){const r=u.getEpsilon(),R=l[0],da=l[1],B=l[2],H=l[3],g=l[4],w=l[5],J=l[6],T=l[7];l=l[8];return Math.abs(1-(R*R+H*H+J*J))<=r&&Math.abs(1-(da*da+g*g+T*T))<=r&&Math.abs(1-(B*B+w*w+l*l))<=r}const na=Object.freeze(Object.defineProperty({__proto__:null,add:pa,adjoint:D,copy:h,determinant:f,equals:fa,exactEquals:aa,frob:ja,fromMat2d:F,fromMat4:q,fromQuat:Q,fromRotation:S,fromScaling:C,
fromTranslation:M,identity:x,invert:v,isOrthoNormal:ma,mul:p,multiply:p,multiplyScalar:O,multiplyScalarAndAdd:V,normalFromMat4:ea,normalFromMat4Legacy:U,projection:ba,rotate:N,scale:I,scaleByVec2:P,set:t,str:ia,sub:ra,subtract:ra,translate:A,transpose:y},Symbol.toStringTag,{value:"Module"}));c.add=pa;c.adjoint=D;c.copy=h;c.determinant=f;c.equals=fa;c.exactEquals=aa;c.frob=ja;c.fromMat2d=F;c.fromMat4=q;c.fromQuat=Q;c.fromRotation=S;c.fromScaling=C;c.fromTranslation=M;c.identity=x;c.invert=v;c.isOrthoNormal=
ma;c.mat3=na;c.mul=p;c.multiply=p;c.multiplyScalar=O;c.multiplyScalarAndAdd=V;c.normalFromMat4=ea;c.normalFromMat4Legacy=U;c.projection=ba;c.rotate=N;c.scale=I;c.scaleByVec2=P;c.set=t;c.str=ia;c.sub=ra;c.subtract=ra;c.translate=A;c.transpose=y;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/sphereUtils":function(){define(["exports","../../core/mathUtils","../../chunks/vec32"],function(c,u,q){c.cartesianToSpherical=function(h,t){const x=q.length(h),y=u.asinClamped(h[2]/
x);q.set(t,x,y,Math.atan2(h[1]/x,h[0]/x));return t};c.sphericalToCartesian=function(h,t){const x=h[0],y=h[1];h=h[2];const v=Math.cos(y);q.set(t,x*v*Math.cos(h),x*v*Math.sin(h),x*Math.sin(y))};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec32","../../core/libs/gl-matrix-2/factories/vec3f64"],function(c,u,q,h){const t=h.create(),x=h.create();c.angle=function(y,v){y=q.dot(y,v)/(q.length(y)*
q.length(v));return-u.acosClamped(y)};c.angleAroundAxis=function(y,v,D){q.normalize(t,y);q.normalize(x,v);y=q.dot(t,x);y=u.acosClamped(y);v=q.cross(t,t,x);return 0>q.dot(v,D)?2*Math.PI-y:y};c.projectPoint=function(y,v,D){v=q.dot(y,v)/q.dot(y,y);return q.scale(D,y,v)};c.projectPointSignedLength=function(y,v){return q.dot(y,v)/q.length(y)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Octree":function(){define("../../../../core/ObjectPool ../../../../core/PooledArray ../../../../chunks/vec32 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../geometry/support/frustum ../../../../geometry/support/ray ../../../../chunks/sphere ./Util".split(" "),
function(c,u,q,h,t,x,y,v){function D(g,w){g=ba.acquire().init(g);const J=[g];for(;0!==J.length;){g=J.pop();if(w(g)&&!g.isLeaf())for(let T=0;T<g.node.children.length;T++)g.node.children[T]&&J.push(ba.acquire().init(g).advance(T));ba.release(g)}}function f(g,w,J,T=ea.DepthOrder.FRONT_TO_BACK){g=ba.acquire().init(g);const e=[g];for(C(J,T,H);0!==e.length;){g=e.pop();if(w(g)&&!g.isLeaf())for(J=7;0<=J;--J)T=H[J],g.node.children[T]&&e.push(ba.acquire().init(g).advance(T));ba.release(g)}}function p(g,w,J){ma.clear();
w=J.advanceTo(w,(T,e)=>{ma.push(T.node);ma.push(e)})?J.node.terminals:J.node.residents;w.removeUnordered(g);if(0===w.length)for(g=ma.length-2;0<=g&&A(ma.data[g],ma.data[g+1]);g-=2);}function A(g,w){0<=w&&(g.children[w]=null);return P(g)?(null===g.residents&&(g.residents=new u({shrink:!0})),!0):!1}function N(g,w){M(y.getCenter(w.bounds),2*-w.halfSize,aa);M(y.getCenter(w.bounds),2*w.halfSize,fa);return v.rayBoxTest(g.origin,g.direction,aa,fa)}function I(g,w,J){M(y.getCenter(w.bounds),2*-w.halfSize,
aa);M(y.getCenter(w.bounds),2*w.halfSize,fa);J.applyToMinMax(aa,fa);return v.rayBoxTest(g.origin,g.direction,aa,fa)}function P(g){if(0!==g.terminals.length)return!1;if(null!==g.residents)return 0===g.residents.length;for(let w=0;w<g.children.length;w++)if(g.children[w])return!1;return!0}function M(g,w,J){J[0]=g[0]+w;J[1]=g[1]+w;J[2]=g[2]+w}function S(g,w,J,T){if(1===w)g=J(g[0]),y.copy(g,T);else{aa[0]=Infinity;aa[1]=Infinity;aa[2]=Infinity;fa[0]=-Infinity;fa[1]=-Infinity;fa[2]=-Infinity;for(let k=
0;k<w;k++){var e=J(g[k]);if(U(e[3])){var n=aa,Z=e;n[0]=Math.min(n[0],Z[0]-Z[3]);n[1]=Math.min(n[1],Z[1]-Z[3]);n[2]=Math.min(n[2],Z[2]-Z[3]);n=fa;n[0]=Math.max(n[0],e[0]+e[3]);n[1]=Math.max(n[1],e[1]+e[3]);n[2]=Math.max(n[2],e[2]+e[3])}}q.lerp(y.getCenter(T),aa,fa,.5);T[3]=Math.max(fa[0]-aa[0],fa[1]-aa[1],fa[2]-aa[2])/2}}function C(g,w,J){if(!B.length)for(var T=0;8>T;++T)B.push({index:0,distance:0});for(T=0;8>T;++T){const e=ia[T];B.data[T].index=T;B.data[T].distance=Q(g,w,e)}B.sort((e,n)=>e.distance-
n.distance);for(g=0;8>g;++g)J[g]=B.data[g].index}function F(g,w){let J=Infinity,T;for(let e=0;8>e;++e){const n=Q(g,w,ja[e]);n<J&&(J=n,T=ja[e])}return T}function Q(g,w,J){return w*(g[0]*J[0]+g[1]*J[1]+g[2]*J[2])}function U(g){return!isNaN(g)&&-Infinity!==g&&Infinity!==g&&0<g}class ea{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(g,
w){this.objectToBoundingSphere=g;this._maximumObjectsPerNode=10;this._maximumDepth=20;this._degenerateObjects=new Set;this._root=new ba;this._objectCount=0;w&&(void 0!==w.maximumObjectsPerNode&&(this._maximumObjectsPerNode=w.maximumObjectsPerNode),void 0!==w.maximumDepth&&(this._maximumDepth=w.maximumDepth))}destroy(){this._degenerateObjects.clear();ba.clearPool();ra[0]=null;ma.prune();B.prune()}add(g,w=g.length){this._objectCount+=w;this._grow(g,w);const J=ba.acquire();for(let T=0;T<w;T++){const e=
g[T];this._isDegenerate(e)?this._degenerateObjects.add(e):(J.init(this._root),this._add(e,J))}ba.release(J)}remove(g,w=null){this._objectCount-=g.length;const J=ba.acquire();for(const T of g)g=w??y.copy(this.objectToBoundingSphere(T),na),U(g[3])?(J.init(this._root),p(T,g,J)):this._degenerateObjects.delete(T);ba.release(J);this._shrink()}update(g,w){if(U(w[3])||!this._isDegenerate(g))ra[0]=g,g=ra,this.remove(g,w),this.add(g)}forEachAlongRay(g,w,J){const T=x.wrap(g,w);D(this._root,e=>{if(!N(T,e))return!1;
e=e.node;e.terminals.forAll(n=>{this._intersectsObject(T,n)&&J(n)});null!==e.residents&&e.residents.forAll(n=>{this._intersectsObject(T,n)&&J(n)});return!0})}forEachAlongRayWithVerticalOffset(g,w,J,T){const e=x.wrap(g,w);D(this._root,n=>{if(!I(e,n,T))return!1;n=n.node;n.terminals.forAll(Z=>{this._intersectsObjectWithOffset(e,Z,T)&&J(Z)});null!==n.residents&&n.residents.forAll(Z=>{this._intersectsObjectWithOffset(e,Z,T)&&J(Z)});return!0})}forEach(g){D(this._root,w=>{w=w.node;w.terminals.forAll(g);
null!==w.residents&&w.residents.forAll(g);return!0});this._degenerateObjects.forEach(g)}forEachDegenerateObject(g){this._degenerateObjects.forEach(g)}findClosest(g,w,J,T=()=>!0,e=Infinity){let n=Infinity,Z=Infinity,k=null;const E=F(g,w),L=a=>{--e;if(T(a)){var b=this.objectToBoundingSphere(a);if(t.intersectsSphere(J,b)){var d=Q(g,w,y.getCenter(b)),m=d-b[3];b=d+b[3];m<n&&(n=m,Z=b,k=a)}}};f(this._root,a=>{if(0>=e||!t.intersectsSphere(J,a.bounds))return!1;q.scale(V,E,a.halfSize);q.add(V,V,y.getCenter(a.bounds));
if(Q(g,w,V)>Z)return!1;a=a.node;a.terminals.forAll(b=>L(b));null!==a.residents&&a.residents.forAll(b=>L(b));return!0},g,w);return k}forEachInDepthRange(g,w,J,T,e,n,Z){let k=-Infinity,E=Infinity;const L={setRange:z=>{J===ea.DepthOrder.FRONT_TO_BACK?(k=Math.max(k,z.near),E=Math.min(E,z.far)):(k=Math.max(k,-z.far),E=Math.min(E,-z.near))}};L.setRange(T);const a=Q(w,J,g),b=F(w,J),d=F(w,-J),m=z=>{if(Z(z)){var G=this.objectToBoundingSphere(z),K=y.getCenter(G);K=Q(w,J,K)-a;var W=K+G[3];K-G[3]>E||W<k||!t.intersectsSphere(n,
G)||e(z,L)}};f(this._root,z=>{if(!t.intersectsSphere(n,z.bounds))return!1;q.scale(V,b,z.halfSize);q.add(V,V,y.getCenter(z.bounds));if(Q(w,J,V)-a>E)return!1;q.scale(V,d,z.halfSize);q.add(V,V,y.getCenter(z.bounds));if(Q(w,J,V)-a<k)return!1;z=z.node;z.terminals.forAll(G=>m(G));null!==z.residents&&z.residents.forAll(G=>m(G));return!0},w,J)}forEachNode(g){D(this._root,w=>g(w.node,w.bounds,w.halfSize,w.depth))}forEachNeighbor(g,w){const J=y.getRadius(w),T=y.getCenter(w),e=k=>{const E=this.objectToBoundingSphere(k);
var L=y.getRadius(E);L=J+L;return 0>=q.squaredDistance(y.getCenter(E),T)-L*L?g(k):!0};let n=!0;const Z=k=>{n&&=e(k)};D(this._root,k=>{var E=y.getRadius(k.bounds);E=J+E;if(0<q.squaredDistance(y.getCenter(k.bounds),T)-E*E)return!1;k=k.node;k.terminals.forAll(Z);n&&null!==k.residents&&k.residents.forAll(Z);return n});n&&this.forEachDegenerateObject(Z)}_intersectsObject(g,w){w=this.objectToBoundingSphere(w);return 0<w[3]?y.intersectsRay(w,g):!0}_intersectsObjectWithOffset(g,w,J){w=this.objectToBoundingSphere(w);
return 0<w[3]?y.intersectsRay(J.applyToBoundingSphere(w),g):!0}_add(g,w){w.advanceTo(this.objectToBoundingSphere(g))?w.node.terminals.push(g):(w.node.residents.push(g),w.node.residents.length>this._maximumObjectsPerNode&&w.depth<this._maximumDepth&&this._split(w))}_split(g){const w=g.node.residents;g.node.residents=null;for(let J=0;J<w.length;J++){const T=ba.acquire().init(g);this._add(w.at(J),T);ba.release(T)}}_grow(g,w){0!==w&&(S(g,w,J=>this.objectToBoundingSphere(J),l),U(l[3])&&!this._fitsInsideTree(l)&&
(P(this._root.node)?(y.copy(l,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize()):(g=this._rootBoundsForRootAsSubNode(l),this._placingRootViolatesMaxDepth(g)?this._rebuildTree(l,g):this._growRootAsSubNode(g),ba.release(g))))}_rebuildTree(g,w){q.copy(y.getCenter(r),y.getCenter(w.bounds));r[3]=w.halfSize;S([g,r],2,J=>J,R);g=ba.acquire().init(this._root);this._root.initFrom(null,R,R[3]);this._root.increaseHalfSize(1.25);D(g,J=>{this.add(J.node.terminals.data,
J.node.terminals.length);null!==J.node.residents&&this.add(J.node.residents.data,J.node.residents.length);return!0});ba.release(g)}_placingRootViolatesMaxDepth(g){const w=Math.log(g.halfSize/this._root.halfSize)*Math.LOG2E;let J=0;D(this._root,T=>{J=Math.max(J,T.depth);return J+w<=this._maximumDepth});return J+w>this._maximumDepth}_rootBoundsForRootAsSubNode(g){var w=g[3],J=-Infinity;const T=this._root.bounds,e=this._root.halfSize;for(var n=0;3>n;n++){var Z=Math.max(0,Math.ceil((T[n]-e-(g[n]-w))/
(2*e)));const k=Math.max(0,Math.ceil((g[n]+w-(T[n]+e))/(2*e)))+1;J=Math.max(J,2**Math.ceil(Math.log(Z+k)*Math.LOG2E));da[n].min=Z;da[n].max=k}for(g=0;3>g;g++)w=da[g].min,n=da[g].max,Z=(J-(w+n))/2,w+=Math.ceil(Z),n+=Math.floor(Z),O[g]=T[g]-e-w*e*2+(n+w)*e;J*=e;O[3]=J*pa;return ba.acquire().initFrom(null,O,J,0)}_growRootAsSubNode(g){const w=this._root.node;q.copy(y.getCenter(l),y.getCenter(this._root.bounds));l[3]=this._root.halfSize;this._root.init(g);g.advanceTo(l,null,!0);g.node.children=w.children;
g.node.residents=w.residents;g.node.terminals=w.terminals}_shrink(){for(;;){const g=this._findShrinkIndex();if(-1===g)break;this._root.advance(g);this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let g=null;const w=this._root.node.children;let J=0,T=0;for(;T<w.length&&null==g;)J=T++,g=w[J];for(;T<w.length;)if(w[T++])return-1;return J}_isDegenerate(g){g=this.objectToBoundingSphere(g)[3];return!U(g)}_fitsInsideTree(g){const w=this._root.bounds,
J=this._root.halfSize;return g[3]<=J&&g[0]>=w[0]-J&&g[0]<=w[0]+J&&g[1]>=w[1]-J&&g[1]<=w[1]+J&&g[2]>=w[2]-J&&g[2]<=w[2]+J}toJSON(){const {maximumDepth:g,maximumObjectsPerNode:w,_objectCount:J}=this,T=this._nodeToJSON(this._root.node);return{maximumDepth:g,maximumObjectsPerNode:w,objectCount:J,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:T}}}_nodeToJSON(g){const w=g.children.map(T=>T?this._nodeToJSON(T):null),J=g.residents?.map(T=>this.objectToBoundingSphere(T));
g=g.terminals?.map(T=>this.objectToBoundingSphere(T));return{children:w,residents:J,terminals:g}}static fromJSON(g){const w=new ea(J=>J,{maximumDepth:g.maximumDepth,maximumObjectsPerNode:g.maximumObjectsPerNode});w._objectCount=g.objectCount;w._root.initFrom(g.root.node,g.root.bounds,g.root.halfSize,g.root.depth);return w}}class ba{constructor(){this.bounds=y.create();this.halfSize=0;this.initFrom(null,null,0,0)}init(g){return this.initFrom(g.node,g.bounds,g.halfSize,g.depth)}initFrom(g,w,J,T=this.depth){this.node=
null!=g?g:ba.createEmptyNode();w&&y.copy(w,this.bounds);this.halfSize=J;this.depth=T;return this}increaseHalfSize(g){this.halfSize*=g;this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*pa}advance(g){let w=this.node.children[g];w||(w=ba.createEmptyNode(),this.node.children[g]=w);this.node=w;this.halfSize/=2;this.depth++;g=ia[g];this.bounds[0]+=g[0]*this.halfSize;this.bounds[1]+=g[1]*this.halfSize;this.bounds[2]+=g[2]*this.halfSize;this.updateBoundsRadiusFromHalfSize();
return this}advanceTo(g,w,J=!1){for(;;){if(this.isTerminalFor(g))return w&&w(this,-1),!0;if(this.isLeaf()){if(!J)return w&&w(this,-1),!1;this.node.residents=null}const T=this._childIndex(g);w&&w(this,T);this.advance(T)}}isLeaf(){return null!=this.node.residents}isTerminalFor(g){return g[3]>this.halfSize/2}_childIndex(g){const w=this.bounds;return(w[0]<g[0]?1:0)+(w[1]<g[1]?2:0)+(w[2]<g[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new u({shrink:!0}),
residents:new u({shrink:!0})}}static acquire(){return ba._pool.acquire()}static release(g){ba._pool.release(g)}static clearPool(){ba._pool.prune()}}ba._pool=new c(ba);(function(g){g=g.DepthOrder||(g.DepthOrder={});g[g.FRONT_TO_BACK=1]="FRONT_TO_BACK";g[g.BACK_TO_FRONT=-1]="BACK_TO_FRONT"})(ea||={});const ia=[h.fromValues(-1,-1,-1),h.fromValues(1,-1,-1),h.fromValues(-1,1,-1),h.fromValues(1,1,-1),h.fromValues(-1,-1,1),h.fromValues(1,-1,1),h.fromValues(-1,1,1),h.fromValues(1,1,1)],ja=[h.fromValues(-1,
-1,-1),h.fromValues(-1,-1,1),h.fromValues(-1,1,-1),h.fromValues(-1,1,1),h.fromValues(1,-1,-1),h.fromValues(1,-1,1),h.fromValues(1,1,-1),h.fromValues(1,1,1)],pa=Math.sqrt(3),ra=[null],O=y.create(),V=h.create(),aa=h.create(),fa=h.create(),ma=new u,na=y.create(),l=y.create(),r=y.create(),R=y.create(),da=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],B=new u,H=[0,0,0,0,0,0,0,0];return ea})},"esri/geometry/support/frustum":function(){define("exports ../../core/ObjectStack ../../core/libs/gl-matrix-2/math/mat4 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ../../core/libs/gl-matrix-2/factories/vec4f64 ./clipRay ./plane ./vectorStacks".split(" "),
function(c,u,q,h,t,x,y,v,D,f){function p(){return[t.create(),t.create(),t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]}function A(C,F){D.fromPoints(F[c.PointIndex.FAR_BOTTOM_LEFT],F[c.PointIndex.NEAR_BOTTOM_LEFT],F[c.PointIndex.NEAR_TOP_LEFT],C[c.PlaneIndex.LEFT]);D.fromPoints(F[c.PointIndex.NEAR_BOTTOM_RIGHT],F[c.PointIndex.FAR_BOTTOM_RIGHT],F[c.PointIndex.FAR_TOP_RIGHT],C[c.PlaneIndex.RIGHT]);D.fromPoints(F[c.PointIndex.FAR_BOTTOM_LEFT],F[c.PointIndex.FAR_BOTTOM_RIGHT],F[c.PointIndex.NEAR_BOTTOM_RIGHT],
C[c.PlaneIndex.BOTTOM]);D.fromPoints(F[c.PointIndex.NEAR_TOP_LEFT],F[c.PointIndex.NEAR_TOP_RIGHT],F[c.PointIndex.FAR_TOP_RIGHT],C[c.PlaneIndex.TOP]);D.fromPoints(F[c.PointIndex.NEAR_BOTTOM_LEFT],F[c.PointIndex.NEAR_BOTTOM_RIGHT],F[c.PointIndex.NEAR_TOP_RIGHT],C[c.PlaneIndex.NEAR]);D.fromPoints(F[c.PointIndex.FAR_BOTTOM_RIGHT],F[c.PointIndex.FAR_BOTTOM_LEFT],F[c.PointIndex.FAR_TOP_LEFT],C[c.PlaneIndex.FAR])}function N(C,F){for(let Q=0;6>Q;Q++)if(!D.clip(C[Q],F))return!1;return!0}c.PlaneIndex=void 0;
(function(C){C[C.LEFT=0]="LEFT";C[C.RIGHT=1]="RIGHT";C[C.BOTTOM=2]="BOTTOM";C[C.TOP=3]="TOP";C[C.NEAR=4]="NEAR";C[C.FAR=5]="FAR"})(c.PlaneIndex||(c.PlaneIndex={}));c.PointIndex=void 0;(function(C){C[C.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT";C[C.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT";C[C.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT";C[C.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT";C[C.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT";C[C.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT";C[C.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT";C[C.FAR_TOP_LEFT=7]=
"FAR_TOP_LEFT"})(c.PointIndex||(c.PointIndex={}));const I={bottom:[c.PointIndex.FAR_BOTTOM_RIGHT,c.PointIndex.NEAR_BOTTOM_RIGHT,c.PointIndex.NEAR_BOTTOM_LEFT,c.PointIndex.FAR_BOTTOM_LEFT],near:[c.PointIndex.NEAR_BOTTOM_LEFT,c.PointIndex.NEAR_BOTTOM_RIGHT,c.PointIndex.NEAR_TOP_RIGHT,c.PointIndex.NEAR_TOP_LEFT],far:[c.PointIndex.FAR_BOTTOM_RIGHT,c.PointIndex.FAR_BOTTOM_LEFT,c.PointIndex.FAR_TOP_LEFT,c.PointIndex.FAR_TOP_RIGHT],right:[c.PointIndex.NEAR_BOTTOM_RIGHT,c.PointIndex.FAR_BOTTOM_RIGHT,c.PointIndex.FAR_TOP_RIGHT,
c.PointIndex.NEAR_TOP_RIGHT],left:[c.PointIndex.FAR_BOTTOM_LEFT,c.PointIndex.NEAR_BOTTOM_LEFT,c.PointIndex.NEAR_TOP_LEFT,c.PointIndex.FAR_TOP_LEFT],top:[c.PointIndex.FAR_TOP_LEFT,c.PointIndex.NEAR_TOP_LEFT,c.PointIndex.NEAR_TOP_RIGHT,c.PointIndex.FAR_TOP_RIGHT]},P=[y.fromValues(-1,-1,-1,1),y.fromValues(1,-1,-1,1),y.fromValues(1,1,-1,1),y.fromValues(-1,1,-1,1),y.fromValues(-1,-1,1,1),y.fromValues(1,-1,1,1),y.fromValues(1,1,1,1),y.fromValues(-1,1,1,1)],M=new u.ObjectStack(v.create),S=p();c.computePlanes=
A;c.copy=function(C,F){for(let Q=0;6>Q;Q++)D.copy(C[Q],F[Q]);return C};c.create=function(C){return C?[D.create(C[0]),D.create(C[1]),D.create(C[2]),D.create(C[3]),D.create(C[4]),D.create(C[5])]:[D.create(),D.create(),D.create(),D.create(),D.create(),D.create()]};c.createPoints=p;c.fromMatrix=function(C,F,Q,U=S){C=q.multiply(f.sm4d.get(),F,C);q.invert(C,C);for(F=0;8>F;++F){const ea=x.transformMat4(f.sv4d.get(),P[F],C);h.set(U[F],ea[0]/ea[3],ea[1]/ea[3],ea[2]/ea[3])}A(Q,U)};c.intersectClipRay=function(C,
F){for(let Q=0;6>Q;Q++)if(!D.clipInfinite(C[Q],F))return!1;return!0};c.intersectsLineSegment=function(C,F,Q){return N(C,v.fromLineSegmentAndDirection(F,Q,M.get()))};c.intersectsPoint=function(C,F){for(let Q=0;6>Q;Q++)if(0<D.signedDistance(C[Q],F))return!1;return!0};c.intersectsRay=function(C,F){return N(C,v.fromRay(F,M.get()))};c.intersectsSphere=function(C,F){for(let Q=0;6>Q;Q++){const U=C[Q];if(U[0]*F[0]+U[1]*F[1]+U[2]*F[2]+U[3]>=F[3])return!1}return!0};c.numPlanes=6;c.numPoints=8;c.planePointIndices=
I;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/clipRay":function(){define(["exports","../../core/ObjectStack","../../chunks/vec32","./ray"],function(c,u,q,h){function t(D){return D?{ray:h.create(D.ray),c0:D.c0,c1:D.c1}:{ray:h.create(),c0:0,c1:Number.MAX_VALUE}}function x(D,f,p,A=t()){h.copy(D,A.ray);A.c0=f;A.c1=p;return A}function y(D,f,p){return q.add(p,D.ray.origin,q.scale(p,D.ray.direction,f))}const v=new u.ObjectStack(()=>t());c.copy=function(D,f=t()){return x(D.ray,
D.c0,D.c1,f)};c.create=t;c.fromLineSegmentAndDirection=function(D,f,p=t()){const A=q.length(D.vector);h.fromValues(D.origin,f,p.ray);p.c0=0;p.c1=A;return p};c.fromRay=function(D,f=t()){h.copy(D,f.ray);f.c0=0;f.c1=Number.MAX_VALUE;return f};c.fromValues=x;c.getAt=y;c.getEnd=function(D,f){return y(D,D.c1,f)};c.getStart=function(D,f){return y(D,D.c0,f)};c.wrap=function(D,f,p){const A=v.get();A.ray=D;A.c0=f;A.c1=p;return A};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),
function(c,u,q,h,t,x,y,v){function D(O=ja){return[O[0],O[1],O[2],O[3]]}function f(O,V){return p(V[0],V[1],V[2],V[3],O)}function p(O,V,aa,fa,ma=D()){ma[0]=O;ma[1]=V;ma[2]=aa;ma[3]=fa;return ma}function A(O,V,aa){var fa=V[0]*V[0]+V[1]*V[1]+V[2]*V[2];fa=1E-5<Math.abs(fa-1)&&1E-12<fa?1/Math.sqrt(fa):1;aa[0]=V[0]*fa;aa[1]=V[1]*fa;aa[2]=V[2]*fa;aa[3]=-(aa[0]*O[0]+aa[1]*O[1]+aa[2]*O[2]);return aa}function N(O,V,aa,fa=D()){var ma=aa[0]-V[0],na=aa[1]-V[1],l=aa[2]-V[2];aa=O[0]-V[0];const r=O[1]-V[1],R=O[2]-
V[2];V=na*R-l*r;l=l*aa-ma*R;ma=ma*r-na*aa;na=V*V+l*l+ma*ma;na=1E-5<Math.abs(na-1)&&1E-12<na?1/Math.sqrt(na):1;fa[0]=V*na;fa[1]=l*na;fa[2]=ma*na;fa[3]=-(fa[0]*O[0]+fa[1]*O[1]+fa[2]*O[2]);return fa}function I(O,V,aa,fa=0,ma=Math.floor(1/3*aa),na=Math.floor(2/3*aa)){if(3>aa)return!1;V(Q,fa);let l=ma,r=!1;for(;l<aa-1&&!r;)V(U,l),l++,r=!q.exactEquals(Q,U);if(!r)return!1;l=Math.max(l,na);for(r=!1;l<aa&&!r;)V(ea,l),l++,q.subtract(ba,Q,U),q.normalize(ba,ba),q.subtract(ia,U,ea),q.normalize(ia,ia),r=!q.exactEquals(Q,
ea)&&!q.exactEquals(U,ea)&&.99619469809>Math.abs(q.dot(ba,ia));if(!r)return 0===fa&&1===ma&&2===na?!1:I(O,V,aa,0,1,2);N(Q,U,ea,O);return!0}function P(O,V,aa){O=q.scale(y.sv3d.get(),O,q.dot(O,V));q.subtract(aa,V,O);return aa}function M(O,V){return q.dot(O,V)+O[3]}function S(O){return O===c.IntersectResult.INTERSECTS_INSIDE_OUT||O===c.IntersectResult.INTERSECTS_OUTSIDE_IN}function C(O,V,aa,fa,ma){var na=q.dot(O,aa);O=M(O,V);if(0===na)return 0<=O?c.IntersectResult.INSIDE:c.IntersectResult.OUTSIDE;na=
-O/na;fa&c.IntersectFlags.CLAMP&&(na=u.clamp(na,0,1));if(!(fa&c.IntersectFlags.INFINITE_MIN)&&0>na||!(fa&c.IntersectFlags.INFINITE_MAX)&&1<na)return 0<=O?c.IntersectResult.INSIDE:c.IntersectResult.OUTSIDE;q.add(ma,V,q.scale(ma,aa,na));return 0<=O?c.IntersectResult.INTERSECTS_INSIDE_OUT:c.IntersectResult.INTERSECTS_OUTSIDE_IN}const F=t.exactEquals;t=t.equals;const Q=h.create(),U=h.create(),ea=h.create(),ba=h.create(),ia=h.create();c.IntersectResult=void 0;(function(O){O[O.INTERSECTS_INSIDE_OUT=0]=
"INTERSECTS_INSIDE_OUT";O[O.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN";O[O.INSIDE=2]="INSIDE";O[O.OUTSIDE=3]="OUTSIDE"})(c.IntersectResult||(c.IntersectResult={}));const ja=[0,0,1,0];c.IntersectFlags=void 0;(function(O){O[O.NONE=0]="NONE";O[O.CLAMP=1]="CLAMP";O[O.INFINITE_MIN=4]="INFINITE_MIN";O[O.INFINITE_MAX=8]="INFINITE_MAX"})(c.IntersectFlags||(c.IntersectFlags={}));const pa=c.IntersectFlags.INFINITE_MIN|c.IntersectFlags.INFINITE_MAX,ra=c.IntersectFlags.INFINITE_MAX;c.clip=function(O,V){const aa=
q.dot(O,V.ray.direction);O=-M(O,V.ray.origin);if(0>O&&0<=aa)return!1;if(-1E-6<aa&&1E-6>aa)return 0<O;if((0>O||0>aa)&&!(0>O&&0>aa))return!0;O/=aa;0<aa?O<V.c1&&(V.c1=O):O>V.c0&&(V.c0=O);return V.c0<=V.c1};c.clipInfinite=function(O,V){const aa=q.dot(O,V.ray.direction);O=-M(O,V.ray.origin);if(-1E-6<aa&&1E-6>aa)return 0<O;O/=aa;0<aa?O<V.c1&&(V.c1=O):O>V.c0&&(V.c0=O);return V.c0<=V.c1};c.copy=f;c.create=D;c.distance=function(O,V){return Math.abs(M(O,V))};c.equals=t;c.exactEquals=F;c.fromArray=function(O,
V,aa=!0){const fa=V.length/3;return I(O,(ma,na)=>q.set(ma,V[3*na],V[3*na+1],V[3*na+2]),aa?fa-1:fa)};c.fromManyPoints=I;c.fromNormalAndOffset=function(O,V,aa){q.copy(aa,O);aa[3]=V;return aa};c.fromPoints=N;c.fromPositionAndNormal=A;c.fromValues=p;c.fromVectorsAndPoint=function(O,V,aa,fa){q.cross(ea,V,O);return A(aa,ea,fa)};c.getNormal=function(O){return O};c.intersectLine=function(O,V,aa,fa){aa=q.subtract(y.sv3d.get(),aa,V);return S(C(O,V,aa,pa,fa))};c.intersectLineOrRay=C;c.intersectLineSegment=function(O,
V,aa){return S(C(O,V.origin,V.vector,c.IntersectFlags.NONE,aa))};c.intersectLineSegmentClamp=function(O,V,aa){return S(C(O,V.origin,V.vector,c.IntersectFlags.CLAMP,aa))};c.intersectRay=function(O,V,aa){return null!=V?S(C(O,V.origin,V.direction,ra,aa)):!1};c.isPointInside=function(O,V){return 0<=M(O,V)};c.negate=function(O,V){V[0]=-O[0];V[1]=-O[1];V[2]=-O[2];V[3]=-O[3];return V};c.projectPoint=function(O,V,aa){const fa=q.scale(y.sv3d.get(),O,-O[3]);V=q.subtract(y.sv3d.get(),V,fa);O=P(O,V,y.sv3d.get());
q.add(aa,O,fa);return aa};c.projectPointLocal=function(O,V,aa,fa){var ma=y.sv3d.get(),na=y.sv3d.get();v.tangentFrame(O,ma,na);V=q.subtract(y.sv3d.get(),aa,V);ma=x.projectPointSignedLength(ma,V);na=x.projectPointSignedLength(na,V);O=x.projectPointSignedLength(O,V);return q.set(fa,ma,na,O)};c.projectVector=P;c.setOffsetFromPoint=function(O,V,aa){V!==O&&f(O,V);O[3]=-q.dot(O,aa);return O};c.signedDistance=M;c.up=ja;c.wrap=function(O=ja[0],V=ja[1],aa=ja[2],fa=ja[3]){return p(O,V,aa,fa,y.sv4d.get())};Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64"],function(c,u,q,h){const t=h.create(),x=h.create(),y=h.create(),v=h.create(),D=h.create();c.angle=function(f,p,A){f=q.normalize(v,f);p=q.normalize(D,p);const N=u.acosClamped(q.dot(f,p));return A&&(f=q.cross(y,f,p),0>q.dot(f,A))?-N:N};c.bilerp=function(f,p,A,N,I,P){f+=(p-f)*I;return f+(A+(N-A)*I-f)*
P};c.cosCapped=function(f,p){return f>p?Math.cos(p):Math.cos(f)};c.fovx2fovy=function(f,p,A){return 2*Math.atan(A*Math.tan(.5*f)/p)};c.fovy2fovx=function(f,p,A){return 2*Math.atan(p*Math.tan(.5*f)/A)};c.makeOrthonormal=function(f,p,A){A=A||f;const N=q.dot(f,p);q.set(A,f[0]-N*p[0],f[1]-N*p[1],f[2]-N*p[2]);q.normalize(A,A)};c.makePiecewiseLinearFunction=function(f){const p=f.length;return A=>{if(A<=f[0][0])return f[0][1];if(A>=f[p-1][0])return f[p-1][1];let N=1;for(;A>f[N][0];)N++;const I=f[N][0];A=
(I-A)/(I-f[N-1][0]);return A*f[N-1][1]+(1-A)*f[N][1]}};c.maxScale=function(f){return Math.sqrt(Math.max(f[0]*f[0]+f[4]*f[4]+f[8]*f[8],f[1]*f[1]+f[5]*f[5]+f[9]*f[9],f[2]*f[2]+f[6]*f[6]+f[10]*f[10]))};c.midpoint3d=function(f,p){q.set(p,0,0,0);if(0<f.length){for(let A=0;A<f.length;++A)q.add(p,p,f[A]);q.scale(p,p,1/f.length)}};c.planeFromPoints=function(f,p,A,N){q.subtract(t,p,f);q.subtract(x,A,f);q.cross(N,t,x);q.normalize(N,N);N[3]=-q.dot(f,N)};c.scaleFromMatrix=function(f,p){q.set(f,Math.sqrt(p[0]*
p[0]+p[4]*p[4]+p[8]*p[8]),Math.sqrt(p[1]*p[1]+p[5]*p[5]+p[9]*p[9]),Math.sqrt(p[2]*p[2]+p[6]*p[6]+p[10]*p[10]));return f};c.slerp=function(f,p,A,N=h.create()){const I=q.length(f);var P=q.length(p),M=q.dot(f,p)/(I*P);if(.9999999999999999>M){M=Math.acos(M);const S=((1-A)*I+A*P)/Math.sin(M);P=S/P*Math.sin(A*M);q.scale(v,f,S/I*Math.sin((1-A)*M));q.scale(D,p,P);return q.add(N,v,D)}return q.lerp(N,f,p,A)};c.slerpTangent=function(f,p,A,N=h.create(),I=h.create()){const P=q.length(f),M=q.length(p);var S=q.dot(f,
p)/(P*M);if(.9999999999999999>S){S=Math.acos(S);const C=Math.sin(S),F=Math.sin(A*S),Q=Math.sin((1-A)*S),U=(1-A)*P+A*M,ea=U/C,ba=ea/M*F;q.scale(v,f,ea/P*Q);q.scale(D,p,ba);q.add(N,v,D);q.scale(v,f,1/P*(-Math.cos((1-A)*S)*S*U+Q*(-P+M)));q.scale(D,p,1/M*(Math.cos(A*S)*S*U+F*(-P+M)));q.add(I,v,D);q.scale(I,I,1/C);return I}q.lerp(N,f,p,A);q.subtract(I,p,f);q.normalize(I,I);return I};c.tangentFrame=function(f,p,A){Math.abs(f[0])>Math.abs(f[1])?q.set(p,0,1,0):q.set(p,1,0,0);q.cross(A,f,p);q.cross(p,A,f);
q.normalize(A,A);q.normalize(p,p)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../chunks/vec42","../../../../core/libs/gl-matrix-2/factories/vec4f64"],function(c,u,q,h){function t(v,D="Assertion"){if(!v)throw new y(`${D} at ${Error(D).stack}`);}const x=h.create();class y{constructor(v){this.message=v}toString(){return`AssertException: ${this.message}`}}
c.assert=t;c.isTranslationMatrix=function(v){return 1===v[0]&&0===v[1]&&0===v[2]&&0===v[3]&&0===v[4]&&1===v[5]&&0===v[6]&&0===v[7]&&0===v[8]&&0===v[9]&&1===v[10]&&0===v[11]&&1===v[15]};c.logWithBase=function(v,D){return Math.log(v)/Math.log(D)};c.project=function(v,D,f,p,A){x[0]=v[0];x[1]=v[1];x[2]=v[2];x[3]=1;q.transformMat4(x,x,D);2<A.length&&(A[2]=-x[2]);q.transformMat4(x,x,f);t(0!==x[3]);A[0]=x[0]/x[3];A[1]=x[1]/x[3];A[2]=x[2]/x[3];A[0]=(.5*A[0]+.5)*p[2]+p[0];A[1]=(.5*A[1]+.5)*p[3]+p[1]};c.rayBoxTest=
function(v,D,f,p){let A,N=(f[0]-v[0])/D[0],I=(p[0]-v[0])/D[0];N>I&&(A=N,N=I,I=A);let P=(f[1]-v[1])/D[1],M=(p[1]-v[1])/D[1];P>M&&(A=P,P=M,M=A);if(N>M||P>I)return!1;P>N&&(N=P);M<I&&(I=M);f=(f[2]-v[2])/D[2];v=(p[2]-v[2])/D[2];f>v&&(A=f,f=v,v=A);if(N>v||f>I)return!1;v<I&&(I=v);return 0>I?!1:!0};c.rayRay2D=function(v,D,f,p,A,N=u.create()){const I=(p[A]-f[A])*(D[0]-v[0])-(p[0]-f[0])*(D[A]-v[A]);if(0===I)return!1;f=((p[0]-f[0])*(v[A]-f[A])-(p[A]-f[A])*(v[0]-f[0]))/I;N[0]=v[0]+f*(D[0]-v[0]);N[1]=v[A]+f*(D[A]-
v[A]);return!0};c.setMatrixTranslation3=function(v,D,f,p){v[12]=D;v[13]=f;v[14]=p};c.verify=function(v,D){v||console.warn("Verify failed: "+(D||"")+"\n"+Error("verify").stack)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define("exports ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/InterleavedLayout ../VertexAttribute ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),
function(c,u,q,h,t,x,y,v){function D(N,I,P,M){if(I)return I=q.computeNeighbors(P,M,N.count),new f(P,M,I,N);N=u.deduplicate(N.buffer,N.stride/4,{originalIndices:P,originalIndicesLength:M});M=q.computeNeighbors(N.indices,M,N.uniqueCount);return{faces:N.indices,facesLength:N.indices.length,neighbors:M,vertices:x.EdgeInputBufferLayout.createView(N.buffer)}}class f{constructor(N,I,P,M){this.faces=N;this.facesLength=I;this.neighbors=P;this.vertices=M}}const p=new y.RegularEdgeBufferWriter,A=new y.SilhouetteEdgeBufferWriter;
y=h.newLayout().vec3f(t.VertexAttribute.POSITION0).vec3f(t.VertexAttribute.POSITION1);h=h.newLayout().vec3f(t.VertexAttribute.POSITION0).vec3f(t.VertexAttribute.POSITION1).u16(t.VertexAttribute.COMPONENTINDEX);c.extract=function(N){const I=D(N.data,N.skipDeduplicate,N.indices,N.indicesLength);p.updateSettings(N.writerSettings);A.updateSettings(N.writerSettings);return v.extractEdges(I,p,A)};c.extractComponentsEdgeLocationsLayout=h;c.extractEdgeInformation=D;c.extractEdgeLocationsLayout=y;Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports","../../../core/mathUtils","../Indices"],function(c,u,q){let h=null;c.deduplicate=function(t,x,y){var v=Array.isArray(t),D=v?t.length/x:t.byteLength/(4*x),f=v?t:new Uint32Array(t,0,D*x),p=y?.minReduction??0;const A=(t=y?.originalIndices||null)?t.length:0;var N=y?.componentOffsets||null;y=0;if(N)for(var I=0;I<N.length-1;I++){var P=N[I+1]-N[I];P>y&&(y=P)}else y=D;var M=Math.floor(1.1*y)+
1;if(null==h||h.length<2*M)h=new Uint32Array(u.nextHighestPowerOfTwo(2*M));for(y=0;y<2*M;y++)h[y]=0;y=0;const S=(P=!!N&&!!t)?A:D;I=q.newIndexArray(D);var C=new Uint32Array(A),F=0!==p?Math.ceil(7.84*1.96/(p*p)*p*(1-p)):S,Q=1,U=N?N[1]:S;for(let pa=0;pa<S;pa++){if(pa===F){var ea=1-y/pa;if(ea+1.96*Math.sqrt(ea*(1-ea)/pa)<p)return null;F*=2}if(pa===U){for(U=0;U<2*M;U++)h[U]=0;if(t)for(U=N[Q-1];U<N[Q];U++)C[U]=I[t[U]];U=N[++Q]}ea=P?t[pa]:pa;const ra=ea*x;var ba=0;for(var ia=0;ia<x;ia++)ba=f[ra+ia]+ba|0,
ba=ba+(ba<<11)+(ba>>>2)|0;ba>>>=0;ia=ba%M;let O=y;for(;0!==h[2*ia+1];){if(h[2*ia]===ba){const V=h[2*ia+1]-1;var ja=V*x;a:{for(let aa=0;aa<x;aa++)if(f[ra+aa]!==f[ja+aa]){ja=!1;break a}ja=!0}if(ja){O=I[V];break}}ia++;ia>=M&&(ia-=M)}O===y&&(h[2*ia]=ba,h[2*ia+1]=ea+1,y++);I[ea]=O}if(0!==p&&1-y/D<p)return null;if(P){for(D=N[Q-1];D<C.length;D++)C[D]=I[t[D]];I=q.compactIndices(C)}v=v?Array(y):new Uint32Array(y*x);y=0;for(F=0;F<S;F++)if(I[F]===y){D=f;p=(P?t[F]:F)*x;N=v;M=y*x;C=x;for(Q=0;Q<C;Q++)N[M+Q]=D[p+
Q];y++}if(t&&!P){x=new Uint32Array(A);for(f=0;f<x.length;f++)x[f]=I[t[f]];I=q.compactIndices(x)}return{buffer:Array.isArray(v)?v:v.buffer,indices:I,uniqueCount:y}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Indices":function(){define(["exports","../../core/typedArrayUtil"],function(c,u){function q(f){let p=!0;for(const A of f){if(65536<=A)return u.isArray(f)?new Uint32Array(f):f;256<=A&&(p=!1)}return p?new Uint8Array(f):new Uint16Array(f)}function h(f){if(1===
f)return y;if(f<u.nativeArrayMaxSize)return Array.from(new Uint16Array(v.buffer,0,f));if(f<v.length)return new Uint16Array(v.buffer,0,f);if(f>x.length){x=new Uint32Array(Math.max(2*x.length,f));for(let p=0;p<x.length;p++)x[p]=p}return new Uint32Array(x.buffer,0,f)}function t(f){if(1===f)return y;if(f<u.nativeArrayMaxSize)return Array(f).fill(0);f>D.length&&(D=new Uint8Array(Math.max(2*D.length,f)));return new Uint8Array(D.buffer,0,f)}let x=(()=>{const f=new Uint32Array(131072);for(let p=0;p<f.length;++p)f[p]=
p;return f})();const y=[0],v=(()=>{const f=new Uint16Array(65536);for(let p=0;p<f.length;++p)f[p]=p;return f})();let D=new Uint8Array(65536);c.compactIndices=function(f){if(u.isArray(f)){if(f.length<u.nativeArrayMaxSize)return f}else if(f.length<u.nativeArrayMaxSize)return Array.from(f);let p=!0,A=!0;f.some((N,I)=>{p=p&&0===N;A=A&&N===I;return!p&&!A});return p?t(f.length):A?h(f.length):u.isArray(f)||f.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?q(f):f};c.getContinuousIndexArray=h;c.getZeroIndexArray=
t;c.newIndexArray=function(f){return f<=u.nativeArrayMaxSize?Array(f):65536>=f?new Uint16Array(f):new Uint32Array(f)};c.newIntArray=function(f){return f<=u.nativeArrayMaxSize?Array(f):new Uint32Array(f)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/meshProcessing":function(){define(["exports"],function(c){c.computeNeighbors=function(u,q,h){q/=3;const t=new Uint32Array(h+1),x=new Uint32Array(h+1);var y=(M,S)=>{M<S?t[M+1]++:x[S+1]++};for(var v=0;v<q;v++){var D=
u[3*v],f=u[3*v+1],p=u[3*v+2];y(D,f);y(f,p);y(p,D)}v=y=0;for(D=0;D<h;D++)f=t[D+1],p=x[D+1],t[D+1]=y,x[D+1]=v,y+=f,v+=p;const A=new Uint32Array(6*q),N=t[h];y=(M,S,C)=>{M<S?(M=t[M+1]++,A[2*M]=S,A[2*M+1]=C):(S=x[S+1]++,A[2*N+2*S]=M,A[2*N+2*S+1]=C)};for(v=0;v<q;v++)D=u[3*v],f=u[3*v+1],p=u[3*v+2],y(D,f,v),y(f,p,v),y(p,D,v);y=(M,S)=>{const C=2*M;M=S-M;for(S=1;S<M;S++){const F=A[C+2*S],Q=A[C+2*S+1];let U=S-1;for(U;0<=U&&A[C+2*U]>F;U--)A[C+2*U+2]=A[C+2*U],A[C+2*U+3]=A[C+2*U+1];A[C+2*U+2]=F;A[C+2*U+3]=Q}};
for(v=0;v<h;v++)y(t[v],t[v+1]),y(N+x[v],N+x[v+1]);const I=new Int32Array(3*q),P=(M,S)=>M===u[3*S]?0:M===u[3*S+1]?1:M===u[3*S+2]?2:-1;q=(M,S)=>{M=P(M,S);I[3*S+M]=-1};y=(M,S,C,F)=>{M=P(M,S);I[3*S+M]=F;C=P(C,F);I[3*F+C]=S};for(v=0;v<h;v++){D=t[v];f=t[v+1];p=x[v];const M=x[v+1];for(;D<f&&p<M;){const S=A[2*D],C=A[2*N+2*p];S===C?(y(v,A[2*D+1],C,A[2*N+2*p+1]),D++,p++):S<C?(q(v,A[2*D+1]),D++):(q(C,A[2*N+2*p+1]),p++)}for(;D<f;)q(v,A[2*D+1]),D++;for(;p<M;)q(A[2*N+2*p],A[2*N+2*p+1]),p++}return I};Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports","../../../../geometry/support/buffer/BufferView","../../../../geometry/support/buffer/types","../../webgl-engine/lib/Util"],function(c,u,q,h){class t{constructor(f,p){this.layout=f;this.buffer="number"===typeof p?new ArrayBuffer(p*f.stride):p;for(const A of f.fields.keys())p=f.fields.get(A),this[A]=new p.constructor(this.buffer,p.offset,this.stride)}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/
this.stride}get byteLength(){return this.buffer.byteLength}getField(f,p){return(f=this[f])&&f.elementCount===p.ElementCount&&f.elementType===p.ElementType?f:null}slice(f,p){return new t(this.layout,this.buffer.slice(f*this.stride,p*this.stride))}copyFrom(f,p=0,A=0,N=f.count){const I=this.stride;0===I%4?(f=new Uint32Array(f.buffer,p*I,N*I/4),(new Uint32Array(this.buffer,A*I,N*I/4)).set(f)):(f=new Uint8Array(f.buffer,p*I,N*I),(new Uint8Array(this.buffer,A*I,N*I)).set(f));return this}get usedMemory(){return this.byteLength}dispose(){}}
class x{constructor(f){this._lastAligned=this._stride=0;this._fields=new Map;f&&(this._stride=f.stride,f.fields.forEach(p=>this._fields.set(p[0],{...p[1],constructor:D.get(p[1].constructor)})))}freeze(){return this}vec2f(f,p){this._appendField(f,u.BufferViewVec2f,p);return this}vec2f64(f,p){this._appendField(f,u.BufferViewVec2f64,p);return this}vec3f(f,p){this._appendField(f,u.BufferViewVec3f,p);return this}vec3f64(f,p){this._appendField(f,u.BufferViewVec3f64,p);return this}vec4f(f,p){this._appendField(f,
u.BufferViewVec4f,p);return this}vec4f64(f,p){this._appendField(f,u.BufferViewVec4f64,p);return this}mat3f(f,p){this._appendField(f,u.BufferViewMat3f,p);return this}mat3f64(f,p){this._appendField(f,u.BufferViewMat3f64,p);return this}mat4f(f,p){this._appendField(f,u.BufferViewMat4f,p);return this}mat4f64(f,p){this._appendField(f,u.BufferViewMat4f64,p);return this}vec4u8(f,p){this._appendField(f,u.BufferViewVec4u8,p);return this}f32(f,p){this._appendField(f,u.BufferViewFloat,p);return this}f64(f,p){this._appendField(f,
u.BufferViewFloat64,p);return this}u8(f,p){this._appendField(f,u.BufferViewUint8,p);return this}u16(f,p){this._appendField(f,u.BufferViewUint16,p);return this}i8(f,p){this._appendField(f,u.BufferViewInt8,p);return this}vec2i8(f,p){this._appendField(f,u.BufferViewVec2i8,p);return this}vec2i16(f,p){this._appendField(f,u.BufferViewVec2i16,p);return this}vec2u8(f,p){this._appendField(f,u.BufferViewVec2u8,p);return this}vec4u16(f,p){this._appendField(f,u.BufferViewVec4u16,p);return this}u32(f,p){this._appendField(f,
u.BufferViewUint32,p);return this}_appendField(f,p,A){if(this._fields.has(f))h.assert(!1,`${f} already added to vertex buffer layout`);else{var N=p.ElementCount*q.elementTypeSize(p.ElementType),I=this._stride;this._stride+=N;this._fields.set(f,{size:N,constructor:p,offset:I,optional:A})}}createBuffer(f){return new t(this,f)}createView(f){return new t(this,f)}clone(){const f=new x;f._stride=this._stride;f._fields=new Map;this._fields.forEach((p,A)=>f._fields.set(A,p));f.BufferType=this.BufferType;
return f}get stride(){if(this._lastAligned!==this._fields.size){let f=1;this._fields.forEach(p=>f=Math.max(f,q.elementTypeSize(p.constructor.ElementType)));this._stride=Math.floor((this._stride+f-1)/f)*f;this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}class y{constructor(f){this.fields=[];f.fields.forEach((p,A)=>{var N=p.constructor;this.fields.push([A,{...p,constructor:`${N.ElementType}_${N.ElementCount}`}])});this.stride=f.stride}}const v=[u.BufferViewFloat,
u.BufferViewVec2f,u.BufferViewVec3f,u.BufferViewVec4f,u.BufferViewMat3f,u.BufferViewMat4f,u.BufferViewFloat64,u.BufferViewVec2f64,u.BufferViewVec3f64,u.BufferViewVec4f64,u.BufferViewMat3f64,u.BufferViewMat4f64,u.BufferViewUint8,u.BufferViewVec2u8,u.BufferViewVec3u8,u.BufferViewVec4u8,u.BufferViewUint16,u.BufferViewVec2u16,u.BufferViewVec3u16,u.BufferViewVec4u16,u.BufferViewUint32,u.BufferViewVec2u32,u.BufferViewVec3u32,u.BufferViewVec4u32,u.BufferViewInt8,u.BufferViewVec2i8,u.BufferViewVec3i8,u.BufferViewVec4i8,
u.BufferViewInt16,u.BufferViewVec2i16,u.BufferViewVec3i16,u.BufferViewVec4i16,u.BufferViewInt32,u.BufferViewVec2i32,u.BufferViewVec3i32,u.BufferViewVec4i32],D=new Map;v.forEach(f=>D.set(`${f.ElementType}_${f.ElementCount}`,f));c.InterleavedBuffer=t;c.InterleavedLayout=x;c.PackedLayout=y;c.newLayout=function(){return new x};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),
function(c,u,q,h,t,x,y){class v extends h.BufferViewScalarImpl{constructor(e,n=0,Z,k){super(Float32Array,e,n,Z,k);this.elementType="f32"}static fromTypedArray(e,n){return new v(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}v.ElementType="f32";class D extends t.BufferViewVec2Impl{constructor(e,n=0,Z,k){super(Float32Array,e,n,Z,k);this.elementType="f32"}slice(e,n){return this.sliceBuffer(D,e,n)}static fromTypedArray(e,n){return new D(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}D.ElementType=
"f32";class f extends x.BufferViewVec3Impl{constructor(e,n=0,Z,k){super(Float32Array,e,n,Z,k);this.elementType="f32"}slice(e,n){return this.sliceBuffer(f,e,n)}static fromTypedArray(e,n){return new f(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}f.ElementType="f32";class p extends y.BufferViewVec4Impl{constructor(e,n=0,Z,k){super(Float32Array,e,n,Z,k);this.elementType="f32"}slice(e,n){return this.sliceBuffer(p,e,n)}static fromTypedArray(e,n){return new p(e.buffer,e.byteOffset,n,e.byteOffset+
e.byteLength)}}p.ElementType="f32";class A extends u.BufferViewMat3Impl{constructor(e,n=0,Z,k){super(Float32Array,e,n,Z,k);this.elementType="f32"}slice(e,n){return this.sliceBuffer(A,e,n)}static fromTypedArray(e,n){return new A(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}A.ElementType="f32";class N extends u.BufferViewMat3Impl{constructor(e,n=0,Z,k){super(Float64Array,e,n,Z,k);this.elementType="f64"}slice(e,n){return this.sliceBuffer(N,e,n)}static fromTypedArray(e,n){return new N(e.buffer,
e.byteOffset,n,e.byteOffset+e.byteLength)}}N.ElementType="f64";class I extends q.BufferViewMat4Impl{constructor(e,n=0,Z,k){super(Float32Array,e,n,Z,k);this.elementType="f32"}slice(e,n){return this.sliceBuffer(I,e,n)}static fromTypedArray(e,n){return new I(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}I.ElementType="f32";class P extends q.BufferViewMat4Impl{constructor(e,n=0,Z,k){super(Float64Array,e,n,Z,k);this.elementType="f64"}slice(e,n){return this.sliceBuffer(P,e,n)}static fromTypedArray(e,
n){return new P(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}P.ElementType="f64";class M extends h.BufferViewScalarImpl{constructor(e,n=0,Z,k){super(Float64Array,e,n,Z,k);this.elementType="f64"}slice(e,n){return this.sliceBuffer(M,e,n)}static fromTypedArray(e,n){return new M(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}M.ElementType="f64";class S extends t.BufferViewVec2Impl{constructor(e,n=0,Z,k){super(Float64Array,e,n,Z,k);this.elementType="f64"}slice(e,n){return this.sliceBuffer(S,
e,n)}static fromTypedArray(e,n){return new S(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}S.ElementType="f64";class C extends x.BufferViewVec3Impl{constructor(e,n=0,Z,k){super(Float64Array,e,n,Z,k);this.elementType="f64"}slice(e,n){return this.sliceBuffer(C,e,n)}static fromTypedArray(e,n){return new C(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}C.ElementType="f64";class F extends y.BufferViewVec4Impl{constructor(e,n=0,Z,k){super(Float64Array,e,n,Z,k);this.elementType="f64"}slice(e,
n){return this.sliceBuffer(F,e,n)}static fromTypedArray(e,n){return new F(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}F.ElementType="f64";class Q extends h.BufferViewScalarImpl{constructor(e,n=0,Z,k){super(Uint8Array,e,n,Z,k);this.elementType="u8"}slice(e,n){return this.sliceBuffer(Q,e,n)}static fromTypedArray(e,n){return new Q(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}Q.ElementType="u8";class U extends t.BufferViewVec2Impl{constructor(e,n=0,Z,k){super(Uint8Array,e,n,Z,k);this.elementType=
"u8"}slice(e,n){return this.sliceBuffer(U,e,n)}static fromTypedArray(e,n){return new U(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}U.ElementType="u8";class ea extends x.BufferViewVec3Impl{constructor(e,n=0,Z,k){super(Uint8Array,e,n,Z,k);this.elementType="u8"}slice(e,n){return this.sliceBuffer(ea,e,n)}static fromTypedArray(e,n){return new ea(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}ea.ElementType="u8";class ba extends y.BufferViewVec4Impl{constructor(e,n=0,Z,k){super(Uint8Array,
e,n,Z,k);this.elementType="u8"}slice(e,n){return this.sliceBuffer(ba,e,n)}static fromTypedArray(e,n){return new ba(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}ba.ElementType="u8";class ia extends h.BufferViewScalarImpl{constructor(e,n=0,Z,k){super(Uint16Array,e,n,Z,k);this.elementType="u16"}slice(e,n){return this.sliceBuffer(ia,e,n)}static fromTypedArray(e,n){return new ia(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}ia.ElementType="u16";class ja extends t.BufferViewVec2Impl{constructor(e,
n=0,Z,k){super(Uint16Array,e,n,Z,k);this.elementType="u16"}slice(e,n){return this.sliceBuffer(ja,e,n)}static fromTypedArray(e,n){return new ja(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}ja.ElementType="u16";class pa extends x.BufferViewVec3Impl{constructor(e,n=0,Z,k){super(Uint16Array,e,n,Z,k);this.elementType="u16"}slice(e,n){return this.sliceBuffer(pa,e,n)}static fromTypedArray(e,n){return new pa(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}pa.ElementType="u16";class ra extends y.BufferViewVec4Impl{constructor(e,
n=0,Z,k){super(Uint16Array,e,n,Z,k);this.elementType="u16"}slice(e,n){return this.sliceBuffer(ra,e,n)}static fromTypedArray(e,n){return new ra(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}ra.ElementType="u16";class O extends h.BufferViewScalarImpl{constructor(e,n=0,Z,k){super(Uint32Array,e,n,Z,k);this.elementType="u32"}slice(e,n){return this.sliceBuffer(O,e,n)}static fromTypedArray(e,n){return new O(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}O.ElementType="u32";class V extends t.BufferViewVec2Impl{constructor(e,
n=0,Z,k){super(Uint32Array,e,n,Z,k);this.elementType="u32"}slice(e,n){return this.sliceBuffer(V,e,n)}static fromTypedArray(e,n){return new V(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}V.ElementType="u32";class aa extends x.BufferViewVec3Impl{constructor(e,n=0,Z,k){super(Uint32Array,e,n,Z,k);this.elementType="u32"}slice(e,n){return this.sliceBuffer(aa,e,n)}static fromTypedArray(e,n){return new aa(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}aa.ElementType="u32";class fa extends y.BufferViewVec4Impl{constructor(e,
n=0,Z,k){super(Uint32Array,e,n,Z,k);this.elementType="u32"}slice(e,n){return this.sliceBuffer(fa,e,n)}static fromTypedArray(e,n){return new fa(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}fa.ElementType="u32";class ma extends h.BufferViewScalarImpl{constructor(e,n=0,Z,k){super(Int8Array,e,n,Z,k);this.elementType="i8"}slice(e,n){return this.sliceBuffer(ma,e,n)}static fromTypedArray(e,n){return new ma(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}ma.ElementType="i8";class na extends t.BufferViewVec2Impl{constructor(e,
n=0,Z,k){super(Int8Array,e,n,Z,k);this.elementType="i8"}slice(e,n){return this.sliceBuffer(na,e,n)}static fromTypedArray(e,n){return new na(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}na.ElementType="i8";class l extends x.BufferViewVec3Impl{constructor(e,n=0,Z,k){super(Int8Array,e,n,Z,k);this.elementType="i8"}slice(e,n){return this.sliceBuffer(l,e,n)}static fromTypedArray(e,n){return new l(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}l.ElementType="i8";class r extends y.BufferViewVec4Impl{constructor(e,
n=0,Z,k){super(Int8Array,e,n,Z,k);this.elementType="i8"}slice(e,n){return this.sliceBuffer(r,e,n)}static fromTypedArray(e,n){return new r(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}r.ElementType="i8";class R extends h.BufferViewScalarImpl{constructor(e,n=0,Z,k){super(Int16Array,e,n,Z,k);this.elementType="i16"}slice(e,n){return this.sliceBuffer(R,e,n)}static fromTypedArray(e,n){return new R(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}R.ElementType="i16";class da extends t.BufferViewVec2Impl{constructor(e,
n=0,Z,k){super(Int16Array,e,n,Z,k);this.elementType="i16"}slice(e,n){return this.sliceBuffer(da,e,n)}static fromTypedArray(e,n){return new da(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}da.ElementType="i16";class B extends x.BufferViewVec3Impl{constructor(e,n=0,Z,k){super(Int16Array,e,n,Z,k);this.elementType="i16"}slice(e,n){return this.sliceBuffer(B,e,n)}static fromTypedArray(e,n){return new B(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}B.ElementType="i16";class H extends y.BufferViewVec4Impl{constructor(e,
n=0,Z,k){super(Int16Array,e,n,Z,k);this.elementType="i16"}slice(e,n){return this.sliceBuffer(H,e,n)}static fromTypedArray(e,n){return new H(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}H.ElementType="i16";class g extends h.BufferViewScalarImpl{constructor(e,n=0,Z,k){super(Int32Array,e,n,Z,k);this.elementType="i32"}slice(e,n){return this.sliceBuffer(g,e,n)}static fromTypedArray(e,n){return new g(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}g.ElementType="i32";class w extends t.BufferViewVec2Impl{constructor(e,
n=0,Z,k){super(Int32Array,e,n,Z,k);this.elementType="i32"}slice(e,n){return this.sliceBuffer(w,e,n)}static fromTypedArray(e,n){return new w(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}w.ElementType="i32";class J extends x.BufferViewVec3Impl{constructor(e,n=0,Z,k){super(Int32Array,e,n,Z,k);this.elementType="i32"}slice(e,n){return this.sliceBuffer(J,e,n)}static fromTypedArray(e,n){return new J(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}J.ElementType="i32";class T extends y.BufferViewVec4Impl{constructor(e,
n=0,Z,k){super(Int32Array,e,n,Z,k);this.elementType="i32"}slice(e,n){return this.sliceBuffer(T,e,n)}static fromTypedArray(e,n){return new T(e.buffer,e.byteOffset,n,e.byteOffset+e.byteLength)}}T.ElementType="i32";c.BufferViewFloat=v;c.BufferViewFloat64=M;c.BufferViewInt16=R;c.BufferViewInt32=g;c.BufferViewInt8=ma;c.BufferViewMat3f=A;c.BufferViewMat3f64=N;c.BufferViewMat4f=I;c.BufferViewMat4f64=P;c.BufferViewUint16=ia;c.BufferViewUint32=O;c.BufferViewUint8=Q;c.BufferViewVec2f=D;c.BufferViewVec2f64=
S;c.BufferViewVec2i16=da;c.BufferViewVec2i32=w;c.BufferViewVec2i8=na;c.BufferViewVec2u16=ja;c.BufferViewVec2u32=V;c.BufferViewVec2u8=U;c.BufferViewVec3f=f;c.BufferViewVec3f64=C;c.BufferViewVec3i16=B;c.BufferViewVec3i32=J;c.BufferViewVec3i8=l;c.BufferViewVec3u16=pa;c.BufferViewVec3u32=aa;c.BufferViewVec3u8=ea;c.BufferViewVec4f=p;c.BufferViewVec4f64=F;c.BufferViewVec4i16=H;c.BufferViewVec4i32=T;c.BufferViewVec4i8=r;c.BufferViewVec4u16=ra;c.BufferViewVec4u32=fa;c.BufferViewVec4u8=ba;Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],function(c){class u{constructor(q,h,t=0,x,y){this.TypedArrayConstructor=q;this.elementCount=9;q=this.TypedArrayConstructor;void 0===x&&(x=9*q.BYTES_PER_ELEMENT);const v=0===h.byteLength?0:t;this.typedBuffer=null==y?new q(h,v):new q(h,v,(y-t)/q.BYTES_PER_ELEMENT);this.typedBufferStride=x/q.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=
this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(q,h,t=this.count-h){h=this.typedBuffer.byteOffset+h*this.stride;return new q(this.buffer,h,this.stride,h+t*this.stride)}getMat(q,h){q*=this.typedBufferStride;for(let t=0;9>t;t++)h[t]=this.typedBuffer[q++];return h}setMat(q,h){q*=this.typedBufferStride;for(let t=0;9>t;t++)this.typedBuffer[q++]=h[t]}get(q,h){return this.typedBuffer[q*this.typedBufferStride+h]}set(q,h,t){this.typedBuffer[q*this.typedBufferStride+h]=t}copyFrom(q,
h,t){const x=this.typedBuffer,y=h.typedBuffer;q*=this.typedBufferStride;h=t*h.typedBufferStride;for(t=0;9>t;++t)x[q++]=y[h++]}get buffer(){return this.typedBuffer.buffer}}u.ElementCount=9;c.BufferViewMat3Impl=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],function(c){class u{constructor(q,h,t=0,x,y){this.TypedArrayConstructor=q;this.elementCount=16;q=this.TypedArrayConstructor;void 0===x&&(x=16*q.BYTES_PER_ELEMENT);
const v=0===h.byteLength?0:t;this.typedBuffer=null==y?new q(h,v):new q(h,v,(y-t)/q.BYTES_PER_ELEMENT);this.typedBufferStride=x/q.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(q,h,t=this.count-h){h=this.typedBuffer.byteOffset+h*this.stride;return new q(this.buffer,h,this.stride,h+t*this.stride)}getMat(q,h){q*=this.typedBufferStride;for(let t=0;16>t;t++)h[t]=this.typedBuffer[q++];
return h}setMat(q,h){q*=this.typedBufferStride;for(let t=0;16>t;t++)this.typedBuffer[q++]=h[t]}get(q,h){return this.typedBuffer[q*this.typedBufferStride+h]}set(q,h,t){this.typedBuffer[q*this.typedBufferStride+h]=t}copyFrom(q,h,t){this.copyFromTypedBuffer(q,h.typedBuffer,t*h.typedBufferStride)}copyFromTypedBuffer(q,h,t){const x=this.typedBuffer;q*=this.typedBufferStride;for(let y=0;16>y;++y)x[q++]=h[t++]}get buffer(){return this.typedBuffer.buffer}}u.ElementCount=16;c.BufferViewMat4Impl=u;Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],function(c){class u{constructor(q,h,t=0,x,y){this.TypedArrayConstructor=q;this.elementCount=1;q=this.TypedArrayConstructor;void 0===x&&(x=q.BYTES_PER_ELEMENT);const v=0===h.byteLength?0:t;this.typedBuffer=null==y?new q(h,v):new q(h,v,(y-t)/q.BYTES_PER_ELEMENT);this.stride=x;this.typedBufferStride=x/q.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(q,
h,t=this.count-h){h=this.typedBuffer.byteOffset+h*this.stride;return new q(this.buffer,h,this.stride,h+t*this.stride)}get(q){return this.typedBuffer[q*this.typedBufferStride]}set(q,h){this.typedBuffer[q*this.typedBufferStride]=h}get buffer(){return this.typedBuffer.buffer}}u.ElementCount=1;c.BufferViewScalarImpl=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],
function(c,u){class q{constructor(h,t,x=0,y,v){this.TypedArrayConstructor=h;this.elementCount=2;h=this.TypedArrayConstructor;void 0===y&&(y=2*h.BYTES_PER_ELEMENT);const D=0===t.byteLength?0:x;this.typedBuffer=null==v?new h(t,D):new h(t,D,(v-x)/h.BYTES_PER_ELEMENT);this.typedBufferStride=y/h.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(h,t,x=this.count-t){t=this.typedBuffer.byteOffset+
t*this.stride;return new h(this.buffer,t,this.stride,t+x*this.stride)}getVec(h,t){h*=this.typedBufferStride;return u.set(t,this.typedBuffer[h],this.typedBuffer[h+1])}setVec(h,t){h*=this.typedBufferStride;this.typedBuffer[h++]=t[0];this.typedBuffer[h]=t[1]}get(h,t){return this.typedBuffer[h*this.typedBufferStride+t]}set(h,t,x){this.typedBuffer[h*this.typedBufferStride+t]=x}setValues(h,t,x){h*=this.typedBufferStride;this.typedBuffer[h++]=t;this.typedBuffer[h]=x}copyFrom(h,t,x){const y=this.typedBuffer,
v=t.typedBuffer;h*=this.typedBufferStride;t=x*t.typedBufferStride;y[h++]=v[t++];y[h]=v[t]}get buffer(){return this.typedBuffer.buffer}}q.ElementCount=2;c.BufferViewVec2Impl=q;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],function(c,u){function q(B,H){B[0]=H[0];B[1]=H[1];return B}function h(B,H,g){B[0]=H;B[1]=g;return B}function t(B,H,g){B[0]=H[0]+g[0];B[1]=H[1]+g[1];return B}function x(B,H,g){B[0]=H[0]-
g[0];B[1]=H[1]-g[1];return B}function y(B,H,g){B[0]=H[0]*g[0];B[1]=H[1]*g[1];return B}function v(B,H,g){B[0]=H[0]/g[0];B[1]=H[1]/g[1];return B}function D(B,H){B[0]=Math.ceil(H[0]);B[1]=Math.ceil(H[1]);return B}function f(B,H){B[0]=Math.floor(H[0]);B[1]=Math.floor(H[1]);return B}function p(B,H,g){B[0]=Math.min(H[0],g[0]);B[1]=Math.min(H[1],g[1]);return B}function A(B,H,g){B[0]=Math.max(H[0],g[0]);B[1]=Math.max(H[1],g[1]);return B}function N(B,H){B[0]=Math.round(H[0]);B[1]=Math.round(H[1]);return B}
function I(B,H,g){B[0]=H[0]*g;B[1]=H[1]*g;return B}function P(B,H,g,w){B[0]=H[0]+g[0]*w;B[1]=H[1]+g[1]*w;return B}function M(B,H){const g=H[0]-B[0];B=H[1]-B[1];return Math.sqrt(g*g+B*B)}function S(B,H){const g=H[0]-B[0];B=H[1]-B[1];return g*g+B*B}function C(B){const H=B[0];B=B[1];return Math.sqrt(H*H+B*B)}function F(B){const H=B[0];B=B[1];return H*H+B*B}function Q(B,H){B[0]=-H[0];B[1]=-H[1];return B}function U(B,H){B[0]=1/H[0];B[1]=1/H[1];return B}function ea(B,H){var g=H[0];const w=H[1];g=g*g+w*
w;0<g&&(g=1/Math.sqrt(g),B[0]=H[0]*g,B[1]=H[1]*g);return B}function ba(B,H){return B[0]*H[0]+B[1]*H[1]}function ia(B,H,g){H=H[0]*g[1]-H[1]*g[0];B[0]=B[1]=0;B[2]=H;return B}function ja(B,H,g,w){const J=H[0];H=H[1];B[0]=J+w*(g[0]-J);B[1]=H+w*(g[1]-H);return B}function pa(B,H=1){const g=2*u.RANDOM()*Math.PI;B[0]=Math.cos(g)*H;B[1]=Math.sin(g)*H;return B}function ra(B,H,g){const w=H[0];H=H[1];B[0]=g[0]*w+g[2]*H;B[1]=g[1]*w+g[3]*H;return B}function O(B,H,g){const w=H[0];H=H[1];B[0]=g[0]*w+g[2]*H+g[4];
B[1]=g[1]*w+g[3]*H+g[5];return B}function V(B,H,g){const w=H[0];H=H[1];B[0]=g[0]*w+g[3]*H+g[6];B[1]=g[1]*w+g[4]*H+g[7];return B}function aa(B,H,g){const w=H[0];H=H[1];B[0]=g[0]*w+g[4]*H+g[12];B[1]=g[1]*w+g[5]*H+g[13];return B}function fa(B,H,g,w){const J=H[0]-g[0];H=H[1]-g[1];const T=Math.sin(w);w=Math.cos(w);B[0]=J*w-H*T+g[0];B[1]=J*T+H*w+g[1];return B}function ma(B,H){var g=B[0];B=B[1];const w=H[0];H=H[1];let J=g*g+B*B;0<J&&(J=1/Math.sqrt(J));let T=w*w+H*H;0<T&&(T=1/Math.sqrt(T));g=(g*w+B*H)*J*
T;return 1<g?0:-1>g?Math.PI:Math.acos(g)}function na(B){return"vec2("+B[0]+", "+B[1]+")"}function l(B,H){return B[0]===H[0]&&B[1]===H[1]}function r(B,H){const g=B[0];B=B[1];const w=H[0];H=H[1];const J=u.getEpsilon();return Math.abs(g-w)<=J*Math.max(1,Math.abs(g),Math.abs(w))&&Math.abs(B-H)<=J*Math.max(1,Math.abs(B),Math.abs(H))}function R(B,H,g,w,J){let T=H[0]-g[0];g=H[1]-g[1];J=(w[0]*T+w[1]*g)*(J-1);T=w[0]*J;g=w[1]*J;B[0]=H[0]+T;B[1]=H[1]+g;return B}const da=Object.freeze(Object.defineProperty({__proto__:null,
add:t,angle:ma,ceil:D,copy:q,cross:ia,dist:M,distance:M,div:v,divide:v,dot:ba,equals:r,exactEquals:l,floor:f,inverse:U,len:C,length:C,lerp:ja,max:A,min:p,mul:y,multiply:y,negate:Q,normalize:ea,projectAndScale:R,random:pa,rotate:fa,round:N,scale:I,scaleAndAdd:P,set:h,sqrDist:S,sqrLen:F,squaredDistance:S,squaredLength:F,str:na,sub:x,subtract:x,transformMat2:ra,transformMat2d:O,transformMat3:V,transformMat4:aa},Symbol.toStringTag,{value:"Module"}));c.add=t;c.angle=ma;c.ceil=D;c.copy=q;c.cross=ia;c.dist=
M;c.distance=M;c.div=v;c.divide=v;c.dot=ba;c.equals=r;c.exactEquals=l;c.floor=f;c.inverse=U;c.len=C;c.length=C;c.lerp=ja;c.max=A;c.min=p;c.mul=y;c.multiply=y;c.negate=Q;c.normalize=ea;c.projectAndScale=R;c.random=pa;c.rotate=fa;c.round=N;c.scale=I;c.scaleAndAdd=P;c.set=h;c.sqrDist=S;c.sqrLen=F;c.squaredDistance=S;c.squaredLength=F;c.str=na;c.sub=x;c.subtract=x;c.transformMat2=ra;c.transformMat2d=O;c.transformMat3=V;c.transformMat4=aa;c.vec2=da;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/vec32"],function(c,u){class q{constructor(h,t,x=0,y,v){this.TypedArrayConstructor=h;this.elementCount=3;h=this.TypedArrayConstructor;void 0===y&&(y=3*h.BYTES_PER_ELEMENT);const D=0===t.byteLength?0:x;this.typedBuffer=null==v?new h(t,D):new h(t,D,(v-x)/h.BYTES_PER_ELEMENT);this.typedBufferStride=y/h.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*
this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(h,t,x=this.count-t){t=this.typedBuffer.byteOffset+t*this.stride;return new h(this.buffer,t,this.stride,t+x*this.stride)}getVec(h,t){h*=this.typedBufferStride;return u.set(t,this.typedBuffer[h],this.typedBuffer[h+1],this.typedBuffer[h+2])}setVec(h,t){h*=this.typedBufferStride;this.typedBuffer[h++]=t[0];this.typedBuffer[h++]=t[1];this.typedBuffer[h]=t[2]}get(h,t){return this.typedBuffer[h*this.typedBufferStride+t]}set(h,t,x){this.typedBuffer[h*
this.typedBufferStride+t]=x}setValues(h,t,x,y){h*=this.typedBufferStride;this.typedBuffer[h++]=t;this.typedBuffer[h++]=x;this.typedBuffer[h]=y}copyFrom(h,t,x){const y=this.typedBuffer,v=t.typedBuffer;h*=this.typedBufferStride;t=x*t.typedBufferStride;y[h++]=v[t++];y[h++]=v[t++];y[h]=v[t]}get buffer(){return this.typedBuffer.buffer}}q.ElementCount=3;c.BufferViewVec3Impl=q;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports",
"../../../../chunks/vec42"],function(c,u){class q{constructor(h,t,x=0,y,v){this.TypedArrayConstructor=h;this.start=x;this.elementCount=4;h=this.TypedArrayConstructor;void 0===y&&(y=4*h.BYTES_PER_ELEMENT);const D=0===t.byteLength?0:x;this.typedBuffer=null==v?new h(t,D):new h(t,D,(v-x)/h.BYTES_PER_ELEMENT);this.typedBufferStride=y/h.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(h,
t,x=this.count-t){t=this.typedBuffer.byteOffset+t*this.stride;return new h(this.buffer,t,this.stride,t+x*this.stride)}getVec(h,t){h*=this.typedBufferStride;return u.set(t,this.typedBuffer[h++],this.typedBuffer[h++],this.typedBuffer[h++],this.typedBuffer[h])}setVec(h,t){h*=this.typedBufferStride;this.typedBuffer[h++]=t[0];this.typedBuffer[h++]=t[1];this.typedBuffer[h++]=t[2];this.typedBuffer[h]=t[3]}get(h,t){return this.typedBuffer[h*this.typedBufferStride+t]}set(h,t,x){this.typedBuffer[h*this.typedBufferStride+
t]=x}setValues(h,t,x,y,v){h*=this.typedBufferStride;this.typedBuffer[h++]=t;this.typedBuffer[h++]=x;this.typedBuffer[h++]=y;this.typedBuffer[h]=v}copyFrom(h,t,x){const y=this.typedBuffer,v=t.typedBuffer;h*=this.typedBufferStride;t=x*t.typedBufferStride;y[h++]=v[t++];y[h++]=v[t++];y[h++]=v[t++];y[h]=v[t]}get buffer(){return this.typedBuffer.buffer}}q.ElementCount=4;c.BufferViewVec4Impl=q;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/types":function(){define(["exports"],
function(c){c.elementTypeSize=function(u){switch(u){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8}};c.isInteger=function(u){switch(u){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1}};c.isSigned=function(u){switch(u){case "u8":case "u16":case "u32":return!1;case "i8":case "i16":case "i32":case "f32":case "f64":return!0}};c.maximumValue=
function(u){switch(u){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(c){c.VertexAttribute=void 0;(function(u){u.POSITION="position";u.NORMAL="normal";u.NORMALCOMPRESSED="normalCompressed";
u.UV0="uv0";u.COLOR="color";u.SYMBOLCOLOR="symbolColor";u.SIZE="size";u.ROTATION="rotation";u.TANGENT="tangent";u.OFFSET="offset";u.PERSPECTIVEDIVIDE="perspectiveDivide";u.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance";u.LENGTH="length";u.PREVPOSITION="prevPosition";u.NEXTPOSITION="nextPosition";u.SUBDIVISIONFACTOR="subdivisionFactor";u.COLORFEATUREATTRIBUTE="colorFeatureAttribute";u.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";u.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";u.DISTANCETOSTART=
"distanceToStart";u.UVMAPSPACE="uvMapSpace";u.BOUNDINGRECT="boundingRect";u.UVREGION="uvRegion";u.PROFILERIGHT="profileRight";u.PROFILEUP="profileUp";u.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";u.FEATUREVALUE="featureValue";u.INSTANCEMODELORIGINHI="instanceModelOriginHi";u.INSTANCEMODELORIGINLO="instanceModelOriginLo";u.INSTANCEMODEL="instanceModel";u.INSTANCEMODELNORMAL="instanceModelNormal";u.INSTANCECOLOR="instanceColor";u.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";u.LOCALTRANSFORM=
"localTransform";u.GLOBALTRANSFORM="globalTransform";u.BOUNDINGSPHERE="boundingSphere";u.MODELORIGIN="modelOrigin";u.MODELSCALEFACTORS="modelScaleFactors";u.FEATUREATTRIBUTE="featureAttribute";u.STATE="state";u.LODLEVEL="lodLevel";u.POSITION0="position0";u.POSITION1="position1";u.NORMAL2COMPRESSED="normal2Compressed";u.COMPONENTINDEX="componentIndex";u.VARIANTOFFSET="variantOffset";u.VARIANTSTROKE="variantStroke";u.VARIANTEXTENSION="variantExtension";u.SIDENESS="sideness";u.START="start";u.END="end";
u.UP="up";u.START_UP="startUp";u.END_UP="endUp";u.EXTRUDE="extrude";u.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";u.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})(c.VertexAttribute||(c.VertexAttribute={}));c.affectsGeometry=function(u){return u===c.VertexAttribute.POSITION};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil","../../../support/buffer/InterleavedLayout",
"../VertexAttribute"],function(c,u,q,h){const t=q.newLayout().vec3f(h.VertexAttribute.POSITION).u16(h.VertexAttribute.COMPONENTINDEX).freeze(),x=q.newLayout().vec2u8(h.VertexAttribute.SIDENESS).freeze();u=u.glLayout(x);const y=q.newLayout().vec3f(h.VertexAttribute.POSITION0).vec3f(h.VertexAttribute.POSITION1).vec2i16(h.VertexAttribute.NORMALCOMPRESSED).u16(h.VertexAttribute.COMPONENTINDEX).u8(h.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(h.VertexAttribute.VARIANTSTROKE).u8(h.VertexAttribute.VARIANTEXTENSION,
{glNormalized:!0}).freeze();q=q.newLayout().vec3f(h.VertexAttribute.POSITION0).vec3f(h.VertexAttribute.POSITION1).vec2i16(h.VertexAttribute.NORMALCOMPRESSED).vec2i16(h.VertexAttribute.NORMAL2COMPRESSED).u16(h.VertexAttribute.COMPONENTINDEX).u8(h.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(h.VertexAttribute.VARIANTSTROKE).u8(h.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).freeze();h=new Map([[h.VertexAttribute.POSITION0,0],[h.VertexAttribute.POSITION1,1],[h.VertexAttribute.COMPONENTINDEX,
2],[h.VertexAttribute.VARIANTOFFSET,3],[h.VertexAttribute.VARIANTSTROKE,4],[h.VertexAttribute.VARIANTEXTENSION,5],[h.VertexAttribute.NORMALCOMPRESSED,6],[h.VertexAttribute.NORMAL2COMPRESSED,7],[h.VertexAttribute.SIDENESS,8]]);c.EdgeInputBufferLayout=t;c.RegularEdgeInstancesLayout=y;c.SilhouetteEdgeInstancesLayout=q;c.VertexLayout=x;c.glVertexLayout=u;c.vertexAttributeLocations=h;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/glUtil":function(){define(["exports",
"../../../webgl/enums","../../../webgl/VertexElementDescriptor"],function(c,u,q){const h={u8:u.DataType.UNSIGNED_BYTE,u16:u.DataType.UNSIGNED_SHORT,u32:u.DataType.UNSIGNED_INT,i8:u.DataType.BYTE,i16:u.DataType.SHORT,i32:u.DataType.INT,f32:u.DataType.FLOAT};c.glLayout=function(t,x=0){const y=t.stride;return Array.from(t.fields.keys()).map(v=>{const D=t.fields.get(v),f=D.constructor.ElementCount;var p=h[D.constructor.ElementType];if(!p)throw Error("BufferType not supported in WebGL");return new q.VertexElementDescriptor(v,
f,p,D.offset,y,D.optional?.glNormalized??!1,x)})};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("exports ../../../../../core/RandomLCG ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../support/buffer/glUtil ../Normals ./bufferLayouts".split(" "),function(c,u,q,h,t,x,y){function v(F){A[0]=F.position0[0];A[1]=F.position0[1];A[2]=F.position0[2];A[3]=F.position1[0];
A[4]=F.position1[1];A[5]=F.position1[2];I[0]=31*(31*(31*(31*(31*(166811+N[0])+N[1])+N[2])+N[3])+N[4])+N[5];return I[0]}function D(F){const Q=A;Q[0]=f(F.position0[0]);Q[1]=f(F.position0[1]);Q[2]=f(F.position0[2]);Q[3]=f(F.position1[0]);Q[4]=f(F.position1[1]);Q[5]=f(F.position1[2]);I[0]=5381;for(F=0;F<N.length;F++)I[0]=31*I[0]+N[F];return I[0]}function f(F){return Math.round(1E4*F)/1E4}class p{updateSettings(F){this.settings=F;this._edgeHashFunction=F.reducedPrecision?D:v}write(F,Q,U){C.seed=this._edgeHashFunction(U);
const ea=C.getIntRange(0,255),ba=C.getIntRange(0,this.settings.variants-1);var ia=C.getFloat();ia=-(1-Math.min(ia/.7,1))+Math.max(0,ia-.7)/(1-.7);ia=255*(Math.abs(ia)**1.2*Math.sign(ia)*.5+.5);F.position0.setVec(Q,U.position0);F.position1.setVec(Q,U.position1);F.componentIndex.set(Q,U.componentIndex);F.variantOffset.set(Q,ea);F.variantStroke.set(Q,ba);F.variantExtension.set(Q,ia)}}const A=new Float32Array(6),N=new Uint32Array(A.buffer),I=new Uint32Array(1);class P{constructor(){this._commonWriter=
new p}updateSettings(F){this._commonWriter.updateSettings(F)}allocate(F){return y.RegularEdgeInstancesLayout.createBuffer(F)}write(F,Q,U){this._commonWriter.write(F,Q,U);q.add(S,U.faceNormal0,U.faceNormal1);q.normalize(S,S);const {typedBuffer:ea,typedBufferStride:ba}=F.normalCompressed;x.compressNormal(ea,Q,S[0],S[1],S[2],ba)}}P.Layout=y.RegularEdgeInstancesLayout;P.glLayout=t.glLayout(y.RegularEdgeInstancesLayout,1);class M{constructor(){this._commonWriter=new p}updateSettings(F){this._commonWriter.updateSettings(F)}allocate(F){return y.SilhouetteEdgeInstancesLayout.createBuffer(F)}write(F,
Q,U){this._commonWriter.write(F,Q,U);const {typedBuffer:ea,typedBufferStride:ba}=F.normalCompressed;x.compressNormal(ea,Q,U.faceNormal0[0],U.faceNormal0[1],U.faceNormal0[2],ba);const {typedBuffer:ia,typedBufferStride:ja}=F.normal2Compressed;x.compressNormal(ia,Q,U.faceNormal1[0],U.faceNormal1[1],U.faceNormal1[2],ja)}}M.Layout=y.SilhouetteEdgeInstancesLayout;M.glLayout=t.glLayout(y.SilhouetteEdgeInstancesLayout,1);const S=h.create(),C=new u;c.RegularEdgeBufferWriter=P;c.SilhouetteEdgeBufferWriter=
M;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Normals":function(){define(["exports","../../../../core/mathUtils","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/support/FloatArray"],function(c,u,q,h,t){function x(f,p,A,N,I,P=2){var M=1/(Math.abs(A)+Math.abs(N)+Math.abs(I));A*=M;N*=M;M=0>=I?(0<=N?1:-1)*(1-Math.abs(A)):N;p*=P;f[p]=v(0>=I?(0<=A?1:-1)*(1-Math.abs(N)):A);f[p+1]=v(M)}function y(f,
p,A,N=2){N*=A;A=D(p[N]);p=D(p[N+1]);N=1-Math.abs(A)-Math.abs(p);f[2]=N;0>N?(f[0]=(0<=A?1:-1)*(1-Math.abs(p)),f[1]=(0<=p?1:-1)*(1-Math.abs(A))):(f[0]=A,f[1]=p);q.normalize(f,f)}function v(f){return u.clamp(Math.round(32767*f),-32767,32767)}function D(f){return u.clamp(f/32767,-1,1)}c.compressAndTransformNormals=function(f,p){const A=f.length/3,N=new Int16Array(2*A);let I=0;const P=h.create();for(let M=0;M<A;++M)P[0]=f[I++],P[1]=f[I++],P[2]=f[I++],q.transformMat3(P,P,p),x(N,M,P[0],P[1],P[2]);return N};
c.compressNormal=x;c.compressNormals=function(f){const p=f.length/3,A=new Int16Array(2*p);let N=0;for(let I=0;I<p;++I)x(A,I,f[N++],f[N++],f[N++]);return A};c.decodeInt16=D;c.decompressNormal=y;c.decompressNormals=function(f,p=2){const A=f.length/p,N=t.newFloatArray(3*A),I=h.create();let P=0;for(let M=0;M<A;++M)y(I,f,M,p),N[P++]=I[0],N[P++]=I[1],N[P++]=I[2];return N};c.encodeInt16=v;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/FloatArray":function(){define(["exports",
"../../core/typedArrayUtil"],function(c,u){c.compactFloatArray=function(q){return u.isArray(q)?q.length<u.nativeArrayMaxSize?q:new Float32Array(q):q.length<u.nativeArrayMaxSize?Array.from(q):q};c.floatArrayFrom=function(q){return(u.isArray(q)?q.length:q.byteLength/8)<=u.nativeArrayMaxSize?Array.from(q):new Float32Array(q)};c.floatSubArray=function(q,h,t){return Array.isArray(q)?q.slice(h,h+t):q.subarray(h,h+t)};c.newFloatArray=function(q,h=!1){return q<=u.nativeArrayMaxSize?h?Array(q).fill(0):Array(q):
new Float32Array(q)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define("exports ../../../../../core/mathUtils ../../../../../core/PooledArray ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ./Edge".split(" "),function(c,u,q,h,t,x){function y(U){const ea=U.faces.length/3,ba=U.faces,ia=U.neighbors;U=U.vertices.position;f.length=p.length=0;for(let pa=0;pa<ea;pa++){var ja=
3*pa;const ra=ia[ja],O=ia[ja+1],V=ia[ja+2],aa=ba[ja],fa=ba[ja+1];ja=ba[ja+2];U.getVec(aa,P);U.getVec(fa,M);U.getVec(ja,S);h.subtract(M,M,P);h.subtract(S,S,P);h.cross(P,M,S);h.normalize(P,P);p.pushArray(P);if(-1===ra||aa<fa)f.push(aa),f.push(fa),f.push(pa),f.push(ra);if(-1===O||fa<ja)f.push(fa),f.push(ja),f.push(pa),f.push(O);if(-1===V||ja<aa)f.push(ja),f.push(aa),f.push(pa),f.push(V)}return{edges:f,normals:p}}class v{constructor(){this.length=this.index=0}}const D=new q({allocator:U=>U||new v,deallocator:null}),
f=new q({deallocator:null}),p=new q({deallocator:null}),A=new x.Edge,N=t.create(),I=t.create(),P=t.create(),M=t.create(),S=t.create(),C=u.deg2rad(4),F=Math.cos(C);q=u.deg2rad(35);const Q=Math.cos(q);c.extractEdges=function(U,ea,ba){const ia=U.vertices.position,ja=U.vertices.componentIndex,pa=A.position0,ra=A.position1,O=A.faceNormal0,V=A.faceNormal1,{edges:aa,normals:fa}=y(U);U=aa.length/4;const ma=ea.allocate(U);let na=0;const l=ba?.allocate(U);let r=0,R=0,da=0;D.length=0;for(var B=0;B<U;++B){var H=
4*B;ia.getVec(aa.data[H],pa);ia.getVec(aa.data[H+1],ra);H=D.pushNew();H.index=4*B;H.length=h.distance(pa,ra)}D.sort((J,T)=>T.length-J.length);const g=[],w=[];D.forAll(({length:J,index:T})=>{var e=aa.data[T],n=aa.data[T+1];const Z=aa.data[T+2],k=aa.data[T+3];T=-1===k;ia.getVec(e,pa);ia.getVec(n,ra);if(T)n=3*Z,h.set(O,fa.data[n],fa.data[n+1],fa.data[n+2]),h.copy(V,O),A.componentIndex=ja.get(e),A.cosAngle=h.dot(O,V);else{n=3*Z;h.set(O,fa.data[n],fa.data[n+1],fa.data[n+2]);n=3*k;h.set(V,fa.data[n],fa.data[n+
1],fa.data[n+2]);A.componentIndex=ja.get(e);A.cosAngle=h.dot(O,V);if(A.cosAngle>F)return;-.9999>A.cosAngle&&h.copy(V,O)}R+=J;da++;T||A.cosAngle<Q?(ea.write(ma,na++,A),g.push(J)):(e=u.acosClamped(A.cosAngle),h.direction(I,A.position1,A.position0),T=0<h.dot(h.cross(N,A.faceNormal0,A.faceNormal1),I)?-1:1,e*T>C&&(l&&ba&&ba.write(l,r++,A),w.push(J)))});U=new Float32Array(g.reverse());B=new Float32Array(w.reverse());B=l&&ba?{instancesData:l.slice(0,r),lodInfo:{lengths:B}}:void 0;return{regular:{instancesData:ma.slice(0,
na),lodInfo:{lengths:U}},silhouette:B,averageEdgeLength:R/da}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/Edge":function(){define(["exports","../../../../../core/libs/gl-matrix-2/factories/vec3f64"],function(c,u){class q{constructor(){this.position0=u.create();this.position1=u.create();this.faceNormal0=u.create();this.faceNormal1=u.create();this.cosAngle=this.componentIndex=0}}c.Edge=q;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},
"esri/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils":function(){define(["exports","../../../../../chunks/vec32","../../../../../chunks/sphere"],function(c,u,q){c.boundsFromEdge=function(h,t,x){const y=q.create(),v=q.getCenter(y);u.scaleAndAdd(v,v,h,.5);u.scaleAndAdd(v,v,t,.5);y[3]=u.distance(v,h);u.add(v,v,x);return y};c.maxCandidateCount=1E3;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../../../chunks/tslib.es6 ../../../../../core/promiseUtils ../../../../../core/Logger ../../../../../core/has ../../../../../core/RandomLCG ../../../../../core/Error ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../../geometry/support/lineSegment ../../../../../chunks/sphere ../../../../3d/webgl-engine/lib/Octree ../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing ./sceneLayerSnappingUtils".split(" "),function(c,
u,q,h,t,x,y,v,D,f,p,A,N,I){function P(C,F,Q,U){C.returnVertex&&p.containsPoint(C.bounds,Q)&&(C=p.getCenter(C.bounds),U.push({type:"vertex",objectId:F,target:D.clone(Q),distance:v.distance(C,Q)}))}q=class{constructor(){this._idToComponent=new Map;this._components=new A(C=>C.bounds);this._edges=new A(C=>C.bounds);this._tmpLineSegment=f.create();this._tmpP1=D.create();this._tmpP2=D.create();this._tmpP3=D.create();this.remoteClient=null}async fetchCandidates(C,F){await Promise.resolve();u.throwIfAborted(F);
await this._ensureEdgeLocations(C,F);const Q=[];this._edges.forEachNeighbor(U=>{this._addCandidates(C,U,Q);return Q.length<I.maxCandidateCount},C.bounds);return{result:{candidates:Q}}}async _ensureEdgeLocations(C,F){const Q=[];this._components.forEachNeighbor(U=>{if(null==U.info){const {id:ea,uid:ba}=U;Q.push({id:ea,uid:ba})}return!0},C.bounds);if(Q.length){C=await this.remoteClient.invoke("fetchAllEdgeLocations",{components:Q},F??{});for(const U of C.components)this._setFetchEdgeLocations(U)}}async add(C){C=
new M(C.id,C.bounds);this._idToComponent.set(C.id,C);this._components.add([C]);return{result:{}}}async remove(C){const F=this._idToComponent.get(C.id);if(F){const Q=[];this._edges.forEachNeighbor(U=>{U.component===F&&Q.push(U);return!0},F.bounds);this._edges.remove(Q);this._components.remove([F]);this._idToComponent.delete(F.id)}return{result:{}}}_setFetchEdgeLocations(C){const F=this._idToComponent.get(C.id);if(null!=F&&C.uid===F.uid){var Q=N.extractComponentsEdgeLocationsLayout.createView(C.locations),
U=Array(Q.count),ea=D.create(),ba=D.create();for(let ra=0;ra<Q.count;ra++){Q.position0.getVec(ra,ea);Q.position1.getVec(ra,ba);var ia=I.boundsFromEdge(ea,ba,C.origin);ia=new S(F,ra,ia);U[ra]=ia}this._edges.add(U);var {objectIds:ja,origin:pa}=C;F.info={locations:Q,objectIds:ja,origin:pa}}}_addCandidates(C,F,Q){var {info:U}=F.component;const {origin:ea,objectIds:ba}=U,ia=U.locations;U=ia.position0.getVec(F.index,this._tmpP1);const ja=ia.position1.getVec(F.index,this._tmpP2);v.add(U,U,ea);v.add(ja,ja,
ea);F=ba[ia.componentIndex.get(F.index)];this._addEdgeCandidate(C,F,U,ja,Q);P(C,F,U,Q);P(C,F,ja,Q)}_addEdgeCandidate(C,F,Q,U,ea){if(C.returnEdge){var ba=p.getCenter(C.bounds),ia=f.fromPoints(Q,U,this._tmpLineSegment);ia=f.projectPoint(ia,ba,this._tmpP3);p.containsPoint(C.bounds,ia)&&ea.push({type:"edge",objectId:F,target:D.clone(ia),distance:v.distance(ba,ia),start:D.clone(Q),end:D.clone(U)})}}};q=c.__decorate([y.subclass("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],
q);class M{constructor(C,F){this.id=C;this.bounds=F;this.info=null;this.uid=++M.uid}}M.uid=0;class S{constructor(C,F,Q){this.component=C;this.index=F;this.bounds=Q}}return q});