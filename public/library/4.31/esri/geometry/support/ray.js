// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ../../core/arrayUtils ../../core/ObjectStack ../../core/libs/gl-matrix-2/math/mat3 ../../core/libs/gl-matrix-2/factories/mat3f64 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),function(e,r,z,t,A,c,f,m){function l(a){if(a){var b=f.clone(a.origin);a=f.clone(a.direction);b={origin:b,direction:a}}else b=f.create(),a=f.create(),b={origin:b,direction:a};return b}function u(a,b,d=l()){c.copy(d.origin,a);c.copy(d.direction,b);return d}const B=new z.ObjectStack(()=>
l()),n=f.create(),p=f.create(),v=f.create(),w=A.create();e.closestPoint=function(a,b,d){b=c.dot(a.direction,c.subtract(d,b,a.origin));c.add(d,a.origin,c.scale(d,a.direction,b));return d};e.closestPoints=function(a,b,d,q){const x=a.origin,y=b.origin;a=a.direction;b=b.direction;var k=c.dot(c.normalize(p,a),c.normalize(v,b));if(1<=Math.abs(k))return null;var g=c.cross(p,a,b);k=c.sub(n,y,x);g=t.set(w,a[0],a[1],a[2],-b[0],-b[1],-b[2],g[0],g[1],g[2]);const h=t.invert(w,g);if(null==h)return[d,q];g=c.dot(c.set(p,
h[0],h[3],h[6]),k);k=c.dot(c.set(v,h[1],h[4],h[7]),k);c.add(d,x,c.scale(n,a,g));c.add(q,y,c.scale(n,b,k));return[d,q]};e.copy=function(a,b=l()){return u(a.origin,a.direction,b)};e.create=l;e.distance2=function(a,b){a=c.cross(m.sv3d.get(),c.normalize(m.sv3d.get(),a.direction),c.subtract(m.sv3d.get(),b,a.origin));return c.dot(a,a)};e.equals=function(a,b){return r.equals(a.origin,b.origin)&&r.equals(a.direction,b.direction)};e.fromPoints=function(a,b,d=l()){c.copy(d.origin,a);c.subtract(d.direction,
b,a);return d};e.fromValues=u;e.wrap=function(a,b){const d=B.get();d.origin=a;d.direction=b;return d};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});