// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/vec3f64 ./localRotationUtils ./projectors ../support/spatialReferenceUtils".split(" "),function(n,t,p,q,r,a,u){function k(d){return d===a.ProjectionID.SPHERICAL_ECEF||d===a.ProjectionID.SPHERICAL_MARS_PCPF||d===a.ProjectionID.SPHERICAL_MOON_PCPF||d===a.ProjectionID.WGS84_ECEF}const h=t.deg2rad(1),f=q.create(),g=q.create();n.computeTranslationToOriginAndRotation=function(d,l,e,m){if(null==
d||null==m)return!1;var c=a.classifySpatialReference(d,a.sourceClassificationCache),b=a.classifySpatialReference(m,a.destClassificationCache);if(c===b&&!k(b)&&(c!==a.ProjectionID.UNKNOWN||u.equals(d,m)))return p.fromTranslation(e,l),!0;if(k(b)){c=a.projectionTable[c][a.ProjectionID.LON_LAT];b=a.projectionTable[a.ProjectionID.LON_LAT][b];if(null==c||null==b)return!1;c(l,0,f,0);b(f,0,g,0);r.computeENUToPCPFLocalRotation(h*f[0],h*f[1],e);e[12]=g[0];e[13]=g[1];e[14]=g[2];return!0}d=k(c);if((b===a.ProjectionID.WEB_MERCATOR||
b===a.ProjectionID.PLATE_CARREE||b===a.ProjectionID.WGS84||b===a.ProjectionID.CGCS2000)&&(c===a.ProjectionID.WGS84||d||c===a.ProjectionID.WEB_MERCATOR||c===a.ProjectionID.CGCS2000)){c=a.projectionTable[c][a.ProjectionID.LON_LAT];b=a.projectionTable[a.ProjectionID.LON_LAT][b];if(null==c||null==b)return!1;c(l,0,f,0);b(f,0,g,0);d?r.computePCPFToENULocalRotation(h*f[0],h*f[1],e):p.identity(e);e[12]=g[0];e[13]=g[1];e[14]=g[2];return!0}return!1};Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});