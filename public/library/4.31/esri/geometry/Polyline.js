// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(h,m,k,d,x,p,q,r,t,g,u,v,n){var l;d=l=class extends t{constructor(a){if(a){var {paths:b,hasM:c,hasZ:e,spatialReference:f}=a;b??=[];"number"===typeof b[0]?.[0]&&(b=[b]);switch(b[0]?.[0]?.length){case 4:e??=
!0;c??=!0;break;case 3:e??=!0!==c;c??=!e;break;default:e??=!1,c??=!1}f??=u.WGS84;a={...a,hasM:c,hasZ:e,paths:b,spatialReference:f}}else a=void 0;super(a);this.paths=[];this.type="polyline"}get cache(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const {spatialReference:a}=this;var b=v.getPolylineExtent(this);if(!b)return null;b=new r(b);b.spatialReference=a;return b}writePaths(a,b){b.paths=m.clone(this.paths)}addPath(a){if(a){var b=
this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=a.slice();else{const e=[];for(let f=0,w=a.length;f<w;f++)e[f]=a[f].toArray();b[c]=e}this.notifyChange("paths");return this}}clone(){const a=new l;a.spatialReference=this.spatialReference;a.paths=m.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a}getPoint(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;const c=this.hasM;return b&&!c?new g(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new g(a[0],a[1],void 0,
a[2],this.spatialReference):b&&c?new g(a[0],a[1],a[2],a[3],this.spatialReference):new g(a[0],a[1],this.spatialReference)}insertPoint(a,b,c){if(!this._validateInputs(a,b,!0))return this;n.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);this.notifyChange("paths");return this}removePath(a){if(!this._validateInputs(a,null))return null;a=this.paths.splice(a,1)[0];const b=this.spatialReference;a=a.map(c=>new g(c,b));this.notifyChange("paths");return a}removePoint(a,
b){if(!this._validateInputs(a,b))return null;a=new g(this.paths[a].splice(b,1)[0],this.spatialReference);this.notifyChange("paths");return a}setPoint(a,b,c){if(!this._validateInputs(a,b))return this;n.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;this.notifyChange("paths");return this}_validateInputs(a,b,c=!1){return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0}toJSON(a){return this.write({},
a)}};h.__decorate([k.property({readOnly:!0})],d.prototype,"cache",null);h.__decorate([k.property({readOnly:!0})],d.prototype,"extent",null);h.__decorate([k.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"paths",void 0);h.__decorate([q.writer("paths")],d.prototype,"writePaths",null);d=l=h.__decorate([p.subclass("esri.geometry.Polyline")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d});