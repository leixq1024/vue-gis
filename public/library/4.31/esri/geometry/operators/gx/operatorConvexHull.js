// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/SimpleGeometryCursor","../../../chunks/Geometry","../../../chunks/QuadraticBezier"],function(f,l,c,e){function m(a,b){b=new e.ConvexHull;let d;for(;d=a.next();)c.throwIfCurves(d),c.throwIfMesh(d),b.addGeometry(d);return b.getBoundingGeometry()}function n(a,b){a||c.throwInvalidArgumentException("");c.throwIfCurves(a);c.throwIfMesh(a);if(a.isEmpty())return a.createInstance();b=a.getGeometryType();if(c.isSegment(b)){if(a.getStartXY().equals(a.getEndXY()))return b=new e.Point,
a.queryStart(b),b;b=new e.Point;var d=new e.Polyline({vd:a.getDescription()});a.queryStart(b);d.startPathPoint(b);a.queryEnd(b);d.lineToPoint(b);return d}if(b===c.GeometryType.enumEnvelope){b=new e.Envelope2D;a.queryEnvelope(b);if(b.xmin===b.xmax&&b.ymin===b.ymax)return b=new e.Point,a.queryCornerByVal(0,b),b;if(b.xmin===b.xmax||b.ymin===b.ymax)return b=new e.Point,d=new e.Polyline({vd:a.getDescription()}),a.queryCornerByVal(0,b),d.startPathPoint(b),a.queryCornerByVal(1,b),d.lineToPoint(b),d;b=new e.Polygon({vd:a.getDescription()});
b.addEnvelope(a,!1);return b}return b===c.GeometryType.enumGeometryCollection?m(e.generateGeometryCursor(a,-1)):p(a)?b===c.GeometryType.enumMultiPoint?(b=new e.Point,a.getPointByVal(0,b),b):a:e.construct(a)}function p(a,b){c.throwIfCurves(a);c.throwIfMesh(a);if(a.isEmpty())return!0;b=a.getGeometryType();return b===c.GeometryType.enumPoint?!0:b===c.GeometryType.enumEnvelope?a.getXMin()===a.getXMax()||a.getYMin()===a.getYMax()?!1:!0:c.isSegment(b)?a.getStartXY().equals(a.getEndXY())?!1:!0:b===c.GeometryType.enumMultiPoint?
1===a.getPointCount()?!0:!1:b===c.GeometryType.enumPolyline?1!==a.getPathCount()||2!==a.getPointCount()||a.getXY(0).equals(a.getXY(1))?!1:!0:b===c.GeometryType.enumGeometryCollection?1===a.getGeometryCount()?p(a.getGeometry(0)):!1:1!==a.getPathCount()||3>a.getPointCount()?!1:e.isPathConvex(a,0)}class q{getOperatorType(){return 10102}supportsCurves(){return!1}accelerateGeometry(a,b,d){return!1}canAccelerateGeometry(a){return!1}executeMany(a,b,d){return new r(b,a,d)}execute(a,b){return n(a)}isConvex(a,
b){c.throwIfCurves(a);c.throwIfMesh(a);if(a.isEmpty())return!0;const d=a.getGeometryType();return d===c.GeometryType.enumPoint?!0:d===c.GeometryType.enumEnvelope?a.getXMin()===a.getXMax()||a.getYMin()===a.getYMax()?!1:!0:c.isSegment(d)?a.getStartXY().equals(a.getEndXY())?!1:!0:d===c.GeometryType.enumMultiPoint?1===a.getPointCount()?!0:!1:d===c.GeometryType.enumPolyline?1!==a.getPathCount()||2!==a.getPointCount()||a.getXY(0).equals(a.getXY(1))?!1:!0:d===c.GeometryType.enumGeometryCollection?1===a.getGeometryCount()?
this.isConvex(a.getGeometry(0),b):!1:1!==a.getPathCount()||3>a.getPointCount()?!1:e.isPathConvex(a,0)}constructOrientedMinimumBoundingBox(a,b,d,h,k){e.constructOrientedMinimumBoundingBox(a,b,d,h,k)}}class r extends l.GeometryCursor{constructor(a,b,d){super();b||c.throwInvalidArgumentException("");this.m_progressTracker=d;this.m_index=-1;this.m_bMerge=a;this.m_bDone=!1;this.m_inputGeometryCursor=b}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}next(){if(this.m_bMerge){if(!this.m_bDone){var a=
m(this.m_inputGeometryCursor);this.m_bDone=!0;return a}return null}if(!this.m_bDone){a=this.m_inputGeometryCursor.next();if(null!==a)return c.throwIfCurves(a),c.throwIfMesh(a),this.m_index=this.m_inputGeometryCursor.getGeometryID(),n(a);this.m_bDone=!0}return null}}const g=new q;f.constructOrientedMinimumBoundingBox=function(a,b,d,h,k){return g.constructOrientedMinimumBoundingBox(a,b,d,h,k)};f.execute=function(a){return g.execute(a,null)};f.executeMany=function(a,b){a=g.executeMany(new l.SimpleGeometryCursor(a),
b,null);return Array.from(a)};f.isConvex=function(a){return g.isConvex(a,null)};f.supportsCurves=function(){return g.supportsCurves()};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});