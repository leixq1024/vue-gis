// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["exports","./legacyTimeZoneMap","../chunks/datetime"],function(d,g,h){function k(a,b="system"){return a?"timeZoneIANA"in a?a.timeZoneIANA:l(a,b):b}function m(a){return{timeZoneIANA:a}}function l(a,b="system"){if(!a||!g.legacyTimeZoneMap.has(a.timeZone))return b;b=g.legacyTimeZoneMap.get(a.timeZone);if(a.timeZone.startsWith("UTC")||a.respectsDaylightSaving)return b;a=h.DateTime.local().setZone(b);a=Math.min(a.set({month:1,day:1}).offset,a.set({month:5}).offset);a=0===a?"Etc/UTC":`Etc/GMT${h.FixedOffsetZone.instance(-a).formatOffset(0,
"narrow")}`;return a}const n=Intl.DateTimeFormat().resolvedOptions().timeZone;d.convertLegacyTimeZone=l;d.fromTimeReference=k;d.getTimeZoneComponents=function(a){a="system"===a?n:a;var b=/^(?<area>[\w-]+)(?:\/(?<region>[\w-]+))?\/(?<location>[\w+-]+)$/;if(b.test(a)){b=b.exec(a)?.groups;const {area:e,region:c,location:f}=b;return{area:e,region:c,location:f,timeZone:a}}return{timeZone:a}};d.getTimeZoneFormattingOptions=function(a,b,e,c,f){if(b&&"date"===f)return{timeZone:"UTC",timeZoneName:void 0};
b=c.timeStyle||c.hour;c="unknown"===e;return{timeZone:c?"timestamp-offset"===f?void 0:a??"UTC":e,timeZoneName:c&&b?"shortOffset":void 0}};d.isTimeZoneValid=function(a){const b=new Set(["etc/utc","etc/gmt","gmt"]),e=new Set(Intl.supportedValuesOf("timeZone").map(c=>c.toLowerCase()));return"system"===a||"unknown"===a||b.has(a.toLowerCase())||e.has(a.toLowerCase())};d.shortTimeZoneName="shortOffset";d.system="system";d.systemTimeZone=n;d.timeZoneProperty=function(a,b=!1){return{json:{read:{source:a,
reader(e,c){return c[a]?k(c[a]):null}},write:b?{allowNull:!0,writer(e,c){c[a]=e?m(e):null}}:!1}}};d.toTimeReference=m;d.unknown="unknown";d.utc="UTC";Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});