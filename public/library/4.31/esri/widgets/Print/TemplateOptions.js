// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../core/Accessor ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../portal/PortalItem".split(" "),function(b,a,g,c,l,m,h,k){a=class extends a{constructor(d){super(d);this._abortController=null;this.attributionEnabled=!0;this.customTextElements=this.copyright=this.author=null;this.dpi=96;this.fileName=null;this.forceFeatureAttributes=!1;this.format="pdf";this.height=null;
this.includeTables=!0;this.id=null;this.state="ready";this.layout="letter-ansi-a-landscape";this.layoutItem=null;this.legendEnabled=!0;this.northArrowEnabled=!1;this.scale=null;this.scaleEnabled=this.scaleBarEnabled=!1;this.width=this.title=null}async applyTemplate(d,e){if(d?.id!==this.id||"error"===d?.state)if(this._abortController&&(this._abortController.abort(),this._abortController=null),d){this._set("state","pending");this._resetMapSurroundInfoOptions();this._set("id",d.id);this.set({layout:d.layout,
layoutItem:d.layoutItem});if(!d.layoutOptions&&d.layoutItem){const f=new AbortController;this._abortController=f;await d.fetchLayoutItemTemplateInfo({signal:this._abortController.signal});if("loaded"!==d.state){"error"===d.state&&this._set("state","error");if(this._abortController!==f)return;this._abortController=null;return}this._abortController=null}this.set({customTextElements:e?g.clone(e):this.customTextElements,format:this.format??d.format,legendEnabled:d.layoutOptions?.legend??this.legendEnabled,
northArrowEnabled:d.layoutOptions?.northArrow??this.northArrowEnabled,scaleBarEnabled:d.layoutOptions?.scaleBar??this.scaleBarEnabled});this._set("state","ready")}}reset(){this._set("id",null);this._set("state","ready");this.set({layout:null,layoutItem:null,customTextElements:null});this._resetMapSurroundInfoOptions()}_resetMapSurroundInfoOptions(){this.set({legendEnabled:!0,northArrowEnabled:!1,scaleBarEnabled:!1})}};b.__decorate([c.property()],a.prototype,"attributionEnabled",void 0);b.__decorate([c.property()],
a.prototype,"author",void 0);b.__decorate([c.property()],a.prototype,"copyright",void 0);b.__decorate([c.property()],a.prototype,"customTextElements",void 0);b.__decorate([c.property()],a.prototype,"dpi",void 0);b.__decorate([c.property()],a.prototype,"fileName",void 0);b.__decorate([c.property()],a.prototype,"forceFeatureAttributes",void 0);b.__decorate([c.property()],a.prototype,"format",void 0);b.__decorate([c.property()],a.prototype,"height",void 0);b.__decorate([c.property()],a.prototype,"includeTables",
void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"id",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"state",void 0);b.__decorate([c.property()],a.prototype,"layout",void 0);b.__decorate([c.property({type:k})],a.prototype,"layoutItem",void 0);b.__decorate([c.property()],a.prototype,"legendEnabled",void 0);b.__decorate([c.property()],a.prototype,"northArrowEnabled",void 0);b.__decorate([c.property()],a.prototype,"scale",void 0);b.__decorate([c.property()],a.prototype,"scaleBarEnabled",
void 0);b.__decorate([c.property()],a.prototype,"scaleEnabled",void 0);b.__decorate([c.property()],a.prototype,"title",void 0);b.__decorate([c.property()],a.prototype,"width",void 0);return a=b.__decorate([h.subclass("esri.widgets.Print.TemplateOptions")],a)});