// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("require ../../../chunks/tslib.es6 ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../Widget ./css ../../../chunks/componentsUtils ../../support/globalCss ../../support/widgetUtils ../../support/jsxFactory".split(" "),function(p,h,m,l,f,w,x,q,r,e,t,u,y,k){function n(a){return k.tsx("calcite-action",{appearance:"transparent",class:a.className,compact:!0,
disabled:a.disabled,icon:a.icon,iconFlipRtl:!0,key:a.className,onclick:a.onClick,scale:"s",text:a.text,textEnabled:!1,title:a.text})}const v={nextPhase:"nextPhase",previousPhase:"previousPhase",currentPhase:"{{value}}"};f=class extends r{constructor(a,d){super(a,d);this._phasesContainer=null;this._shouldScrollCurrentPhaseIntoView=!0;this._shouldFocusCurrentPhase=!1;this._onKeyDown=b=>{const {vm:c}=this;switch(b.key){case "ArrowDown":case "ArrowLeft":b.stopPropagation();b.preventDefault();c.previous();
this._shouldFocusCurrentPhase=!0;break;case "ArrowUp":case "ArrowRight":b.stopPropagation(),b.preventDefault(),c.next(),this._shouldFocusCurrentPhase=!0}};this._onArrowLeftClick=()=>{this.vm.previous()};this._onArrowRightClick=()=>{this.vm.next()};this._onPhasesContainerAfterCreate=b=>{this._phasesContainer=b;requestAnimationFrame(this._scrollOrFocusPhase)};this._scrollOrFocusPhase=()=>{const b=this._phasesContainer;if(!this.destroyed&&null!=b){var c=b.querySelector(`.${e.css.phaseCurrent}`);c&&(this._shouldScrollCurrentPhaseIntoView&&
(b.scrollLeft=-(b.offsetWidth/2)+c.offsetLeft+c.offsetWidth/2,this._shouldScrollCurrentPhaseIntoView=!1),this._shouldFocusCurrentPhase&&(c.focus(),this._shouldFocusCurrentPhase=!1))}}}loadDependencies(){return t.loadCalciteComponents({action:()=>new Promise((a,d)=>p(["../../../chunks/calcite-action"],a,d))})}initialize(){this.addHandles(m.watch(()=>[this._currentPhase,this._phasesContainer,this.container],()=>{this._shouldScrollCurrentPhaseIntoView=!0;requestAnimationFrame(this._scrollOrFocusPhase)},
m.initial))}get _phases(){return this.vm.allowedValues}get _currentPhase(){const {vm:a}=this;return a.enabled?a.value:null}render(){if(2>this._phases.length)return k.tsx("div",{key:"no-phases"});const {vm:a,messages:d}=this,{previousPhase:b,nextPhase:c}=d??v;return k.tsx("div",{class:this.classes(u.globalCss.widget,e.css.base),key:this,onkeydown:this._onKeyDown},n({className:e.css.arrowLeft,disabled:!a.hasPrevious,icon:"chevron-left",onClick:this._onArrowLeftClick,text:b}),k.tsx("div",{afterCreate:this._onPhasesContainerAfterCreate,
class:e.css.phasesContainer},this._renderPhaseButtons()),n({className:e.css.arrowRight,disabled:!a.hasNext,icon:"chevron-right",onClick:this._onArrowRightClick,text:c}))}_renderPhaseButtons(){const a=this._phases,d=this._currentPhase,b=[];for(let g=0;g<a.length;++g){var c=a[g];c={phase:c,active:null!=d?c<=d:!1,current:null!=d?c===d:!1};0<g&&b.push(this._renderDivider(c));b.push(this._renderPhaseButton(c))}return b}_renderPhaseButton({phase:a,active:d,current:b}){const {vm:c}=this,g=c.getValueLabel(a);
return k.tsx("button",{"aria-label":g,class:this.classes(e.css.phase,{[e.css.phaseActive]:d,[e.css.phaseCurrent]:b}),key:`phase-${a}`,onclick:()=>c.select(a),title:g,type:"button"},a)}_renderDivider({phase:a,active:d}){return k.tsx("div",{class:this.classes(e.css.divider,{[e.css.dividerActive]:d}),key:`phase-divider-${a}`})}};h.__decorate([l.property({nonNullable:!0})],f.prototype,"vm",void 0);h.__decorate([l.property()],f.prototype,"messages",void 0);h.__decorate([l.property()],f.prototype,"_phases",
null);h.__decorate([l.property()],f.prototype,"_currentPhase",null);h.__decorate([l.property()],f.prototype,"_phasesContainer",void 0);return f=h.__decorate([q.subclass("esri.widgets.BuildingExplorer.BuildingPhasePicker.BuildingPhasePicker")],f)});