// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("require ../../chunks/tslib.es6 ../../Graphic ../../core/Accessor ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../symbols/support/symbolUtils".split(" "),function(h,e,n,c,m,f,u,v,w,p,q){async function r(a,b){var {renderer:d}=a;return d&&(b=new n({attributes:b.prototype.attributes}),d=await d.getSymbolAsync(b))?d:t(a)}async function t(a){({geometryType:a}=a);return(a=
"point"===a||"multipoint"===a?await new Promise((b,d)=>h(["../../symbols/SimpleMarkerSymbol"],g=>b(k(g)),d)):"polyline"===a?await new Promise((b,d)=>h(["../../symbols/SimpleLineSymbol"],g=>b(k(g)),d)):"polygon"===a||"mesh"===a||"multipatch"===a?await new Promise((b,d)=>h(["../../symbols/SimpleFillSymbol"],g=>b(k(g)),d)):null)?new a.default:null}const k=a=>Object.freeze(Object.defineProperty({__proto__:null,default:a},Symbol.toStringTag,{value:"Module"}));var l;c=l=class extends c{constructor(a){super(a);
this._activeFetchInfo={id:null,request:null};this.thumbnail=this.template=this.layer=this.disabledFunction=null}initialize(){this.addHandles(m.watch(()=>{const {layer:a}=this;return[a&&"renderer"in a?a.renderer:null,this.template]},()=>{this._activeFetchInfo.id=null;this._activeFetchInfo.request=null;this._set("thumbnail",null)},m.initial))}get description(){return this.template?.description}set description(a){this.template&&(this.template.description=a)}get disabled(){return this.disabledFunction?.(this)??
!1}get label(){return this.template?.name}set label(a){this.template&&(this.template.name=a)}get id(){return`${this.label??""}\u2013${this.layer?.id}`}get supportsUpload(){return"scene"===this.layer?.type}clone(){const a=null!=this.thumbnail?this.thumbnail.cloneNode(!0):null,b=new l({layer:this.layer,template:this.template});b._set("thumbnail",a);return b}static async fetchThumbnail(a,b){const d=await r(a,b);if(null==d)return null;const g={maxSize:36};"dictionary"===a.renderer?.type&&(g.fieldMap=
a.renderer.fieldMap??void 0,g.feature={attributes:b.prototype.attributes??{}});return await q.renderPreviewHTML(d,g)}};e.__decorate([f.property()],c.prototype,"description",null);e.__decorate([f.property()],c.prototype,"disabled",null);e.__decorate([f.property()],c.prototype,"disabledFunction",void 0);e.__decorate([f.property()],c.prototype,"label",null);e.__decorate([f.property()],c.prototype,"layer",void 0);e.__decorate([f.property()],c.prototype,"template",void 0);e.__decorate([f.property()],c.prototype,
"thumbnail",void 0);e.__decorate([f.property()],c.prototype,"id",null);e.__decorate([f.property()],c.prototype,"supportsUpload",null);return c=l=e.__decorate([p.subclass("esri.widgets.FeatureTemplates.TemplateItem")],c)});