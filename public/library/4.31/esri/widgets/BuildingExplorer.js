// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("require ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./Widget ./BuildingExplorer/BuildingExplorerViewModel ./BuildingExplorer/css ./BuildingExplorer/BuildingDisciplinesTree/BuildingDisciplinesTree ./BuildingExplorer/BuildingLevelPicker/BuildingLevelPicker ./BuildingExplorer/BuildingPhasePicker/BuildingPhasePicker ../chunks/componentsUtils ./support/globalCss ./support/Heading ./support/widgetUtils ./support/decorators/messageBundle ./support/jsxFactory".split(" "),
function(r,e,g,t,d,A,u,v,n,f,w,x,y,z,l,m,k,p,c){const q={levels:!0,phases:!0,disciplines:!0};d=class extends v{constructor(a,b){super(a,b);this.viewModel=this._defaultViewModel=new n;this.visibleElements={...q};this.headingLevel=3;this.messagesCommon=this.messages=null;this.toggleSiblingsVisibility=!1}loadDependencies(){return z.loadCalciteComponents({loader:()=>new Promise((a,b)=>r(["../chunks/calcite-loader"],a,b))})}destroy(){this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}get view(){return this.viewModel.view}set view(a){this.viewModel.view=
a}get layers(){return this.viewModel.layers}set layers(a){this.viewModel.layers=a}_castVisibleElements(a){return{...q,...a}}get icon(){return"organization"}set icon(a){this._overrideIfSome("icon",a)}get label(){return this.messages?.widgetLabel??""}set label(a){this._overrideIfSome("label",a)}render(){const a=this.viewModel;return c.tsx("div",{"aria-label":this.messages.widgetLabel,class:k.classes(l.globalCss.widget,f.css.base,l.globalCss.panel,{[l.globalCss.widgetDisabled]:"disabled"===a.state||
!a.isSupported}),key:this},this._renderContent())}_renderContent(){const a=this.viewModel,b=this.messages;if(!a.isSupported)return c.tsx("p",{class:f.css.panelError},b.unsupported);if(!a.layers.length)return c.tsx("p",{class:f.css.panelError},b.noData);switch(a.state){case "loading":return this._renderLoadingIndicator();case "ready":return c.tsx("div",{class:f.css.content,key:"content"},this._renderLevelPickerSection(),this._renderPhasePickerSection(),this._renderDisciplinesSection());case "failed":return c.tsx("p",
{class:f.css.panelError},b.failed);default:return null}}_renderLoadingIndicator(){const a=this.messagesCommon.loading;return c.tsx("div",{"aria-label":a,class:f.css.loadingContainer,key:"loading-container",role:"presentation",title:a},c.tsx("calcite-loader",{label:a,type:"indeterminate"}))}_renderLevelPickerSection(){const a=this.viewModel.level;var b="ready"===a.state;const h=1<a.allowedValues.length;if(!this.visibleElements.levels||!b||!h)return null;b=this.messages?.level;return c.tsx("div",{class:k.classes(f.css.section,
f.css.levels),key:"levels"},c.tsx(m.Heading,{level:this.headingLevel},b?.title),c.tsx(x,{messages:b,vm:a}))}_renderPhasePickerSection(){const a=this.viewModel.phase;var b="ready"===a.state;const h=1<a.allowedValues.length;if(!this.visibleElements.phases||!b||!h)return null;b=this.messages.phase;return c.tsx("div",{class:k.classes(f.css.section,f.css.phases),key:"phases"},c.tsx(m.Heading,{level:this.headingLevel},b.title),c.tsx(y,{messages:b,vm:a}))}_renderDisciplinesSection(){const a=this.viewModel.disciplines;
var b="ready"===a.state;const h=a.root.hasChildren;if(!this.visibleElements.disciplines||!b||!h)return null;b=this.messages?.disciplines;return c.tsx("div",{class:k.classes(f.css.section,f.css.disciplines),key:"disciplines"},c.tsx(m.Heading,{level:this.headingLevel},b.title),c.tsx(w,{messages:b,toggleSiblingsVisibility:this.toggleSiblingsVisibility,vm:a}))}};e.__decorate([g.property({type:n})],d.prototype,"viewModel",void 0);e.__decorate([g.property()],d.prototype,"view",null);e.__decorate([g.property()],
d.prototype,"layers",null);e.__decorate([g.property()],d.prototype,"visibleElements",void 0);e.__decorate([t.cast("visibleElements")],d.prototype,"_castVisibleElements",null);e.__decorate([g.property()],d.prototype,"headingLevel",void 0);e.__decorate([g.property()],d.prototype,"icon",null);e.__decorate([g.property()],d.prototype,"label",null);e.__decorate([g.property(),p.messageBundle("esri/widgets/BuildingExplorer/t9n/BuildingExplorer")],d.prototype,"messages",void 0);e.__decorate([g.property(),
p.messageBundle("esri/t9n/common")],d.prototype,"messagesCommon",void 0);e.__decorate([g.property({nonNullable:!0})],d.prototype,"toggleSiblingsVisibility",void 0);e.__decorate([g.property()],d.prototype,"uiStrings",void 0);return d=e.__decorate([u.subclass("esri.widgets.BuildingExplorer")],d)});