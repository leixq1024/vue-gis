// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../intl ../../core/arrayUtils ../../core/Collection ../../core/collectionUtils ../../core/deprecate ../../core/Error ../../core/Handles ../../core/Logger ../../core/promiseUtils ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils ../../layers/support/layerUtils ../../support/popupUtils ../../tables/AttributeTableTemplate ../../views/support/layerViewUtils ../../views/support/selectionUtils ./ActionColumn ./AttachmentsColumn ./FieldColumn ./RelationshipColumn ./Grid/Column ./Grid/Grid ./Grid/GridViewModel ./Grid/GroupColumn ./support/AttachmentsColumnTemplate ./support/AttachmentsViewOptions ./support/columnUtils ./support/exportUtils ./support/FeatureStore ./support/FieldColumnTemplate ./support/RelationshipColumnTemplate ./support/TableTemplate ./support/tableUtils ../support/widgetUtils ../support/decorators/messageBundle ../../intl/locale ../../intl/substitute ../../intl/messages".split(" "),
function(h,g,ea,E,na,fa,W,oa,R,X,r,k,Ga,pa,qa,ha,ra,sa,ta,ua,va,Y,Z,aa,wa,xa,ya,ia,ja,za,S,ka,la,ba,Aa,T,q,Ha,ca,Ba,Ca,U){g=class extends ya{constructor(a){super(a);this._debounceRefresh=X.debounce(()=>this._refresh());this._highlights=new oa;this.actionColumnConfig=null;this.attachmentsViewOptions=new za;this.attributeTableTemplate=null;this.autoRefreshEnabled=!0;this.columns=new E;this.dataProvider=async(b,c)=>{const {layer:d,store:e}=this;if(c)if(d&&e){await d.load();var {objectIds:f}=this;this.filterBySelectionEnabled&&
!this.highlightIds.length||1===f.length&&-1===f.items[0]?c([]):("loaded"!==e.state&&"loading"!==e.state&&await e.load(),b=await e.fetchItems({...b,page:this.paginationEnabled?this.pageIndex:b.page}),c&&c(b))}else c&&c([])};this.editingEnabled=!1;this.grid=null;this.highlightEnabled=!0;this.itemIdPath="objectId";this.prompt=this.messagesURIUtils=this.messagesUnits=this.messagesCommon=this.messages=null;this.relatedTables=new E;this.relationshipColumnConfigs=null;this.selectionSource="table";this.tableTemplateOverride=
this.tableTemplate=this.tableParent=this.tableController=this.store=this.showRelatedTableCallback=null;this._onLayerRefresh=this._onLayerRefresh.bind(this);this._onShowPromptCallback=this._onShowPromptCallback.bind(this);this._set("store",new la);this._set("grid",new xa({itemIdPath:this.itemIdPath,viewModel:this}))}initialize(){const a=async()=>{this.messages=await U.fetchMessageBundle("esri/widgets/FeatureTable/t9n/FeatureTable");this.messagesCommon=await U.fetchMessageBundle("esri/t9n/common");
this.messagesUnits=await U.fetchMessageBundle("esri/core/t9n/Units");this.messagesURIUtils=await U.fetchMessageBundle("esri/widgets/support/t9n/uriUtils")};a();this.addHandles([Ba.onLocaleChange(()=>{a();this._generateColumns()}),r.watch(()=>[this.messages,this.messagesCommon,this.messagesURIUtils],()=>{const b=this.messages;this.grid&&(this.grid.messages=b);this.allColumns.forEach(c=>{c.messages=b;c.messagesCommon=this.messagesCommon;c.messagesURIUtils=this.messagesURIUtils});this.refreshCellContent()},
r.initial),r.on(()=>this.highlightIds,"change",b=>this._onHighlightIdsChange(b),{onListenerAdd:()=>this._syncSelection(),onListenerRemove:()=>this._highlights.removeAll()}),r.watch(()=>this.attachmentsEnabled,()=>this.layer?.loaded&&this._generateColumns()),r.watch(()=>this._viewSelection,()=>{this._viewSelectionReady&&(this.highlightIds.items=this._viewSelection)}),r.watch(()=>[this._tableHighlightsReady,this._viewSelectionReady],()=>this._syncSelection()),r.watch(()=>this.layer,async(b,c)=>{const d=
this.grid;d&&(d.clearSort(),b&&c&&await this.reset());this.goToPage(0);this._drainColumns();(this.store.layer=b)&&(b.loaded?this._onLayerLoad():b.load().catch(()=>{}))}),r.watch(()=>this.layer?.loaded,b=>b&&this._onLayerLoad()),r.watch(()=>this.store.state,b=>{"loaded"===b&&(this.scrollToTop(),this.refreshCellContent())}),r.watch(()=>this._effectiveTableTemplate,()=>{this.scrollLeft();this.layer?.loaded&&this._generateColumns()}),r.watch(()=>this.editingEnabled,b=>{this.editableColumns.forEach(c=>
c.tableEditingEnabled=b);this.refreshCellContent()}),r.watch(()=>this.timeZone??this.view?.timeZone,()=>this.refreshCellContent()),r.watch(()=>this.layer?.definitionExpression,(b,c)=>(b||c)&&"loaded"===this.store.state&&this.reset()),r.watch(()=>this.layer?.timeExtent,(b,c)=>(b||c)&&!this.timeExtent&&"loaded"===this.store.state&&this.reset()),r.on(()=>this.layer,"refresh",b=>this._onLayerRefresh(b)),r.on(()=>this.grid,"cell-click cell-dblclick cell-pointerover cell-pointerout cell-keydown column-reorder".split(" "),
({index:b,item:c,native:d,path:e,type:f})=>{c=c?.feature;const l=c?.getObjectId(),m="cell-keydown"===f&&d&&d instanceof KeyboardEvent&&"Enter"===d.key;this.emit(f,{feature:c,index:b,native:d,type:f,fieldName:e??void 0,objectId:l});(m||"cell-click"===f)&&this._onCellInteraction(l)}),r.watch(()=>this.actionColumnConfig,b=>{const {actionColumn:c,columns:d}=this;c?b?c.set(b):d.remove(c):b&&d.length&&d.add(this._generateActionColumn(),!1!==b.frozenToEnd?void 0:this._getIndexOfFirstFrozenToEndColumn())}),
r.watch(()=>this.relatedRecordsEnabled,()=>this.layer?.loaded&&this._generateColumns()),r.on(()=>this.objectIds,"change",()=>this._onObjectIdsChange(),{onListenerAdd:()=>this._onObjectIdsChange()}),r.watch(()=>[this.paginationEnabled,this.pageIndex],()=>this.refreshPageCache()),r.watch(()=>this.activeSortOrders,b=>this.store.sortOrders=b),r.watch(()=>this.pageCount,()=>{this.pageIndex>=this.pageCount&&this.goToPage(0)}),r.watch(()=>this.state,b=>{"disabled"===b&&this.relatedTables.length&&this.drainRelatedTables()}),
r.on(()=>this.tableParent?.highlightIds,"change",({added:b})=>{const {relationshipConfig:c}=this;b=b[0];if(null!=b&&c){var {relatedLayer:d,relationshipId:e}=c;this.relationshipConfig={objectId:b,relatedLayer:d,relationshipId:e}}}),r.on(()=>this.tableParent,"cell-click",b=>{const {tableParent:c}=this;({objectId:b}=b);c&&null!=b&&c.highlightIds.add(b)}),r.watch(()=>this.attachmentsViewOptions.objectId,(b,c)=>{null==b?this.hideAttachmentsView():null==c&&this.showAttachmentsView({objectId:b})})])}destroy(){this._drainColumns();
this._highlights.removeAll();this._highlights.destroy();this.grid?.destroy();this.columns.destroyed||this.columns.destroy();this.view=this.layer=null}get _defaultHiddenFields(){return qa.getLowerCaseDefaultHiddenFields(this.layer)}get _effectiveTableTemplate(){return this.tableTemplateOverride||this.tableTemplate}get _effectiveAttributeTableTemplate(){return this.attributeTableTemplate||this.layer?.attributeTableTemplate}get _highlightableLayerView(){const a=this.layerView;return ta.highlightsSupported(a)?
a:null}get _relationshipInfos(){return this.store.relationshipInfos}get _selectionManager(){const {view:a}=this;return!a||a.destroyed?null:a.selectionManager?.sources?.length?a.selectionManager:null}get _selectableLayer(){const {layer:a}=this;return ua.isSelectableLayer(a)&&this._selectionManager?.sources.includes(a)?a:null}get _subtypes(){return ha.getSubtypesFromLayer(this.layer)}get _tableHighlightsReady(){return!("table"!==this.selectionSource||!this.highlightEnabled||!this._highlightableLayerView)}get _viewSelection(){const {_selectableLayer:a}=
this;return a?this._selectionManager?.getSelection(a)??[]:[]}get _viewSelectionReady(){return!(!this.layer||"view"!==this.selectionSource||!this._selectionManager)}get allRelatedTablesVisible(){return!!(this.relatedRecordsEnabled&&this.relatedTables.length&&this.showAllRelatedTables)}get activeFilters(){const {filterGeometry:a,objectIds:b,filterBySelectionEnabled:c,highlightIds:d}=this,e=new E;a&&e.push({type:"geometry",geometry:a});c?e.push({type:"selection",objectIds:d.toArray()}):b.length&&e.push({type:"objectId",
objectIds:b.toArray()});return e}get activeSortOrders(){return this.grid?.sortOrders?this.grid.sortOrders.map(({path:a,direction:b})=>({fieldName:a,direction:b})).filter(a=>a.fieldName&&a.direction):[]}get attachmentsEnabled(){return this.store.attachmentsEnabled}set attachmentsEnabled(a){this.store.attachmentsEnabled=a}get clearPrompt(){return()=>this.prompt=null}set clearPrompt(a){this._overrideIfSome("clearPrompt",a)}get filterGeometry(){return this.store.filterGeometry}set filterGeometry(a){this.store.filterGeometry=
a}get filterBySelectionEnabled(){return!!this._get("filterBySelectionEnabled")}set filterBySelectionEnabled(a){const {objectIds:b}=this,c=b.length;a?(c&&(b.removeAll(),this._logWarning("Selection filter has been applied with an objectID filter. Object ID filter has been removed.")),this.filterGeometry&&this._logWarning("Selection filter has been applied with a geometry filter. Results may appear inconsistent"),this._syncObjectIdsWithStore(this.highlightIds.toArray())):c||this._syncObjectIdsWithStore(null);
this._set("filterBySelectionEnabled",a)}get hiddenFields(){return this._get("hiddenFields")??new E}set hiddenFields(a){this._set("hiddenFields",na.referenceSetter(a,this._get("hiddenFields"),E))}get initialSize(){return this.store.initialSize}set initialSize(a){this.store.initialSize=a}get isQueryingOrSyncing(){const {store:a}=this;return a?.syncing||a?.querying||this.relatedTables.some(b=>!!b.isQueryingOrSyncing)}get isSyncingAttachments(){return this.store.syncingAttachmentEdits||this.relatedTables.some(a=>
!!a.isSyncingAttachments)}get layer(){return this._get("layer")}set layer(a){this._highlights.removeAll();this.drainRelatedTables();this._set("layer",a)}get layerView(){return this.store.layerView}get outFields(){return this.store.outFields}set outFields(a){this.store.outFields=a}get relatedRecordsEnabled(){return this.store.relatedRecordsEnabled}set relatedRecordsEnabled(a){this.store.relatedRecordsEnabled=a}get relatedTable(){return this.relatedTables.at(-1)}get relationship(){const a=this.relationshipConfig?.relationshipId;
return null==a?null:this.relationships?.find(({id:b})=>b===a)}get relationshipConfig(){return this.store.relationshipConfig}set relationshipConfig(a){this.highlightIds.removeAll();this.objectIds.removeAll();this.filterBySelectionEnabled=!1;this.store.relationshipConfig=a}get relationships(){return this.store.relationships}get returnGeometryEnabled(){return this.store.returnGeometry}set returnGeometryEnabled(a){this.store.returnGeometry=a}get returnMEnabled(){return this.store.returnM}set returnMEnabled(a){this.store.returnM=
a}get returnZEnabled(){return this.store.returnZ}set returnZEnabled(a){this.store.returnZ=a}get showAllRelatedTables(){return this._get("showAllRelatedTables")}set showAllRelatedTables(a){const {relatedTable:b}=this;this._set("showAllRelatedTables",a);b&&(a?this._showAllRelatedTables(b):this._hideAllRelatedTables(b))}get showPrompt(){return a=>{this.prompt?.cancel?.();this.prompt=a}}set showPrompt(a){this._overrideIfSome("showPrompt",a)}get supportsAttachments(){return this.store.supportsAttachments}get supportsAddAttachments(){const {store:{supportsAddingAttachments:a,
supportsEditing:b}}=this;return this.editingEnabled&&b&&a}get supportsDeleteAttachments(){const {store:{supportsDeletingAttachments:a,supportsEditing:b}}=this;return this.editingEnabled&&b&&a}get supportsResizeAttachments(){return this.store.supportsResizeAttachments}get supportsUpdateAttachments(){const {store:{supportsUpdateAttachments:a,supportsEditing:b}}=this;return this.editingEnabled&&b&&a}get timeExtent(){return this.store.timeExtent}set timeExtent(a){this.store.timeExtent=a}get timeZone(){return this._get("timeZone")}set timeZone(a){this.allColumns.forEach(b=>
b.tableTimeZone=a);this._set("timeZone",a)}get view(){return this.store.view}set view(a){this.store.view=a;this.fieldColumns.forEach(b=>b.view=a);this.refreshCellContent()}async addAttachment(a,b){const {attachmentsViewOptions:c,store:d}=this,e=c.objectId===a;await d.addAttachment(a,b).catch(f=>{e&&f&&"object"===typeof f&&"error"in f&&f.error instanceof W&&(this._logWarning(`Unable to add attachment. ${f.error.name} ${f.error.message}`),c.error=f.error)});e&&!c.error&&(c.onEditComplete(),c.attachmentInfos=
await d.getAttachmentsByObjectId(a,!0));this.refreshCellContent()}async deleteAttachments(a,b){const {attachmentsViewOptions:c,store:d}=this,e=c.objectId===a;await d.deleteAttachments(a,b).catch(f=>{e&&f&&"object"===typeof f&&"error"in f&&f.error instanceof W&&(this._logWarning(`Unable to delete attachment(s). ${f.error.name} ${f.error.message}`),c.error=f.error)});e&&!c.error&&(c.onEditComplete(),c.attachmentInfos=await d.getAttachmentsByObjectId(a,!0));this.refreshCellContent()}collapseRelatedTable(a,
b){const {relatedLayer:c,objectId:d,relationshipId:e}=b;({objectIdField:b}=c);const f=q.findRelationship(c,e);b=c.displayField||f?.keyField||b;a.set({highlightIds:new E([d]),multipleSelectionEnabled:!1,tableTemplateOverride:this._getTableTemplateForRelatedTableView(a,b,e)});b=a.hiddenFields;b.includes(q.uniqueColumnNames.action)||b.add(q.uniqueColumnNames.action);b.includes(q.uniqueColumnNames.attachments)||b.add(q.uniqueColumnNames.attachments);a.scrollLeft()}async deleteSelection(){var a=this.highlightIds.toArray();
a?.length&&({deleteFeatureResults:a}=await this.store.deleteRowsByObjectId(a),a=a.filter(b=>!b.error).map(b=>b.objectId),a.length&&(this.highlightIds.removeMany(a),await this.refresh()))}async downloadAttachmentById(a,b){a=(await this.store.getAttachmentsByObjectId(a,!0)).find(c=>c.id===b);ka.downloadAttachmentInfo(a)}drainRelatedTables(){this.relatedTables.drain(a=>a.destroy());this.set({multipleSelectionEnabled:!0,relationshipColumnConfigs:null,showAllRelatedTables:!1,tableTemplateOverride:null});
this.hiddenFields.removeMany([q.uniqueColumnNames.action,q.uniqueColumnNames.attachments])}drainRelatedTablesAboveIndex(a){var {relatedTables:b}=this;a=b.slice(a+1);b.removeMany(a).forEach(c=>c.destroy());if(b=b.at(-1))b.attachmentsViewOptions.objectId=null,this.allRelatedTablesVisible?this._showAllRelatedTables(b):this._hideAllRelatedTables(b)}async exportSelectionToCSV(a){const {highlightIds:b,layer:c,outFields:d}=this;c&&b.length?await ka.exportToCSV({layer:c,objectIds:b.toArray(),outFields:d,
includeGeometry:a}):this._logWarning("Export failed.")}filterBySelection(){this.filterBySelectionEnabled?this._logWarning("Property 'filterBySelectionEnabled' is already 'true'. This method has no effect."):(fa.deprecatedFunction(R.getLogger(this),"`FeatureTable.filterBySelection` is deprecated in favor of 'filterBySelectionEnabled' and 'objectIds'",{replacement:"FeatureTable.filterBySelectionEnabled or FeatureTable.objectIds",version:"4.30",warnOnce:!0}),this.objectIds.addMany(this.highlightIds.toArray()))}getObjectIdIndex(a){return this.store.getItemIndexByObjectId(a)}getValue(a,
b){return this.store.getItemByObjectId(a)?.feature?.attributes[b]}getVirtualPageIndex(){return this.grid?.getVirtualPageIndex()??0}goToPage(a){if(null!=a&&Number.isInteger(a)){var {pageCount:b}=this;if(a>=b||-1===a)a=b-1;-1>a&&(a=0);a!==this.pageIndex&&(this.pageIndex=a);this.paginationEnabled||this.scrollToIndex(a*this.pageSize)}else this._logWarning("Invalid 'page' parameter provided to 'goToPage()'. Current page will remain the same.")}hideAttachmentsView(){this.attachmentsViewOptions.objectId=
null;this.set({relationshipColumnConfigs:null,multipleSelectionEnabled:!0,tableTemplateOverride:null});this.hiddenFields.remove(q.uniqueColumnNames.action)}nextPage(){const a=this.paginationEnabled?this.pageIndex:this.getVirtualPageIndex();this.goToPage(a+1)}previousPage(){const a=this.paginationEnabled?this.pageIndex:this.getVirtualPageIndex();this.goToPage(a-1)}async refresh(){this.relatedTables.forEach(async a=>await a.refresh());return X.ignoreAbortErrors(this._debounceRefresh())}refreshCellContent(){this.grid?.requestContentUpdate()}refreshPageCache(){this.grid?.refreshPageCache()}async reset(){this.goToPage(0);
await this.grid?.reset()}scrollLeft(){this.grid?.scrollLeft(0)}scrollToBottom(){this.grid?.scrollToBottom()}scrollToIndex(a){this.grid?.scrollToIndex(a)}scrollToRow(a){a=this.store.getItemIndexByObjectId(a);-1<a?this.grid?.scrollToIndex(a):this._logWarning("Row not found. Associated data may not be loaded yet.")}scrollToTop(){this.grid?.scrollToTop()}async saveAttachmentsViewForm(){const {attachmentId:a,form:b,objectId:c}=this.attachmentsViewOptions;null!=c&&b&&(null!=a?await this.updateAttachment(c,
a,b):await this.addAttachment(c,b))}async showAttachmentsView({objectId:a}){const {attachmentsViewOptions:b,hiddenFields:c,layer:d}=this;if(this.attachmentsEnabled&&d){await d.load();var e=d.displayField||d.objectIdField,f=await this.store.getAttachmentsByObjectId(a,!0),l=this.store.getItemIndexByObjectId(a);b.set({attachmentInfos:f,mode:f.length?"list":"file",objectId:a});this.set({highlightIds:new E([a]),multipleSelectionEnabled:!1,relationshipColumnConfigs:[],tableTemplateOverride:this._getTableTemplateForAttachmentsView(e)});
c.includes(q.uniqueColumnNames.action)||c.add(q.uniqueColumnNames.action);null!=l&&this.scrollToIndex(l)}else this._logWarning("The 'attachmentsEnabled' property is currently false.")}clearSelectionFilter(){fa.deprecatedFunction(R.getLogger(this),"`FeatureTable.clearSelectionFilter` is deprecated in favor of 'filterBySelectionEnabled' and 'objectIds'",{replacement:"FeatureTable.filterBySelectionEnabled or FeatureTable.objectIds",version:"4.30",warnOnce:!0});this.objectIds.removeAll()}async updateAttachment(a,
b,c){const {attachmentsViewOptions:d,store:e}=this,f=d.objectId===a;await e.updateAttachment(a,b,c).catch(l=>{f&&l&&"object"===typeof l&&"error"in l&&l.error instanceof W&&(this._logWarning(`Unable to update attachment. ${l.error.name} ${l.error.message}`),d.error=l.error)});f&&!d.error&&(d.onEditComplete(),d.attachmentInfos=await e.getAttachmentsByObjectId(a,!0));this.refreshCellContent()}async zoomToSelection(){const {layer:a,view:b}=this;var c=this.highlightIds.toArray();if(a&&b&&c.length){var d=
a.createQuery();d.objectIds=c;d.returnGeometry=!0;c=await a.queryFeatures(d);try{await b.goTo(c.features)}catch(e){"AbortError"!==e.name&&console.error(e)}}}async _refresh(){await this.store.refresh();const a=this.highlightIds.toArray();a.length&&(await this.store.verifyFeaturesByObjectId(a)).forEach((c,d)=>{c||this.highlightIds.remove(a[d])});this.refreshPageCache();const b=this.attachmentsViewOptions;null!=b?.objectId&&(b.attachmentInfos=await this.store.getAttachmentsByObjectId(b.objectId,!0))}async _onLayerLoad(){const {layer:a,
pageSize:b}=this;if(a){a.parent&&ha.isSubtypeGroupLayer(a.parent)&&await a.parent.loadAll();var c=a.capabilities.query?.maxRecordCount,d=c&&c<b;c=d?c:b;d&&(this._logWarning("The value for 'pageSize' has been adjusted due to the provided layer's max record count."),this.pageSize=c);this.grid?.set("pageSize",c);this.store.load();this._generateColumns()}}_onLayerRefresh(a){this.autoRefreshEnabled&&a.dataChanged&&this.refresh()}_generateColumns(){this._drainColumns();const {_effectiveTableTemplate:a,
_effectiveAttributeTableTemplate:b}=this,c=this._generateColumnsFromColumnTemplates(a?.columnTemplates)??this._generateColumnsFromAttributeTableTemplate(b)??this._generateDefaultFieldColumns();c.length&&(this.attachmentsEnabled&&!c.some(d=>S.isAttachmentsColumn(d))&&c.push(this._generateDefaultAttachmentsColumn()),this.relatedRecordsEnabled&&this._relationshipInfos.length&&!c.some(d=>S.isRelationshipColumn(d))&&c.push(...this._generateDefaultRelationshipColumns()),this.actionColumnConfig&&c.push(this._generateActionColumn()),
c.sort((d,e)=>d.frozen&&e.frozen||d.frozenToEnd&&e.frozenToEnd?0:d.frozen||e.frozenToEnd?-1:0),this.columns.addMany(c))}_generateColumnsFromAttributeTableTemplate(a){const {layer:b}=this;if(!a||!b)return null;const {elements:c,orderByFields:d}=a;a=ra.createFieldInfos(b);const e=[];e.push(...this._generateColumnsFromAttributeTableElements(c,d));a=a.map(f=>{if(!f.fieldName||q.hasColumnForField(f.fieldName,e))return null;({fieldName:f}=f);f=q.findField(b,f);return f?this._generateDefaultFieldColumn(f,
{hidden:!0,orderByFields:d}):(this._logTemplateWarning("A valid 'field' could not be found for the provided template."),null)}).filter(ea.isSome);e.push(...a);this.attachmentsEnabled&&q.isIFeatureTableSupportedLayerWithAttachments(b)&&!e.some(f=>S.isAttachmentsColumn(f))&&e.push(this._generateDefaultAttachmentsColumn({hidden:!0}));this.relatedRecordsEnabled&&q.isIFeatureTableSupportedLayerWithRelationships(b)&&b.relationships?.forEach(({id:f},l)=>{const m=this._relationshipInfos.find(n=>n.relationshipId===
f);m&&!e.some(n=>S.isRelationshipColumn(n)&&n.relationshipId===f)&&e.push(this._generateDefaultRelationshipColumn({hidden:!0,info:m,index:l}))});return e.length?e:null}_generateColumnsFromAttributeTableElements(a,b){const {layer:c}=this;return c?a?.map((d,e)=>{switch(d.type){case "field":return this._createFieldColumnFromElement({element:d,orderByFields:b});case "group":return this._createGroupColumnFromElement({element:d,orderByFields:b});case "attachment":return this._createAttachmentColumnFromElement({element:d,
index:e});case "relationship":return this._createRelationshipColumnFromElement({element:d,index:e})}}).filter(d=>!!d)??[]:[]}_createFieldColumnFromElement(a){const {layer:b}=this;if(!b)return null;const {element:c,orderByFields:d}=a,{fieldName:e}=c;if(null==e)return this._logTemplateWarning("A valid 'fieldName' must be provided."),null;a=q.findField(b,e);if(!a)return this._logTemplateWarning("A valid 'field' could not be found for the provided template."),null;const {description:f,label:l}=c,m=d?.findIndex(({field:y})=>
y&&y===e)??-1,n=-1<m?d?.at(m)?.order:void 0,{editingEnabled:t,grid:u,messages:p,messagesCommon:v,messagesURIUtils:w,store:x,timeZone:B,view:A}=this;return new Z({description:f,direction:n,field:a,fieldName:e,grid:u,initialSortPriority:-1<m?m:null,label:l,layer:b,messages:p,messagesCommon:v,messagesURIUtils:w,store:x,tableEditingEnabled:t,tableTimeZone:B,view:A,onShowPromptCallback:this._onShowPromptCallback})}_createGroupColumnFromElement(a){const {element:b,orderByFields:c}=a,{description:d,label:e}=
b;if(!e)return this._logTemplateWarning("Group columns require a label."),null;if(!b.elements.length)return this._logTemplateWarning("Group columns require child columns."),null;const {grid:f,messages:l,messagesCommon:m,messagesURIUtils:n,store:t,timeZone:u}=this;return new ia({columns:this._generateColumnsFromAttributeTableElements(b.elements,c),description:d,grid:f,label:e,messages:l,messagesCommon:m,messagesURIUtils:n,store:t,tableTimeZone:u})}_createAttachmentColumnFromElement(a){if(this.attachmentsEnabled){var {element:b,
index:c}=a,{description:d,label:e}=b,{grid:f,layer:l,messages:m,messagesCommon:n,messagesURIUtils:t,store:u,timeZone:p}=this;return new Y({description:d,fieldName:`${q.uniqueColumnNames.attachments}-${c}`,grid:f,label:e,layer:l,messages:m,messagesCommon:n,messagesURIUtils:t,store:u,tableTimeZone:p,onShowAttachments:v=>this._onShowAttachments(v)})}this._logTemplateWarning("The 'attachmentsEnabled' property is currently false.")}_createRelationshipColumnFromElement(a){if(this.relatedRecordsEnabled){var {element:b,
index:c}=a,{description:d,label:e,relationshipId:f}=b;a=this._relationshipInfos.find(v=>v.relationshipId===f);if(!a)return this._logTemplateWarning("Unable to find valid related layer target based on the provided relationship id."),null;var {grid:l,messages:m,messagesCommon:n,messagesURIUtils:t,store:u,timeZone:p}=this;return new aa({description:d,fieldName:`${q.uniqueColumnNames.relationship}-${f}-${c}`,grid:l,label:e,messages:m,messagesCommon:n,messagesURIUtils:t,relationshipId:f,store:u,tableTimeZone:p,
layer:a.relatedLayer,relatedLayer:a.layer,showRelatedTableCallback:v=>this._onShowRelatedTable(v)})}this._logTemplateWarning("Relationship columns require related records to be enabled on the table.")}_generateColumnsFromColumnTemplates(a){const {editingEnabled:b,grid:c,layer:d,messages:e,messagesCommon:f,messagesURIUtils:l,store:m,timeZone:n,view:t}=this;if(!a?.length||!d)return null;const u=[];a.forEach((p,v)=>{const {autoWidth:w,description:x,direction:B,flexGrow:A,fieldName:y,formatFunction:J,
frozen:z,frozenToEnd:C,icon:D,initialSortPriority:K,invalid:F,label:G,menuConfig:H,resizable:I,sortable:L,textAlign:N,textWrap:O,timeZone:P,type:M,width:da}=p;if(M)if(z&&C)this._logTemplateWarning("Properties 'frozen' and 'frozenToEnd' cannot both be true for the same column.");else{var Q=!1===p.visible;if("group"===M){if(!p.columnTemplates?.length){this._logTemplateWarning("Group columns must contain column templates.");return}if(!p.label){this._logTemplateWarning("Group columns require a label.");
return}v=this._generateColumnsFromColumnTemplates(p.columnTemplates);var V=Q||this._isFieldHidden(p.label);u.push(new ia({autoWidth:w,columns:v,description:x,flexGrow:A,frozen:z,frozenToEnd:C,grid:c,hidden:V,icon:D,invalid:F,label:G,menuConfig:H,messages:e,messagesCommon:f,messagesURIUtils:l,resizable:I,tableTimeZone:n,textAlign:N,textWrap:O,timeZone:P,width:da}))}else if("attachment"===M){if(!this.attachmentsEnabled){this._logTemplateWarning("Attachment columns require attachments to be enabled on the table.");
return}u.push(this._generateAttachmentsColumnFromTemplate(p,v))}else if("relationship"===M){if(!this.relatedRecordsEnabled){this._logTemplateWarning("Relationship columns require related records to be enabled on the table.");return}const {relationshipId:ma}=p;if(null==ma){this._logTemplateWarning("Property 'relationshipId' is missing from the provided template.");return}V=this._relationshipInfos.find(Da=>Da.relationshipId===ma);if(!V){this._logTemplateWarning("Unable to find valid related layer target based on the provided relationship id.");
return}u.push(this._generateRelationshipColumnFromTemplate(V,p,v))}else if(!y){this._logTemplateWarning("Value for 'fieldName' property was missing from the provided template.");return}Q=Q||this._isFieldHidden(y);if("column"===M)u.push(new wa({autoWidth:w,description:x,direction:B,fieldName:y,flexGrow:A,formatFunction:J,frozen:z,frozenToEnd:C,grid:c,hidden:Q,icon:D,initialSortPriority:K,invalid:F,label:G,menuConfig:H,messages:e,messagesCommon:f,messagesURIUtils:l,resizable:I,sortable:L,tableTimeZone:n,
textAlign:N,textWrap:O,timeZone:P,width:da}));else if("field"===M)if(v=q.findField(d,p.fieldName)){var {editable:Ea,required:Fa}=p;u.push(new Z({autoWidth:w,description:x,direction:B,editable:Ea,field:v,fieldName:v.name,flexGrow:A,formatFunction:J,frozen:z,frozenToEnd:C,grid:c,hidden:Q,icon:D,initialSortPriority:K,invalid:F,label:G,layer:d,messages:e,messagesCommon:f,messagesURIUtils:l,menuConfig:H,required:Fa,resizable:I,sortable:L,store:m,tableEditingEnabled:b,tableTimeZone:n,template:p,textAlign:N,
textWrap:O,timeZone:P,width:da,view:t,onShowPromptCallback:this._onShowPromptCallback}))}else this._logTemplateWarning("A valid 'field' could not be found for the provided template.")}else this._logTemplateWarning("Property 'type' is missing from the provided template.")});return u.length?u:null}_generateDefaultFieldColumns(){return this.layer?.fields?.map(a=>this._generateDefaultFieldColumn(a)).filter(ea.isSome)??[]}_generateDefaultFieldColumn(a,b){const {editingEnabled:c,grid:d,layer:e,messages:f,
messagesCommon:l,messagesURIUtils:m,store:n,timeZone:t,view:u}=this;var p=b?.orderByFields;if(!a.visible||"geometry"===a.type)return null;const v=a.name;var w=p?.findIndex(x=>x.field&&x.field===v);p=null!=w?p?.at(w)?.order:null;w=null!=w&&-1<w?w:void 0;return new Z({direction:p,field:a,fieldName:v,grid:d,hidden:b?.hidden||this._isFieldHidden(v),initialSortPriority:w,layer:e,messages:f,messagesCommon:l,messagesURIUtils:m,store:n,tableEditingEnabled:c,tableTimeZone:t,view:u,onShowPromptCallback:this._onShowPromptCallback})}_generateAttachmentsColumnFromTemplate(a,
b){const {grid:c,layer:d,messages:e,messagesCommon:f,messagesURIUtils:l,store:m,timeZone:n}=this,{attachmentsViewEnabled:t,autoWidth:u,description:p,flexGrow:v,fieldName:w,formatFunction:x,frozen:B,frozenToEnd:A,icon:y,invalid:J,label:z,menuConfig:C,resizable:D,textAlign:K,textWrap:F,thumbnailAppearance:G,thumbnailCount:H,thumbnailIconScale:I,thumbnailsEnabled:L,timeZone:N,width:O}=a;return new Y({attachmentsViewEnabled:t,autoWidth:u,description:p,fieldName:`${q.uniqueColumnNames.attachments}-${b}`,
flexGrow:v,formatFunction:x,frozen:B,frozenToEnd:A,grid:c,hidden:!1===a.visible||this._isFieldHidden(z)||this._isFieldHidden(w),icon:y,invalid:J,label:z,layer:d,menuConfig:C,messages:e,messagesCommon:f,messagesURIUtils:l,resizable:D,store:m,tableTimeZone:n,textAlign:K,textWrap:F,thumbnailAppearance:G,thumbnailCount:H,thumbnailIconScale:I,thumbnailsEnabled:L,timeZone:N,width:O,onShowAttachments:P=>this._onShowAttachments(P)})}_generateDefaultAttachmentsColumn(a){const {grid:b,layer:c,messages:d,messagesCommon:e,
messagesURIUtils:f,store:l,timeZone:m}=this,n=q.uniqueColumnNames.attachments;return new Y({fieldName:n,grid:b,hidden:a?.hidden||this._isFieldHidden(n),layer:c,messages:d,messagesCommon:e,messagesURIUtils:f,store:l,tableTimeZone:m,onShowAttachments:t=>this._onShowAttachments(t)})}_generateRelationshipColumnFromTemplate(a,b,c){const {grid:d,messages:e,messagesCommon:f,messagesURIUtils:l,store:m,timeZone:n}=this,{autoWidth:t,collapsed:u,description:p,flexGrow:v,fieldName:w,formatFunction:x,frozen:B,
frozenToEnd:A,icon:y,invalid:J,label:z,menuConfig:C,relationshipId:D,resizable:K,textAlign:F,textWrap:G,timeZone:H,width:I}=b;return new aa({autoWidth:t,collapsed:u,description:p,fieldName:`${q.uniqueColumnNames.relationship}-${D}-${c}`,flexGrow:v,formatFunction:x,frozen:B,frozenToEnd:A,grid:d,hidden:!1===b.visible||this._isFieldHidden(z)||this._isFieldHidden(w),icon:y,invalid:J,label:z,menuConfig:C,messages:e,messagesCommon:f,messagesURIUtils:l,relationshipId:D,resizable:K,store:m,tableTimeZone:n,
textAlign:F,textWrap:G,timeZone:H,width:I,layer:a.relatedLayer,relatedLayer:a.layer,showRelatedTableCallback:L=>this._onShowRelatedTable(L)})}_generateDefaultRelationshipColumns(){const {_relationshipInfos:a,relationshipColumnConfigs:b}=this,c=[];if(!a?.length)return c;b?b.forEach((d,e)=>{const {relationshipId:f}=d,l=a.find(m=>m.relationshipId===f);l&&c.push(this._generateDefaultRelationshipColumn({config:d,index:e,info:l}))}):a.forEach((d,e)=>c.push(this._generateDefaultRelationshipColumn({index:e,
info:d})));return c}_generateDefaultRelationshipColumn(a){const {config:b,hidden:c,index:d,info:e}=a,{grid:f,messages:l,messagesCommon:m,messagesURIUtils:n}=this;({relationshipId:a}=e);return new aa({...b,fieldName:`${q.uniqueColumnNames.relationship}-${a}-${d}`,grid:f,hidden:c,messages:l,messagesCommon:m,messagesURIUtils:n,layer:e.relatedLayer,relatedLayer:e.layer,relationshipId:a,showRelatedTableCallback:t=>this._onShowRelatedTable(t)})}_generateActionColumn(){return new va({hidden:this._isFieldHidden(q.uniqueColumnNames.action),
...this.actionColumnConfig})}_isFieldHidden(a){const b=a?.toLowerCase();return(this.hiddenFields??this._defaultHiddenFields).some(c=>c.toLowerCase()===b)}_addTableHighlight(a){const {_highlightableLayerView:b,layer:c}=this;if(b&&c){const d=this.store.getItemByObjectId(a);this._highlights.add(b.highlight(d?.feature??a),`${c.id}-${a}`)}}_removeTableHighlight(a){const {layer:b}=this;b&&this._highlights.remove(`${b.id}-${a}`)}_syncSelection(){this._highlights.removeAll();this._tableHighlightsReady?this.highlightIds.forEach(a=>
this._addTableHighlight(a)):this._viewSelectionReady&&(this.highlightIds.items=this._viewSelection)}_appendToViewSelection(a){const {_selectableLayer:b}=this;b&&this._selectionManager?.appendToSelection(b,a)}_removeFromViewSelection(a){const {_selectableLayer:b}=this;b&&this._selectionManager?.removeFromSelection(b,a)}async _onHighlightIdsChange(a){const {added:b,removed:c}=a;({attachmentsViewOptions:a}=this);this._tableHighlightsReady?(c.forEach(d=>this._removeTableHighlight(d)),b.forEach(d=>this._addTableHighlight(d))):
this._viewSelectionReady&&(this._removeFromViewSelection(c),this._appendToViewSelection(b));this.filterBySelectionEnabled&&this._syncObjectIdsWithStore(this.highlightIds.toArray());if(null!=a.objectId){const d=this.highlightIds.at(0);if(null!=d){const e=await this.store.getAttachmentsByObjectId(d,!0);a.set({attachmentInfos:e,objectId:d,mode:e.length?"list":"file"})}}}_onShowRelatedTable(a){const {highlightIds:b}=this,{objectId:c}=a;b.removeAll();b.add(c);this.showRelatedTableCallback?this.showRelatedTableCallback(a):
this.emit("show-related-table",a)}_onObjectIdsChange(){const a=this.objectIds.toArray();a.length&&this.filterBySelectionEnabled&&(this.filterBySelectionEnabled=!1,this._logWarning("Object ID filter was applied while a selection filter was applied. Selection filter has been removed."));this._syncObjectIdsWithStore(a)}_syncObjectIdsWithStore(a){this.store.objectIds=a;this.refreshPageCache()}_drainColumns(){this.columns.drain(a=>!a.destroyed&&a.destroy())}_showAllRelatedTables(a){const b=a.layer;b&&
(a.set({relationshipColumnConfigs:[],tableTemplateOverride:this._getTableTemplateForShowAllTablesView(a,b.displayField||b.objectIdField)}),a=a.hiddenFields,a.includes(q.uniqueColumnNames.action)||a.add(q.uniqueColumnNames.action),a.includes(q.uniqueColumnNames.attachments)||a.add(q.uniqueColumnNames.attachments))}_hideAllRelatedTables(a){const {layer:b,relationship:c}=a;b&&null!=c?.id&&(null!=a.attachmentsViewOptions.objectId?a.set({multipleSelectionEnabled:!1,relationshipColumnConfigs:[],showAllRelatedTables:!1,
tableTemplateOverride:this._getTableTemplateForAttachmentsView(a.layer?.displayField||a.layer?.objectIdField||"")}):(a.set({multipleSelectionEnabled:!0,relationshipColumnConfigs:q.getRelationshipIdsToShow(b,c.id),showAllRelatedTables:!1,tableTemplateOverride:null}),a.hiddenFields.removeMany([q.uniqueColumnNames.action,q.uniqueColumnNames.attachments])))}_getTableTemplateForRelatedTableView(a,b,c){return new T({columnTemplates:[new ba({fieldName:b,editable:!1,menuConfig:{selectionMode:"single",icon:"chevron-down",
items:this._extractFieldColumnInfosFromTableTemplate(a.viewModel).map(([d,e])=>({selected:d===b,label:e||d,clickFunction:()=>{a.tableTemplateOverride=this._getTableTemplateForRelatedTableView(a,d,c)}}))},resizable:!1}),new Aa({autoWidth:!1,collapsed:!0,flexGrow:0,label:"",resizable:!1,relationshipId:c,width:"80px"})]})}_getTableTemplateForShowAllTablesView(a,b){const c=[new ba({fieldName:b,editable:!1,menuConfig:{selectionMode:"single",icon:"chevron-down",items:this._extractFieldColumnInfosFromTableTemplate(a.viewModel).map(([d,
e])=>({selected:d===b,label:e||d,clickFunction:()=>{a.tableTemplateOverride=this._getTableTemplateForShowAllTablesView(a,d)}}))},resizable:!1})];null!=a.attachmentsViewOptions.objectId&&c.push(new ja({attachmentsViewEnabled:!1,autoWidth:!1,flexGrow:0,label:"",resizable:!1,thumbnailsEnabled:!1,width:"80px"}));return new T({columnTemplates:c})}async _onShowPromptCallback(a){const {column:b,objectId:c,oldValue:d,value:e}=a,{_subtypes:f,layer:l}=this;if(l&&f.length)if(a=f.find(u=>u.code===e)){var m=X.createResolver(),
n=this._createSubtypeEditPrompt(d,a,m),t=!!l.parent;try{this.showPrompt(n);const u=await m.promise,p=[{fieldName:b.fieldName,value:e}];switch(u){case "update-fields":for(const [v,w]of Object.entries(a.defaultValues))null!=w&&p.push({fieldName:v,value:w});await b.updateItems({objectId:c,updates:p});t&&this.refresh();break;case "keep-existing":await b.updateItems({objectId:c,updates:p});t&&this.refresh();break;case "undo":b.cancel()}}finally{this.clearPrompt()}}else b.cancel();else b.cancel()}_createSubtypeEditPrompt(a,
b,c){const {_subtypes:d,messages:e,messagesCommon:f}=this,l=d.find(t=>t.code===a)?.name??`${a}`;let m="update-fields";const n=[{label:e.subtypes.useDefaultValuesOption,value:"update-fields"},{label:e.subtypes.keepCurrentValuesOption,value:"keep-existing"}];return{context:"info",title:e.subtypes.changeWarningTitle,message:Ca.substitute(e.subtypes.changeWarning,{originalType:l,newType:b.name}),radios:n,defaultRadioSelection:"update-fields",onRadioSelection:t=>{m=t},actions:{primary:{label:f.apply,action:()=>
c.resolve(m),type:"positive"},secondary:{label:f.cancel,type:"neutral",action:()=>c.resolve("undo")}},cancel:()=>c.reject()}}_onShowAttachments({objectId:a}){this.attachmentsViewOptions.objectId=a}_getTableTemplateForAttachmentsView(a){return new T({columnTemplates:[new ba({fieldName:a,editable:!1,menuConfig:{selectionMode:"single",icon:"chevron-down",items:this._extractFieldColumnInfosFromTableTemplate(this).map(([b,c])=>({selected:b===a,label:c||b,clickFunction:()=>{this.tableTemplateOverride=this._getTableTemplateForAttachmentsView(b)}}))},
resizable:!1}),new ja({attachmentsViewEnabled:!1,autoWidth:!1,flexGrow:0,label:"",resizable:!1,thumbnailsEnabled:!1,width:"80px"})]})}_extractFieldColumnInfosFromTableTemplate(a){const {layer:b,tableTemplate:c}=a??this;return c?c.columnTemplates.filter(({type:d})=>"field"===d||"column"===d).map(({fieldName:d,label:e})=>[d,e]):b?.fields.map(d=>[d.name,d.alias])??[]}_getIndexOfFirstFrozenToEndColumn(){const a=this.columns.findIndex(b=>b.frozenToEnd);return-1<a?a:void 0}_logWarning(a,b){b?R.getLogger(this).warnOnce(a):
R.getLogger(this).warn(a)}_logTemplateWarning(a){this._logWarning(`${a} Skipped generating a column using the provided template.`,!0)}_onCellInteraction(a){null!=a&&null!=this.attachmentsViewOptions.objectId&&this.highlightIds.add(a)}};h.__decorate([k.property()],g.prototype,"_defaultHiddenFields",null);h.__decorate([k.property()],g.prototype,"_effectiveTableTemplate",null);h.__decorate([k.property()],g.prototype,"_effectiveAttributeTableTemplate",null);h.__decorate([k.property()],g.prototype,"_highlights",
void 0);h.__decorate([k.property()],g.prototype,"_highlightableLayerView",null);h.__decorate([k.property()],g.prototype,"_relationshipInfos",null);h.__decorate([k.property()],g.prototype,"_selectionManager",null);h.__decorate([k.property()],g.prototype,"_selectableLayer",null);h.__decorate([k.property()],g.prototype,"_subtypes",null);h.__decorate([k.property()],g.prototype,"_tableHighlightsReady",null);h.__decorate([k.property()],g.prototype,"_viewSelection",null);h.__decorate([k.property()],g.prototype,
"_viewSelectionReady",null);h.__decorate([k.property()],g.prototype,"actionColumnConfig",void 0);h.__decorate([k.property()],g.prototype,"allRelatedTablesVisible",null);h.__decorate([k.property()],g.prototype,"activeFilters",null);h.__decorate([k.property({readOnly:!0})],g.prototype,"activeSortOrders",null);h.__decorate([k.property()],g.prototype,"attachmentsEnabled",null);h.__decorate([k.property()],g.prototype,"attachmentsViewOptions",void 0);h.__decorate([k.property({type:sa})],g.prototype,"attributeTableTemplate",
void 0);h.__decorate([k.property()],g.prototype,"autoRefreshEnabled",void 0);h.__decorate([k.property()],g.prototype,"clearPrompt",null);h.__decorate([k.property({readOnly:!0})],g.prototype,"columns",void 0);h.__decorate([k.property()],g.prototype,"dataProvider",void 0);h.__decorate([k.property()],g.prototype,"editingEnabled",void 0);h.__decorate([k.property()],g.prototype,"filterGeometry",null);h.__decorate([k.property()],g.prototype,"filterBySelectionEnabled",null);h.__decorate([k.property({readOnly:!0})],
g.prototype,"grid",void 0);h.__decorate([k.property()],g.prototype,"hiddenFields",null);h.__decorate([k.property()],g.prototype,"highlightEnabled",void 0);h.__decorate([k.property()],g.prototype,"initialSize",null);h.__decorate([k.property()],g.prototype,"isQueryingOrSyncing",null);h.__decorate([k.property()],g.prototype,"isSyncingAttachments",null);h.__decorate([k.property({readOnly:!0})],g.prototype,"itemIdPath",void 0);h.__decorate([k.property()],g.prototype,"layer",null);h.__decorate([k.property()],
g.prototype,"layerView",null);h.__decorate([k.property()],g.prototype,"messages",void 0);h.__decorate([k.property(),ca.messageBundle("esri/t9n/common")],g.prototype,"messagesCommon",void 0);h.__decorate([k.property(),ca.messageBundle("esri/core/t9n/Units")],g.prototype,"messagesUnits",void 0);h.__decorate([k.property(),ca.messageBundle("esri/widgets/support/t9n/uriUtils")],g.prototype,"messagesURIUtils",void 0);h.__decorate([k.property()],g.prototype,"outFields",null);h.__decorate([k.property()],
g.prototype,"prompt",void 0);h.__decorate([k.property()],g.prototype,"relatedRecordsEnabled",null);h.__decorate([k.property()],g.prototype,"relatedTable",null);h.__decorate([k.property()],g.prototype,"relatedTables",void 0);h.__decorate([k.property()],g.prototype,"relationship",null);h.__decorate([k.property()],g.prototype,"relationshipColumnConfigs",void 0);h.__decorate([k.property()],g.prototype,"relationshipConfig",null);h.__decorate([k.property()],g.prototype,"relationships",null);h.__decorate([k.property()],
g.prototype,"returnGeometryEnabled",null);h.__decorate([k.property()],g.prototype,"returnMEnabled",null);h.__decorate([k.property()],g.prototype,"returnZEnabled",null);h.__decorate([k.property()],g.prototype,"selectionSource",void 0);h.__decorate([k.property()],g.prototype,"showAllRelatedTables",null);h.__decorate([k.property()],g.prototype,"showPrompt",null);h.__decorate([k.property()],g.prototype,"showRelatedTableCallback",void 0);h.__decorate([k.property({readOnly:!0,type:la})],g.prototype,"store",
void 0);h.__decorate([k.property()],g.prototype,"supportsAttachments",null);h.__decorate([k.property()],g.prototype,"supportsAddAttachments",null);h.__decorate([k.property()],g.prototype,"supportsDeleteAttachments",null);h.__decorate([k.property()],g.prototype,"supportsResizeAttachments",null);h.__decorate([k.property()],g.prototype,"supportsUpdateAttachments",null);h.__decorate([k.property()],g.prototype,"tableController",void 0);h.__decorate([k.property()],g.prototype,"tableParent",void 0);h.__decorate([k.property({type:T})],
g.prototype,"tableTemplate",void 0);h.__decorate([k.property()],g.prototype,"tableTemplateOverride",void 0);h.__decorate([k.property()],g.prototype,"timeExtent",null);h.__decorate([k.property()],g.prototype,"timeZone",null);h.__decorate([k.property()],g.prototype,"view",null);return g=h.__decorate([pa.subclass("esri.widgets.FeatureTable.FeatureTableViewModel")],g)});