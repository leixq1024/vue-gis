// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("../chunks/tslib.es6 ../analysis/Viewshed ../analysis/ViewshedAnalysis ../core/Collection ../core/MultiOriginJSONSupport ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Layer ./mixins/OperationalLayer".split(" "),function(c,k,g,l,a,h,d,t,u,v,m,n,p,q){a=class extends q.OperationalLayer(a.MultiOriginJSONMixin(p)){constructor(b){super(b);this.type=
"viewshed";this.operationalLayerType="ViewshedLayer";this.source=new g;this.opacity=1}initialize(){this.addHandles(h.watch(()=>this.source,(b,e)=>{null!=e&&e.parent===this&&(e.parent=null);null!=b&&(b.parent=this)},h.syncAndInitial))}async load(){this.addResolvingPromise(this.source.waitComputeExtent());return this}get spatialReference(){return this.source.spatialReference}get fullExtent(){return this.source.extent}releaseAnalysis(b){this.source===b&&(this.source=new g)}get analysis(){return this.source}set analysis(b){this.source=
b}get viewsheds(){return this.source.viewsheds}set viewsheds(b){this.source.viewsheds=b}writeViewsheds(b,e,w,r){e.viewsheds=b.filter(f=>f.isValid()).map(f=>f.toJSON(r)).toJSON()}};c.__decorate([d.property({json:{read:!1},readOnly:!0})],a.prototype,"type",void 0);c.__decorate([d.property({type:["ViewshedLayer"]})],a.prototype,"operationalLayerType",void 0);c.__decorate([d.property({nonNullable:!0})],a.prototype,"source",void 0);c.__decorate([d.property({readOnly:!0})],a.prototype,"spatialReference",
null);c.__decorate([d.property({readOnly:!0})],a.prototype,"fullExtent",null);c.__decorate([d.property({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],a.prototype,"opacity",void 0);c.__decorate([d.property({type:["show","hide"]})],a.prototype,"listMode",void 0);c.__decorate([d.property({type:l.ofType(k),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],a.prototype,"viewsheds",
null);c.__decorate([n.writer("web-scene","viewsheds")],a.prototype,"writeViewsheds",null);return a=c.__decorate([m.subclass("esri.layers.ViewshedLayer")],a)});