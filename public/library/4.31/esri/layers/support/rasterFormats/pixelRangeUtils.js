// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["exports"],function(k){function v(b){return y[b]??[-3.4028234663852886E38,3.4028234663852886E38]}function w(b){return(b?.startsWith("s")||b?.startsWith("u"))??!1}const y={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-3.4028234663852886E38,3.4028234663852886E38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};k.clipBandToPixelTypeRange=function(b,c,a,l){let [m,f]=v(a);
var d=w(a);d&&(m-=1E-5,f+=1E-5);if(d)if(a.startsWith("u")){const [g,n]=[m,f];for(a=0;a<c.length;a++)c[a]&&(d=b[a],d<g||d>n?c[a]=0:l[a]=d+.5<<0)}else{const [g,n]=[m,f];for(a=0;a<c.length;a++)c[a]&&(d=b[a],d<g||d>n?c[a]=0:l[a]=d+(0<d?.5:-.5)<<0)}else{const [g,n]=[m,f];for(a=0;a<c.length;a++)c[a]&&(d=b[a],d<g||d>n?c[a]=0:l[a]=d)}};k.convertNoDataToMask=function(b,c,a){if(!(b.depthCount&&1<b.depthCount)){var {pixels:l,statistics:m,pixelType:f}=b,d=l[0].length,g=b.bandMasks??[];d=b.mask??(new Uint8Array(d)).fill(255);
var n="f32"===f||"f64"===f,x=v(f),u=!1;for(let h=0;h<l.length;h++){const p="number"===typeof c?c:c[h];if(null==p)continue;var q=m?.[h]?.maxValue??x[1];if((m?.[h]?.minValue??x[0])>p+Number.EPSILON||q<p-Number.EPSILON)continue;q=g[h]||d.slice();const t=l[h];var e=a?.customFloatTolerance;if(n&&0!==e){e||=9.999999E37<=Math.abs(p)?2E-7*Math.abs(p):"f32"===f?2**-23:Number.EPSILON;for(let r=0;r<t.length;r++)q[r]&&Math.abs(t[r]-p)<e&&(t[r]=0,q[r]=0,d[r]=0,u=!0)}else for(e=0;e<t.length;e++)q[e]&&t[e]===p&&
(t[e]=0,q[e]=0,d[e]=0,u=!0);g[h]=q}u&&(b.bandMasks=b.bandMasks||1<b.pixels.length?g:null,b.mask=d);u&&"updateStatistics"in b&&b.updateStatistics()}};k.fixNaN=function(b,c){for(let a=0;a<c.length;a++)c[a]&&isNaN(b[a])&&(c[a]=0,b[a]=0)};k.getIntegerPixelType=function(b,c){return null==b||null==c?"s32":0>b?-128<=b&&128>c?"s8":-32768<=b&&32768>c?"s16":"s32":256>c?"u8":65536>c?"u16":"u32"};k.getPixelValueRange=v;k.isIntegerPixelType=w;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});