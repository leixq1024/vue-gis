// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/jsonMap","./cameraOrientationRegistry","./ElevationSourceDefinitions","../enums/CameraOrientationType"],function(e,m,I,G,E){function J(a,c,b){c&&(a=`${c}${a}`);b&&(a+=`${b}`);return a}function K(a,c,b){let {url:d}=a;if(!d)return null;d=J(d,c,b);return new G.ElevationSource({...a,url:d})}function H(a,c,b,d,f){a=F(a);c=F(c);b=F(b);d=F(d);return{affineTransformations:6===a?.length?a:void 0,focalLength:6===a?.length?parseFloat(f):void 0,principalOffsetPoint:2!==c?.length?
[0,0]:c,radialDistortionCoefficients:3!==b?.length?[0,0,0]:b,tangentialDistortionCoefficients:2!==d?.length?[0,0]:d}}const L=new m.JSONMap({Minutes:"minutes",Hours:"hours",Days:"days",Weeks:"weeks",Months:"months",Years:"years"}),M=new m.JSONMap({Feet:"feet",Meter:"meter"});m=new m.JSONMap({360:"360",Horizontal:"horizontal",Inspection:"inspection",Nadir:"nadir",Oblique:"oblique","":null});const k=new Map;k.set(`${E.CameraOrientationType.HPR}`,function(a){const [c,b,d,f,g,l,h,n,p,q,r,t,u,v,w,x,y,z,
A,B,C,D]=a.slice(1);return{horizontalWKID:c,verticalWKID:b,x:d,y:f,z:g,heading:l,pitch:h,roll:n,...H([p,q,r,t,u,v],[x,y],[z,A,B],[C,D],w)}});k.set(`${E.CameraOrientationType.YPR}`,function(a){const [c,b,d,f,g,l,h,n,p,q,r,t,u,v,w,x,y,z,A,B,C,D]=a.slice(1);return{horizontalWKID:c,verticalWKID:b,x:d,y:f,z:g,yaw:l,pitch:h,roll:n,...H([p,q,r,t,u,v],[x,y],[z,A,B],[C,D],w)}});k.set(`${E.CameraOrientationType.OPK}`,function(a){const [c,b,d,f,g,l,h,n,p,q,r,t,u,v,w,x,y,z,A,B,C,D]=a.slice(1);return{horizontalWKID:c,
verticalWKID:b,x:d,y:f,z:g,omega:l,phi:h,kappa:n,...H([p,q,r,t,u,v],[x,y],[z,A,B],[C,D],w)}});k.set(`${E.CameraOrientationType.LTP}`,function(a){const [c,b,d,f,g,...l]=a.slice(1);a=k.get(g);const h=I.get(g)?.constructor;if(!a||!h)return null;a=new h(a([g,"",...l]));return{latitude:c,longitude:b,ellipsoidRadius:d,squaredEccentricity:f,properties:a}});const F=a=>{const c=a.map(b=>parseFloat(b)).filter(b=>!isNaN(b));if(c.length===a.length)return c};e.appendPrefixAndSuffix=J;e.createCameraOrientation=
function(a){if(!a)return null;a=`${a}`.split("|");if(0===a.length)return null;const c=I.get(a[0]);if(!c)return null;const b=k.get(a[0]);return b?new c.constructor(b(a)):null};e.getEffectiveElevationSource=function(a,c,b){return a?G.isConstantElevation(a)?new G.ConstantElevation(a):K(a,c,b):a};e.isOrientationAccuracy=function(a){return Array.isArray(a)&&9===a?.length&&!a.some(isNaN)};e.orientedImageryTypeMap=m;e.processElevationSource=K;e.timeIntervalUnitTypeMap=L;e.transformersRegistry=k;e.verticalMeasurementTypeMap=
M;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});