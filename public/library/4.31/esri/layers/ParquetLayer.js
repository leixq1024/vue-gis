// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../core/Clonable ../core/Collection ../core/MultiOriginJSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../geometry/SpatialReference ./Layer ./graphics/sources/ParquetSource ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/FeatureEffectLayer ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/commonProperties ./support/FeatureTemplate ./support/Field ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/parquetLayerUtils ../rest/support/Query ../support/popupUtils".split(" "),
function(c,m,e,L,M,N,O,P,Q,R,S,n,a,h,p,d,q,k,r,l,t,u,v,w,x,y,z,A,B,C,D,E,F,f,G,H,I,J,K){e=F.defineFieldProperties();a=class extends w.FeatureReductionLayer(v.FeatureEffectLayer(t.BlendLayer(y.OrderedLayer(B.TemporalLayer(A.ScaleRangeLayer(x.OperationalLayer(z.PortalLayer(p.MultiOriginJSONMixin(u.CustomParametersMixin(a.ClonableMixin(r))))))))))){constructor(b){super(b);this.metadata=this.geometrySourceInfo=this.fieldsIndex=this.fields=this.copyright=null;this.labelsVisible=!0;this.source=this.popupTemplate=
this.outFields=this.objectIdField=this.labelingInfo=null;this.spatialReference=k.WGS84;this.templates=null;this.title="Parquet";this.type="parquet";this.urls=new h}async load(b){this.addResolvingPromise(this._load(b));return this}get defaultPopupTemplate(){return this.createPopupTemplate()}get geometryType(){return this.source.geometryInfo.geometryType}set renderer(b){f.fixRendererFields(b,this.fieldsIndex);this._set("renderer",b)}createPopupTemplate(b){return K.createPopupTemplate(this,b)}createQuery(){const b=
new J;b.returnGeometry=!0;b.outFields=["*"];return b}async createSource(b){const g=new l.ParquetSource({loadOptions:{objectIdField:this.objectIdField,geometrySourceInfo:this.geometrySourceInfo,url:this.urls.getItemAt(0)??"",metadata:this.metadata},customParameters:this.customParameters??void 0});await g.load(b);return g}getFieldDomain(b,g){return null}getField(b){return this.fieldsIndex.get(b)}async _load(b){b=await this.createSource(b);this._set("source",b);this.read(b.sourceJSON,{origin:"service"});
this.revert(["objectIdField","fields","timeInfo"],"service");f.fixRendererFields(this.renderer,this.fieldsIndex);f.fixTimeInfoFields(this.timeInfo,this.fieldsIndex)}};c.__decorate([d.property({type:String})],a.prototype,"copyright",void 0);c.__decorate([d.property({readOnly:!0})],a.prototype,"defaultPopupTemplate",null);c.__decorate([d.property({type:[E],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],a.prototype,"fields",void 0);c.__decorate([d.property(e.fieldsIndex)],
a.prototype,"fieldsIndex",void 0);c.__decorate([d.property({type:Object})],a.prototype,"geometrySourceInfo",void 0);c.__decorate([d.property({type:["point"],json:{read:{reader:I.parquetGeometryTypeKebabDict.read}}})],a.prototype,"geometryType",null);c.__decorate([d.property()],a.prototype,"metadata",void 0);c.__decorate([d.property(C.labelsVisible)],a.prototype,"labelsVisible",void 0);c.__decorate([d.property({type:[G],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:H.reader},write:!0}})],
a.prototype,"labelingInfo",void 0);c.__decorate([d.property({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],a.prototype,"objectIdField",void 0);c.__decorate([d.property(e.outFields)],a.prototype,"outFields",void 0);c.__decorate([d.property({type:m,json:{name:"popupInfo",write:!0}})],a.prototype,"popupTemplate",void 0);c.__decorate([d.property({types:n.rendererTypes,json:{name:"layerDefinition.drawingInfo.renderer",
write:!0,origins:{service:{name:"drawingInfo.renderer"}}}})],a.prototype,"renderer",null);c.__decorate([d.property({json:{read:!1},cast:null,type:l.ParquetSource,readOnly:!0})],a.prototype,"source",void 0);c.__decorate([d.property({type:k})],a.prototype,"spatialReference",void 0);c.__decorate([d.property({type:[D]})],a.prototype,"templates",void 0);c.__decorate([d.property()],a.prototype,"title",void 0);c.__decorate([d.property({json:{read:!1},readOnly:!0})],a.prototype,"type",void 0);c.__decorate([d.property({type:h.ofType(String)})],
a.prototype,"urls",void 0);return a=c.__decorate([q.subclass("esri.layers.ParquetLayer")],a)});