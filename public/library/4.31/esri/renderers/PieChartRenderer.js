// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define("../chunks/tslib.es6 ../Color ../symbols ../core/arrayUtils ../core/Clonable ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/commonProperties ./support/OthersCategory ./support/RendererLegendOptions ./visualVariables/OpacityVariable ./visualVariables/SizeVariable ./visualVariables/VisualVariable ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol".split(" "),
function(b,g,h,l,a,m,c,C,D,n,p,q,r,t,u,v,k,w,x,y,z,A,B){h={base:z,key:"type",typeMap:{size:y,opacity:x}};a=class extends t.VisualVariablesMixin(a.ClonableMixin(r)){constructor(d){super(d);this.backgroundFillSymbol=this.attributes=null;this.defaultColor=new g([0,0,0,0]);this.defaultLabel=null;this.holePercentage=0;this.othersCategory=new k.OthersCategory;this.outline=this.legendOptions=null;this.size=12;this.type="pie-chart";this.visualVariables=null}getSymbol(){return new A({size:this.size?this.size/
2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(l.isSome)}getAttributeHash(){return this.visualVariables?.reduce((d,e)=>d+e.getAttributeHash(),"")??""}getMeshHash(){return this.getSymbols().reduce((d,e)=>d+=JSON.stringify(e),"")}async collectRequiredFields(d,e){await this.collectVVRequiredFields(d,e);for(const f of this.attributes)f.valueExpression&&await q.collectArcadeFieldNames(d,e,f.valueExpression),
f.field&&d.add(f.field)}};b.__decorate([c.property({type:[u],json:{write:!0}})],a.prototype,"attributes",void 0);b.__decorate([c.property(v.rendererBackgroundFillSymbolProperty)],a.prototype,"backgroundFillSymbol",void 0);b.__decorate([c.property({type:g,json:{write:!0}})],a.prototype,"defaultColor",void 0);b.__decorate([c.property({type:String,json:{write:!0}})],a.prototype,"defaultLabel",void 0);b.__decorate([c.property({type:Number,range:{min:0,max:1},json:{write:!0}})],a.prototype,"holePercentage",
void 0);b.__decorate([c.property({type:k.OthersCategory,json:{write:!0}})],a.prototype,"othersCategory",void 0);b.__decorate([c.property({type:w,json:{write:!0}})],a.prototype,"legendOptions",void 0);b.__decorate([c.property({type:B,json:{default:null,write:!0}})],a.prototype,"outline",void 0);b.__decorate([c.property({type:Number,cast:m.toPt,json:{write:!0}})],a.prototype,"size",void 0);b.__decorate([n.enumeration({pieChart:"pie-chart"})],a.prototype,"type",void 0);b.__decorate([c.property({types:[h]})],
a.prototype,"visualVariables",void 0);return a=b.__decorate([p.subclass("esri.renderers.PieChartRenderer")],a)});