// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
require({cache:{"esri/smartMapping/statistics/support/utils":function(){define("exports ../../../geometry ../../../core/Error ../../../core/screenUtils ../../../core/timeUtils ../../../geometry/SpatialReference ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/support/fieldUtils ../../../renderers/support/heatmapUtils ../../support/utils ../../../statistics/utils ../../../support/arcadeOnDemand ../../../geometry/Point".split(" "),function(f,
k,r,m,n,E,h,B,w,A,u,z,t,l){function C(c){c=U.exec(c);if(!c)return null;const {hh:x,mm:F,ss:K,ms:ba}=c.groups;return Number(x)*n.millisecondsPerTimeUnit.hours+Number(F)*n.millisecondsPerTimeUnit.minutes+Number(K)*n.millisecondsPerTimeUnit.seconds+Number(ba||0)}function I(c,x){c=null!=c?c:"";null!=x&&x&&(c=c?"("+c+") AND ("+x+")":x);return c}function P(c){const x=c.layer;return c.fields.filter(F=>!x.getField(F))}function y(c){const x=c.layer;return c.fields.filter(F=>{F=x.getFieldUsageInfo(F);return!F||
!F.supportsStatistics})}let H=null;const U=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;f.calculateHeatmapStats=function(c,x=18,F,K,ba){const na=new Float64Array(K*ba);x=Math.round(m.pt2px(x));let da=Number.POSITIVE_INFINITY,Q=Number.NEGATIVE_INFINITY;F=A.createValueFunction(F);for(const {geometry:d,attributes:g}of c){const {x:p,y:D}=d;c=Math.max(0,p-x);var X=Math.max(0,D-x);const M=Math.min(ba,D+x),R=Math.min(K,p+x),W=+F(g);for(;X<M;X++)for(let Y=c;Y<
R;Y++){var b=X*K+Y;const Z=A.evaluateDensityKernel(Y-p,X-D,x)*W;b=na[b]+=Z;da=Math.min(da,b);Q=Math.max(Q,b)}}return{min:da,max:Q}};f.getDataValues=async function(c,x,F=!0){if(!x)return[];const {field:K,field2:ba,field3:na,fieldDelimiter:da,fieldInfos:Q,timeZone:X}=c;var b=K&&Q?.find(ha=>ha.name.toLowerCase()===K.toLowerCase());const d=b?w.isTimeOnlyField(b):!1,g=b?u.isAnyDateField(b):!1,p=c.valueExpression,D=c.normalizationType,M=c.normalizationField,R=c.normalizationTotal,W=[];b=c.viewInfoParams;
let Y=null,Z=null;if(p){if(!H){const {arcadeUtils:ha}=await t.loadArcade();H=ha}H.hasGeometryOperations(p)&&await H.enableGeometryOperations();Y=H.createFunction(p);Z=b?H.getViewInfo({viewingMode:b.viewingMode,scale:b.scale,spatialReference:new E(b.spatialReference)}):null}c=c.fieldInfos;const ja=x[0]&&"declaredClass"in x[0]&&"esri.Graphic"===x[0].declaredClass||!c?null:{fields:c};x.forEach(ha=>{var ka=ha.attributes;if(p){var ma=H.createExecContext(ja?{...ha,layer:ja}:ha,Z,X);ma=H.executeFunction(Y,
ma)}else ka&&(ma=ka[K],ba?(ma=`${z.processNullValue(ma)}${da}${z.processNullValue(ka[ba])}`,na&&(ma=`${ma}${da}${z.processNullValue(ka[na])}`)):"string"===typeof ma&&F&&(g?ma=ma?(new Date(ma)).getTime():null:d&&(ma=ma?C(ma):null)));D&&"number"===typeof ma&&isFinite(ma)&&(ka=ka&&parseFloat(ka[M]),ma=z.getNormalizedValue(ma,D,ka,R));W.push(ma)});return W};f.getRangeExpr=function(c,x,F){x=null!=x?c+" \x3e\x3d "+x:"";c=null!=F?c+" \x3c\x3d "+F:"";F="";return(F=x&&c?I(x,c):x||c)?"("+F+")":""};f.getSQLFilterForNormalization=
function(c){const x=c.field,F=c.normalizationType;c=c.normalizationField;let K;if("field"===F)K="(NOT "+c+" \x3d 0)";else if("log"===F||"natural-log"===F||"square-root"===F)K=`(${x} > 0)`;return K};f.getSumOfAttributesExpr=function(c,x,F){const K=[],ba=[],na=[],da=[],Q=[];c.forEach((b,d)=>{const g=b.field?"field":"expression",p=b.field||b.valueExpression;b.field?(Q.push(p),ba.push(`var ${g}${d} = Number($feature["${p}"]);`)):(K.push(`function getValueForExpr${d}() {\n  ${p} \n}`),ba.push(`var ${g}${d} = Number(getValueForExpr${d}());`));
F||na.push(`${g}${d} = IIf(${g}${d} < 0, 0, ${g}${d});`);da.push(`${g}${d}`)});c=K.length?null:Q.reduce((b,d)=>`${b} + ${d}`);let X=null;x||F?x?F||c&&(X=`(( ${c} ) >= 0)`):c&&(X=`(( ${c} ) <> 0)`):c&&(X=`(( ${c} ) > 0)`);return{valueExpression:[K.length?K.join("\n"):"",ba.join("\n"),na.join("\n"),`var total = ${da.join(" + ")};`,"return total;"].filter(Boolean).join("\n\n"),sqlExpression:c,sqlWhere:X}};f.mergeWhereClauses=I;f.quantizeFeatures=function(c,x,F,K){const ba=B.isWrappable(F)?B.getInfo(F):
null,na=ba?Math.round((ba.valid[1]-ba.valid[0])/x.scale[0]):null;return c.map(da=>{const Q=new l(da.geometry);h.quantizePoint(x,Q,Q);if(ba){var X=na??0,b=K[0];0>Q.x?Q.x+=X:Q.x>b&&(Q.x-=X)}da.geometry=Q;return da})};f.timeOnlyToMilliseconds=C;f.verifyBasicFieldValidity=function(c,x,F){const K=P({layer:c,fields:x});if(K.length)return new r(F,"Unknown fields: "+K.join(", ")+". You can only use fields defined in the layer schema");c=y({layer:c,fields:x});if(c.length)return new r(F,"Unsupported fields: "+
c.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true")};f.verifyFieldType=function(c,x,F,K){let ba;x?x.name!==c.objectIdField&&K.includes(x.type)||(ba=new r(F,"'field' should be one of these types: "+K.join(","))):ba=new r(F,"'field' is not defined in the layer schema");return ba};f.verifyFilterValidity=function(c,x){if(c&&"intersects"!==c.spatialRelationship)return new r(x,"Only 'intersects' spatialRelationship is supported for featureFilter")};
f.verifyNumericField=function(c,x,F){let K;x?x.name!==c.objectIdField&&w.isNumericField(x)||(K=new r(F,"'field' should be one of these numeric types: "+w.numericTypes.join(","))):K=new r(F,"'field' is not defined in the layer schema");return K};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],function(f){function k(n){return n?72*n/96:0}function r(n=0,E=0){return{x:n,y:E}}const m=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;f.castRenderScreenPointArray=
function(n){return n};f.castRenderScreenPointArray3=function(n){return n};f.castScreenPointArray=function(n){return n};f.cloneScreenPoint=function(n){return n?r(n.x,n.y):null};f.createRenderScreenPoint=function(n=0,E=0){return{x:n,y:E}};f.createRenderScreenPointArray=function(n=0,E=0){return[n,E]};f.createRenderScreenPointArray3=function(n=0,E=0,h=0){return[n,E,h]};f.createScreenPoint=r;f.createScreenPointArray=function(n=0,E=0){return[n,E]};f.pt2px=function(n){return n?n/72*96:0};f.px2pt=k;f.screenPointArrayToObject=
function(n,E){return E?(E.x=n[0],E.y=n[1],E):{x:n[0],y:n[1]}};f.screenPointObjectToArray=function(n,E){return E?(E[0]=n.x,E[1]=n.y,2<E.length&&(E[2]=0),E):[n.x,n.y]};f.toPt=function(n){if("string"===typeof n){var E=n.match(m);if(E){var h=Number(E[1]);E=E[3]&&E[3].toLowerCase();n="-"===n.charAt(0);h="px"===E?k(h):h;return n?-h:h}console.warn("screenUtils.toPt: input not recognized!");return null}return n};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/timeUtils":function(){define(["exports",
"../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(f,k,r,m){function n(B,w,A){return 0===B?0:B*h[w]/h[A]}function E(B){switch(B){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";case "months":return"month";case "years":return"year"}}const h={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,
centuries:31536E8};f.convertTime=n;f.isValidDate=function(B){return B instanceof Date&&!isNaN(B.getTime())};f.makeUTCTime=function(B,w,A="milliseconds"){w=new Date(n(w,A,"milliseconds"));w.setUTCFullYear(B.getUTCFullYear(),B.getUTCMonth(),B.getUTCDate());return w};f.mergeTimeExtents=function(B,w){return B&&w?B.intersection(w):B||w};f.millisecondsPerTimeUnit=h;f.offsetDate=function(B,w,A,u=r.system){u=new m.IANAZone(k.resolveTimeZone(u));B=m.DateTime.fromJSDate(B,{zone:u});u="decades"===A||"centuries"===
A?"year":E(A);"decades"===A&&(w*=10);"centuries"===A&&(w*=100);return B.plus({[u]:w}).toJSDate()};f.offsetDateUTC=function(B,w,A="milliseconds"){B=B.getTime();w=n(w,A,"milliseconds");return new Date(B+w)};f.resetUTCDate=function(B,w){B=new Date(B.getTime());B.setUTCFullYear(w.getFullYear(),w.getMonth(),w.getDate());return B};f.timeSinceUTCMidnight=function(B,w="milliseconds"){const A=n(B.getUTCHours(),"hours","milliseconds"),u=n(B.getUTCMinutes(),"minutes","milliseconds"),z=n(B.getUTCSeconds(),"seconds",
"milliseconds");B=B.getUTCMilliseconds();return n(A+u+z+B,"milliseconds",w)};f.truncateDate=function(B,w,A=r.system){A=new m.IANAZone(k.resolveTimeZone(A));B=m.DateTime.fromJSDate(B,{zone:A});if("decades"===w||"centuries"===w)return B=B.startOf("year"),{year:A}=B,B.set({year:A-A%("decades"===w?10:100)}).toJSDate();w=E(w);return B.startOf(w).toJSDate()};f.truncateLocalTime=function(B){const w=new Date(0);w.setHours(0);w.setMinutes(0);w.setSeconds(0);w.setMilliseconds(0);w.setFullYear(B.getUTCFullYear(),
B.getUTCMonth(),B.getUTCDate());return w};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(f,k){function r(b){if("lowerLeft"===b.originPosition&&4===b.scale.length&&4===b.translate.length)return b;const {originPosition:d,scale:g,translate:p}=b;b=g[1]??1;return{originPosition:"lowerLeft",scale:[g[0]??1,"lowerLeft"===d?b:-b,g[2]??1,g[3]??1],translate:[p[0]??0,p[1]??0,p[2]??0,p[3]??0]}}function m({scale:b,
translate:d},g){return Math.round((g-d[0])/b[0])}function n({scale:b,translate:d},g){return Math.round((g-d[1])/b[1])}function E({scale:b,translate:d},g){return Math.round(((g??0)-d[2])/b[2])}function h({scale:b,translate:d},g){return g?Math.round((g-d[3])/b[3]):0}function B(b,d){return b&&d?ba:b&&!d?F:!b&&d?K:x}function w({scale:b,translate:d},g){return g*b[0]+d[0]}function A({scale:b,translate:d},g){return g*b[1]+d[1]}function u({scale:b,translate:d},g){return(g??0)*b[2]+d[2]}function z({scale:b,
translate:d},g){return g?g*b[3]+d[3]:0}function t(b,d){return b&&d?X:b&&!d?da:!b&&d?Q:na}function l(b,d,g){const p=Array(g.length);for(let D=0;D<g.length;D++)p[D]=d(b,g[D]);return p}function C(b,d,g){let [p,D]=g[0],M=Math.min(p,d[0]),R=Math.min(D,d[1]),W=Math.max(p,d[2]);d=Math.max(D,d[3]);for(let Y=1;Y<g.length;Y++){const [Z,ja]=g[Y];p+=Z;D+=ja;0>Z&&(M=Math.min(M,p));0<Z&&(W=Math.max(W,p));0>ja?R=Math.min(R,D):0<ja&&(d=Math.max(d,D))}b[0]=M;b[1]=R;b[2]=W;b[3]=d;return b}function I(b,d){if(!d.length)return null;
b[0]=b[1]=Number.POSITIVE_INFINITY;b[2]=b[3]=Number.NEGATIVE_INFINITY;for(let g=0;g<d.length;g++)C(b,b,d[g]);return b}function P(b,d,g){b=r(b);d.xmin=m(b,g.xmin);d.ymin=n(b,g.ymin);d.xmax=m(b,g.xmax);d.ymax=n(b,g.ymax);g.hasZ&&(d.zmin=E(b,g.zmin),d.zmax=E(b,g.zmax));g.hasM&&(d.mmin=h(b,g.mmin),d.mmax=h(b,g.mmax));d.hasZ=g.hasZ??!1;d.hasM=g.hasM??!1;return d}function y(b,d,g){b=r(b);d.points=B(g.hasZ,g.hasM)(b,g.points)??[];d.hasZ=g.hasZ??!1;d.hasM=g.hasM??!1;return d}function H(b,d,g){b=r(b);d.x=
m(b,g.x);d.y=n(b,g.y);null!=g.z&&(d.z=E(b,g.z));null!=g.m&&(d.m=h(b,g.m));return d}function U(b,d,g){{b=r(b);var p=g.rings;const D=[],M=B(g.hasZ,g.hasM);for(let R=0;R<p.length;R++){const W=M(b,p[R]);W&&3<=W.length&&D.push(W)}b=D.length?D:null}if(!b)return null;d.rings=b;d.hasZ=g.hasZ??!1;d.hasM=g.hasM??!1;return d}function c(b,d,g){{b=r(b);var p=g.paths;const D=[],M=B(g.hasZ,g.hasM);for(let R=0;R<p.length;R++){const W=M(b,p[R]);W&&2<=W.length&&D.push(W)}b=D.length?D:null}if(!b)return null;d.paths=
b;d.hasZ=g.hasZ??!1;d.hasM=g.hasM??!1;return d}const x=(b,d)=>{const g=[];if(!d.length)return null;var p=d[0];let D=m(b,p[0]);p=n(b,p[1]);g.push([D,p]);for(let M=1;M<d.length;M++){const [R,W]=d[M],Y=m(b,R),Z=n(b,W);Y===D&&Z===p||g.push([Y-D,Z-p]);D=Y;p=Z}return g},F=(b,d)=>{const g=[];if(!d.length)return null;var p=d[0];let D=m(b,p[0]),M=n(b,p[1]);p=E(b,p[2]);g.push([D,M,p]);for(let R=1;R<d.length;R++){const [W,Y,Z]=d[R],ja=m(b,W),ha=n(b,Y),ka=E(b,Z);ja===D&&ha===M&&ka===p||g.push([ja-D,ha-M,ka]);
D=ja;M=ha;p=ka}return g},K=(b,d)=>{const g=[];if(!d.length)return null;var p=d[0];let D=m(b,p[0]),M=n(b,p[1]);p=h(b,p[2]);g.push([D,M,p]);for(let R=1;R<d.length;R++){const [W,Y,Z]=d[R],ja=m(b,W),ha=n(b,Y),ka=h(b,Z);ja===D&&ha===M&&ka===p||g.push([ja-D,ha-M,ka]);D=ja;M=ha;p=ka}return g},ba=(b,d)=>{const g=[];if(!d.length)return null;var p=d[0];let D=m(b,p[0]),M=n(b,p[1]),R=E(b,p[2]);p=h(b,p[3]);g.push([D,M,R,p]);for(let W=1;W<d.length;W++){const [Y,Z,ja,ha]=d[W],ka=m(b,Y),ma=n(b,Z),ta=E(b,ja),Ca=h(b,
ha);ka===D&&ma===M&&ta===R&&Ca===p||g.push([ka-D,ma-M,ta,Ca]);D=ka;M=ma;R=ta;p=Ca}return g},na=(b,d)=>{const g=Array(d.length);if(!d.length)return g;var p=d[0];let D=w(b,p[0]);p=A(b,p[1]);g[0]=[D,p];const {scale:M,originPosition:R}=b;b=M[0];const W="lowerLeft"===R?M[1]:-M[1];for(let Y=1;Y<d.length;Y++){const [Z,ja]=d[Y];D+=b*Z;p+=W*ja;g[Y]=[D,p]}return g},da=(b,d)=>{const g=Array(d.length);if(!d.length)return g;var p=d[0];let D=w(b,p[0]),M=A(b,p[1]);g[0]=[D,M,u(b,p[2])];const {scale:R,originPosition:W}=
b;p=R[0];const Y="lowerLeft"===W?R[1]:-R[1];for(let Z=1;Z<d.length;Z++){const [ja,ha,ka]=d[Z];D+=p*ja;M+=Y*ha;g[Z]=[D,M,u(b,ka)]}return g},Q=(b,d)=>{const g=Array(d.length);if(!d.length)return g;var p=d[0];let D=w(b,p[0]),M=A(b,p[1]);g[0]=[D,M,z(b,p[2])];const {scale:R,originPosition:W}=b;p=R[0];const Y="lowerLeft"===W?R[1]:-R[1];for(let Z=1;Z<d.length;Z++){const [ja,ha,ka]=d[Z];D+=p*ja;M+=Y*ha;g[Z]=[D,M,z(b,ka)]}return g},X=(b,d)=>{const g=Array(d.length);if(!d.length)return g;var p=d[0];let D=w(b,
p[0]),M=A(b,p[1]);g[0]=[D,M,u(b,p[2]),z(b,p[3])];const {scale:R,originPosition:W}=b;p=R[0];const Y="lowerLeft"===W?R[1]:-R[1];for(let Z=1;Z<d.length;Z++){const [ja,ha,ka,ma]=d[Z];D+=p*ja;M+=Y*ha;g[Z]=[D,M,u(b,ka),z(b,ma)]}return g};f.getQuantizedBoundsCoordsArray=C;f.getQuantizedBoundsCoordsArrayArray=I;f.getQuantizedBoundsPaths=function(b){return I([0,0,0,0],b)};f.getQuantizedBoundsPoints=function(b){const d=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];
return C(d,d,b)};f.getQuantizedBoundsRings=function(b){return I([0,0,0,0],b)};f.normalizeTransform=r;f.quantizeBounds=function(b,d,g){b=r(b);d[0]=m(b,g[0]);d[3]=n(b,g[1]);d[2]=m(b,g[2]);d[1]=n(b,g[3]);return d};f.quantizeCoordsArrayXY=x;f.quantizeCoordsArrayXYM=K;f.quantizeCoordsArrayXYZ=F;f.quantizeCoordsArrayXYZM=ba;f.quantizeExtent=P;f.quantizeGeometry=function(b,d){return b&&d?k.isPoint(d)?H(b,{},d):k.isPolyline(d)?c(b,{},d):k.isPolygon(d)?U(b,{},d):k.isMultipoint(d)?y(b,{},d):k.isExtent(d)?P(b,
{},d):null:null};f.quantizeM=h;f.quantizeMultipoint=y;f.quantizePoint=H;f.quantizePolygon=U;f.quantizePolyline=c;f.quantizeX=m;f.quantizeY=n;f.quantizeZ=E;f.toQuantizationTransform=function(b){return b?{originPosition:"upper-left"===b.originPosition?"upperLeft":"lower-left"===b.originPosition?"lowerLeft":b.originPosition,scale:b.tolerance?[b.tolerance,b.tolerance,1,1]:[1,1,1,1],translate:null!=b.extent?[b.extent.xmin,b.extent.ymax,b.extent.zmin??0,b.extent.mmin??0]:[0,0,0,0]}:null};f.unquantizeBounds=
function(b,d,g){b=r(b);return g?(d[0]=w(b,g[0]),d[1]=A(b,g[3]),d[2]=w(b,g[2]),d[3]=A(b,g[1]),d):[w(b,d[0]),A(b,d[3]),w(b,d[2]),A(b,d[1])]};f.unquantizeCoordsArrayArray=l;f.unquantizeCoordsArrayXY=na;f.unquantizeCoordsArrayXYM=Q;f.unquantizeCoordsArrayXYZ=da;f.unquantizeCoordsArrayXYZM=X;f.unquantizeExtent=function(b,d,g,p=g.hasZ??!1,D=g.hasM??!1){b=r(b);d.xmin=w(b,g.xmin);d.xmax=w(b,g.xmax);d.ymin=A(b,g.ymin);d.ymax=A(b,g.ymax);p&&(d.zmin=u(b,g.zmin),d.zmax=u(b,g.zmax));D&&(d.mmin=z(b,g.mmin),d.mmax=
z(b,g.mmax));d.hasZ=p;d.hasM=D;return d};f.unquantizeM=z;f.unquantizeMultipoint=function(b,d,g,p=g?.hasZ??!1,D=g?.hasM??!1){null!=g&&(b=r(b),d.points=t(p,D)(b,g.points),d.hasZ=p,d.hasM=D);return d};f.unquantizePoint=function(b,d,g,p=null!=g?.z,D=null!=g?.m){if(null==g)return d;b=r(b);d.x=w(b,g.x);d.y=A(b,g.y);p&&(d.z=u(b,g.z));D&&(d.m=z(b,g.m));return d};f.unquantizePolygon=function(b,d,g,p=g?.hasZ??!1,D=g?.hasM??!1){null!=g&&(b=r(b),d.rings=l(b,t(p,D),g.rings),d.hasZ=p,d.hasM=D);return d};f.unquantizePolyline=
function(b,d,g,p=g?.hasZ??!1,D=g?.hasM??!1){null!=g&&(b=r(b),d.paths=l(b,t(p,D),g.paths),d.hasZ=p,d.hasM=D);return d};f.unquantizeX=w;f.unquantizeY=A;f.unquantizeZ=u;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec42","../../core/libs/gl-matrix-2/factories/vec4f64"],function(f,k,r,m,n){function E(h,B,w,A){let {color:u,ratio:z}=B,{color:t,ratio:l}=w;l===
z&&(1===l?z-=1E-6:l+=1E-6);B=k.clamp((A-z)/(l-z),0,1);m.lerp(h,u.toArray(),t.toArray(),B)}f.createValueFunction=function(h){return"function"===typeof h?h:h?B=>+B[h]:()=>1};f.evaluateDensityKernel=function(h,B,w){h=Math.sqrt(h**2+B**2)/w;return 1<h?0:3/(Math.PI*w**2)*(1-h**2)**2};f.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(h){return r.px2pt(2.4*h)};f.generateGradient=function(h){const B=new Uint8ClampedArray(2048);h=h.filter(({ratio:t})=>0<=t&&1>=t).sort((t,l)=>t.ratio-l.ratio).map(({color:t,
ratio:l})=>({color:t,ratio:Math.max(l,.001)}));if(1>h.length)return B;let w=h[0],A=h[0],u=1;const z=n.create();for(let t=0;512>t;t++){const l=(t+.5)/512;for(;l>A.ratio&&u<h.length;)w=A,A=h[u++];E(z,w,A,l);B.set(z,4*t)}return B};f.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(h){return r.pt2px(h)/2.4};f.magicKernelDensityRadiusInflationFactor=2.4;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/smartMapping/support/utils":function(){define("exports ../../intl/date ../../layers/support/fieldUtils ../../support/arcadeOnDemand ../../support/basemapUtils ../../time/timeZoneUtils".split(" "),
function(f,k,r,m,n,E){function h(l){return String(l).padStart(2,"0")}function B(l,C,I){if("date"===C||"number"===C){"number"===C&&(l=new Date(l));C=I?l.getFullYear():l.getUTCFullYear();const P=h((I?l.getMonth():l.getUTCMonth())+1),y=h(I?l.getDate():l.getUTCDate()),H=h(I?l.getHours():l.getUTCHours()),U=h(I?l.getMinutes():l.getUTCMinutes());l=h(I?l.getSeconds():l.getUTCSeconds());l=`TIMESTAMP'${C}-${P}-${y} ${H}:${U}:${l}'`}return l}function w(l,C){if(C instanceof Date)return"date";if("number"===typeof C)return"number";
if("string"===typeof C&&(l=l.getField(C),"\x3cnow\x3e"!==C.toLowerCase()&&r.isDateField(l)))return"field"}const A={light:"streets gray topo terrain oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector topo-3d navigation-3d streets-3d osm-3d gray-3d arcgis-light-gray arcgis-navigation arcgis-streets arcgis-streets-relief arcgis-topographic arcgis-oceans osm-standard osm-standard-relief osm-streets osm-streets-relief osm-light-gray arcgis-terrain arcgis-charted-territory arcgis-community arcgis-colored-pencil arcgis-modern-antique arcgis-midcentury arcgis-newspaper arcgis-hillshade-light".split(" "),
dark:"satellite hybrid dark-gray dark-gray-vector streets-night-vector navigation-dark-3d streets-dark-3d dark-gray-3d arcgis-imagery arcgis-imagery-standard arcgis-dark-gray arcgis-navigation-night arcgis-streets-night osm-dark-gray arcgis-nova arcgis-hillshade-dark".split(" ")},u={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864E5},z=new Set(["integer","small-integer"]);let t=null;f.castIntegerFieldToFloat=function(l){return`cast(${l} as float)`};f.dateTypes=
["date","date-only","timestamp-offset"];f.defaultBasemapGroups=A;f.defaultStatisticTypes={exclude:["median"]};f.fieldDelimiter=",";f.formatAnyDate=function(l,C){const {format:I,timeZoneOptions:P,fieldType:y}=C??{};let H;P&&({timeZone:U,timeZoneName:H}=E.getTimeZoneFormattingOptions(P.layerTimeZone,P.datesInUnknownTimezone,P.viewTimeZone,k.convertDateFormatToIntlOptions(I||"short-date-short-time"),y));if("string"===typeof l&&isNaN(Date.parse("time-only"===y?`1970-01-01T${l}Z`:l)))return l;switch(y){case "date-only":var U=
k.convertDateFormatToIntlOptions(I||"short-date");return"string"===typeof l?k.formatDateOnly(l,{...U}):k.formatDate(l,{...U,timeZone:E.utc});case "time-only":return U=k.convertDateFormatToIntlOptions(I||"short-time"),"string"===typeof l?k.formatTimeOnly(l,U):k.formatDate(l,{...U,timeZone:E.utc});case "timestamp-offset":if(!U&&"string"===typeof l&&(new Date(l)).toISOString()!==l)return l;U=(C=I||P?k.convertDateFormatToIntlOptions(I||"short-date-short-time"):void 0)?{...C,timeZone:U,timeZoneName:H}:
void 0;return"string"===typeof l?k.formatTimestamp(l,U):k.formatDate(l,U);default:return C=I||P?k.convertDateFormatToIntlOptions(I||"short-date-short-time"):void 0,k.formatDate("string"===typeof l?new Date(l):l,C?{...C,timeZone:U,timeZoneName:H}:void 0)}};f.getBasemapGroup=function(l,C=A){for(const I in C)if(C[I].includes(l))return I};f.getBasemapId=function(l,C,I=!0){let P=null;l&&("string"===typeof l?C.includes(l)&&(P=l):P=n.getWellKnownBasemapId(l));return I?P||"gray":P};f.getDateDiffSQL=function(l,
C,I,P){const {hasQueryEngine:y}=l;I=B(I,w(l,I),y);l=B(C,w(l,C),y);l=`(${I} - ${l})`;P=u[P];C="/";1>P&&(P=1/P,C="*");return{sqlExpression:1===P?l:`(${l} ${C} ${P})`,sqlWhere:null}};f.getDateType=w;f.getFieldsList=async function(l){const {field:C,field2:I,field3:P,normalizationField:y,valueExpression:H}=l;l=[];H&&(t||({arcadeUtils:l}=await m.loadArcade(),t=l),l=t.extractFieldNames(H));C&&l.push(C);I&&l.push(I);P&&l.push(P);y&&l.push(y);return l};f.getNormalizationType=function(l){let C=l.normalizationType;
C||(l.normalizationField?C="field":null!=l.normalizationTotal&&(C="percent-of-total"));return C??void 0};f.isAnyDateField=function(l){return r.isDateField(l)||r.isDateOnlyField(l)||r.isTimestampOffsetField(l)};f.isIntegerField=function(l,C){l=C&&l.getField(C);return!!l&&z.has(l.type)};f.unitValueInDays=u;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ../layers/effects/utils ./basemapDefinitions".split(" "),
function(f,k,r,m,n,E,h,B,w,A){function u(b,d){let g;if("string"===typeof b){const p=b in A.esriBasemapDefinitions,D=!p&&b.includes("/");if(!p&&!D)return r.apiKey?da().warn(`Unable to find basemap definition for: ${b}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`):(d=Object.entries(A.esriBasemapDefinitions).filter(([,M])=>M.classic||M.is3d).map(([M])=>`"${M}"`).sort().join(", "),da().warn(`Unable to find basemap definition for: ${b}. Try one of these: ${d}`)),null;d&&
(g=d[b]);g||(g=p?k.fromId(b):new k({style:{id:b}}),d&&(d[b]=g))}else g=B.ensureType(k,b);g?.destroyed&&(da().warn("The provided basemap is already destroyed",{basemap:g}),g=null);return g}function z(b){if(Q)return Q(b);let d=null;b=I(b);const g=!b?.baseLayers.length;for(const D in A.esriBasemapDefinitions){var p=U(A.esriBasemapDefinitions[D]);p=x(b,p,{mustMatchReferences:g});if("equal"===p){d=D;break}"base-layers-equal"===p&&(d=D)}return d}function t(b,d){const g=new m;b.forEach(p=>{const D=d.find(M=>
"scene"!==M.type&&K(y(p),y(M)))||p;g.includes(D)?g.push(p):g.push(D)});return g}function l(b){if(C(b.url))return!0;if("vector-tile"===b.type)for(const d in b.sourceNameToSource)if(C(b.sourceNameToSource[d]?.sourceUrl))return!0;return!1}function C(b){if(!b)return!1;b=new h.Url(h.makeAbsolute(b));return!!b.authority&&X.test(b.authority)}function I(b){return b?!b.loaded&&b.resourceInfo?U(b.resourceInfo.data):{baseLayers:P(b.baseLayers),referenceLayers:P(b.referenceLayers)}:null}function P(b){return(m.isCollection(b)?
b.toArray():b).map(y)}function y(b){return{type:b.type,effect:"effect"in b?b.effect:void 0,url:ba("urlTemplate"in b&&b.urlTemplate||b.url||"styleUrl"in b&&b.styleUrl||""),minScale:"minScale"in b&&null!=b.minScale?b.minScale:0,maxScale:"maxScale"in b&&null!=b.maxScale?b.maxScale:0,opacity:null!=b.opacity?b.opacity:1,visible:null!=b.visible?!!b.visible:!0,sublayers:"map-image"!==b.type&&"wms"!==b.type||null==b.sublayers?void 0:b.sublayers?.map(d=>({id:d.id,visible:d.visible})),activeLayerId:"wmts"===
b.type?b.activeLayer?.id:void 0}}function H(b){return b.isReference||"ArcGISSceneServiceLayer"===b.layerType}function U(b){return b?{baseLayers:c((b.baseMapLayers??[]).filter(d=>!H(d))),referenceLayers:c((b.baseMapLayers??[]).filter(d=>H(d)))}:null}function c(b){return b.map(d=>{let g;switch(d.layerType){case "VectorTileLayer":g="vector-tile";break;case "ArcGISTiledMapServiceLayer":g="tile";break;case "ArcGISSceneServiceLayer":g="scene";break;default:g="unknown"}return{type:g,effect:d.effect,url:ba(d.templateUrl||
d.urlTemplate||d.styleUrl||d.url),minScale:d.minScale??0,maxScale:d.maxScale??0,opacity:d.opacity??1,visible:null!=d.visibility?!!d.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function x(b,d,g){return null!=b!==(null!=d)?"not-equal":b&&d?F(b.baseLayers,d.baseLayers)?F(b.referenceLayers,d.referenceLayers)?"equal":g.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function F(b,d){if(b.length!==d.length)return!1;for(let g=0;g<b.length;g++)if(!K(b[g],d[g]))return!1;return!0}
function K(b,d){if(b.type!==d.type||b.url!==d.url||b.minScale!==d.minScale||b.maxScale!==d.maxScale||b.visible!==d.visible||b.opacity!==d.opacity||!w.effectEquals(b.effect,d.effect))return!1;if(null!=b.activeLayerId||null!=d.activeLayerId)return b.activeLayerId===d.activeLayerId;if(null!=b.sublayers||null!=d.sublayers){if(null==b.sublayers||null==d.sublayers||b.sublayers.length!==d.sublayers.length)return!1;for(let g=0;g<b.sublayers.length;g++){const p=b.sublayers.at(g),D=d.sublayers.at(g);if(p?.id!==
D?.id||p?.visible!==D?.visible)return!1}}return!0}function ba(b){return b?h.normalize(b).replace(/^\s*https?:/i,"").toLowerCase():""}function na(b){return"portalItem"in b?b.portalItem?.thumbnailUrl:void 0}const da=()=>n.getLogger("esri.support.basemapUtils");let Q;const X=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;f.clonePreservingTiledLayers=function(b,d=null){b=u(b);if(!b)return null;b=b.clone();d&&(b.baseLayers=t(b.baseLayers,d.baseLayers),b.referenceLayers=t(b.referenceLayers,d.referenceLayers));
return b};f.contentEquals=function(b,d){if(b===d||null!=b?.portalItem?.id&&b.portalItem.id===d?.portalItem?.id)return!0;b=I(b);d=I(d);return"equal"===x(b,d,{mustMatchReferences:!0})};f.createCache=function(){return{}};f.destroyCache=function(b){for(const d in b)E.destroyMaybe(b[d]),delete b[d]};f.ensureType=u;f.findSpatialReference=function(b,d){if(null==d||null==b)return{spatialReference:null,updating:!1};if("not-loaded"===d.loadStatus)return d.load(),{spatialReference:null,updating:!0};if(d.spatialReference)return{spatialReference:d.spatialReference,
updating:!1};if(0===d.baseLayers.length)return{spatialReference:null,updating:!1};d=d.baseLayers.at(0);switch(d.loadStatus){case "not-loaded":d.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}d=(("supportedSpatialReferences"in d?d.supportedSpatialReferences:null)||["tileInfo"in d?d.tileInfo?.spatialReference:d.spatialReference]).filter(Boolean);const g=b.spatialReference;return g?{spatialReference:d.find(p=>g.equals(p))??d[0]??
null,updating:!1}:{spatialReference:d[0],updating:!1}};f.getBasemapThumbnailUrl=function(b){if(!b)return null;var {thumbnailUrl:d}=b;return d?d:(d=z(b))?A.esriBasemapDefinitions[d].thumbnailUrl:E.mappedFind(b.baseLayers,na)};f.getWellKnownBasemapId=z;f.hasDeveloperBasemapLayer=function(b){return!!b?.baseLayers.concat(b.referenceLayers).some(l)};f.isBasemap3D=function(b){return"Web Scene"===b.portalItem?.type||b.referenceLayers.some(d=>"scene"===d.type)};f.isBasemapInBeta=function(b){return!!b?.portalItem?.tags?.some(d=>
"beta"===d.toLowerCase())};f.isBasemapLayer=function(b,d){return b.basemap?.referenceLayers?.some(g=>g.uid===d)||b.basemap?.baseLayers?.some(g=>g.uid===d)};f.isDeveloperBasemapLayer=l;f.overrideGetWellKnownBasemapId=function(b){Q=b};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/Basemap":function(){define("require ./chunks/tslib.es6 ./request ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./support/BasemapStyle ./webdoc/support/writeUtils".split(" "),
function(f,k,r,m,n,E,h,B,w,A,u,z,t,l,C,I,P,y,H,U,c,x,F){var K;let ba=0;E=K=class extends E.JSONSupportMixin(B){constructor(Q){super(Q);this.thumbnailUrl=this.style=this.spatialReference=this.portalItem=this.id=null;this.title="Basemap";this.id=Date.now().toString(16)+"-basemap-"+ba++;this.baseLayers=new m;this.referenceLayers=new m;const X=b=>{b.parent&&b.parent!==this&&"remove"in b.parent&&b.parent.remove(b);b.parent=this;"elevation"===b.type&&A.getLogger(this).error(`Layer '${b.title}, id:${b.id}' of type '${b.type}' is not supported as a basemap layer and will therefore be ignored.`)};
this.addHandles([this.baseLayers.on("after-add",b=>X(b.item)),this.referenceLayers.on("after-add",b=>X(b.item)),this.baseLayers.on("after-remove",b=>{b.item.parent=null}),this.referenceLayers.on("after-remove",b=>{b.item.parent=null})])}initialize(){this.when().catch(Q=>{A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,Q)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var Q=this.baseLayers.toArray();for(const X of Q)X.destroy();
Q=this.referenceLayers.toArray();for(const X of Q)X.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem=u.destroyMaybe(this.portalItem)}normalizeCtorArgs(Q){Q&&"resourceInfo"in Q&&(this._set("resourceInfo",Q.resourceInfo),Q={...Q},delete Q.resourceInfo);return Q}set baseLayers(Q){this._set("baseLayers",n.referenceSetter(Q,this._get("baseLayers")))}_writeBaseLayers(Q,X,b){const d=[];Q&&(b={...b,layerContainerType:"basemap"},this.baseLayers.forEach(g=>{g=F.getLayerJSON(g,
b.webmap?b.webmap.getLayerJSONFromResourceInfo(g):null,b);null!=g&&d.push(g)}),this.referenceLayers.forEach(g=>{const p=F.getLayerJSON(g,b.webmap?b.webmap.getLayerJSONFromResourceInfo(g):null,b);null!=p&&("scene"!==g.type&&(p.isReference=!0),d.push(p))}));X.baseMapLayers=d}set referenceLayers(Q){this._set("referenceLayers",n.referenceSetter(Q,this._get("referenceLayers")))}writeTitle(Q,X){X.title=Q||"Basemap"}load(Q){this.addResolvingPromise(this._loadFromSource(Q));return Promise.resolve(this)}loadAll(){return w.loadAll(this,
Q=>{Q(this.baseLayers,this.referenceLayers)})}clone(){const Q={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(X=>h.isClonable(X)?X.clone():X),referenceLayers:this.referenceLayers.map(X=>h.isClonable(X)?X.clone():X)};this.loaded&&(Q.loadStatus="loaded");return(new K({resourceInfo:this.resourceInfo})).set(Q)}read(Q,X){this.resourceInfo||this._set("resourceInfo",{data:Q,context:X});super.read(Q,X)}write(Q,X){Q=Q||{};X?.origin||(X={origin:"web-map",...X});super.write(Q,
X);!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(Q.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(b=>{b=h.clone(b);b.url&&t.isProtocolRelative(b.url)&&(b.url=`https:${b.url}`);b.templateUrl&&t.isProtocolRelative(b.templateUrl)&&(b.templateUrl=`https:${b.templateUrl}`);return b}));return Q}async _loadFromSource(Q){const {resourceInfo:X,portalItem:b,style:d}=this;z.throwIfAborted(Q);const g=[];X?(g.push(this._loadLayersFromJSON(X.data,X.context?X.context.url:null,Q)),X.data.id&&!X.data.title&&
g.push(c.getBasemapTitle(X.data.id).then(p=>{p&&this.read({title:p},X.context)}))):b?g.push(this._loadFromItem(b,Q)):d&&g.push(this._loadFromStylesService(d,Q));await Promise.all(g)}async _loadLayersFromJSON(Q,X,b){const d=this.resourceInfo?.context,g=this.portalItem?.portal||d?.portal||null,p=da[d?.origin||""]??"web-map",{populateOperationalLayers:D}=await new Promise((R,W)=>f(["./layers/support/layersCreator"],R,W)),M=[];z.throwIfAborted(b);if(Q.baseMapLayers&&Array.isArray(Q.baseMapLayers)){X=
{context:{...d,origin:p,url:X,portal:g,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const R=W=>"web-scene"===p&&"ArcGISSceneServiceLayer"===W.layerType||W.isReference;b=D(this.baseLayers,Q.baseMapLayers.filter(W=>!R(W)),X);M.push(b);Q=D(this.referenceLayers,Q.baseMapLayers.filter(R),X);M.push(Q)}await Promise.allSettled(M)}async _loadFromItem(Q,X){const b=await (await Q.load(X)).fetchData("json",X),d=t.urlToObject(Q.itemUrl??"");this._set("resourceInfo",{data:b.baseMap??{},context:{origin:na[Q.type||
""]??"web-map",portal:Q.portal||H.getDefault(),url:d}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:b.spatialReference},this.resourceInfo.context);this.read({title:Q.title,thumbnailUrl:Q.thumbnailUrl},{origin:"portal-item",portal:Q.portal||H.getDefault(),url:d});return this._loadLayersFromJSON(this.resourceInfo.data,d,X)}async _loadFromStylesService(Q,X){var b=`${Q.serviceUrl}/${Q.id}`;const d=(await r(b,{query:{language:Q.getLanguageParamValue(),places:Q.places,
worldview:Q.worldview,token:Q.apiKey},signal:X?.signal})).data;b=t.urlToObject(b);this._set("resourceInfo",{data:d.baseMap??{},context:{origin:"web-map",url:b}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:d.spatialReference},this.resourceInfo.context);await this._loadLayersFromJSON(this.resourceInfo.data,b,X);if(Q.apiKey)for(const g of[...this.baseLayers,...this.referenceLayers])"apiKey"in g&&(g.apiKey=Q.apiKey)}static fromId(Q){return(Q=c.esriBasemapDefinitions[Q])?
Q.itemId?new K({portalItem:{id:Q.itemId,portal:{url:"https://www.arcgis.com"}}}):K.fromJSON(Q,{origin:Q.is3d?"web-scene":"web-map"}):null}};k.__decorate([l.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(Q,X,b,d){this._writeBaseLayers(Q,X,d)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:m}},writer(Q,X,b,d){this._writeBaseLayers(Q,X,d)}}}}}})],E.prototype,"baseLayers",null);k.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],
E.prototype,"id",void 0);k.__decorate([l.property({type:U})],E.prototype,"portalItem",void 0);k.__decorate([l.property()],E.prototype,"referenceLayers",null);k.__decorate([l.property({readOnly:!0})],E.prototype,"resourceInfo",void 0);k.__decorate([l.property({type:y})],E.prototype,"spatialReference",void 0);k.__decorate([l.property({type:x})],E.prototype,"style",void 0);k.__decorate([l.property()],E.prototype,"thumbnailUrl",void 0);k.__decorate([l.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],
E.prototype,"title",void 0);k.__decorate([P.writer("title")],E.prototype,"writeTitle",null);E=K=k.__decorate([I.subclass("esri.Basemap")],E);const na={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},da={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};return E})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(f,k){f.castForReferenceSetter=function(r){return r};f.referenceSetter=function(r,m,n=k){m||=new n;if(m===r)return m;
m.removeAll();r&&(Array.isArray(r)||"items"in r&&Array.isArray(r.items))?m.addMany(r):r&&m.add(r);return m};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(f,k,r,m,n,E,h,B){const w=A=>{A=class extends A{constructor(...u){super(...u);this.loadError=this._loadController=null;this.loadStatus=
"not-loaded";this._set("loadWarnings",[]);this.addResolvingPromise(new Promise(z=>{const t=this.load.bind(this);this.load=l=>{const C=new Promise((I,P)=>{const y=n.onAbortOrThrow(l,P);this.destroyed&&P(new k("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this}));this.when(I,P).finally(()=>{y&&y.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const I=this._loadController=new AbortController;t({signal:I.signal})}z();
return C}}));this.when(()=>{this._set("loadStatus","loaded");this._loadController=null},z=>{this._set("loadStatus","failed");this._set("loadError",z);this._loadController=null})}destroy(){this._loadController&&(this._loadController=r.abortMaybe(this._loadController),this._promiseProps.abort());this._set("loadError",null);this._set("loadWarnings",[])}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){if(this.isFulfilled())return this;
this._set("loadError",new k("load:cancelled","Cancelled"));this._loadController?.abort();this._promiseProps.abort();return this}};f.__decorate([h.property({readOnly:!0})],A.prototype,"loaded",null);f.__decorate([h.property({readOnly:!0})],A.prototype,"loadError",void 0);f.__decorate([h.property({clonable:!1})],A.prototype,"loadStatus",void 0);f.__decorate([h.property({type:[E],readOnly:!0})],A.prototype,"loadWarnings",null);return A=f.__decorate([B.subclass("esri.core.Loadable")],A)};m=class extends w(m.EsriPromise){};
m=f.__decorate([B.subclass("esri.core.Loadable")],m);(function(A){A.LoadableMixin=w;A.isLoadable=function(u){return!(!u||!u.load)}})(m||={});return m})},"esri/core/Promise":function(){define(["exports","../chunks/tslib.es6","./Accessor","./promiseUtils","./accessorSupport/decorators/subclass"],function(f,k,r,m,n){var E;(function(w){w[w.PENDING=0]="PENDING";w[w.RESOLVED=1]="RESOLVED";w[w.REJECTED=2]="REJECTED"})(E||={});class h{constructor(){this._resolver=m.createResolver();this._status=E.PENDING;
this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=E.RESOLVED;this._cleanUp()},()=>{this._status=E.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(w){this._resolvingPromises.push(w);this._tryResolve()}isResolved(){return this._status===E.RESOLVED}isRejected(){return this._status===E.REJECTED}isFulfilled(){return this._status!==E.PENDING}abort(){this._resolver.reject(m.createAbortError())}_cleanUp(){this._resolvingPromises=
this._allPromise=null}_tryResolve(){if(!this.isFulfilled()){var w=m.createResolver(),A=[...this._resolvingPromises,w.promise],u=this._allPromise=Promise.all(A);u.then(()=>{this.isFulfilled()||this._allPromise!==u||this._resolver.resolve()},z=>{this.isFulfilled()||this._allPromise!==u||m.isAbortError(z)||this._resolver.reject(z)});w.resolve()}}}const B=w=>{w=class extends w{constructor(...A){super(...A);this._promiseProps=new h;this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(A,
u){return this._promiseProps.promise.then(()=>this).then(A,u)}catch(A){return this.when(null,A)}addResolvingPromise(A){A&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in A?A.when():A)}};return w=k.__decorate([n.subclass("esri.core.Promise")],w)};f.EsriPromise=class extends B(r){};f.EsriPromise=k.__decorate([n.subclass("esri.core.Promise")],f.EsriPromise);f.EsriPromiseMixin=B;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports",
"./asyncUtils","./Collection","./Loadable"],function(f,k,r,m){async function n(E,h){const B=[],w=(...u)=>{for(const z of u)null!=z&&(Array.isArray(z)?w(...z):r.isCollection(z)?z.forEach(t=>w(t)):m.isLoadable(z)&&B.push(z))};h(w);let A=null;await k.map(B,async u=>{u=await k.result("loadAll"in u&&"function"===typeof u.loadAll?u.loadAll():u.load());!1!==u.ok||A||(A=u)});if(A)throw A.error;return E}f.loadAll=async function(E,h){await E.load();return n(E,h)};f.loadAllChildren=n;Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"})})},"esri/portal/Portal":function(){define("require ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalGroup ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(f,k,r,m,n,E,h,B,w,A,u,z,t,l,C,I,P,y,H,U,c,x,F,K){function ba(d){const g=m.id;return()=>{const p=d.deref();p&&g.findCredential(p.restUrl)&&p.signIn().catch(()=>{})}}const na=d=>Object.freeze(Object.defineProperty({__proto__:null,default:d},Symbol.toStringTag,{value:"Module"}));var da;let Q;const X={PortalGroup:()=>Promise.resolve({default:U}),PortalItem:()=>new Promise((d,g)=>f(["./PortalItem"],p=>d(na(p)),g)),PortalUser:()=>Promise.resolve({default:F})};h=da=class extends h.JSONSupportMixin(B){constructor(d){super(d);
this.access=this._esriIdCredentialCreateHandle=null;this.allSSL=!1;this.authMode="auto";this.bingKey=this.basemapGalleryGroupQuery3D=this.basemapGalleryGroupQuery=this.authorizedCrossOriginDomains=null;this.canProvisionDirectPurchase=this.canListPreProvisionedItems=this.canListData=this.canListApps=!1;this.canSearchPublic=!0;this.canSignInIDP=this.canSignInArcGIS=this.canSharePublic=this.canShareBingPublic=!1;this.colorSetsGroupQuery=null;this.commentsEnabled=!1;this.livingAtlasGroupQuery=this.layoutGroupQuery=
this.galleryTemplatesGroupQuery=this.featuredItemsGroupQuery=this.featuredGroups=this.eueiEnabled=this.devBasemapGalleryGroupQuery=this.description=this.defaultVectorBasemap=this.defaultExtent=this.defaultDevBasemap=this.defaultBasemap=this.default3DBasemapQuery=this.customBaseUrl=this.culture=this.created=null;this.hasClassificationSchema=this.hasCategorySchema=!1;this.ipCntryCode=this.id=this.httpsPort=this.httpPort=this.homePageFeaturedContentCount=this.homePageFeaturedContent=this.helperServices=
null;this.isReadOnly=this.isPortal=!1;this.region=this.portalProperties=this.portalMode=this.portalHostname=this.name=this.modified=this.maxTokenExpirationMinutes=this.layerTemplatesGroupQuery=null;this.recycleBinEnabled=!1;this.rotatorPanels=null;this.showHomePageDescription=!1;this.sourceJSON=null;this.supportsHostedServices=!1;this.units=this.templatesGroupQuery=this.symbolSetsGroupQuery=null;this.url=r.portalUrl;this.user=this.urlKey=null;this.use3dBasemaps=!0;this.useVectorBasemaps=this.useStandardizedQuery=
this.useDefault3dBasemap=!1;this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(d){return"string"===typeof d?{url:d}:d}destroy(){b.unregister(this);this.defaultBasemap=w.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=w.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=w.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=w.removeMaybe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(d){if(d)for(const g of d)r.request.trustedServers.includes(g)||
r.request.trustedServers.push(g);return d}readDefaultBasemap(d){return this._readBasemap(d)}readDefaultDevBasemap(d){return this._readBasemap(d)}readDefaultVectorBasemap(d){return this._readBasemap(d)}get extraQuery(){const d=!this.user?.orgId||this.canSearchPublic;return this.id&&!d?` AND orgid:${this.id}`:null}get hasAPIKey(){return K.isApiKeyApplicable(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let d=this.url;
if(d){const g=d.indexOf("/sharing");d=0<g?d.slice(0,g):this.url.replace(/\/+$/,"");d+="/sharing/rest"}return d}get thumbnailUrl(){const d=this.restUrl,g=this.thumbnail;return d&&g?this._normalizeSSL(d+"/portals/self/resources/"+g):null}readUrlKey(d){return d?d.toLowerCase():d}readUser(d){let g=null;d&&(g=F.fromJSON(d),g.portal=this);return g}load(d){const g=(new Promise((p,D)=>f(["../Basemap"],M=>p(na(M)),D))).then(({default:p})=>{A.throwIfAborted(d);Q=p}).then(()=>this.sourceJSON?this.sourceJSON:
this.fetchSelf(this.authMode,!1,d)).then(p=>{if(!this.hasAPIKey&&m.id){const D=m.id;this.credential=D.findCredential(this.restUrl);this.credential||this.authMode!==da.AUTH_MODE_AUTO&&this.authMode!==da.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=D.on("credential-create",ba(new WeakRef(this))),b.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=p;this.read(p)});this.addResolvingPromise(g);return Promise.resolve(this)}async createElevationLayers(){await this.load();
const d=this._getHelperService("defaultElevationLayers"),g=(await new Promise((p,D)=>f(["../layers/ElevationLayer"],M=>p(na(M)),D))).default;return d?d.map(p=>new g({id:p.id,url:p.url})):[]}async fetchBasemaps(d,g){const p=await this._fetchBasemaps(d,g);!0===g?.include3d&&!1!==this.use3dBasemaps&&(d=await this._fetchBasemaps3D(d,g),p.unshift(...d));return p}async fetchDefault3DBasemap(d){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||"none"===this.default3DBasemapQuery)return null;const g=
new c;g.query=this.default3DBasemapQuery;g.disableExtraQuery=!0;return(d=(await this.queryItems(g,d)).results.find(p=>"Web Scene"===p.type))?new Q({portalItem:d}):null}fetchCategorySchema(d){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",d).then(g=>g.categorySchema):A.isAborted(d)?Promise.reject(A.createAbortError()):Promise.resolve([])}fetchFeaturedGroups(d){const g=this.featuredGroups,p=new c({num:100,sortField:"title"});if(g?.length){const D=[];for(const M of g)D.push(`(title:"${M.title}" AND owner:${M.owner})`);
p.query=D.join(" OR ");return this.queryGroups(p,d).then(M=>M.results)}return A.isAborted(d)?Promise.reject(A.createAbortError()):Promise.resolve([])}fetchRegions(d){const g=this.user?.culture||this.culture||y.getLocale();return this.request(this.restUrl+"/portals/regions",{...d,query:{culture:g}})}fetchSettings(d){const g=this.user?.culture||this.culture||y.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...d,query:{culture:g}})}static getDefault(){return H.ensureDefaultPortalInstance(()=>
new da)}queryGroups(d,g){return this.queryPortal("/community/groups",d,"PortalGroup",g)}queryItems(d,g){return this.queryPortal("/search",d,"PortalItem",g)}queryUsers(d,g){d.sortField||(d.sortField="username");return this.queryPortal("/community/users",d,"PortalUser",g)}fetchSelf(d=this.authMode,g=!1,p){const D=this.restUrl+"/portals/self";d={authMode:d,query:{culture:y.getLocale().toLowerCase()},withCredentials:!0,...p};"auto"===d.authMode&&(d.authMode="no-prompt");g&&(d.query.default=!0);return this.request(D,
d)}queryPortal(d,g,p,D){const M=z.ensureType(c,g),R=W=>this.request(this.restUrl+d,{...M.toRequestOptions(this),...D}).then(Y=>{const Z=M.clone();Z.start=Y.nextStart;return new x({nextQueryParams:Z,queryParams:M,total:Y.total,results:da._resultsToTypedArray(W,{portal:this},Y,D)})}).then(Y=>Promise.all(Y.results.map(Z=>"function"===typeof Z.when?Z.when():Y)).then(()=>Y,Z=>{A.throwIfAbortError(Z);return Y}));return p&&X[p]?X[p]().then(({default:W})=>{A.throwIfAborted(D);return R(W)}):R()}signIn(){if(this.hasAPIKey)return this.load().then(()=>
{if(!this.user)throw new E("portal:not-authenticated","Unable to authenticate user. Portal.user is missing");});if(this.authMode===da.AUTH_MODE_ANONYMOUS||this.authMode===da.AUTH_MODE_NO_PROMPT&&!m.id)return Promise.reject(new E("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const d=g=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return g||(this.authMode="immediate"),this.load().then(()=>
null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=g;return this.fetchSelf("immediate")});if(this.user&&this.credential===g)return null;this.credential=g;return this.fetchSelf("immediate")}).then(p=>{p&&(this.sourceJSON=p,this.read(p))});return m.id?m.id.getCredential(this.restUrl,{prompt:this.authMode!==da.AUTH_MODE_NO_PROMPT}).then(g=>d(g)):d(this.credential)}normalizeUrl(d){const g=this.credential?.token;return this._normalizeSSL(g?
d+(d.includes("?")?"\x26":"?")+"token\x3d"+g:d)}requestToTypedArray(d,g,p){return this.request(d,g).then(D=>{const M=da._resultsToTypedArray(p,{portal:this},D);return Promise.all(M.map(R=>"function"===typeof R.when?R.when():D)).then(()=>M,()=>M)})}request(d,g={}){var p={f:"json",...g.query};const {authMode:D=this.authMode===da.AUTH_MODE_ANONYMOUS||this.authMode===da.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:M=null,cacheBust:R=!1,method:W="auto",responseType:Y="json",signal:Z}=g;p={authMode:D,
body:M,cacheBust:R,method:W,query:p,responseType:Y,timeout:0,signal:Z};g.withCredentials&&(p.withCredentials=!0);return n(this._normalizeSSL(d),p).then(ja=>ja.data)}toJSON(){throw new E("internal:not-yet-implemented","Portal.toJSON is not yet implemented");}static fromJSON(d){if(!d)return null;if(d.declaredClass)throw Error("JSON object is already hydrated");return new da({sourceJSON:d})}_getHelperService(d){const g=this.helperServices&&this.helperServices[d];if(!g)throw new E("portal:service-not-found",
`The \`helperServices\` do not include an entry named "${d}"`);return g}async _fetchBasemaps(d,g){const p=new c;p.query=d||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);p.disableExtraQuery=!0;d=await this.queryGroups(p,g);if(!d.total)return[];d=d.results[0];p.num=100;p.query='type:"Web Map" -type:"Web Application"';p.sortField=d.sortField||"name";p.sortOrder=d.sortOrder||"desc";g=await d.queryItems(p,g);return g.total?
g.results.filter(D=>"Web Map"===D.type).map(D=>new Q({portalItem:D})):[]}async _fetchBasemaps3D(d,g){d=d||this.basemapGalleryGroupQuery3D;if(!d)return[];d=new c({query:d,disableExtraQuery:!0});var p=await this.queryGroups(d,g);if(!p.total)return[];p=p.results[0];d.num=100;d.query='type:"Web Scene"';d.sortField=p.sortField||"name";d.sortOrder=p.sortOrder||"desc";g=await p.queryItems(d,g);return g.total?g.results.filter(D=>"Web Scene"===D.type).map(D=>new Q({portalItem:D})):[]}_normalizeSSL(d){return d.replace(/^http:/i,
"https:").replace(":7080",":7443")}_readBasemap(d){return d?(d=Q.fromJSON(d),d.portalItem={portal:this},d):null}static _resultsToTypedArray(d,g,p,D){if(p){const M=null!=D?D.signal:null;p=p.listings||p.notifications||p.userInvitations||p.tags||p.items||p.groups||p.comments||p.provisions||p.results||p.relatedItems||p;if(d||g)p=p.map(R=>{R=Object.assign(d?d.fromJSON(R):R,g);"function"===typeof R.load&&R.load(M);return R})}else p=[];return p}};h.AUTH_MODE_ANONYMOUS="anonymous";h.AUTH_MODE_AUTO="auto";
h.AUTH_MODE_IMMEDIATE="immediate";h.AUTH_MODE_NO_PROMPT="no-prompt";k.__decorate([u.property()],h.prototype,"access",void 0);k.__decorate([u.property()],h.prototype,"allSSL",void 0);k.__decorate([u.property()],h.prototype,"authMode",void 0);k.__decorate([u.property()],h.prototype,"authorizedCrossOriginDomains",void 0);k.__decorate([C.reader("authorizedCrossOriginDomains")],h.prototype,"readAuthorizedCrossOriginDomains",null);k.__decorate([u.property()],h.prototype,"basemapGalleryGroupQuery",void 0);
k.__decorate([u.property({json:{name:"3DBasemapGalleryGroupQuery"}})],h.prototype,"basemapGalleryGroupQuery3D",void 0);k.__decorate([u.property()],h.prototype,"bingKey",void 0);k.__decorate([u.property()],h.prototype,"canListApps",void 0);k.__decorate([u.property()],h.prototype,"canListData",void 0);k.__decorate([u.property()],h.prototype,"canListPreProvisionedItems",void 0);k.__decorate([u.property()],h.prototype,"canProvisionDirectPurchase",void 0);k.__decorate([u.property()],h.prototype,"canSearchPublic",
void 0);k.__decorate([u.property()],h.prototype,"canShareBingPublic",void 0);k.__decorate([u.property()],h.prototype,"canSharePublic",void 0);k.__decorate([u.property()],h.prototype,"canSignInArcGIS",void 0);k.__decorate([u.property()],h.prototype,"canSignInIDP",void 0);k.__decorate([u.property()],h.prototype,"colorSetsGroupQuery",void 0);k.__decorate([u.property()],h.prototype,"commentsEnabled",void 0);k.__decorate([u.property({type:Date})],h.prototype,"created",void 0);k.__decorate([u.property()],
h.prototype,"credential",void 0);k.__decorate([u.property()],h.prototype,"culture",void 0);k.__decorate([u.property()],h.prototype,"currentVersion",void 0);k.__decorate([u.property()],h.prototype,"customBaseUrl",void 0);k.__decorate([u.property()],h.prototype,"default3DBasemapQuery",void 0);k.__decorate([u.property()],h.prototype,"defaultBasemap",void 0);k.__decorate([C.reader("defaultBasemap")],h.prototype,"readDefaultBasemap",null);k.__decorate([u.property()],h.prototype,"defaultDevBasemap",void 0);
k.__decorate([C.reader("defaultDevBasemap")],h.prototype,"readDefaultDevBasemap",null);k.__decorate([u.property({type:P})],h.prototype,"defaultExtent",void 0);k.__decorate([u.property()],h.prototype,"defaultVectorBasemap",void 0);k.__decorate([C.reader("defaultVectorBasemap")],h.prototype,"readDefaultVectorBasemap",null);k.__decorate([u.property()],h.prototype,"description",void 0);k.__decorate([u.property()],h.prototype,"devBasemapGalleryGroupQuery",void 0);k.__decorate([u.property()],h.prototype,
"eueiEnabled",void 0);k.__decorate([u.property({readOnly:!0})],h.prototype,"extraQuery",null);k.__decorate([u.property()],h.prototype,"featuredGroups",void 0);k.__decorate([u.property()],h.prototype,"featuredItemsGroupQuery",void 0);k.__decorate([u.property()],h.prototype,"galleryTemplatesGroupQuery",void 0);k.__decorate([u.property()],h.prototype,"layoutGroupQuery",void 0);k.__decorate([u.property()],h.prototype,"livingAtlasGroupQuery",void 0);k.__decorate([u.property({readOnly:!0})],h.prototype,
"hasAPIKey",null);k.__decorate([u.property()],h.prototype,"hasCategorySchema",void 0);k.__decorate([u.property()],h.prototype,"hasClassificationSchema",void 0);k.__decorate([u.property()],h.prototype,"helpBase",void 0);k.__decorate([u.property()],h.prototype,"helperServices",void 0);k.__decorate([u.property()],h.prototype,"helpMap",void 0);k.__decorate([u.property()],h.prototype,"homePageFeaturedContent",void 0);k.__decorate([u.property()],h.prototype,"homePageFeaturedContentCount",void 0);k.__decorate([u.property()],
h.prototype,"httpPort",void 0);k.__decorate([u.property()],h.prototype,"httpsPort",void 0);k.__decorate([u.property()],h.prototype,"id",void 0);k.__decorate([u.property()],h.prototype,"ipCntryCode",void 0);k.__decorate([u.property({readOnly:!0})],h.prototype,"isOrganization",null);k.__decorate([u.property()],h.prototype,"isPortal",void 0);k.__decorate([u.property()],h.prototype,"isReadOnly",void 0);k.__decorate([u.property({readOnly:!0})],h.prototype,"itemPageUrl",null);k.__decorate([u.property()],
h.prototype,"layerTemplatesGroupQuery",void 0);k.__decorate([u.property()],h.prototype,"maxTokenExpirationMinutes",void 0);k.__decorate([u.property({type:Date})],h.prototype,"modified",void 0);k.__decorate([u.property()],h.prototype,"name",void 0);k.__decorate([u.property()],h.prototype,"portalHostname",void 0);k.__decorate([u.property()],h.prototype,"portalMode",void 0);k.__decorate([u.property()],h.prototype,"portalProperties",void 0);k.__decorate([u.property()],h.prototype,"region",void 0);k.__decorate([u.property()],
h.prototype,"recycleBinEnabled",void 0);k.__decorate([u.property({readOnly:!0})],h.prototype,"restUrl",null);k.__decorate([u.property()],h.prototype,"rotatorPanels",void 0);k.__decorate([u.property()],h.prototype,"showHomePageDescription",void 0);k.__decorate([u.property()],h.prototype,"sourceJSON",void 0);k.__decorate([u.property()],h.prototype,"staticImagesUrl",void 0);k.__decorate([u.property({json:{name:"2DStylesGroupQuery"}})],h.prototype,"stylesGroupQuery2d",void 0);k.__decorate([u.property({json:{name:"stylesGroupQuery"}})],
h.prototype,"stylesGroupQuery3d",void 0);k.__decorate([u.property()],h.prototype,"supportsHostedServices",void 0);k.__decorate([u.property()],h.prototype,"symbolSetsGroupQuery",void 0);k.__decorate([u.property()],h.prototype,"templatesGroupQuery",void 0);k.__decorate([u.property()],h.prototype,"thumbnail",void 0);k.__decorate([u.property({readOnly:!0})],h.prototype,"thumbnailUrl",null);k.__decorate([u.property()],h.prototype,"units",void 0);k.__decorate([u.property()],h.prototype,"url",void 0);k.__decorate([u.property()],
h.prototype,"urlKey",void 0);k.__decorate([C.reader("urlKey")],h.prototype,"readUrlKey",null);k.__decorate([u.property()],h.prototype,"user",void 0);k.__decorate([C.reader("user")],h.prototype,"readUser",null);k.__decorate([u.property()],h.prototype,"use3dBasemaps",void 0);k.__decorate([u.property()],h.prototype,"useDefault3dBasemap",void 0);k.__decorate([u.property()],h.prototype,"useStandardizedQuery",void 0);k.__decorate([u.property()],h.prototype,"useVectorBasemaps",void 0);k.__decorate([u.property()],
h.prototype,"vectorBasemapGalleryGroupQuery",void 0);k=h=da=k.__decorate([I.subclass("esri.portal.Portal")],h);const b=new FinalizationRegistry(d=>{d.remove()});return k})},"esri/portal/portalDefault":function(){define(["exports"],function(f){let k;f.clearDefaultPortalInstance=function(){k=void 0};f.ensureDefaultPortalInstance=function(r){if(!k||k.destroyed)k=r();return k};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalGroup":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(f,k,r,m,n,E,h,B,w){var A;r=A=class extends r.JSONSupport{constructor(u){super(u);this.id=this.description=this.created=this.access=null;this.isInvitationOnly=!1;this.title=this.tags=this.sourceJSON=this.sortOrder=this.sortField=this.snippet=this.portal=this.owner=this.modified=null}get thumbnailUrl(){const u=this.url,z=this.thumbnail;return u&&z&&this.portal?this.portal?.normalizeUrl(`${u}/info/${z}?f=json`):null}get url(){const u=this.portal?.restUrl;return u?u+"/community/groups/"+this.id:
null}fetchCategorySchema(u){return this.portal.request(this.url+"/categorySchema",u).then(z=>{z=z.categorySchema||[];return z.some(t=>"contentCategorySetsGroupQuery.LivingAtlas"===t.source)?this._fetchCategorySchemaSet("LivingAtlas",u):z})}fetchMembers(u){return this.portal.request(this.url+"/users",u)}getThumbnailUrl(u){let z=this.thumbnailUrl;z&&u&&(z+=`&w=${u}`);return z}toJSON(){throw new k("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");}static fromJSON(u){if(!u)return null;
if(u.declaredClass)throw Error("JSON object is already hydrated");const z=new A({sourceJSON:u});z.read(u);return z}queryItems(u,z){u=n.ensureType(w,u);const t=this.portal;if(5<parseFloat(t.currentVersion))return u=u||new w,t.queryPortal(`/content/groups/${this.id}/search`,u,"PortalItem",z);u=u?u.clone():new w;u.query="group:"+this.id+(u.query?" "+u.query:"");return t.queryItems(u,z)}_fetchCategorySchemaSet(u,z){const t=this.portal;return t.fetchSelf(t.authMode,!0,z).then(l=>{if(l=l.contentCategorySetsGroupQuery)return l=
new w({disableExtraQuery:!0,num:1,query:l}),t.queryGroups(l,z);throw new k("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(l=>{if(l.total){l=l.results[0];const C=new w({num:1,query:`typekeywords:"${u}"`});return l.queryItems(C,z)}throw new k("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(l=>l.total?l.results[0].fetchData("json",z).then(C=>{C=C?.categorySchema;return C?.length?C:[]}):[])}};f.__decorate([m.property()],
r.prototype,"access",void 0);f.__decorate([m.property({type:Date})],r.prototype,"created",void 0);f.__decorate([m.property()],r.prototype,"description",void 0);f.__decorate([m.property()],r.prototype,"id",void 0);f.__decorate([m.property()],r.prototype,"isInvitationOnly",void 0);f.__decorate([m.property({type:Date})],r.prototype,"modified",void 0);f.__decorate([m.property()],r.prototype,"owner",void 0);f.__decorate([m.property()],r.prototype,"portal",void 0);f.__decorate([m.property()],r.prototype,
"snippet",void 0);f.__decorate([m.property()],r.prototype,"sortField",void 0);f.__decorate([m.property()],r.prototype,"sortOrder",void 0);f.__decorate([m.property()],r.prototype,"sourceJSON",void 0);f.__decorate([m.property()],r.prototype,"tags",void 0);f.__decorate([m.property()],r.prototype,"thumbnail",void 0);f.__decorate([m.property({readOnly:!0})],r.prototype,"thumbnailUrl",null);f.__decorate([m.property()],r.prototype,"title",void 0);f.__decorate([m.property({readOnly:!0})],r.prototype,"url",
null);return r=A=f.__decorate([B.subclass("esri.portal.PortalGroup")],r)})},"esri/portal/PortalQueryParams":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(f,k,r,m,n,E,h,B,w,A,u){var z;const t=new r.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",
numComments:"num-comments",numViews:"num-views"});k=z=class extends k{constructor(l){super(l);this.categories=null;this.disableExtraQuery=!1;this.filter=this.extent=null;this.num=10;this.sortField=this.query=null;this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(l){"asc"!==l&&"desc"!==l||this._set("sortOrder",l)}clone(){return new z({categories:this.categories?m.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():
null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(l,C){let I=[];this.categories&&(I=this.categories.map(H=>Array.isArray(H)?JSON.stringify(H):H));let P="";if(this.extent){var y=u.project(this.extent,A.WGS84);null!=y&&(P=`${y.xmin},${y.ymin},${y.xmax},${y.ymax}`)}y=this.query;!this.disableExtraQuery&&l.extraQuery&&(y="("+y+")"+l.extraQuery);l={categories:I,bbox:P,q:y,filter:this.filter,num:this.num,sortField:null,
sortOrder:null,start:this.start};this.sortField&&(l.sortField=this.sortField.split(",").map(H=>t.toJSON(H.trim())).join(","),l.sortOrder=this.sortOrder);return{query:{...C,...l}}}};f.__decorate([n.property()],k.prototype,"categories",void 0);f.__decorate([n.property()],k.prototype,"disableExtraQuery",void 0);f.__decorate([n.property({type:w})],k.prototype,"extent",void 0);f.__decorate([n.property()],k.prototype,"filter",void 0);f.__decorate([n.property()],k.prototype,"num",void 0);f.__decorate([n.property()],
k.prototype,"query",void 0);f.__decorate([n.property()],k.prototype,"sortField",void 0);f.__decorate([n.property()],k.prototype,"sortOrder",null);f.__decorate([n.property()],k.prototype,"start",void 0);return k=z=f.__decorate([B.subclass("esri.portal.PortalQueryParams")],k)})},"esri/portal/PortalQueryResult":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(f,k,r,m,n,E,h){k=class extends k{constructor(B){super(B);this.total=this.results=this.queryParams=this.nextQueryParams=null}};f.__decorate([r.property()],k.prototype,"nextQueryParams",void 0);f.__decorate([r.property()],k.prototype,"queryParams",void 0);f.__decorate([r.property()],k.prototype,"results",void 0);f.__decorate([r.property()],k.prototype,"total",void 0);return k=f.__decorate([h.subclass("esri.portal.PortalQueryResult")],k)})},"esri/portal/PortalUser":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(f,k,r,m,n,E,h,B,w,A,u){var z;m=z=class extends m.JSONSupport{constructor(t){super(t);this.userType=this.userLicenseTypeId=this.username=this.units=this.sourceJSON=this.roleId=this.role=this.region=this.privileges=this.preferredView=this.portal=this.orgId=this.modified=this.fullName=this.email=this.description=this.culture=this.created=this.access=null}get thumbnailUrl(){const t=this.url,l=this.thumbnail;return t&&l?this.portal.normalizeUrl(`${t}/info/${l}?f=json`):null}get userContentUrl(){const t=
this.portal?.restUrl;return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.username}`:null}addItem(t){const l=t&&t.item;var C=t?.data;t=t?.folder;const I={method:"post"};l&&(I.query=l.createPostQuery(),null!=C&&("string"===typeof C?I.query.text=C:"object"===typeof C&&(I.query.text=JSON.stringify(C))));C=this.userContentUrl;t&&(C+="/"+("string"===typeof t?t:t.id));return this.portal.request(C+"/addItem",I).then(P=>{l.id=P.id;
l.portal=this.portal;return l.loaded?l.reload():l.load()})}async deleteItem(t,l=!1){let C=this.userContentUrl;t.ownerFolder&&(C+="/"+t.ownerFolder);await this.portal.request(C+`/items/${t.id}/delete`,{method:"post",query:l?{permanentDelete:!0}:{}});t.id=null;t.portal=null}async deleteItems(t,l=!1){t=t.slice();var C=this.userContentUrl+"/deleteItems";const I=[];var P=t.map(y=>y.id);if(P.length){l={method:"post",query:{items:P.join(","),permanentDelete:l}};C=await this.portal.request(C,l);for(const y of C.results)C=
t.find(H=>y.itemId===H.id),l=y.success,P=null,l?(C.id=null,C.portal=null):y.error&&(P=new r("portal:delete-item-failed",y.error.message,y.error)),I.push({item:C,success:l,error:P})}return I}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(t=>t&&t.folders?t.folders.map(l=>{l=A.fromJSON(l);l.portal=this.portal;return l}):[])}fetchGroups(){return this.portal.request(this.url??"").then(t=>t&&t.groups?t.groups.map(l=>{l=u.fromJSON(l);l.portal=this.portal;return l}):
[])}async fetchItems(t){t??={};var l=this.userContentUrl??"";t.folder&&(l+="/"+t.folder.id);const {default:C}=await new Promise((I,P)=>f(["./PortalItem"],y=>I(Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}))),P));t=await this.portal.request(l,{query:{folders:!1,inRecycleBin:t.inRecycleBin?!0:null,foldersContent:!t.folder&&t.includeSubfolderItems?!0:null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"}});
return t?.items?(l=t.items.map(I=>{I=C.fromJSON(I);I.portal=this.portal;return I}),await Promise.all(l.map(I=>I.load())),{items:l,nextStart:t.nextStart,total:t.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let l=this.thumbnailUrl;l&&t&&(l+=`&w=${t}`);return l}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new u({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new r("internal:unknown",
"Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,l){await this.portal.request(this.userContentUrl+`/items/${t.id}/restore`,{method:"post",query:l?{folderID:"string"===typeof l?l:l.id}:null})}toJSON(){throw new r("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented");}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw Error("JSON object is already hydrated");const l=new z({sourceJSON:t});l.read(t);return l}};k.__decorate([n.property()],
m.prototype,"access",void 0);k.__decorate([n.property({type:Date})],m.prototype,"created",void 0);k.__decorate([n.property()],m.prototype,"culture",void 0);k.__decorate([n.property()],m.prototype,"description",void 0);k.__decorate([n.property()],m.prototype,"email",void 0);k.__decorate([n.property()],m.prototype,"favGroupId",void 0);k.__decorate([n.property()],m.prototype,"fullName",void 0);k.__decorate([n.property({type:Date})],m.prototype,"modified",void 0);k.__decorate([n.property()],m.prototype,
"orgId",void 0);k.__decorate([n.property()],m.prototype,"portal",void 0);k.__decorate([n.property()],m.prototype,"preferredView",void 0);k.__decorate([n.property()],m.prototype,"privileges",void 0);k.__decorate([n.property()],m.prototype,"region",void 0);k.__decorate([n.property()],m.prototype,"role",void 0);k.__decorate([n.property()],m.prototype,"roleId",void 0);k.__decorate([n.property()],m.prototype,"sourceJSON",void 0);k.__decorate([n.property()],m.prototype,"thumbnail",void 0);k.__decorate([n.property({readOnly:!0})],
m.prototype,"thumbnailUrl",null);k.__decorate([n.property()],m.prototype,"units",void 0);k.__decorate([n.property({readOnly:!0})],m.prototype,"userContentUrl",null);k.__decorate([n.property({readOnly:!0})],m.prototype,"url",null);k.__decorate([n.property()],m.prototype,"username",void 0);k.__decorate([n.property()],m.prototype,"userLicenseTypeId",void 0);k.__decorate([n.property()],m.prototype,"userType",void 0);return m=z=k.__decorate([w.subclass("esri.portal.PortalUser")],m)})},"esri/portal/PortalFolder":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(f,k,r,m,n,E,h,B){r=class extends r.JSONSupport{constructor(w){super(w);this.username=this.title=this.portal=this.id=this.created=null}get url(){const w=this.portal?.restUrl;return w?`${w}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new k("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");}};f.__decorate([m.property({type:Date})],r.prototype,"created",void 0);f.__decorate([m.property()],r.prototype,"id",void 0);f.__decorate([m.property()],r.prototype,
"portal",void 0);f.__decorate([m.property()],r.prototype,"title",void 0);f.__decorate([m.property({readOnly:!0})],r.prototype,"url",null);f.__decorate([m.property()],r.prototype,"username",void 0);return r=f.__decorate([B.subclass("esri.portal.PortalFolder")],r)})},"esri/portal/PortalItem":function(){define("require ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating ../chunks/persistableUrlUtils".split(" "),
function(f,k,r,m,n,E,h,B,w,A,u,z,t,l,C,I,P){var y;const H=new Set("3DTiles Service;CSV;Feature Collection;Feature Service;Feed;GeoJson;Group Layer;Image Service;KML;Map Service;Media Layer;Scene Service;Stream Service;Vector Tile Service;WFS;WMS;WMTS".split(";")),U=new Set(["KML","GeoJson","CSV"]);n=y=class extends n.JSONSupportMixin(h){static from(c){return A.ensureClass(y,c)}constructor(c){super(c);this.id=this.groupCategories=this.extent=this.description=this.culture=this.created=this.classification=
this.categories=this.avgRating=this.applicationProxies=this.apiKey=this.accessInformation=this.access=null;this.isOrgItem=!1;this.url=this.typeKeywords=this.type=this.title=this.tags=this.spatialReference=this.sourceUrl=this.sourceJSON=this.snippet=this.size=this.screenshots=this.portal=this.ownerFolder=this.owner=this.numViews=this.numRatings=this.numComments=this.name=this.modified=this.licenseInfo=this.itemControl=null}destroy(){this.portal=null}get displayName(){const c=this.type,x=this.typeKeywords||
[];let F=c;"Feature Service"===c||"Feature Collection"===c?F=x.includes("Table")?"Table":x.includes("Route Layer")?"Route Layer":x.includes("Markup")?"Markup":"Feature Layer":"Image Service"===c?F=x.includes("Elevation 3D Layer")?"Elevation Layer":x.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===c?F="Scene Layer":"Video Service"===c?F="Video Layer":"Scene Package"===c?F="Scene Layer Package":"Stream Service"===c?F="Feature Layer":"Geoprocessing Service"===c?F=x.includes("Web Tool")?
"Tool":"Geoprocessing Service":"Geoenrichment Service"===c?F="GeoEnrichment Service":"Geocoding Service"===c?F="Locator":"Microsoft Powerpoint"===c?F="Microsoft PowerPoint":"GeoJson"===c?F="GeoJSON":"Globe Service"===c?F="Globe Layer":"Vector Tile Service"===c?F="Tile Layer":"netCDF"===c?F="NetCDF":"Map Service"===c?F=x.includes("Spatiotemporal")||!x.includes("Hosted Service")&&!x.includes("Tiled")||x.includes("Relational")?"Map Image Layer":"Tile Layer":c?.toLowerCase().includes("add in")?F=c.replaceAll(/(add in)/gi,
"Add-In"):"datastore catalog service"===c?F="Big Data File Share":"Compact Tile Package"===c?F="Tile Package (tpkx)":"Raster function template"===c?F="Raster Function Template":"OGCFeatureServer"===c?F="OGC Feature Layer":"web mapping application"===c&&x.includes("configurableApp")?F="Instant App":"Insights Page"===c?F="Insights Report":"Excalibur Imagery Project"===c?F="Excalibur Project":"3DTiles Service"===c?F="3D tiles layer":"3DTiles Package"===c&&(F="3D tiles package");return F}readExtent(c){return c&&
c.length?new t(c[0][0],c[0][1],c[1][0],c[1][1]):null}get iconUrl(){var c=this.type?.toLowerCase()||"";const x=this.typeKeywords||[];var F=!1,K=!1;let ba=!1,na=!1,da=!1,Q=!1;F=K=!1;0<c.indexOf("service")||"feature collection"===c||"kml"===c||"wms"===c||"wmts"===c||"wfs"===c?(F=x.includes("Hosted Service"),"feature service"===c||"feature collection"===c||"kml"===c||"wfs"===c?(K=x.includes("Table"),ba=x.includes("Route Layer"),na=x.includes("Markup"),da=x.includes("Spatiotemporal"),Q=x.includes("UtilityNetwork"),
c=da&&K?"spatiotemporaltable":K?"table":ba?"routelayer":na?"markup":da?"spatiotemporal":Q?"utilitynetwork":F?"featureshosted":"features"):"map service"===c||"wms"===c||"wmts"===c?(da=x.includes("Spatiotemporal"),K=x.includes("Relational"),c=da||K?"mapimages":F||x.includes("Tiled")||"wmts"===c?"maptiles":"mapimages"):c="scene service"===c?x.includes("Line")?"sceneweblayerline":x.includes("3DObject")?"sceneweblayermultipatch":x.includes("Point")?"sceneweblayerpoint":x.includes("IntegratedMesh")?"sceneweblayermesh":
x.includes("PointCloud")?"sceneweblayerpointcloud":x.includes("Polygon")?"sceneweblayerpolygon":x.includes("Building")?"sceneweblayerbuilding":x.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===c?x.includes("Elevation 3D Layer")?"elevationlayer":x.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===c?"streamlayer":"vector tile service"===c?"vectortile":"datastore catalog service"===c?"datastorecollection":"geocoding service"===c?"geocodeservice":"video service"===
c?x.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===c?x.includes("Web Tool")?"tool":"layers":"geodata service"===c?"geodataservice":"3dtiles service"===c?x.includes("3DObject")?"3dobjecttileslayer":x.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):c="web map"===c||"cityengine web scene"===c?"maps":"web scene"===c?x.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===c&&x.includes("configurableApp")?
"instantapps":"web mapping application"===c||"mobile application"===c||"application"===c||"operation view"===c||"desktop application"===c?"apps":"map document"===c||"map package"===c||"published map"===c||"scene document"===c||"globe document"===c||"basemap package"===c||"mobile basemap package"===c||"mobile map package"===c||"project package"===c||"project template"===c||"pro map"===c||"layout"===c||"layer"===c&&x.includes("ArcGIS Pro")||"explorer map"===c&&x.indexOf("Explorer Document")?"mapsgray":
"service definition"===c||"shapefile"===c||"cad drawing"===c||"geojson"===c||"netcdf"===c||"administrative report"===c?"datafiles":"360 vr experience"===c?"360vr":"explorer add in"===c||"desktop add in"===c||"windows viewer add in"===c||"windows viewer configuration"===c?"appsgray":"arcgis pro add in"===c||"arcgis pro configuration"===c?"addindesktop":"pdf"===c?"pdf":"microsoft word"===c?"word":"microsoft excel"===c?"excel":"microsoft powerpoint"===c?"ppt":"rule package"===c||"file geodatabase"===
c||"sqlite geodatabase"===c||"csv collection"===c||"kml collection"===c||"windows mobile package"===c||"map template"===c||"desktop application template"===c||"gml"===c||"arcpad package"===c||"code sample"===c||"document link"===c||"earth configuration"===c||"operations dashboard add in"===c||"rules package"===c||"workflow manager package"===c||"explorer map"===c&&x.includes("Explorer Mapping Application")||x.includes("Document")?"datafilesgray":"network analysis service"===c||"geoprocessing service"===
c||"geodata service"===c||"geometry service"===c||"geoprocessing package"===c||"locator package"===c||"geoprocessing sample"===c||"workflow manager service"===c?"toolsgray":"layer"===c||"layer package"===c||"explorer layer"===c?"layersgray":"analysis model"===c?"analysismodel":"scene package"===c?"scenepackage":"3dtiles package"===c?"3dtileslayerpackage":"3dtiles service"===c?"3dtileslayer":"mobile scene package"===c?"mobilescenepackage":"tile package"===c||"compact tile package"===c?"tilepackage":
"task file"===c?"taskfile":"report template"===c?"report-template":"statistical data collection"===c?"statisticaldatacollection":"insights workbook"===c?"workbook":"insights model"===c?"insightsmodel":"insights page"===c?"insightspage":"insights theme"===c?"insightstheme":"hub initiative"===c?"hubinitiative":"hub page"===c?"hubpage":"hub site application"===c?"hubsite":"hub event"===c?"hubevent":"hub project"===c?"hubproject":"relational database connection"===c?"relationaldatabaseconnection":"big data file share"===
c?"datastorecollection":"image collection"===c?"imagecollection":"desktop style"===c?"desktopstyle":"style"===c?x.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===c?"dashboard":"raster function template"===c?"rasterprocessingtemplate":"vector tile package"===c?"vectortilepackage":"ortho mapping project"===c?"orthomappingproject":"ortho mapping template"===c?"orthomappingtemplate":"solution"===c?"solutions":"geopackage"===c?"geopackage":"deep learning package"===c?"deeplearningpackage":
"real time analytic"===c?"realtimeanalytics":"reality mapping project"===c?"realitymappingproject":"big data analytic"===c?"bigdataanalytics":"feed"===c?"feed":"excalibur imagery project"===c?"excaliburimageryproject":"notebook"===c?"notebook":"storymap"===c?"storymap":"survey123 add in"===c?"survey123addin":"mission"===c?"mission":"mission report"===c?"missionreport":"mission template"===c?"missiontemplate":"quickcapture project"===c?"quickcaptureproject":"pro report"===c?"proreport":"pro report template"===
c?"proreporttemplate":"urban model"===c?"urbanmodel":"urban project"===c?"urbanproject":"web experience"===c?"experiencebuilder":"web experience template"===c?"webexperiencetemplate":"experience builder widget"===c?"experiencebuilderwidget":"experience builder widget package"===c?"experiencebuilderwidgetpackage":"workflow"===c?"workflow":"kernel gateway connection"===c?"kernelgatewayconnection":"insights script"===c?"insightsscript":"hub initiative template"===c?"hubinitiativetemplate":"storymap theme"===
c?"storymaptheme":"knowledge graph"===c?"knowledgegraph":"knowledge graph layer"===c?"knowledgegraphlayer":"knowledge studio project"===c?"knowledgestudio":"native application"===c?"nativeapp":"native application installer"===c?"nativeappinstaller":"web link chart"===c?"linkchart":"knowledge graph web investigation"===c?"investigation":"ogcfeatureserver"===c?"features":"pro presentation"===c?"propresentation":"pro project"===c?"proproject":"insights workbook package"===c?"insightsworkbookpackage":
"apache parquet"===c?"apacheparquet":"notebook code snippet library"===c?"notebookcodesnippets":"suitability model"===c?"suitabilitymodel":"esri classifier definition"===c?"classifierdefinition":"esri classification schema"===c?"classificationschema":"insights data engineering workbook"===c?"dataengineeringworkbook":"insights data engineering model"===c?"dataengineeringmodel":"deep learning studio project"===c?"deeplearningproject":"discussion"===c?"discussion":"allsource project"===c?"allsourceproject":
"api key"===c?"apikey":"data pipeline"===c?"datapipelines":"group layer"===c?(F=x.includes("Map"))?"layergroup2d":"layergroup":"media layer"===c?"onlinemedialayer":"form"===c?x.includes("Survey123")?"survey":"datafilesgray":"csv"===c?"csv":"image"===c?"image":"maps";return c?r.getAssetUrl("esri/images/portal/"+c+"16.png"):null}get isLayer(){return null!=this.type&&H.has(this.type)}get itemCdnUrl(){return P.toCDNUrl(this.itemUrl)}get itemPageUrl(){const c=this.portal?.itemPageUrl;return c&&this.id?
`${c}?id=${this.id}`:null}get itemUrl(){const c=this.portal?.restUrl;return c&&this.id?`${c}/content/items/${this.id}`:null}get thumbnailUrl(){const c=this.itemUrl,x=this.thumbnail;return c&&x?this.portal?.normalizeUrl(`${c}/info/${x}?f=json`)??null:null}get userItemUrl(){const c=this.portal?.restUrl;if(!c)return null;const x=this.owner||this.portal?.user?.username;return x?`${c}/content/users/${this.ownerFolder?`${x}/${this.ownerFolder}`:x}/items/${this.id}`:null}load(c){const x=this.portal??(this.portal=
l.getDefault()),F=x.load(c).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?x.request(this.itemUrl,{signal:null!=c?c.signal:null,query:{token:this.apiKey}}):{}).then(K=>{this.sourceJSON=K;this.read(K)});this.addResolvingPromise(F);return Promise.resolve(this)}async addRating(c){const x={method:"post",query:{}};c instanceof I&&(c=c.rating);null==c||isNaN(c)||"number"!==typeof c||(x.query.rating=c);if(!this.portal)return null;await this.portal.request(this.itemUrl+"/addRating",x);return new I({rating:c,
created:new Date})}clone(){var c={access:this.access,accessInformation:this.accessInformation,applicationProxies:E.clone(this.applicationProxies),avgRating:this.avgRating,categories:E.clone(this.categories),classification:E.clone(this.classification),created:E.clone(this.created),culture:this.culture,description:this.description,extent:E.clone(this.extent),groupCategories:E.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:E.clone(this.modified),
name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:E.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:E.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:E.clone(this.typeKeywords),url:this.url};this.loaded&&(c.loadStatus="loaded");c=(new y({sourceJSON:this.sourceJSON})).set(c);
c._set("isOrgItem",this.isOrgItem);return c}createPostQuery(){const c=this.toJSON();for(var x of["tags","typeKeywords","categories"])c[x]=c[x]?.join(", ");for(const F of["extent","classification"])(x=c[F])&&(c[F]=JSON.stringify(x));return c}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(c="json",x){return this.portal.request(this.itemUrl+"/data",{responseType:c,...x,query:{token:this.apiKey}})}async fetchRating(c){c=await this.portal.request(this.itemUrl+
"/rating",{query:{token:this.apiKey},...c});return null!=c.rating?(c.created=new Date(c.created),new I(c)):null}fetchRelatedItems(c,x){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...c,token:this.apiKey},...x},y)}getThumbnailUrl(c){let x=this.thumbnailUrl;x&&c&&(x+=`&w=${c}`);return x}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(c=>{this.applicationProxies&&!Object.hasOwn(c,"appProxies")&&(this.applicationProxies=
null);this.sourceJSON=c;this.read(c);return this})}update(c){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const x=c?.data,F={method:"post"};F.query=this.createPostQuery();for(const K in F.query)null===F.query[K]&&(F.query[K]="");F.query.clearEmptyFields=!0;null!=x&&("string"===typeof x?F.query.text=x:"object"===typeof x&&(F.query.text=JSON.stringify(x)));return this.portal.request(`${this.userItemUrl}/update`,F).then(()=>this.reload())}):Promise.reject(new m("portal:item-does-not-exist",
"The item does not exist yet and cannot be updated"))}async copy(c){if(!this.id)throw new m("portal:item-does-not-exist","The item does not exist yet");await this.load();const {portal:x,itemUrl:F}=this;await x.signIn();const {copyResources:K,folder:ba,tags:na,title:da}=c||{};c={method:"post",query:{copyPrivateResources:"all"===K,folder:"string"===typeof ba?ba:ba?.id,includeResources:!!K,tags:na?.join(","),title:da}};({itemId:c}=await x.request(`${F}/copy`,c));return new y({id:c,portal:x})}updateThumbnail(c){return this.id?
this.load().then(()=>this.portal.signIn()).then(()=>{const x=c.thumbnail,F=c.filename,K={method:"post"};if("string"===typeof x)B.isDataProtocol(x)?K.query={data:x}:K.query={url:B.makeAbsolute(x)},null!=F&&(K.query.filename=F);else{const ba=new FormData;null!=F?ba.append("file",x,F):ba.append("file",x);K.body=ba}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,K).then(()=>this.reload())}):Promise.reject(new m("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(c=
{},x){const {fetchResources:F}=await new Promise((K,ba)=>f(["./support/resourceUtils"],K,ba));return F(this,c,x)}async addResource(c,x,F){const {addOrUpdateResources:K}=await new Promise((ba,na)=>f(["./support/resourceUtils"],ba,na));c.portalItem=this;await K(this,[{resource:c,content:x,compress:F?.compress,access:F?.access}],"add",F);return c}async removeResource(c,x){const {removeResource:F}=await new Promise((K,ba)=>f(["./support/resourceUtils"],K,ba));if(c.portalItem&&c.portalItem.itemUrl!==this.itemUrl)throw new m("removeresource:portal-item-mismatch",
"The portal item associated with the provided resource does not match the item");return F(this,c,x)}async removeAllResources(c){const {removeAllResources:x}=await new Promise((F,K)=>f(["./support/resourceUtils"],F,K));return x(this,c)}resourceFromPath(c){return new C({portalItem:this,path:c})}toJSON(){var c=this.extent;c={accessInformation:this.accessInformation,categories:E.clone(this.categories),classification:E.clone(this.classification),created:this.created?.getTime(),description:this.description,
extent:c&&[[c.xmin,c.ymin],[c.xmax,c.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:E.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:E.clone(this.typeKeywords),url:this.url};return E.fixJson(c)}static fromJSON(c){if(!c)return null;if(c.declaredClass)throw Error("JSON object is already hydrated");
return new y({sourceJSON:c})}_getPostQuery(){const c=this.toJSON();for(const x in c)"tags"===x&&null!==c[x]&&(c[x]=c[x].join(", ")),"typeKeywords"===x&&null!==c[x]&&(c[x]=c[x].join(", ")),"extent"===x&&c[x]&&(c[x]=JSON.stringify(c[x]));return c}};k.__decorate([w.property({type:["private","shared","org","public"]})],n.prototype,"access",void 0);k.__decorate([w.property()],n.prototype,"accessInformation",void 0);k.__decorate([w.property({type:String})],n.prototype,"apiKey",void 0);k.__decorate([w.property({json:{read:{source:"appProxies"}}})],
n.prototype,"applicationProxies",void 0);k.__decorate([w.property()],n.prototype,"avgRating",void 0);k.__decorate([w.property()],n.prototype,"categories",void 0);k.__decorate([w.property()],n.prototype,"classification",void 0);k.__decorate([w.property({type:Date})],n.prototype,"created",void 0);k.__decorate([w.property()],n.prototype,"culture",void 0);k.__decorate([w.property()],n.prototype,"description",void 0);k.__decorate([w.property({readOnly:!0})],n.prototype,"displayName",null);k.__decorate([w.property({type:t})],
n.prototype,"extent",void 0);k.__decorate([u.reader("extent")],n.prototype,"readExtent",null);k.__decorate([w.property()],n.prototype,"groupCategories",void 0);k.__decorate([w.property({readOnly:!0})],n.prototype,"iconUrl",null);k.__decorate([w.property()],n.prototype,"id",void 0);k.__decorate([w.property({readOnly:!0})],n.prototype,"isLayer",null);k.__decorate([w.property({type:Boolean,readOnly:!0})],n.prototype,"isOrgItem",void 0);k.__decorate([w.property()],n.prototype,"itemControl",void 0);k.__decorate([w.property({readOnly:!0})],
n.prototype,"itemPageUrl",null);k.__decorate([w.property({readOnly:!0})],n.prototype,"itemUrl",null);k.__decorate([w.property()],n.prototype,"licenseInfo",void 0);k.__decorate([w.property({type:Date})],n.prototype,"modified",void 0);k.__decorate([w.property()],n.prototype,"name",void 0);k.__decorate([w.property()],n.prototype,"numComments",void 0);k.__decorate([w.property()],n.prototype,"numRatings",void 0);k.__decorate([w.property()],n.prototype,"numViews",void 0);k.__decorate([w.property()],n.prototype,
"owner",void 0);k.__decorate([w.property()],n.prototype,"ownerFolder",void 0);k.__decorate([w.property({type:l})],n.prototype,"portal",void 0);k.__decorate([w.property()],n.prototype,"screenshots",void 0);k.__decorate([w.property()],n.prototype,"size",void 0);k.__decorate([w.property()],n.prototype,"snippet",void 0);k.__decorate([w.property()],n.prototype,"sourceJSON",void 0);k.__decorate([w.property({type:String})],n.prototype,"sourceUrl",void 0);k.__decorate([w.property({type:String})],n.prototype,
"spatialReference",void 0);k.__decorate([w.property()],n.prototype,"tags",void 0);k.__decorate([w.property()],n.prototype,"thumbnail",void 0);k.__decorate([w.property({readOnly:!0})],n.prototype,"thumbnailUrl",null);k.__decorate([w.property()],n.prototype,"title",void 0);k.__decorate([w.property()],n.prototype,"type",void 0);k.__decorate([w.property()],n.prototype,"typeKeywords",void 0);k.__decorate([w.property({type:String,json:{read(c,x){U.has(x.type)&&(x=this.portal?.restUrl,c||=x&&this.id?`${x}/content/items/${this.id}/data`:
null);return c}}})],n.prototype,"url",void 0);k.__decorate([w.property({readOnly:!0})],n.prototype,"userItemUrl",null);return n=y=k.__decorate([z.subclass("esri.portal.PortalItem")],n)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(f,k,r,m,n,E,h,B,w,A,u){function z(t,l){if(null==t)return t;t=t.replace(/^\/+/,"");null!=l&&E.isAbsolute(t)&&(t=E.makeRelative(t,l.itemUrl));return t?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")}r=class extends r{constructor(t){super(t);this.portalItem=null}normalizeCtorArgs(t){return t?.portalItem&&t.path?{...t,path:z(t.path,t.portalItem)}:t}set path(t){null!=t&&E.isAbsolute(t)?n.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):
this._set("path",t)}_castPath(t){return z(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",l){const C=this.cdnUrl;if(null==C)throw new m("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal.request(C,{responseType:t,query:{token:this.portalItem.apiKey,_ts:l?.cacheBust?Date.now():null},signal:l?.signal})}async update(t,l){const {addOrUpdateResources:C}=await new Promise((I,P)=>f(["./support/resourceUtils"],I,P));await C(this.portalItem,[{resource:this,content:t,compress:l?.compress,access:l?.access}],"update",l);return this}hasPath(){return null!=this.path}};k.__decorate([h.property()],r.prototype,"portalItem",void 0);k.__decorate([h.property({type:String,
value:null})],r.prototype,"path",null);k.__decorate([B.cast("path")],r.prototype,"_castPath",null);k.__decorate([h.property({type:String,readOnly:!0})],r.prototype,"url",null);k.__decorate([h.property({type:String,readOnly:!0})],r.prototype,"cdnUrl",null);k.__decorate([h.property({type:String,readOnly:!0})],r.prototype,"itemRelativeUrl",null);return r=k.__decorate([u.subclass("esri.portal.PortalItemResource")],r)})},"esri/portal/PortalRating":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(f,k,r,m,n,E,h){k=class extends k{constructor(B){super(B);this.rating=this.created=null}};f.__decorate([r.property()],k.prototype,"created",void 0);f.__decorate([r.property()],k.prototype,"rating",void 0);return k=f.__decorate([h.subclass("esri.portal.PortalRating")],k)})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../kernel","../core/urlUtils","../portal/support/urlUtils"],function(f,k,r,m){function n(y,H){var U=H?.url?.path;y&&U&&(y=r.makeAbsolute(y,U,{preserveProtocolRelative:!0}),
H.portalItem&&H.readResourcePaths&&(U=r.makeRelative(y,H.portalItem.itemUrl),null!=U&&I.test(U)&&H.readResourcePaths.push(H.portalItem.resourceFromPath(U).path)));return(y=z(y,H?.portal))&&C.test(y)?t(y):y}function E(y,H,U=f.MarkKeep.YES){y=y&&C.test(y)?l(y):y;if(null==y)return y;!r.isAbsolute(y)&&H?.blockedRelativeUrls&&H.blockedRelativeUrls.push(y);let c=r.makeAbsolute(y);if(H){var x=H.verifyItemRelativeUrls?.rootPath||H.url?.path;if(x){x=z(x,H.portal);const F=z(c,H.portal);c=r.makeRelative(F,x,
x);null!=c&&c!==F&&c!==y&&H.verifyItemRelativeUrls&&H.verifyItemRelativeUrls.writtenUrls.push(c)}}c=u(c,H?.portal);r.isAbsolute(c)&&(c=r.normalize(c));H?.resources&&H?.portalItem&&!r.isAbsolute(c)&&!r.isDataProtocol(c)&&U===f.MarkKeep.YES&&H.resources.toKeep.push({resource:H.portalItem.resourceFromPath(c),compress:!1});return c}function h(y,H,U){return n(y,U)}function B(y,H,U,c){y=E(y,c);void 0!==y&&(H[U]=y)}function w(y){return(y?.match(C)??null)?.[1]??null}function A(y){y=y?.match(C)??null;if(null==
y)return null;y=y[2];const H=y.lastIndexOf("/");if(-1===H){const {path:x,extension:F}=r.splitPathExtension(y);return{prefix:null,filename:x,extension:F}}const {path:U,extension:c}=r.splitPathExtension(y.slice(H+1));return{prefix:y.slice(0,H),filename:U,extension:c}}function u(y,H){return H&&!H.isPortal&&H.urlKey&&H.customBaseUrl?r.changeDomain(y,`${H.urlKey}.${H.customBaseUrl}`,H.portalHostname):y}function z(y,H){if(!H||H.isPortal||!H.urlKey||!H.customBaseUrl)return y;const U=`${H.urlKey}.${H.customBaseUrl}`,
c=r.getAppUrl();return r.hasSameOrigin(c,`${c.scheme}://${U}`)?r.changeDomain(y,H.portalHostname,U):r.changeDomain(y,U,H.portalHostname)}function t(y){if(!y)return y||null;y&&k.id&&!k.id.findCredential(y)&&(y=m.normalizeArcGISOnlineOrgDomain(y),y=y.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),y=y.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),y=y.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return y}function l(y){if(!y)return y||
null;y=y.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com");y=y.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com");(y=y.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"))&&k.id&&!k.id.findCredential(y)&&(y=m.normalizeArcGISOnlineOrgDomain(y));return y}const C=/\/items\/([^/]+)\/resources\/(.*)/,I=/^\.\/resources\//;f.MarkKeep=void 0;(function(y){y[y.YES=0]="YES";y[y.NO=1]="NO"})(f.MarkKeep||(f.MarkKeep={}));const P=Object.freeze(Object.defineProperty({__proto__:null,
get MarkKeep(){return f.MarkKeep},ensureMainOnlineDomain:u,fromCDNUrl:l,fromJSON:n,itemIdFromResourceUrl:w,prefixAndFilenameFromResourceUrl:A,read:h,toCDNUrl:t,toJSON:E,write:B},Symbol.toStringTag,{value:"Module"}));f.ensureMainOnlineDomain=u;f.fromCDNUrl=l;f.fromJSON=n;f.itemIdFromResourceUrl=w;f.persistableUrlUtils=P;f.prefixAndFilenameFromResourceUrl=A;f.read=h;f.toCDNUrl=t;f.toJSON=E;f.write=B})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(f,
k,r){f.esriBasemapDefinitions={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",
classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",
isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get "dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/gray-vector.jpg")},
baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],
id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/topo-vector.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},
"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
classic:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",
styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",
layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",
layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},
{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",
itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},
{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",
title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},
"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",
layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",
title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",
title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",
title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},
"arcgis-topographic":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return k.getAssetUrl("esri/images/basemap/oceans.jpg")},
title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",
title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},
"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},
"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",
title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};f.getBasemapTitle=async function(m){if(m){var n=m.includes("-vector")?m.slice(0,m.indexOf("-vector")):
m.includes("-3d")?m.slice(0,m.indexOf("-3d")):m,E=await r.fetchMessageBundle("esri/t9n/basemaps");return E[m]||E[n]}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/support/BasemapStyle":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../intl/locale".split(" "),function(f,k,r,m,n,E,h,B){const w=new Set("ar bs ca hr cs da nl en et fi fr de el he hu id it ja ko lv lt nb pl ro ru sr es sv th tr uk vi".split(" "));
k=class extends k{constructor(A){super(A);this.places=this.language=this.id=this.apiKey=null;this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps";this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;var A=B.getLocale().toLowerCase();switch(A){case "pt-br":return"pt-BR";case "pt-pt":return"pt-PT";case "zh-cn":return"zh-CN";case "zh-hk":return"zh-HK";case "zh-tw":return"zh-TW"}A=B.getLanguage(A);return"pt"===A?"pt-BR":A&&w.has(A)?
A:"global"}};f.__decorate([r.property()],k.prototype,"apiKey",void 0);f.__decorate([r.property()],k.prototype,"id",void 0);f.__decorate([r.property()],k.prototype,"language",void 0);f.__decorate([r.property()],k.prototype,"places",void 0);f.__decorate([r.property()],k.prototype,"serviceUrl",void 0);f.__decorate([r.property()],k.prototype,"worldview",void 0);return k=f.__decorate([h.subclass("esri.support.BasemapStyle")],k)})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),
function(f,k,r,m,n,E){function h(A,u){"maxScale"in A&&(u.maxScale=n.numberToJSON(A.maxScale)??void 0);"minScale"in A&&(u.minScale=n.numberToJSON(A.minScale)??void 0)}const B=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),w=new Set("catalog csv feature geo-rss geojson group imagery imagery-tile kml knowledge-graph map-image map-notes media ogc-feature oriented-imagery route stream subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));
f.disableRestrictedWriting=function(A){B.add(A);w.add(A)};f.enableRestrictedWriting=function(A){B.delete(A);w.delete(A)};f.getLayerJSON=function(A,u,z){if(!A.persistenceEnabled)return null;if(!("write"in A&&A.write))return z?.messages&&z.messages.push(new k("layer:unsupported",`Layers (${A.title}, ${A.id}) of type '${A.declaredClass}' cannot be persisted`,{layer:A})),null;if(E.isFeatureCollectionLayer(A)&&!A.isTable)u=A.resourceInfo;else{if(z.restrictedWebMapWriting){var t="basemap"===z.layerContainerType?
B:"operational-layers"===z.layerContainerType?w:null;t=null!=t?t.has(A.type)&&!E.isFeatureCollectionLayer(A):!0}else t=!0;if(t)return u={},A.write(u,z)?u:null}if(null!=u){u=r.clone(u);if(z=u)E.isFeatureCollectionLayer(A)?(t=m.getDeepValue("featureCollection.layers",z)?.[0]?.layerDefinition)&&h(A,t):"group"!==A.type&&h(A,z);if(z&&(z.id=A.id,"blendMode"in A&&(z.blendMode=A.blendMode,"normal"===z.blendMode&&delete z.blendMode),z.opacity=n.numberToJSON(A.opacity)??void 0,z.title=A.title||"Layer",z.visibility=
A.visible,"legendEnabled"in A&&"wmts"!==A.type))if(E.isFeatureCollectionLayer(A)){if(z=z.featureCollection)z.showLegend=A.legendEnabled}else z.showLegend=A.legendEnabled}return u};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(f,k,r){function m(h){return"scene"===h?.type}function n(h){return null!=h&&"object"===typeof h&&"type"in h&&"subtype-group"===h.type&&"sublayers"in h}function E(h){h=
h?.type;return"imagery-tile"===h||"tile"===h||"open-street-map"===h||"vector-tile"===h||"web-tile"===h||"wmts"===h}f.getEffectiveEditingEnabled=function(h){a:if("editingEnabled"in h)switch(h.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var B=!0;break a;default:B=!1}else B=!1;return B?"effectiveEditingEnabled"in h?h.effectiveEditingEnabled:h.editingEnabled:!1};f.getEffectiveLayerCapabilities=function(h){a:if("capabilities"in
h)switch(h.type){case "catalog":case "catalog-footprint":case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "sublayer":case "subtype-group":case "subtype-sublayer":case "wfs":var B=!0;break a;default:B=!1}else B=!1;return B?"effectiveCapabilities"in h?h.effectiveCapabilities:h.capabilities:null};f.getOwningPortalUrl=async function(h,B){var w=k.id?.findServerInfo(h);if(null!=w?.currentVersion)return w.owningSystemUrl||
null;w=h.toLowerCase().indexOf("/rest/services");if(-1===w)return null;h=`${h.slice(0,w)}/rest/info`;({data:B}=await r(h,{query:{f:"json"},responseType:"json",signal:null!=B?B.signal:null}));return B?.owningSystemUrl||null};f.getSubtypesFromLayer=function(h){return h?("subtypes"in h?h.subtypes:n(h.parent)?h.parent.subtypes:[])??[]:[]};f.getTileMaxtrixSetFromActiveLayer=function(h){if(h.activeLayer){const B=h.activeLayer.tileMatrixSet;if(B)return B;if(h=h.activeLayer.tileMatrixSets)return h}return null};
f.isBaseLayer=function(h){return null!=h?.parent&&"declaredClass"in h.parent&&"esri.Basemap"===h.parent.declaredClass&&h.parent.baseLayers.includes(h)};f.isBasemap3DSupportedLayer=function(h){return E(h)||m(h)};f.isBasemapSupportedTiledLayer=E;f.isFeatureCollectionLayer=function(h){return"feature"===h?.type&&!h.url&&"memory"===h.source?.type};f.isFeatureLayer=function(h){return null!=h&&"object"===typeof h&&"type"in h&&"feature"===h.type};f.isFeatureServiceLayer=function(h){return"feature"===h?.type&&
"feature-layer"===h.source?.type};f.isGraphicsLayer=function(h){return null!=h&&"object"===typeof h&&"type"in h&&"graphics"===h.type};f.isGroupLayer=function(h){return null!=h&&"type"in h&&"group"===h.type};f.isImageryTileLayer=function(h){return"imagery-tile"===h?.type};f.isIntegratedMeshLayer=function(h){return"integrated-mesh"===h||"integrated-mesh-3dtiles"===h};f.isIntegratedMeshOperationalLayer=function(h){return"IntegratedMeshLayer"===h||"IntegratedMesh3DTilesLayer"===h};f.isKnowledgeGraphLayer=
function(h){return null!=h&&"object"===typeof h&&"type"in h&&"knowledge-graph"===h.type&&"layers"in h};f.isLayerWithFeatureLayerSource=function(h){const B=h?.type;return("feature"===B||"subtype-group"===B||"oriented-imagery"===B)&&"feature-layer"===h.source?.type};f.isLinkChartLayer=function(h){return null!=h&&"object"===typeof h&&"type"in h&&"link-chart"===h.type&&"layers"in h};f.isMapNotesLayer=function(h){return null!=h&&"object"===typeof h&&"type"in h&&"map-notes"===h.type&&"sublayers"in h};f.isSceneLayer=
m;f.isSceneServiceLayer=function(h){h=h?.type;return"building-scene"===h||"integrated-mesh"===h||"point-cloud"===h||"scene"===h};f.isSubtypeGroupLayer=n;f.isSubtypeSublayer=function(h){return"subtype-sublayer"===h?.type};f.isTable=function(h){return null!=h&&"object"===typeof h&&"isTable"in h&&!!h.isTable};f.isTiledLayer=function(h){h=h?.type;return"base-tile"===h||"tile"===h||"elevation"===h||"imagery-tile"===h||"base-elevation"===h||"open-street-map"===h||"wcs"===h||"web-tile"===h||"wmts"===h||
"vector-tile"===h};f.isVoxelLayer=function(h){return"voxel"===h?.type};f.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};f.serializeLayerDefinitions=function(h){const B=/[:;]/,w=[];let A=!1;if(h&&(h.forEach((u,z)=>{w.push([z,u]);!A&&B.test(u)&&(A=!0)}),0<w.length)){if(A){const u={};w.forEach(z=>{u[z[0]]=z[1]});h=JSON.stringify(u)}else{const u=[];w.forEach(z=>{u.push(z[0]+":"+
z[1])});h=u.join(";")}return h}return null};f.serializeTimeOptions=function(h){if(h){var B=[];h.forEach((w,A)=>{B.push('"'+A+'":'+JSON.stringify(w))});if(B.length)return"{"+B.join(",")+"}"}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(f,k){f.canInterpolateEffects=function(r,m){const n=r.length>m.length?r:m;return(r.length>m.length?m:r).every((E,h)=>E.type===n[h].type)};f.effectEquals=function(r,m){r=
JSON.stringify(r??null);m=JSON.stringify(m??null);return r===m};f.isEffectFunctions=function(r){return(r=r[0])?"type"in r:!1};f.normalizeEffects=function(r,m){const n=r.length>m.length?r:m;r=r.length>m.length?m:r;for(m=r.length;m<n.length;m++)r.push(k.createEffectWithInitialValues(n[m]))};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define(["exports","../../colorUtils","../../core/screenUtils","../../core/libs/gl-matrix-2/factories/mat4f32",
"./colorMatrixFunctions"],function(f,k,r,m,n){function E(l,C,I){return l+(C-l)*I}function h(l){return Math.round(1E3*r.px2pt(l))/1E3}class B{constructor(l,C,I){this.strength=l;this.radius=C;this.threshold=I;this.type="bloom"}interpolate(l,C,I){this.strength=E(l.strength,C.strength,I);this.radius=E(l.radius,C.radius,I);this.threshold=E(l.threshold,C.threshold,I)}clone(){return new B(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:h(this.radius),strength:this.strength,
threshold:this.threshold}}}class w{constructor(l){this.radius=l;this.type="blur"}interpolate(l,C,I){this.radius=Math.round(E(l.radius,C.radius,I))}clone(){return new w(this.radius)}toJSON(){return{type:"blur",radius:h(this.radius)}}}class A{constructor(l,C){this.type=l;this.amount=C;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(l,C,I){this.amount=
E(l.amount,C.amount,I);this._updateMatrix()}clone(){return new A(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const l=this._colorMatrix||m.create();switch(this.type){case "brightness":this._colorMatrix=n.brightness(l,this.amount);break;case "contrast":this._colorMatrix=n.contrast(l,this.amount);break;case "grayscale":this._colorMatrix=n.grayscale(l,this.amount);break;case "invert":this._colorMatrix=n.invert(l,this.amount);break;case "saturate":this._colorMatrix=
n.saturate(l,this.amount);break;case "sepia":this._colorMatrix=n.sepia(l,this.amount)}}}class u{constructor(l,C,I,P){this.offsetX=l;this.offsetY=C;this.blurRadius=I;this.color=P;this.type="drop-shadow"}interpolate(l,C,I){this.offsetX=E(l.offsetX,C.offsetX,I);this.offsetY=E(l.offsetY,C.offsetY,I);this.blurRadius=E(l.blurRadius,C.blurRadius,I);this.color[0]=Math.round(E(l.color[0],C.color[0],I));this.color[1]=Math.round(E(l.color[1],C.color[1],I));this.color[2]=Math.round(E(l.color[2],C.color[2],I));
this.color[3]=E(l.color[3],C.color[3],I)}clone(){return new u(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const l=[...this.color];l[3]*=255;return{type:"drop-shadow",xoffset:h(this.offsetX),yoffset:h(this.offsetY),blurRadius:h(this.blurRadius),color:l}}}class z{constructor(l){this.angle=l;this.type="hue-rotate"}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(l,C,I){this.angle=E(l.angle,C.angle,I);this._updateMatrix()}clone(){return new z(this.angle)}toJSON(){return{type:"hue-rotate",
angle:this.angle}}_updateMatrix(){const l=this._colorMatrix||m.create();this._colorMatrix=n.rotateHue(l,this.angle)}}class t{constructor(l){this.amount=l;this.type="opacity";this.amount=Math.min(this.amount,1)}interpolate(l,C,I){this.amount=E(l.amount,C.amount,I)}clone(){return new t(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}f.BloomEffect=B;f.BlurEffect=w;f.ColorMatrixEffect=A;f.DropShadowEffect=u;f.HueRotateEffect=z;f.OpacityEffect=t;f.createEffectWithInitialValues=function(l){switch(l.type){case "grayscale":case "sepia":case "invert":return new A(l.type,
0);case "saturate":case "brightness":case "contrast":return new A(l.type,1);case "opacity":return new t(1);case "hue-rotate":return new z(0);case "blur":return new w(0);case "drop-shadow":return new u(0,0,0,[...k.getNamedColor("transparent")]);case "bloom":return new B(0,0,1)}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f32":function(){define(["exports"],function(f){function k(){const B=new Float32Array(16);B[0]=1;B[5]=1;B[10]=1;B[15]=
1;return B}function r(B){const w=new Float32Array(16);w[0]=B[0];w[1]=B[1];w[2]=B[2];w[3]=B[3];w[4]=B[4];w[5]=B[5];w[6]=B[6];w[7]=B[7];w[8]=B[8];w[9]=B[9];w[10]=B[10];w[11]=B[11];w[12]=B[12];w[13]=B[13];w[14]=B[14];w[15]=B[15];return w}function m(B,w,A,u,z,t,l,C,I,P,y,H,U,c,x,F){const K=new Float32Array(16);K[0]=B;K[1]=w;K[2]=A;K[3]=u;K[4]=z;K[5]=t;K[6]=l;K[7]=C;K[8]=I;K[9]=P;K[10]=y;K[11]=H;K[12]=U;K[13]=c;K[14]=x;K[15]=F;return K}function n(B,w){return new Float32Array(B,w,16)}const E=k(),h=Object.freeze(Object.defineProperty({__proto__:null,
IDENTITY:E,clone:r,create:k,createView:n,fromValues:m},Symbol.toStringTag,{value:"Module"}));f.IDENTITY=E;f.clone=r;f.create=k;f.createView=n;f.fromValues=m;f.mat4f32=h;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(f,k){f.brightness=(r,m)=>{r=k.set(r,m,0,0,0,0,m,0,0,0,0,m,0,0,0,0,1);return k.transpose(r,r)};f.contrast=(r,m)=>{r=k.set(r,m,0,0,.5-.5*m,0,m,0,.5-
.5*m,0,0,m,.5-.5*m,0,0,0,1);return k.transpose(r,r)};f.grayscale=(r,m)=>{m=1-m;r=k.set(r,.2126+.7874*m,.7152-.7152*m,.0722-.0722*m,0,.2126-.2126*m,.7152+.2848*m,.0722-.0722*m,0,.2126-.2126*m,.7152-.7152*m,.0722+.9278*m,0,0,0,0,1);return k.transpose(r,r)};f.invert=(r,m)=>{const n=1-2*m;r=k.set(r,n,0,0,m,0,n,0,m,0,0,n,m,0,0,0,1);return k.transpose(r,r)};f.rotateHue=(r,m)=>{const n=Math.sin(m*Math.PI/180);m=Math.cos(m*Math.PI/180);r=k.set(r,.213+.787*m-.213*n,.715-.715*m-.715*n,.072-.072*m+.928*n,0,
.213-.213*m+.143*n,.715+.285*m+.14*n,.072-.072*m-.283*n,0,.213-.213*m-.787*n,.715-.715*m+.715*n,.072+.928*m+.072*n,0,0,0,0,1);return k.transpose(r,r)};f.saturate=(r,m)=>{r=k.set(r,.213+.787*m,.715-.715*m,.072-.072*m,0,.213-.213*m,.715+.285*m,.072-.072*m,0,.213-.213*m,.715-.715*m,.072+.928*m,0,0,0,0,1);return k.transpose(r,r)};f.sepia=(r,m)=>{m=1-m;r=k.set(r,.393+.607*m,.769-.769*m,.189-.189*m,0,.349-.349*m,.686+.314*m,.168-.168*m,0,.272-.272*m,.534-.534*m,.131+.869*m,0,0,0,0,1);return k.transpose(r,
r)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(f,k,r){function m(a,e){a[0]=e[0];a[1]=e[1];a[2]=e[2];a[3]=e[3];a[4]=e[4];a[5]=e[5];a[6]=e[6];a[7]=e[7];a[8]=e[8];a[9]=e[9];a[10]=e[10];a[11]=e[11];a[12]=e[12];a[13]=e[13];a[14]=e[14];a[15]=e[15];return a}function n(a,e,q,v,G,J,L,S,N,O,T,V,ca,aa,ia,fa,ea){a[0]=e;a[1]=q;a[2]=v;a[3]=G;a[4]=J;a[5]=L;a[6]=S;a[7]=N;a[8]=O;a[9]=
T;a[10]=V;a[11]=ca;a[12]=aa;a[13]=ia;a[14]=fa;a[15]=ea;return a}function E(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function h(a,e){if(a===e){const q=e[1],v=e[2],G=e[3],J=e[6],L=e[7],S=e[11];a[1]=e[4];a[2]=e[8];a[3]=e[12];a[4]=q;a[6]=e[9];a[7]=e[13];a[8]=v;a[9]=J;a[11]=e[14];a[12]=G;a[13]=L;a[14]=S}else a[0]=e[0],a[1]=e[4],a[2]=e[8],a[3]=e[12],a[4]=e[1],a[5]=e[5],a[6]=e[9],a[7]=e[13],a[8]=e[2],a[9]=e[6],a[10]=
e[10],a[11]=e[14],a[12]=e[3],a[13]=e[7],a[14]=e[11],a[15]=e[15];return a}function B(a,e){w(a,e)||E(a);return a}function w(a,e){const q=e[0],v=e[1],G=e[2],J=e[3],L=e[4],S=e[5],N=e[6],O=e[7],T=e[8],V=e[9],ca=e[10],aa=e[11],ia=e[12],fa=e[13],ea=e[14];e=e[15];const ra=q*S-v*L,la=q*N-G*L,qa=q*O-J*L,oa=v*N-G*S,pa=v*O-J*S,va=G*O-J*N,wa=T*fa-V*ia,xa=T*ea-ca*ia,ya=T*e-aa*ia,za=V*ea-ca*fa,Aa=V*e-aa*fa,Ba=ca*e-aa*ea;let sa=ra*Ba-la*Aa+qa*za+oa*ya-pa*xa+va*wa;if(!sa)return null;sa=1/sa;a[0]=(S*Ba-N*Aa+O*za)*
sa;a[1]=(G*Aa-v*Ba-J*za)*sa;a[2]=(fa*va-ea*pa+e*oa)*sa;a[3]=(ca*pa-V*va-aa*oa)*sa;a[4]=(N*ya-L*Ba-O*xa)*sa;a[5]=(q*Ba-G*ya+J*xa)*sa;a[6]=(ea*qa-ia*va-e*la)*sa;a[7]=(T*va-ca*qa+aa*la)*sa;a[8]=(L*Aa-S*ya+O*wa)*sa;a[9]=(v*ya-q*Aa-J*wa)*sa;a[10]=(ia*pa-fa*qa+e*ra)*sa;a[11]=(V*qa-T*pa-aa*ra)*sa;a[12]=(S*xa-L*za-N*wa)*sa;a[13]=(q*za-v*xa+G*wa)*sa;a[14]=(fa*la-ia*oa-ea*ra)*sa;a[15]=(T*oa-V*la+ca*ra)*sa;return a}function A(a,e){const q=e[0],v=e[1],G=e[2],J=e[3],L=e[4],S=e[5],N=e[6],O=e[7],T=e[8],V=e[9],ca=
e[10],aa=e[11],ia=e[12],fa=e[13],ea=e[14];e=e[15];a[0]=S*(ca*e-aa*ea)-V*(N*e-O*ea)+fa*(N*aa-O*ca);a[1]=-(v*(ca*e-aa*ea)-V*(G*e-J*ea)+fa*(G*aa-J*ca));a[2]=v*(N*e-O*ea)-S*(G*e-J*ea)+fa*(G*O-J*N);a[3]=-(v*(N*aa-O*ca)-S*(G*aa-J*ca)+V*(G*O-J*N));a[4]=-(L*(ca*e-aa*ea)-T*(N*e-O*ea)+ia*(N*aa-O*ca));a[5]=q*(ca*e-aa*ea)-T*(G*e-J*ea)+ia*(G*aa-J*ca);a[6]=-(q*(N*e-O*ea)-L*(G*e-J*ea)+ia*(G*O-J*N));a[7]=q*(N*aa-O*ca)-L*(G*aa-J*ca)+T*(G*O-J*N);a[8]=L*(V*e-aa*fa)-T*(S*e-O*fa)+ia*(S*aa-O*V);a[9]=-(q*(V*e-aa*fa)-T*
(v*e-J*fa)+ia*(v*aa-J*V));a[10]=q*(S*e-O*fa)-L*(v*e-J*fa)+ia*(v*O-J*S);a[11]=-(q*(S*aa-O*V)-L*(v*aa-J*V)+T*(v*O-J*S));a[12]=-(L*(V*ea-ca*fa)-T*(S*ea-N*fa)+ia*(S*ca-N*V));a[13]=q*(V*ea-ca*fa)-T*(v*ea-G*fa)+ia*(v*ca-G*V);a[14]=-(q*(S*ea-N*fa)-L*(v*ea-G*fa)+ia*(v*N-G*S));a[15]=q*(S*ca-N*V)-L*(v*ca-G*V)+T*(v*N-G*S);return a}function u(a){const e=a[0],q=a[1],v=a[2],G=a[3],J=a[4],L=a[5],S=a[6],N=a[7],O=a[8],T=a[9],V=a[10],ca=a[11],aa=a[12],ia=a[13],fa=a[14];a=a[15];return(e*L-q*J)*(V*a-ca*fa)-(e*S-v*J)*
(T*a-ca*ia)+(e*N-G*J)*(T*fa-V*ia)+(q*S-v*L)*(O*a-ca*aa)-(q*N-G*L)*(O*fa-V*aa)+(v*N-G*S)*(O*ia-T*aa)}function z(a,e,q){const v=e[0],G=e[1],J=e[2],L=e[3],S=e[4],N=e[5],O=e[6],T=e[7],V=e[8],ca=e[9],aa=e[10],ia=e[11],fa=e[12],ea=e[13],ra=e[14];e=e[15];let la=q[0],qa=q[1],oa=q[2],pa=q[3];a[0]=la*v+qa*S+oa*V+pa*fa;a[1]=la*G+qa*N+oa*ca+pa*ea;a[2]=la*J+qa*O+oa*aa+pa*ra;a[3]=la*L+qa*T+oa*ia+pa*e;la=q[4];qa=q[5];oa=q[6];pa=q[7];a[4]=la*v+qa*S+oa*V+pa*fa;a[5]=la*G+qa*N+oa*ca+pa*ea;a[6]=la*J+qa*O+oa*aa+pa*ra;
a[7]=la*L+qa*T+oa*ia+pa*e;la=q[8];qa=q[9];oa=q[10];pa=q[11];a[8]=la*v+qa*S+oa*V+pa*fa;a[9]=la*G+qa*N+oa*ca+pa*ea;a[10]=la*J+qa*O+oa*aa+pa*ra;a[11]=la*L+qa*T+oa*ia+pa*e;la=q[12];qa=q[13];oa=q[14];pa=q[15];a[12]=la*v+qa*S+oa*V+pa*fa;a[13]=la*G+qa*N+oa*ca+pa*ea;a[14]=la*J+qa*O+oa*aa+pa*ra;a[15]=la*L+qa*T+oa*ia+pa*e;return a}function t(a,e,q){const v=q[0],G=q[1];q=q[2];if(e===a)a[12]=e[0]*v+e[4]*G+e[8]*q+e[12],a[13]=e[1]*v+e[5]*G+e[9]*q+e[13],a[14]=e[2]*v+e[6]*G+e[10]*q+e[14],a[15]=e[3]*v+e[7]*G+e[11]*
q+e[15];else{const J=e[0],L=e[1],S=e[2],N=e[3],O=e[4],T=e[5],V=e[6],ca=e[7],aa=e[8],ia=e[9],fa=e[10],ea=e[11];a[0]=J;a[1]=L;a[2]=S;a[3]=N;a[4]=O;a[5]=T;a[6]=V;a[7]=ca;a[8]=aa;a[9]=ia;a[10]=fa;a[11]=ea;a[12]=J*v+O*G+aa*q+e[12];a[13]=L*v+T*G+ia*q+e[13];a[14]=S*v+V*G+fa*q+e[14];a[15]=N*v+ca*G+ea*q+e[15]}return a}function l(a,e,q){const v=q[0],G=q[1];q=q[2];a[0]=e[0]*v;a[1]=e[1]*v;a[2]=e[2]*v;a[3]=e[3]*v;a[4]=e[4]*G;a[5]=e[5]*G;a[6]=e[6]*G;a[7]=e[7]*G;a[8]=e[8]*q;a[9]=e[9]*q;a[10]=e[10]*q;a[11]=e[11]*
q;a[12]=e[12];a[13]=e[13];a[14]=e[14];a[15]=e[15];return a}function C(a,e,q,v){var G=v[0],J=v[1];v=v[2];var L=Math.sqrt(G*G+J*J+v*v);if(L<=r.getEpsilon())m(a,e);else{L=1/L;G*=L;J*=L;v*=L;var S=Math.sin(q),N=Math.cos(q),O=1-N;q=e[0];L=e[1];var T=e[2],V=e[3],ca=e[4],aa=e[5],ia=e[6],fa=e[7],ea=e[8],ra=e[9],la=e[10],qa=e[11],oa=G*G*O+N,pa=J*G*O+v*S,va=v*G*O-J*S,wa=G*J*O-v*S,xa=J*J*O+N,ya=v*J*O+G*S,za=G*v*O+J*S;G=J*v*O-G*S;J=v*v*O+N;a[0]=q*oa+ca*pa+ea*va;a[1]=L*oa+aa*pa+ra*va;a[2]=T*oa+ia*pa+la*va;a[3]=
V*oa+fa*pa+qa*va;a[4]=q*wa+ca*xa+ea*ya;a[5]=L*wa+aa*xa+ra*ya;a[6]=T*wa+ia*xa+la*ya;a[7]=V*wa+fa*xa+qa*ya;a[8]=q*za+ca*G+ea*J;a[9]=L*za+aa*G+ra*J;a[10]=T*za+ia*G+la*J;a[11]=V*za+fa*G+qa*J;e!==a&&(a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15])}}function I(a,e,q){const v=Math.sin(q);q=Math.cos(q);const G=e[4],J=e[5],L=e[6],S=e[7],N=e[8],O=e[9],T=e[10],V=e[11];e!==a&&(a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=e[3],a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15]);a[4]=G*q+N*v;a[5]=J*q+O*v;a[6]=L*q+T*v;a[7]=
S*q+V*v;a[8]=N*q-G*v;a[9]=O*q-J*v;a[10]=T*q-L*v;a[11]=V*q-S*v;return a}function P(a,e,q){const v=Math.sin(q);q=Math.cos(q);const G=e[0],J=e[1],L=e[2],S=e[3],N=e[8],O=e[9],T=e[10],V=e[11];e!==a&&(a[4]=e[4],a[5]=e[5],a[6]=e[6],a[7]=e[7],a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15]);a[0]=G*q-N*v;a[1]=J*q-O*v;a[2]=L*q-T*v;a[3]=S*q-V*v;a[8]=G*v+N*q;a[9]=J*v+O*q;a[10]=L*v+T*q;a[11]=S*v+V*q;return a}function y(a,e,q){const v=Math.sin(q);q=Math.cos(q);const G=e[0],J=e[1],L=e[2],S=e[3],N=e[4],O=e[5],T=
e[6],V=e[7];e!==a&&(a[8]=e[8],a[9]=e[9],a[10]=e[10],a[11]=e[11],a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15]);a[0]=G*q+N*v;a[1]=J*q+O*v;a[2]=L*q+T*v;a[3]=S*q+V*v;a[4]=N*q-G*v;a[5]=O*q-J*v;a[6]=T*q-L*v;a[7]=V*q-S*v;return a}function H(a,e){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=e[0];a[13]=e[1];a[14]=e[2];a[15]=1;return a}function U(a,e){a[0]=e[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=e[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=e[2];a[11]=0;a[12]=0;a[13]=
0;a[14]=0;a[15]=1;return a}function c(a,e,q){if(0===e)return E(a);let v=q[0],G=q[1];q=q[2];var J=Math.sqrt(v*v+G*G+q*q);if(J<=r.getEpsilon())return null;J=1/J;v*=J;G*=J;q*=J;J=Math.sin(e);e=Math.cos(e);const L=1-e;a[0]=v*v*L+e;a[1]=G*v*L+q*J;a[2]=q*v*L-G*J;a[3]=0;a[4]=v*G*L-q*J;a[5]=G*G*L+e;a[6]=q*G*L+v*J;a[7]=0;a[8]=v*q*L+G*J;a[9]=G*q*L-v*J;a[10]=q*q*L+e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function x(a,e){const q=Math.sin(e);e=Math.cos(e);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=e;a[6]=
q;a[7]=0;a[8]=0;a[9]=-q;a[10]=e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function F(a,e){const q=Math.sin(e);e=Math.cos(e);a[0]=e;a[1]=0;a[2]=-q;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=q;a[9]=0;a[10]=e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function K(a,e){const q=Math.sin(e);e=Math.cos(e);a[0]=e;a[1]=q;a[2]=0;a[3]=0;a[4]=-q;a[5]=e;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ba(a,e,q){var v=e[0],G=e[1],J=e[2],L=e[3],S=v+v,N=G+G;const O=
J+J;e=v*S;const T=v*N;v*=O;const V=G*N;G*=O;J*=O;S*=L;N*=L;L*=O;a[0]=1-(V+J);a[1]=T+L;a[2]=v-N;a[3]=0;a[4]=T-L;a[5]=1-(e+J);a[6]=G+S;a[7]=0;a[8]=v+N;a[9]=G-S;a[10]=1-(e+V);a[11]=0;a[12]=q[0];a[13]=q[1];a[14]=q[2];a[15]=1;return a}function na(a,e){const q=Ia,v=-e[0],G=-e[1],J=-e[2],L=e[3],S=e[4],N=e[5],O=e[6],T=e[7],V=v*v+G*G+J*J+L*L;0<V?(q[0]=2*(S*L+T*v+N*J-O*G)/V,q[1]=2*(N*L+T*G+O*v-S*J)/V,q[2]=2*(O*L+T*J+S*G-N*v)/V):(q[0]=2*(S*L+T*v+N*J-O*G),q[1]=2*(N*L+T*G+O*v-S*J),q[2]=2*(O*L+T*J+S*G-N*v));ba(a,
e,q);return a}function da(a,e){a[0]=e[12];a[1]=e[13];a[2]=e[14];return a}function Q(a,e){const q=e[0],v=e[1],G=e[2],J=e[4],L=e[5],S=e[6],N=e[8],O=e[9];e=e[10];a[0]=Math.sqrt(q*q+v*v+G*G);a[1]=Math.sqrt(J*J+L*L+S*S);a[2]=Math.sqrt(N*N+O*O+e*e);return a}function X(a,e){const q=e[0]+e[5]+e[10];let v=0;0<q?(v=2*Math.sqrt(q+1),a[3]=.25*v,a[0]=(e[6]-e[9])/v,a[1]=(e[8]-e[2])/v,a[2]=(e[1]-e[4])/v):e[0]>e[5]&&e[0]>e[10]?(v=2*Math.sqrt(1+e[0]-e[5]-e[10]),a[3]=(e[6]-e[9])/v,a[0]=.25*v,a[1]=(e[1]+e[4])/v,a[2]=
(e[8]+e[2])/v):e[5]>e[10]?(v=2*Math.sqrt(1+e[5]-e[0]-e[10]),a[3]=(e[8]-e[2])/v,a[0]=(e[1]+e[4])/v,a[1]=.25*v,a[2]=(e[6]+e[9])/v):(v=2*Math.sqrt(1+e[10]-e[0]-e[5]),a[3]=(e[1]-e[4])/v,a[0]=(e[8]+e[2])/v,a[1]=(e[6]+e[9])/v,a[2]=.25*v);return a}function b(a,e,q,v){var G=e[0],J=e[1],L=e[2],S=e[3],N=G+G,O=J+J,T=L+L;e=G*N;const V=G*O;G*=T;const ca=J*O;J*=T;L*=T;N*=S;O*=S;S*=T;T=v[0];const aa=v[1];v=v[2];a[0]=(1-(ca+L))*T;a[1]=(V+S)*T;a[2]=(G-O)*T;a[3]=0;a[4]=(V-S)*aa;a[5]=(1-(e+L))*aa;a[6]=(J+N)*aa;a[7]=
0;a[8]=(G+O)*v;a[9]=(J-N)*v;a[10]=(1-(e+ca))*v;a[11]=0;a[12]=q[0];a[13]=q[1];a[14]=q[2];a[15]=1;return a}function d(a,e,q,v,G){var J=e[0],L=e[1],S=e[2],N=e[3],O=J+J,T=L+L,V=S+S;e=J*O;var ca=J*T,aa=J*V;J=L*T;L*=V;var ia=S*V;S=N*O;T*=N;const fa=N*V;var ea=v[0],ra=v[1];V=v[2];v=G[0];N=G[1];G=G[2];O=(1-(J+ia))*ea;const la=(ca+fa)*ea;ea*=aa-T;ca=(ca-fa)*ra;ia=(1-(e+ia))*ra;ra*=L+S;aa=(aa+T)*V;L=(L-S)*V;e=(1-(e+J))*V;a[0]=O;a[1]=la;a[2]=ea;a[3]=0;a[4]=ca;a[5]=ia;a[6]=ra;a[7]=0;a[8]=aa;a[9]=L;a[10]=e;a[11]=
0;a[12]=q[0]+v-(O*v+ca*N+aa*G);a[13]=q[1]+N-(la*v+ia*N+L*G);a[14]=q[2]+G-(ea*v+ra*N+e*G);a[15]=1;return a}function g(a,e){var q=e[0],v=e[1],G=e[2];e=e[3];var J=q+q,L=v+v;const S=G+G;q*=J;const N=v*J;v*=L;const O=G*J,T=G*L;G*=S;J*=e;L*=e;e*=S;a[0]=1-v-G;a[1]=N+e;a[2]=O-L;a[3]=0;a[4]=N-e;a[5]=1-q-G;a[6]=T+J;a[7]=0;a[8]=O+L;a[9]=T-J;a[10]=1-q-v;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function p(a,e,q,v,G,J,L){const S=1/(q-e),N=1/(G-v),O=1/(J-L);a[0]=2*J*S;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*
J*N;a[6]=0;a[7]=0;a[8]=(q+e)*S;a[9]=(G+v)*N;a[10]=(L+J)*O;a[11]=-1;a[12]=0;a[13]=0;a[14]=L*J*2*O;a[15]=0;return a}function D(a,e,q,v,G){e=1/Math.tan(e/2);let J=void 0;a[0]=e/q;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=e;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=G&&Infinity!==G?(J=1/(v-G),a[10]=(G+v)*J,a[14]=2*G*v*J):(a[10]=-1,a[14]=-2*v);return a}function M(a,e,q,v){const G=Math.tan(e.upDegrees*Math.PI/180),J=Math.tan(e.downDegrees*Math.PI/180),L=Math.tan(e.leftDegrees*Math.PI/180);
e=Math.tan(e.rightDegrees*Math.PI/180);const S=2/(L+e),N=2/(G+J);a[0]=S;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=N;a[6]=0;a[7]=0;a[8]=-((L-e)*S*.5);a[9]=(G-J)*N*.5;a[10]=v/(q-v);a[11]=-1;a[12]=0;a[13]=0;a[14]=v*q/(q-v);a[15]=0;return a}function R(a,e,q,v,G,J,L){const S=1/(e-q),N=1/(v-G),O=1/(J-L);a[0]=-2*S;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*N;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*O;a[11]=0;a[12]=(e+q)*S;a[13]=(G+v)*N;a[14]=(L+J)*O;a[15]=1;return a}function W(a,e,q,v){const G=e[0],J=e[1];e=e[2];let L=G-q[0],
S=J-q[1];q=e-q[2];var N=r.getEpsilon();if(Math.abs(L)<N&&Math.abs(S)<N&&Math.abs(q)<N)E(a);else{var O=1/Math.sqrt(L*L+S*S+q*q);L*=O;S*=O;q*=O;O=v[0];var T=v[1];N=v[2];v=T*q-N*S;N=N*L-O*q;T=O*S-T*L;(O=Math.sqrt(v*v+N*N+T*T))?(O=1/O,v*=O,N*=O,T*=O):T=N=v=0;var V=S*T-q*N,ca=q*v-L*T,aa=L*N-S*v;(O=Math.sqrt(V*V+ca*ca+aa*aa))?(O=1/O,V*=O,ca*=O,aa*=O):aa=ca=V=0;a[0]=v;a[1]=V;a[2]=L;a[3]=0;a[4]=N;a[5]=ca;a[6]=S;a[7]=0;a[8]=T;a[9]=aa;a[10]=q;a[11]=0;a[12]=-(v*G+N*J+T*e);a[13]=-(V*G+ca*J+aa*e);a[14]=-(L*G+
S*J+q*e);a[15]=1}}function Y(a,e,q,v){const G=e[0],J=e[1];e=e[2];var L=v[0];const S=v[1];var N=v[2];v=G-q[0];let O=J-q[1];q=e-q[2];let T=v*v+O*O+q*q;0<T&&(T=1/Math.sqrt(T),v*=T,O*=T,q*=T);let V=S*q-N*O;N=N*v-L*q;L=L*O-S*v;T=V*V+N*N+L*L;0<T&&(T=1/Math.sqrt(T),V*=T,N*=T,L*=T);a[0]=V;a[1]=N;a[2]=L;a[3]=0;a[4]=O*L-q*N;a[5]=q*V-v*L;a[6]=v*N-O*V;a[7]=0;a[8]=v;a[9]=O;a[10]=q;a[11]=0;a[12]=G;a[13]=J;a[14]=e;a[15]=1;return a}function Z(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+
", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function ja(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function ha(a,e,q){a[0]=e[0]+q[0];a[1]=e[1]+q[1];a[2]=e[2]+q[2];a[3]=e[3]+q[3];a[4]=e[4]+q[4];a[5]=e[5]+q[5];a[6]=e[6]+q[6];a[7]=e[7]+q[7];a[8]=e[8]+q[8];a[9]=e[9]+q[9];a[10]=e[10]+q[10];a[11]=e[11]+q[11];a[12]=e[12]+q[12];a[13]=
e[13]+q[13];a[14]=e[14]+q[14];a[15]=e[15]+q[15];return a}function ka(a,e,q){a[0]=e[0]-q[0];a[1]=e[1]-q[1];a[2]=e[2]-q[2];a[3]=e[3]-q[3];a[4]=e[4]-q[4];a[5]=e[5]-q[5];a[6]=e[6]-q[6];a[7]=e[7]-q[7];a[8]=e[8]-q[8];a[9]=e[9]-q[9];a[10]=e[10]-q[10];a[11]=e[11]-q[11];a[12]=e[12]-q[12];a[13]=e[13]-q[13];a[14]=e[14]-q[14];a[15]=e[15]-q[15];return a}function ma(a,e,q){a[0]=e[0]*q;a[1]=e[1]*q;a[2]=e[2]*q;a[3]=e[3]*q;a[4]=e[4]*q;a[5]=e[5]*q;a[6]=e[6]*q;a[7]=e[7]*q;a[8]=e[8]*q;a[9]=e[9]*q;a[10]=e[10]*q;a[11]=
e[11]*q;a[12]=e[12]*q;a[13]=e[13]*q;a[14]=e[14]*q;a[15]=e[15]*q;return a}function ta(a,e,q,v){a[0]=e[0]+q[0]*v;a[1]=e[1]+q[1]*v;a[2]=e[2]+q[2]*v;a[3]=e[3]+q[3]*v;a[4]=e[4]+q[4]*v;a[5]=e[5]+q[5]*v;a[6]=e[6]+q[6]*v;a[7]=e[7]+q[7]*v;a[8]=e[8]+q[8]*v;a[9]=e[9]+q[9]*v;a[10]=e[10]+q[10]*v;a[11]=e[11]+q[11]*v;a[12]=e[12]+q[12]*v;a[13]=e[13]+q[13]*v;a[14]=e[14]+q[14]*v;a[15]=e[15]+q[15]*v;return a}function Ca(a,e){return a[0]===e[0]&&a[1]===e[1]&&a[2]===e[2]&&a[3]===e[3]&&a[4]===e[4]&&a[5]===e[5]&&a[6]===
e[6]&&a[7]===e[7]&&a[8]===e[8]&&a[9]===e[9]&&a[10]===e[10]&&a[11]===e[11]&&a[12]===e[12]&&a[13]===e[13]&&a[14]===e[14]&&a[15]===e[15]}function Da(a,e){if(a===e)return!0;const q=a[0],v=a[1],G=a[2],J=a[3],L=a[4],S=a[5],N=a[6],O=a[7],T=a[8],V=a[9],ca=a[10],aa=a[11],ia=a[12],fa=a[13],ea=a[14];a=a[15];const ra=e[0],la=e[1],qa=e[2],oa=e[3],pa=e[4],va=e[5],wa=e[6],xa=e[7],ya=e[8],za=e[9],Aa=e[10],Ba=e[11],sa=e[12],Ea=e[13],Fa=e[14];e=e[15];const ua=r.getEpsilon();return Math.abs(q-ra)<=ua*Math.max(1,Math.abs(q),
Math.abs(ra))&&Math.abs(v-la)<=ua*Math.max(1,Math.abs(v),Math.abs(la))&&Math.abs(G-qa)<=ua*Math.max(1,Math.abs(G),Math.abs(qa))&&Math.abs(J-oa)<=ua*Math.max(1,Math.abs(J),Math.abs(oa))&&Math.abs(L-pa)<=ua*Math.max(1,Math.abs(L),Math.abs(pa))&&Math.abs(S-va)<=ua*Math.max(1,Math.abs(S),Math.abs(va))&&Math.abs(N-wa)<=ua*Math.max(1,Math.abs(N),Math.abs(wa))&&Math.abs(O-xa)<=ua*Math.max(1,Math.abs(O),Math.abs(xa))&&Math.abs(T-ya)<=ua*Math.max(1,Math.abs(T),Math.abs(ya))&&Math.abs(V-za)<=ua*Math.max(1,
Math.abs(V),Math.abs(za))&&Math.abs(ca-Aa)<=ua*Math.max(1,Math.abs(ca),Math.abs(Aa))&&Math.abs(aa-Ba)<=ua*Math.max(1,Math.abs(aa),Math.abs(Ba))&&Math.abs(ia-sa)<=ua*Math.max(1,Math.abs(ia),Math.abs(sa))&&Math.abs(fa-Ea)<=ua*Math.max(1,Math.abs(fa),Math.abs(Ea))&&Math.abs(ea-Fa)<=ua*Math.max(1,Math.abs(ea),Math.abs(Fa))&&Math.abs(a-e)<=ua*Math.max(1,Math.abs(a),Math.abs(e))}function Ga(a){const e=r.getEpsilon(),q=a[0],v=a[1],G=a[2],J=a[4],L=a[5],S=a[6],N=a[8],O=a[9];a=a[10];return Math.abs(1-(q*q+
J*J+N*N))<=e&&Math.abs(1-(v*v+L*L+O*O))<=e&&Math.abs(1-(G*G+S*S+a*a))<=e}function Ha(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Ia=k.create();k=Object.freeze(Object.defineProperty({__proto__:null,add:ha,adjoint:A,copy:m,determinant:u,equals:Da,exactEquals:Ca,frob:ja,fromQuat:g,fromQuat2:na,fromRotation:c,fromRotationTranslation:ba,fromRotationTranslationScale:b,fromRotationTranslationScaleOrigin:d,fromScaling:U,fromTranslation:H,fromXRotation:x,
fromYRotation:F,fromZRotation:K,frustum:p,getRotation:X,getScaling:Q,getTranslation:da,hasIdentityRotation:Ha,identity:E,invert:w,invertOrIdentity:B,isOrthoNormal:Ga,lookAt:W,mul:z,multiply:z,multiplyScalar:ma,multiplyScalarAndAdd:ta,ortho:R,perspective:D,perspectiveFromFieldOfView:M,rotate:C,rotateX:I,rotateY:P,rotateZ:y,scale:l,set:n,str:Z,sub:ka,subtract:ka,targetTo:Y,translate:t,transpose:h},Symbol.toStringTag,{value:"Module"}));f.add=ha;f.adjoint=A;f.copy=m;f.determinant=u;f.equals=Da;f.exactEquals=
Ca;f.frob=ja;f.fromQuat=g;f.fromQuat2=na;f.fromRotation=c;f.fromRotationTranslation=ba;f.fromRotationTranslationScale=b;f.fromRotationTranslationScaleOrigin=d;f.fromScaling=U;f.fromTranslation=H;f.fromXRotation=x;f.fromYRotation=F;f.fromZRotation=K;f.frustum=p;f.getRotation=X;f.getScaling=Q;f.getTranslation=da;f.hasIdentityRotation=Ha;f.identity=E;f.invert=w;f.invertOrIdentity=B;f.isOrthoNormal=Ga;f.lookAt=W;f.mat4=k;f.mul=z;f.multiply=z;f.multiplyScalar=ma;f.multiplyScalarAndAdd=ta;f.ortho=R;f.perspective=
D;f.perspectiveFromFieldOfView=M;f.rotate=C;f.rotateX=I;f.rotateY=P;f.rotateZ=y;f.scale=l;f.set=n;f.str=Z;f.sub=ka;f.subtract=ka;f.targetTo=Y;f.translate=t;f.transpose=h;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/statistics/utils":function(){define(["exports","../rest/support/ClassBreaksDefinition","../rest/support/generateRendererUtils"],function(f,k,r){function m(b){return null==b||"string"===typeof b&&!b?"\x3cNull\x3e":b}function n(b){const d=null!=b.minValue||null!=
b.maxValue,g=!!b.sqlExpression&&b.supportsSQLExpression;return!(null!=b.normalizationField||null!=b.normalizationType)&&!d&&!g}function E(b){const {values:d,useSampleStdDev:g,supportsNullCount:p,outStatisticTypes:D}=b;var M=Number.POSITIVE_INFINITY;let R=Number.NEGATIVE_INFINITY,W=null,Y=null;var Z=null;let ja=null,ha=0;const ka=null==b.minValue?-Infinity:b.minValue,ma=null==b.maxValue?Infinity:b.maxValue;for(const ta of d)Number.isFinite(ta)?ta>=ka&&ta<=ma&&(W=null===W?ta:W+ta,M=Math.min(M,ta),R=
Math.max(R,ta),ha++):"string"===typeof ta&&ha++;if(ha&&null!=W){Y=W/ha;Z=0;for(const ta of d)Number.isFinite(ta)&&ta>=ka&&ta<=ma&&(Z+=(ta-Y)**2);ja=g?1<ha?Z/(ha-1):0:0<ha?Z/ha:0;Z=Math.sqrt(ja)}else R=M=null;M={avg:Y,count:ha,max:R,min:M,stddev:Z,sum:W,variance:ja};p&&(M.nullcount=d.length-ha);!b.percentileParams||D?.include?.length&&!D.include.includes("median")||D?.exclude?.length&&D.exclude.includes("median")||(M.median=h(d,b.percentileParams));return M}function h(b,d){const {fieldType:g,value:p,
orderBy:D,isDiscrete:M}=d,R=B(g,"desc"===D);b=[...b].filter(ja=>null!=ja).sort((ja,ha)=>R(ja,ha));if(0===b.length)return null;if(0>=p)return b[0];if(1<=p)return b[b.length-1];var W=(b.length-1)*p,Y=Math.floor(W);d=Y+1;W%=1;Y=b[Y];const Z=b[d];return d>=b.length||M||"string"===typeof Y||"string"===typeof Z?Y:Y*(1-W)+Z*W}function B(b,d){if(b){if(H.has(b))return d?Q:X;if(U.has(b))return w(d,!1);if("esriFieldTypeTimestampOffset"===b)return d?ba:K;const R=w(d,!0);if("esriFieldTypeString"===b)return R;
if("esriFieldTypeGUID"===b||"esriFieldTypeGlobalID"===b)return(W,Y)=>R(A(W),A(Y))}const g=d?1:-1,p=d?Q:X,D=w(d,!0),M=d?x:F;return(R,W)=>"number"===typeof R&&"number"===typeof W?p(R,W):"string"===typeof R&&"string"===typeof W?D(R,W):M(R,W)??g}function w(b,d){if(!d)return b?da:na;const g=b?x:F;return b?(p,D)=>{const M=g(p,D);if(null!=M)return M;p=p.toUpperCase();D=D.toUpperCase();return p>D?-1:p<D?1:0}:(p,D)=>{const M=g(p,D);if(null!=M)return M;p=p.toUpperCase();D=D.toUpperCase();return p<D?-1:p>D?
1:0}}function A(b){return b.slice(24,36)+b.slice(19,23)+b.slice(16,18)+b.slice(14,16)+b.slice(11,13)+b.slice(9,11)+b.slice(6,8)+b.slice(4,6)+b.slice(2,4)+b.slice(0,2)}function u(b){return"coded-value"!==b?.type?[]:b.codedValues.map(d=>d.code)}function z(b,d){const g=l({field:d.field,normalizationType:d.normalizationType,normalizationField:d.normalizationField,classificationMethod:d.classificationMethod,standardDeviationInterval:d.standardDeviationInterval,breakCount:d.numClasses||5});b=t(b,d.minValue,
d.maxValue);return r.createGenerateRendererClassBreaks({definition:g,values:b,normalizationTotal:d.normalizationTotal})}function t(b,d,g){const p=null==d?-Infinity:d,D=null==g?Infinity:g;return b.filter(M=>Number.isFinite(M)&&M>=p&&M<=D)}function l(b){const {breakCount:d,field:g,normalizationField:p,normalizationType:D}=b,M=b.classificationMethod||"equal-interval";return new k({breakCount:d,classificationField:g,classificationMethod:M,normalizationField:"field"===D?p:void 0,normalizationType:D,standardDeviationInterval:"standard-deviation"===
M?b.standardDeviationInterval||1:void 0,definedInterval:"defined-interval"===M?b.definedInterval:void 0})}function C(b,d){const {field:g,classificationMethod:p,standardDeviationInterval:D,normalizationType:M,normalizationField:R,normalizationTotal:W,minValue:Y,maxValue:Z}=d,ja=d.numBins||10;let ha=d=null,ka=null;p&&"equal-interval"!==p||M?({classBreaks:b}=z(b,{field:g,normalizationType:M,normalizationField:R,normalizationTotal:W,classificationMethod:p,standardDeviationInterval:D,minValue:Y,maxValue:Z,
numClasses:ja}),d=b[0].minValue,ha=b[b.length-1].maxValue,ka=b.map(ma=>[ma.minValue,ma.maxValue])):(null!=Y&&null!=Z?(d=Y,ha=Z):(b=E({values:b,minValue:Y,maxValue:Z,useSampleStdDev:!M,supportsNullCount:n({normalizationType:M,normalizationField:R,minValue:Y,maxValue:Z})}),d=b.min??null,ha=b.max??null),ka=P(d??0,ha??0,ja));return{min:d,max:ha,intervals:ka}}function I(b,d){let g=-1;for(let p=b.length-1;0<=p;p--)if(d>=b[p][0]){g=p;break}return g}function P(b,d,g){const p=(d-b)/g,D=[];let M;for(let R=
1;R<=g;R++)M=b+p,M=Number(M.toFixed(16)),D.push([b,R===g?d:M]),b=M;return D}const y=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,H=new Set("esriFieldTypeDate esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeOID esriFieldTypeBigInteger".split(" ")),U=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),c="min max avg stddev count sum variance nullcount median".split(" "),x=(b,d)=>null==b?null==d?0:1:null==d?-1:null,F=(b,d)=>null==
b?null==d?0:-1:null==d?1:null,K=(b,d)=>F(b,d)??(b===d?0:(new Date(b)).getTime()-(new Date(d)).getTime()),ba=(b,d)=>x(b,d)??(b===d?0:(new Date(d)).getTime()-(new Date(b)).getTime()),na=(b,d)=>F(b,d)??(b===d?0:b<d?-1:1),da=(b,d)=>x(b,d)??(b===d?0:b<d?1:-1),Q=(b,d)=>x(b,d)??d-b,X=(b,d)=>F(b,d)??b-d;f.calculateClassBreaks=z;f.calculateHistogram=function(b,d){var g=C(b,d);if(null==g.min&&null==g.max)return{bins:[],minValue:g.min,maxValue:g.max,normalizationTotal:d.normalizationTotal};const p=g.intervals,
D=g.min??0;g=g.max??0;const M=p.map((R,W)=>({minValue:p[W][0],maxValue:p[W][1],count:0}));for(const R of b)null!=R&&R>=D&&R<=g&&(b=I(p,R),-1<b&&M[b].count++);return{bins:M,minValue:D,maxValue:g,normalizationTotal:d.normalizationTotal}};f.calculatePercentile=h;f.calculateStatistics=E;f.calculateStringStatistics=function(b){const {outStatisticTypes:d}=b,g=b.returnDistinct?[...(new Set(b.values))]:b.values;var p=g.filter(M=>null!=M).sort();const D=p.length;p={count:D,min:p[0],max:p[D-1]};b.supportsNullCount&&
(p.nullcount=g.length-D);!b.percentileParams||d?.include?.length&&!d.include.includes("median")||d?.exclude?.length&&d.exclude.includes("median")||(p.median=h(g,b.percentileParams));return p};f.calculateUniqueValuesCount=function(b){const d={};for(let g of b){if(null==g||"string"===typeof g&&""===g.trim())g=null;null==d[g]?d[g]={count:1,data:g}:d[g].count++}return{count:d}};f.createClassBreaksDefinition=l;f.createUVResult=function(b,d,g,p){b=b.count;const D=[];if(g&&d){g=[];var M=u(d[0]);for(const R of M)if(d[1]){M=
u(d[1]);for(const W of M)if(d[2]){M=u(d[2]);for(const Y of M)g.push(`${m(R)}${p}${m(W)}${p}${m(Y)}`)}else g.push(`${m(R)}${p}${m(W)}`)}else g.push(R);for(const R of g)b.hasOwnProperty(R)||(b[R]={data:R,count:0})}for(const R in b)d=b[R],D.push({value:d.data,count:d.count,label:d.label});return{uniqueValueInfos:D}};f.getAttributeComparator=B;f.getEqualIntervalBins=P;f.getNormalizedValue=function(b,d,g,p){let D=null;switch(d){case "log":0!==b&&(D=Math.log(b)*Math.LOG10E);break;case "percent-of-total":Number.isFinite(p)&&
0!==p&&(D=b/p*100);break;case "field":Number.isFinite(g)&&0!==g&&(D=b/g);break;case "natural-log":0<b&&(D=Math.log(b));break;case "square-root":0<b&&(D=b**.5)}return D};f.isNullCountSupported=n;f.processNullValue=m;f.processSummaryStatisticsResult=function(b,d,g){let p;for(p in b)d?.include?.length&&!d.include.includes(p)||d?.exclude?.length&&d.exclude.includes(p)?delete b[p]:c.includes(p)&&(Number.isFinite(b[p])||(b[p]=null));if(!g)return b;["avg","stddev","variance"].forEach(D=>{null!=b[D]&&(b[D]=
Math.ceil(b[D]??0))});return b};f.resolveCBResult=function(b,d){let g=b.classBreaks;const p=g[0]?.minValue,D=g[g.length-1]?.maxValue,M="standard-deviation"===d;g=g.map(R=>{const W=R.label;R={minValue:R.minValue,maxValue:R.maxValue,label:W};if(M&&W){const Y=W.match(y)?.map(Z=>+Z.trim())??[];2===Y.length?(R.minStdDev=Y[0],R.maxStdDev=Y[1],0>Y[0]&&0<Y[1]&&(R.hasAvg=!0)):1===Y.length&&(W.includes("\x3c")?(R.minStdDev=null,R.maxStdDev=Y[0]):W.includes("\x3e")&&(R.minStdDev=Y[0],R.maxStdDev=null))}return R});
return{minValue:p,maxValue:D,classBreakInfos:g,normalizationTotal:b.normalizationTotal}};f.statisticTypes=c;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/ClassBreaksDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(f,k,r,m,n,E,h,B,w){n=new k.JSONMap({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"});k=new k.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});r=class extends r.JSONSupport{constructor(A){super(A);this.type="class-breaks-definition";
this.normalizationType=this.normalizationField=this.classificationMethod=this.classificationField=this.breakCount=null}set standardDeviationInterval(A){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",A)}set definedInterval(A){"defined-interval"===this.classificationMethod&&this._set("definedInterval",A)}};f.__decorate([B.enumeration({classBreaksDef:"class-breaks-definition"})],r.prototype,"type",void 0);f.__decorate([m.property({json:{write:!0}})],r.prototype,
"breakCount",void 0);f.__decorate([m.property({json:{write:!0}})],r.prototype,"classificationField",void 0);f.__decorate([m.property({type:String,json:{read:n.read,write:n.write}})],r.prototype,"classificationMethod",void 0);f.__decorate([m.property({json:{write:!0}})],r.prototype,"normalizationField",void 0);f.__decorate([m.property({json:{read:k.read,write:k.write}})],r.prototype,"normalizationType",void 0);f.__decorate([m.property({value:null,json:{write:!0}})],r.prototype,"standardDeviationInterval",
null);f.__decorate([m.property({value:null,json:{write:!0}})],r.prototype,"definedInterval",null);return r=f.__decorate([w.subclass("esri.rest.support.ClassBreaksDefinition")],r)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(f,k,r){f.enumeration=function(m,n={}){m=m instanceof k.JSONMap?m:new k.JSONMap(m,n);const {alwaysWriteDefaults:E,default:h,ignoreUnknown:B=!0,name:w,nonNullable:A,readOnly:u=!1}=n;return r.property({type:B?
m.apiValues:String,json:{type:m.jsonValues,default:h,name:w,read:u?!1:{reader:m.read},write:{writer:m.write,alwaysWriteDefaults:E}},nonNullable:A,readOnly:u})};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/generateRendererUtils":function(){define(["exports","../../core/Logger"],function(f,k){function r(z){var t=z.definition;const {classificationMethod:l,normalizationType:C,definedInterval:I}=t;t=t.breakCount??1;const P=[];var y=z.values;if(0===y.length)return[];
y=y.sort((K,ba)=>K-ba);var H=y[0],U=y[y.length-1];if("equal-interval"===l)if(y.length>=t){y=(U-H)/t;z=H;for(var c=1;c<t;c++){var x=Number((H+c*y).toFixed(6));P.push({minValue:z,maxValue:x,label:m(z,x,C)});z=x}P.push({minValue:z,maxValue:U,label:m(z,U,C)})}else y.forEach(K=>{P.push({minValue:K,maxValue:K,label:m(K,K,C)})});else if("natural-breaks"===l){y=n(y);z=E(y.uniqueValues,z.valueFrequency||y.valueFrequency,t);for(c=1;c<t;c++)y.uniqueValues.length>c&&(x=Number(y.uniqueValues[z[c]].toFixed(6)),
P.push({minValue:H,maxValue:x,label:m(H,x,C)}),H=x);P.push({minValue:H,maxValue:U,label:m(H,U,C)})}else if("quantile"===l)if(y.length>=t&&H!==U){z=Math.ceil(y.length/t);c=0;for(x=1;x<t;x++){var F=z+c-1;F>y.length&&(F=y.length-1);0>F&&(F=0);P.push({minValue:H,maxValue:y[F],label:m(H,y[F],C)});H=y[F];c+=z;z=Math.ceil((y.length-c)/(t-x))}P.push({minValue:H,maxValue:U,label:m(H,U,C)})}else for(t=-1,U=0;U<y.length;U++)H=y[U],H!==t&&(t=H,P.push({minValue:t,maxValue:H,label:m(t,H,C)}),t=H);else if("standard-deviation"===
l)if(z=w(y),c=A(y,z),0===c)P.push({minValue:y[0],maxValue:y[0],label:m(y[0],y[0],C)});else{y=B(H,U,t,z,c)*c;c=0;for(x=t;1<=x;x--)F=Number((z-(x-.5)*y).toFixed(6)),P.push({minValue:H,maxValue:F,label:m(H,F,C)}),H=F,c++;x=Number((z+.5*y).toFixed(6));P.push({minValue:H,maxValue:x,label:m(H,x,C)});H=x;c++;for(F=1;F<=t;F++)x=c===2*t?U:Number((z+(F+.5)*y).toFixed(6)),P.push({minValue:H,maxValue:x,label:m(H,x,C)}),H=x,c++}else if("defined-interval"===l){if(!I)return P;t=y[0];U=y[y.length-1];y=Math.ceil((U-
t)/I);H=t;for(z=1;z<y;z++)c=Number((t+z*I).toFixed(6)),P.push({minValue:H,maxValue:c,label:m(H,c,C)}),H=c;P.push({minValue:H,maxValue:U,label:m(H,U,C)})}return P}function m(z,t,l){let C=null;return C=z===t?l&&"percent-of-total"===l?z+"%":z.toString():l&&"percent-of-total"===l?z+"% - "+t+"%":z+" - "+t}function n(z){const t=[],l=[];let C=Number.MIN_VALUE,I=1,P=-1;for(let y=0;y<z.length;y++){const H=z[y];H===C?(I++,l[P]=I):null!==H&&(t.push(H),C=H,I=1,l.push(I),P++)}return{uniqueValues:t,valueFrequency:l}}
function E(z,t,l){var C=z.length;const I=[];l>C&&(l=C);for(var P=0;P<l;P++)I.push(Math.round(P*C/l-1));I.push(C-1);P=h(I,z,t,l);C=P.mean;P=P.sdcm;var y=l,H=0,U=0;let c=0,x=0,F=!0;for(let ba=0;2>ba&&F;ba++){0===ba&&(F=!1);for(var K=0;K<y-1;K++)for(;I[K+1]+1!==I[K+2];)if(I[K+1]+=1,H=u(K,I,z,t),c=H.sbMean,H=H.sbSdcm,U=u(K+1,I,z,t),x=U.sbMean,U=U.sbSdcm,H+U<P[K]+P[K+1])P[K]=H,P[K+1]=U,C[K]=c,C[K+1]=x,F=!0;else{--I[K+1];break}for(K=y-1;0<K;K--)for(;I[K]!==I[K-1]+1;)if(--I[K],H=u(K-1,I,z,t),c=H.sbMean,
H=H.sbSdcm,U=u(K,I,z,t),x=U.sbMean,U=U.sbSdcm,H+U<P[K-1]+P[K])P[K-1]=H,P[K]=U,C[K-1]=c,C[K]=x,F=!0;else{I[K]+=1;break}}F&&(P=h(I,z,t,l));return I}function h(z,t,l,C){let I=[];var P=[],y=[];let H=0;const U=[],c=[];for(var x=0;x<C;x++){var F=u(x,z,t,l);U.push(F.sbMean);c.push(F.sbSdcm);H+=c[x]}F=H;for(x=!0;x||H<F;){x=!1;I=[];for(P=0;P<C;P++)I.push(z[P]);for(y=0;y<C;y++)for(F=z[y]+1;F<=z[y+1];F++)if(P=t[F],0<y&&F!==z[y+1]&&Math.abs(P-U[y])>Math.abs(P-U[y-1]))z[y]=F;else if(y<C-1&&z[y]!==F-1&&Math.abs(P-
U[y])>Math.abs(P-U[y+1])){z[y+1]=F-1;break}F=H;H=0;P=[];y=[];for(let K=0;K<C;K++){P.push(U[K]);y.push(c[K]);const ba=u(K,z,t,l);U[K]=ba.sbMean;c[K]=ba.sbSdcm;H+=c[K]}}if(H>F){for(t=0;t<C;t++)z[t]=I[t],U[t]=P[t],c[t]=y[t];H=F}return{mean:U,sdcm:c}}function B(z,t,l,C,I){z=Math.max(C-z,t-C)/I/l;return 1<=z?1:.5<=z?.5:.25}function w(z){let t=0;for(let l=0;l<z.length;l++)t+=z[l];return t/=z.length}function A(z,t){let l=0;for(let C=0;C<z.length;C++){const I=z[C];l+=(I-t)*(I-t)}l/=z.length;return Math.sqrt(l)}
function u(z,t,l,C){var I=0,P=0;for(var y=t[z]+1;y<=t[z+1];y++){const H=C[y];I+=l[y]*H;P+=H}0>=P&&k.getLogger("esri.rest.support.generateRendererUtils").warn("Exception in Natural Breaks calculation");I/=P;P=0;for(y=t[z]+1;y<=t[z+1];y++)P+=C[y]*(l[y]-I)**2;return{sbMean:I,sbSdcm:P}}f.createGenerateRendererClassBreaks=function(z){const {normalizationTotal:t}=z;return{classBreaks:r(z),normalizationTotal:t}};f.createGenerateRendererUniqueValues=function(z){z=n(z);const t=[],l=z.uniqueValues.length;for(let C=
0;C<l;C++){const I=z.uniqueValues[C];t.push({value:I,count:z.valueFrequency[C],label:I.toString()})}return{uniqueValues:t}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["exports","./utils","../../../statistics/utils"],function(f,k,r){f.classBreaks=async function(m){const {attribute:n,features:E}=m,{field:h,normalizationType:B,normalizationField:w,normalizationTotal:A,classificationMethod:u}=n;m=await k.getDataValues({field:h,valueExpression:n.valueExpression,normalizationType:B,normalizationField:w,normalizationTotal:A,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},E);m=r.calculateClassBreaks(m,{field:h,normalizationType:B,normalizationField:w,
normalizationTotal:A,classificationMethod:u,standardDeviationInterval:n.standardDeviationInterval,numClasses:n.numClasses,minValue:n.minValue,maxValue:n.maxValue});return r.resolveCBResult(m,u)};f.heatmapStatistics=async function(m){const {attribute:n,features:E}=m,{field:h,radius:B,transform:w,spatialReference:A}=n;m=n.size??[0,0];const u=k.quantizeFeatures(E??[],w,A,m);return k.calculateHeatmapStats(u,B??void 0,h,m[0],m[1])};f.histogram=async function(m){const {attribute:n,features:E}=m,{field:h,
normalizationType:B,normalizationField:w,normalizationTotal:A,classificationMethod:u}=n;m=await k.getDataValues({field:h,valueExpression:n.valueExpression,normalizationType:B,normalizationField:w,normalizationTotal:A,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},E);return r.calculateHistogram(m,{field:h,normalizationType:B,normalizationField:w,normalizationTotal:A,classificationMethod:u,standardDeviationInterval:n.standardDeviationInterval,numBins:n.numBins,minValue:n.minValue,
maxValue:n.maxValue})};f.summaryStatistics=async function(m){const {attribute:n,features:E}=m,{normalizationType:h,normalizationField:B,minValue:w,maxValue:A,fieldType:u,outStatisticTypes:z}=n;m=await k.getDataValues({field:n.field,valueExpression:n.valueExpression,normalizationType:h,normalizationField:B,normalizationTotal:n.normalizationTotal,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},E);const t=r.isNullCountSupported({normalizationType:h,normalizationField:B,minValue:w,
maxValue:A}),l={value:.5,fieldType:u};m="esriFieldTypeString"===u?r.calculateStringStatistics({values:m,supportsNullCount:t,percentileParams:l,outStatisticTypes:z}):r.calculateStatistics({values:m,minValue:w,maxValue:A,useSampleStdDev:!h,supportsNullCount:t,percentileParams:l,outStatisticTypes:z});return r.processSummaryStatisticsResult(m,z,"esriFieldTypeDate"===u)};f.uniqueValues=async function(m){const {attribute:n,features:E}=m;m=await k.getDataValues({field:n.field,field2:n.field2,field3:n.field3,
fieldDelimiter:n.fieldDelimiter,valueExpression:n.valueExpression,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},E,!1);m=r.calculateUniqueValuesCount(m);return r.createUVResult(m,n.domains,n.returnAllCodedValues,n.fieldDelimiter)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});