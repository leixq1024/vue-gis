// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.31/esri/copyright.txt for details.
//>>built
define(["require","exports","../../assets"],function(M,b,N){function O(a){const c=Object.keys(b.Direction2D).filter(d=>isNaN(parseInt(d,10))).indexOf(a.timeDirection),e=Object.keys(b.EventsTicksVisualization).filter(d=>isNaN(parseInt(d,10))).indexOf(a.eventsTicksVisualization);return{timeDirection:{value:-1<c?c:b.Direction2D.right},timeBannerUTCOffsetInMinutes:a.timeBannerUTCOffsetInMinutes,eventsTicksVisualization:{value:-1<e?e:b.EventsTicksVisualization.startAndEnd},showDurationLineForNonZeroDurationEntityEvents:a.showDurationLineForNonZeroDurationEntityEvents,
durationLineWidth:a.durationLineWidth,entityPositionAtDurationRatio:a.entityPositionAtDurationRatio,showNonZeroDurationIntervalBounds:a.showNonZeroDurationIntervalBounds,separateTimeOverlaps:a.separateTimeOverlaps,separateTimelineOverlaps:a.separateTimelineOverlaps,moveFirstBends:a.moveFirstBends,secondBendRatio:a.secondBendRatio,lineSeparationMultiplier:a.lineSeparationMultiplier,spaceSeparatedLinesEvenly:a.spaceSeparatedLinesEvenly,useBezierCurves:a.useBezierCurves,separatedLineShapeRatio:a.separatedLineShapeRatio}}
function H(a,c,e,d,f,g){const q=e.length,k=f.length;var m=Float64Array.BYTES_PER_ELEMENT,n=Uint32Array.BYTES_PER_ELEMENT;const y=b._lclib._malloc(16+q*(Uint8Array.BYTES_PER_ELEMENT+2*m)+2*k*n);try{const t=y+16-y%16,u=t+q*m,h=u+q*m,v=h+k*n,l=v+k*n;m=()=>[b._lclib.HEAPF64.subarray(t>>3,(t>>3)+q),b._lclib.HEAPF64.subarray(u>>3,(u>>3)+q),b._lclib.HEAPU32.subarray(h>>2,(h>>2)+k),b._lclib.HEAPU32.subarray(v>>2,(v>>2)+k),b._lclib.HEAPU8.subarray(l,l+q)];const [p,w,I,G,r]=m();p.set(e);w.set(d);I.set(f);G.set(g);
r.set(c);let x=a(q,l,t,u,k,h,v);n=a=null;if(x){const z=b._lclib.getLayoutLinksTypes(),A=b._lclib.getLayoutLinksVerticesEndIndices(),J=b._lclib.getLayoutLinksVertices(),K=b._lclib.countLayoutLinksVertices();!k||z&&A?K&&!J?x=!1:(a={types:new Uint8Array(b._lclib.HEAPU8.subarray(z,z+k)),vertexEndIndex:new Uint32Array(b._lclib.HEAPU32.subarray(A>>2,(A>>2)+k)),vertices:new Float64Array(b._lclib.HEAPF64.subarray(J>>3,(J>>3)+2*K))},n=b._lclib.getAuxiliaryGraphicElements()):x=!1}const [B,C,D,E,F]=m();e.set(B);
d.set(C);f.set(D);g.set(E);c.set(F);return{success:x,links:a,graphics:n}}finally{b._lclib._free(y),b._lclib.cleanupLayout()}}let L;b._lclib=null;b.NodeFlag=void 0;(function(a){a[a.None=0]="None";a[a.IsMovable=1]="IsMovable";a[a.IsGeographic=2]="IsGeographic";a[a.IsRoot=4]="IsRoot";a[a.IsOld=8]="IsOld"})(b.NodeFlag||(b.NodeFlag={}));b.LinkType=void 0;(function(a){a[a.Regular=0]="Regular";a[a.Curved=1]="Curved";a[a.Recursive=2]="Recursive"})(b.LinkType||(b.LinkType={}));b.Direction2D=void 0;(function(a){a[a.right=
0]="right";a[a.left=1]="left";a[a.top=2]="top";a[a.bottom=3]="bottom"})(b.Direction2D||(b.Direction2D={}));b.EventsTicksVisualization=void 0;(function(a){a[a.none=0]="none";a[a.startOnly=1]="startOnly";a[a.startAndEnd=2]="startAndEnd"})(b.EventsTicksVisualization||(b.EventsTicksVisualization={}));b.LCForceDirectedLayout=void 0;(function(a){a.getMinIdealEdgeLength=function(){return b._lclib.getMinIdealEdgeLength()};a.apply=function(c,e,d,f,g,q=2,k=1,m=-1){return H((n,y,t,u,h,v,l)=>b._lclib.applyForceDirectedLayout(n,
y,t,u,h,v,l,q,k,m),c,e,d,f,g)}})(b.LCForceDirectedLayout||(b.LCForceDirectedLayout={}));b.LCCommunityLayout=void 0;(function(a){a.apply=function(c,e,d,f,g,q=2,k=1,m=-1){return H((n,y,t,u,h,v,l)=>b._lclib.applyCommunityLayout(n,y,t,u,h,v,l,q,k,m),c,e,d,f,g)}})(b.LCCommunityLayout||(b.LCCommunityLayout={}));b.LCSimpleLayout=void 0;(function(a){a.apply=function(c,e,d,f,g){return H(b._lclib.applySimpleLayout,c,e,d,f,g)}})(b.LCSimpleLayout||(b.LCSimpleLayout={}));b.LCHierarchicalLayout=void 0;(function(a){a.apply=
function(c,e,d,f,g){return H(b._lclib.applyHierarchicalLayout,c,e,d,f,g)}})(b.LCHierarchicalLayout||(b.LCHierarchicalLayout={}));b.LCRadialTreeLayout=void 0;(function(a){a.apply=function(c,e,d,f,g){return H(b._lclib.applyRadialTreeLayout,c,e,d,f,g)}})(b.LCRadialTreeLayout||(b.LCRadialTreeLayout={}));b.LCSmartTreeLayout=void 0;(function(a){a.apply=function(c,e,d,f,g){return H(b._lclib.applySmartTreeLayout,c,e,d,f,g)}})(b.LCSmartTreeLayout||(b.LCSmartTreeLayout={}));b.LCChronologicalLayout=void 0;(function(a){a.apply=
function(c,e,d,f,g,q,k,m,n,y,t){const u={timeDirection:b.Direction2D.right,timeBannerUTCOffsetInMinutes:0,eventsTicksVisualization:b.EventsTicksVisualization.startAndEnd,showDurationLineForNonZeroDurationEntityEvents:!0,durationLineWidth:5,entityPositionAtDurationRatio:1,showNonZeroDurationIntervalBounds:!1,separateTimeOverlaps:!0,separateTimelineOverlaps:!0,moveFirstBends:!0,secondBendRatio:.3,lineSeparationMultiplier:1,spaceSeparatedLinesEvenly:!1,useBezierCurves:!1,separatedLineShapeRatio:0};return H((h,
v,l,p,w,I,G)=>{if(f.length!==h||g.length!==h||m.length!==w||n.length!==w)return!1;var r=Float64Array.BYTES_PER_ELEMENT;const x=b._lclib._malloc(16+h*r),B=b._lclib._malloc(16+h*r),C=b._lclib._malloc(16+w*r);r=b._lclib._malloc(16+w*r);const D=x+16-x%16,E=B+16-B%16,F=C+16-C%16,z=r+16-r%16;try{b._lclib.HEAPF64.subarray(D>>3,(D>>3)+h).set(f);b._lclib.HEAPF64.subarray(E>>3,(E>>3)+h).set(g);b._lclib.HEAPF64.subarray(F>>3,(F>>3)+w).set(m);b._lclib.HEAPF64.subarray(z>>3,(z>>3)+w).set(n);const A=O(Object.assign(u,
t));return b._lclib.applyChronologicalLayout(h,v,l,p,D,E,w,I,G,F,z,y,A)}finally{b._lclib._free(x),b._lclib._free(B),b._lclib._free(C),b._lclib._free(r)}},c,e,d,q,k)}})(b.LCChronologicalLayout||(b.LCChronologicalLayout={}));b.RelationshipInterpretation=void 0;(function(a){a[a.Undirected=0]="Undirected";a[a.Directed=1]="Directed";a[a.Reversed=2]="Reversed"})(b.RelationshipInterpretation||(b.RelationshipInterpretation={}));b.CentralityMode=void 0;(function(a){a[a.ByCC_Raw=0]="ByCC_Raw";a[a.ByCC_NormalizeGlobally=
1]="ByCC_NormalizeGlobally";a[a.ByCC_NormalizeByCC=2]="ByCC_NormalizeByCC"})(b.CentralityMode||(b.CentralityMode={}));b.computeCentrality=function(a,c,e,d,f,g,q,k,m,n,y,t,u,h,v){const l=c.length;var p=Float64Array.BYTES_PER_ELEMENT;const w=Uint32Array.BYTES_PER_ELEMENT,I=b._lclib._malloc(16+8*a*p+3*l*w);try{const G=I+16-I%16,r=G+a*p,x=r+a*p,B=x+a*p,C=B+a*p,D=C+a*p,E=D+a*p,F=E+a*p,z=F+a*p,A=z+l*w,J=A+l*w;p=()=>[b._lclib.HEAPF64.subarray(G>>3,(G>>3)+a),b._lclib.HEAPF64.subarray(r>>3,(r>>3)+a),b._lclib.HEAPF64.subarray(x>>
3,(x>>3)+a),b._lclib.HEAPF64.subarray(B>>3,(B>>3)+a),b._lclib.HEAPF64.subarray(C>>3,(C>>3)+a),b._lclib.HEAPF64.subarray(D>>3,(D>>3)+a),b._lclib.HEAPF64.subarray(E>>3,(E>>3)+a),b._lclib.HEAPF64.subarray(F>>3,(F>>3)+a),b._lclib.HEAPU32.subarray(z>>2,(z>>2)+l),b._lclib.HEAPU32.subarray(A>>2,(A>>2)+l),b._lclib.HEAPU32.subarray(J>>2,(J>>2)+l)];const [K,P,Q,R,S,T,U,V,W,X,Y]=p();K.set(k);P.set(m);Q.set(n);R.set(y);S.set(t);T.set(u);U.set(h);V.set(v);W.set(c);X.set(e);Y.set(d);const Z=b._lclib.computeCentrality(a,
l,z,A,J,f,g,q,G,r,x,B,C,D,E,F),[aa,ba,ca,da,ea,fa,ha,ia,ja,ka,la]=p();k.set(aa);m.set(ba);n.set(ca);y.set(da);t.set(ea);u.set(fa);h.set(ha);v.set(ia);c.set(ja);e.set(ka);d.set(la);return Z}finally{b._lclib._free(I)}};b.defaultBudgetTheoreticalSeconds=2;b.defaultIdealEdgeLengthMultiplier=1;b.defaultRepulsionRadiusMultiplier=-1;b.isLoaded=function(){return!!b._lclib};b.load=function(){return L?L:L=(new Promise((a,c)=>M(["../../chunks/lclayout"],a,c))).then(a=>a.lclayout).then(({default:a})=>a({locateFile:c=>
N.getAssetUrl(`esri/libs/linkchartlayout/${c}`)})).then(a=>{b._lclib=a})};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});